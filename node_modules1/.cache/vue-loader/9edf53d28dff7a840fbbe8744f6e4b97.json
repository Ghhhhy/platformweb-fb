{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\functionalComponent\\govBudExport\\GovBudgetExport.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\functionalComponent\\govBudExport\\GovBudgetExport.vue","mtime":1694505521742},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcmVzb2x2ZVJlc3VsdCBmcm9tICcuL3Jlc3VsdC5qcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0dvdkJ1ZGdldEV4cG9ydCcsDQogIGNvbXBvbmVudHM6IHt9LA0KICBwcm9wczogew0KICAgIGV4cG9ydE1vZGFsVmlzaWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbg0KICAgIH0sDQogICAgY3VzdG9tRXhwb3J0Q29uZmlnOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHZpc2libGU6IGZhbHNlLA0KICAgICAgZXhwb3J0Q29uZmlnSW46IHsNCiAgICAgICAgaXNNb3JlOiBmYWxzZSwgLy8g5piv5ZCm5Y+q5a+85Ye65pWw5o2u6KGo5aS05ZCN56ewDQogICAgICAgIHRhYmxlSWRKc29uOiAnJywNCiAgICAgICAgbW9mRGl2Vk9TOiBbXSwNCiAgICAgICAgaXNTaW5nbGU6IHRydWUNCiAgICAgIH0sDQogICAgICBkZWZhdWx0UHJvcHM6IHsNCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsDQogICAgICAgIGxhYmVsOiAnbmFtZScNCiAgICAgIH0sDQogICAgICBkZWZhdWx0Q2hlY2tlZEtleXM6IFtdLA0KICAgICAgZGVmYXVsdENoZWNrZWRTZWNvbmRLZXlzOiBbXSwNCiAgICAgIGNoZWNrQWxsQ29sdW1uczogZmFsc2UsDQogICAgICBjaGVja0FsbFNlY29uZENvbHVtbnM6IGZhbHNlLA0KICAgICAgY29sdW1uczogW10sDQogICAgICBzZWNvbmRDb2x1bW5zOiBbXSwNCiAgICAgIGRlZmF1bHRTZWNvbmRQcm9wczoge30sDQogICAgICBjaGVja2VkS2V5czoge30sDQogICAgICBjaGVja2VkU2Vjb25kS2V5czoge30NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgaXNTaG93SGlnaE9wdGlvbnMoKSB7DQogICAgICByZXR1cm4gISh0aGlzLmV4cG9ydENvbmZpZ0luLmlzU2luZ2xlIHx8IHRoaXMuZXhwb3J0Q29uZmlnSW4uaXNNb3JlKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC4uLnJlc29sdmVSZXN1bHQsDQogICAgZGVlcENvcHkob2JqKSB7DQogICAgICAvLyDmt7Hmi7fotJ3pgJrnlKjmlrnms5UNCiAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHJldHVybiBvYmoNCiAgICAgIGxldCBuZXdPYmogPSBvYmogaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge30NCiAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgbmV3T2JqW2tleV0gPQ0KICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JyA/IHRoaXMuZGVlcENvcHkob2JqW2tleV0pIDogb2JqW2tleV0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIG5ld09iag0KICAgIH0sDQogICAgZ2VuZXJhdGVUcmVlKGFycikgew0KICAgICAgLy8g5bmz6KGM5pWw5o2u6L2s5YyW5qCR5b2i5pWw5o2uDQogICAgICBsZXQgY29weSA9IHRoaXMuZGVlcENvcHkoYXJyKQ0KICAgICAgbGV0IG9iaiA9IHt9DQogICAgICBjb3B5LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgIGRlbGV0ZSBpdGVtLmNoaWxkcmVuDQogICAgICAgIG9ialtpdGVtLm5lc3RlZElkXSA9IGl0ZW0NCiAgICAgIH0pDQogICAgICBsZXQgcmVzID0gW10NCiAgICAgIGNvcHkuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBpZiAoaXRlbS5uZXN0ZWRQaWQgPT09IDApIHsNCiAgICAgICAgICByZXMucHVzaChpdGVtKQ0KICAgICAgICB9DQogICAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgICBpZiAoaXRlbS5uZXN0ZWRJZCA9PT0gb2JqW2tleV0ubmVzdGVkUGlkKSB7DQogICAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbikgew0KICAgICAgICAgICAgICBpdGVtLmNoaWxkcmVuLnB1c2gob2JqW2tleV0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBpdGVtLmNoaWxkcmVuID0gW29ialtrZXldXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiByZXMNCiAgICB9LA0KICAgIGluaXQoKSB7DQogICAgICB0aGlzLmV4cG9ydENvbmZpZ0luID0gT2JqZWN0LmFzc2lnbigNCiAgICAgICAgdGhpcy5leHBvcnRDb25maWdJbiwNCiAgICAgICAgdGhpcy5leHBvcnRDb25maWcsDQogICAgICAgIHRoaXMuY3VzdG9tRXhwb3J0Q29uZmlnDQogICAgICApDQogICAgfSwNCiAgICBvblByaW50Q2xpY2soKSB7DQogICAgICAvLyDmiZPljbDngrnlh7vkuovku7YNCg0KICAgIH0sDQogICAgb25DYW5jZWxDbGljaygpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ29uQ2FuY2VsJywgdGhpcy5jb250ZW50KQ0KICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbmNlbCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICB0aGlzLmNhbmNlbCh0aGlzKQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25FeHBvcnRDbGljaygpIHsNCiAgICAgIC8vIOWvvOWHuueCueWHu+S6i+S7tg0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBpZiAoc2VsZi5leHBvcnRDb25maWdJbi50YWJsZUlkSnNvbiA9PT0gJycpIHsNCiAgICAgICAgc2VsZi4kWE1vZGFsLm1lc3NhZ2UoeyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6ICfor7foh7PlsJHpgInmi6nkuIDlvKDmiqXooajov5vooYzlr7zlh7ohJyB9KQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGxldCBmbGFnID0gc2VsZi5leHBvcnRDb25maWdJbi5pc01vcmUNCiAgICAgIHNlbGYuJGh0dHAucG9zdCgnYmlzUmVwb3J0L3JlcG9ydC90YWJsZUV4cG9ydCcsIHNlbGYuZXhwb3J0Q29uZmlnSW4pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgICAgIGxldCBibG9iID0gc2VsZi5kYXRhVVJMdG9CbG9iKHJlcy5kYXRhLCBmbGFnKQ0KICAgICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKQ0KICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykgLy8g5Yib5bu6Yeagh+etvg0KICAgICAgICAgIGxpbmsuaHJlZiA9IHVybA0KICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSAn5a+85Ye65oql6KGoJyArIG5ldyBEYXRlKCkuZm9ybWF0KCdZWVlZLU1NLUREOkhIOk1NOnNzJykgLy8g6YeN5ZG95ZCN5paH5Lu2DQogICAgICAgICAgbGluay5jbGljaygpDQogICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpIC8vIOmHiuaUvuWGheWtmA0KICAgICAgICAgIHNlbGYuJFhNb2RhbC5tZXNzYWdlKHsgc3RhdHVzOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICflr7zlh7rmiJDlip8hJyB9KQ0KICAgICAgICAgIHNlbGYubG9hZGluZ1BhZ2UuY2xvc2UoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHNlbGYuJFhNb2RhbC5tZXNzYWdlKHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiAn5a+85Ye65aSx6LSl77yaJyArIHJlcy5tc2cgfSkNCiAgICAgICAgICBzZWxmLmxvYWRpbmdQYWdlLmNsb3NlKCkNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goZSA9PiB7DQogICAgICAgIHNlbGYuJFhNb2RhbC5tZXNzYWdlKHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiAn5a+85Ye65aSx6LSl77yaJyArIGUgfSkNCiAgICAgICAgc2VsZi5sb2FkaW5nUGFnZS5jbG9zZSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgZGF0YVVSTHRvQmxvYihiYXNlNjRTdHIsIGlzTW9yZSkgew0KICAgICAgdmFyIGJzdHIgPSBhdG9iKGJhc2U2NFN0cikNCiAgICAgIHZhciBuID0gYnN0ci5sZW5ndGgNCiAgICAgIHZhciB1OGFyciA9IG5ldyBVaW50OEFycmF5KG4pDQogICAgICB3aGlsZSAobi0tKSB7DQogICAgICAgIHU4YXJyW25dID0gYnN0ci5jaGFyQ29kZUF0KG4pDQogICAgICB9DQogICAgICBpZiAoIWlzTW9yZSkgew0KICAgICAgICByZXR1cm4gbmV3IEJsb2IoW3U4YXJyXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsO2NoYXJzZXQ9dXRmLTgnIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gbmV3IEJsb2IoW3U4YXJyXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vemlwJyB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2hvd0xvYWRpbmcoKSB7DQogICAgICByZXR1cm4gdGhpcy4kbG9hZGluZyh7DQogICAgICAgIGxvY2s6IHRydWUsDQogICAgICAgIHRleHQ6ICfmraPlnKjliqDovb3kuK0uLi7or7fmgqjnqI3lgJknLA0KICAgICAgICBzcGlubmVyOiAncmktbG9hZGVyLTQtbGluZSByb2xsJywNCiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC43KScNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRDb2x1bW5zKCkgew0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBzZWxmLmxvYWRpbmdQYWdlID0gc2VsZi5zaG93TG9hZGluZygpDQogICAgICBsZXQgcGFyYW0gPSB7DQogICAgICAgIGFwcGd1aWQ6ICdmaXNjYWwnLA0KICAgICAgICBiYXRjaG5vOiAxLA0KICAgICAgICBkYXRhdHlwZTogOCwNCiAgICAgICAgc3hzcGVjcm9sZWd1aWQ6ICc5OTkwMDQnDQogICAgICB9DQogICAgICBzZWxmLiRodHRwLnBvc3QoJ2Jpc1JlcG9ydC9yZXBvcnQvZ2V0UXVlcnlUYWJsZScsIHBhcmFtKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHNlbGYubG9hZGluZ1BhZ2UuY2xvc2UoKQ0KICAgICAgICBzZWxmLnJlc29sdmVSZXN1bHQoZGF0YSA9PiB7DQogICAgICAgICAgc2VsZi5jb2x1bW5zID0gZGF0YQ0KICAgICAgICB9LCByZXMpDQogICAgICB9KS5jYXRjaChlID0+IHsNCiAgICAgICAgc2VsZi4kWE1vZGFsLm1lc3NhZ2UoeyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6ICfojrflj5bliJfooajlpLHotKXvvJonICsgZSB9KQ0KICAgICAgICBzZWxmLmxvYWRpbmdQYWdlLmNsb3NlKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBjaGVja1RyZWVOb2RlKGNoZWNrZWROb2RlcywgY2hlY2tlZEtleXMsIGhhbGZDaGVja2VkTm9kZXMsIGhhbGZDaGVja2VkS2V5cykgew0KICAgICAgbGV0IHRhYmxlSWRzID0gW10NCiAgICAgIGNoZWNrZWRLZXlzLmNoZWNrZWROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICB0YWJsZUlkcy5wdXNoKGl0ZW0uaWQpDQogICAgICB9KQ0KICAgICAgaWYgKHRhYmxlSWRzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5leHBvcnRDb25maWdJbi50YWJsZUlkSnNvbiA9IEpTT04uc3RyaW5naWZ5KHRhYmxlSWRzKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5leHBvcnRDb25maWdJbi50YWJsZUlkSnNvbiA9ICcnDQogICAgICB9DQogICAgfSwNCiAgICBjaGVja1NlY29uZFRyZWVOb2RlKGNoZWNrZWROb2RlcywgY2hlY2tlZEtleXMsIGhhbGZDaGVja2VkTm9kZXMsIGhhbGZDaGVja2VkS2V5cykgew0KICAgICAgdGhpcy5jaGVja2VkU2Vjb25kS2V5cyA9IGNoZWNrZWRLZXlzDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpDQogICAgdGhpcy5nZXRDb2x1bW5zKCkNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBleHBvcnRNb2RhbFZpc2libGU6IHsNCiAgICAgIGhhbmRsZXIobmV3VmFsKSB7DQogICAgICAgIHRoaXMudmlzaWJsZSA9IG5ld1ZhbA0KICAgICAgICBpZiAobmV3VmFsKSB7DQogICAgICAgICAgdGhpcy5pbml0KCkNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0sDQogICAgdmlzaWJsZTogew0KICAgICAgaGFuZGxlcihuZXdWYWwpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmV4cG9ydE1vZGFsVmlzaWJsZScsIG5ld1ZhbCkNCiAgICAgIH0sDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIGN1c3RvbUV4cG9ydENvbmZpZzogew0KICAgICAgaGFuZGxlcigpIHsNCiAgICAgICAgdGhpcy5pbml0KCkNCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICAnZXhwb3J0Q29uZmlnSW4uaXNTaW5nbGUnOiB7DQogICAgICBoYW5kbGVyKHZhbHVlKSB7DQogICAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICAgIHRoaXMuZXhwb3J0Q29uZmlnSW4uaXNNb3JlID0gIXZhbHVlDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICAnZXhwb3J0Q29uZmlnSW4uaXNNb3JlJzogew0KICAgICAgaGFuZGxlcih2YWx1ZSkgew0KICAgICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgICB0aGlzLmV4cG9ydENvbmZpZ0luLmlzU2luZ2xlID0gIXZhbHVlDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["GovBudgetExport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GovBudgetExport.vue","sourceRoot":"src/components/functionalComponent/govBudExport","sourcesContent":["<!--  export配置弹框   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <vxe-modal\r\n    v-model=\"visible\"\r\n    title=\"导出参数设置\"\r\n    width=\"1000\"\r\n    height=\"auto\"\r\n    remember\r\n    resize\r\n    transfer\r\n    :position=\"{ top: 100 }\"\r\n    @close=\"onCancelClick\"\r\n    @cancel=\"onCancelClick\"\r\n  >\r\n    <div class=\"export-module\">\r\n      <vxe-form\r\n        :data=\"exportConfigIn\"\r\n        size=\"medium\"\r\n        title-width=\"120\"\r\n        title-align=\"right\"\r\n        align=\"left\"\r\n        title-colon\r\n      >\r\n        <vxe-form-item title=\"导出类型\" :span=\"24\">\r\n          <template v-slot>\r\n            <div class=\"vxe-checkbox-group fn-inline\">\r\n              <vxe-checkbox\r\n                v-model=\"exportConfigIn.isSingle\"\r\n                label=\"isSingle\"\r\n                content=\"单文件\"\r\n                size=\"medium\"\r\n              />\r\n              <vxe-checkbox\r\n                v-model=\"exportConfigIn.isMore\"\r\n                label=\"isMore\"\r\n                content=\"多文件\"\r\n                size=\"medium\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </vxe-form-item>\r\n        <!--  <vxe-form-item title=\"保存类型\" field=\"saveType\" :span=\"24\">\r\n          <template v-slot>\r\n            <vxe-select v-model=\"exportConfigIn.saveType\" placeholder=\"请选择保存类型\" clearable>\r\n              <vxe-option value=\".xlsx\" label=\"Excel 工作簿(*.xlsx)\" />\r\n            </vxe-select>\r\n          </template>\r\n        </vxe-form-item>\r\n        -->\r\n        <vxe-form-item title=\"导出报表\" field=\"exportOption\" :span=\"24\">\r\n          <template v-slot>\r\n            <div class=\"export-option\">\r\n              <div class=\"export-option-tree\">\r\n                <el-tree\r\n                  ref=\"exportColumsTree\"\r\n                  :data=\"columns\"\r\n                  show-checkbox\r\n                  node-key=\"nestedId\"\r\n                  default-expand-all\r\n                  :default-checked-keys=\"defaultCheckedKeys\"\r\n                  :props=\"defaultProps\"\r\n                  @check=\"checkTreeNode\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </vxe-form-item>\r\n        <vxe-form-item title=\"区划选项\" field=\"exportOption\" :span=\"24\">\r\n          <template v-slot>\r\n            <div class=\"export-option\">\r\n              <div class=\"export-option-tree\">\r\n                <el-tree\r\n                  ref=\"exportColumsSecondTree\"\r\n                  :data=\"secondColumns\"\r\n                  show-checkbox\r\n                  node-key=\"nestedId\"\r\n                  default-expand-all\r\n                  :default-checked-keys=\"defaultCheckedSecondKeys\"\r\n                  :props=\"defaultSecondProps\"\r\n                  @check=\"checkSecondTreeNode\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </vxe-form-item>\r\n        </vxe-form-item>\r\n      </vxe-form>\r\n      <div class=\"btn-group\">\r\n        <vxe-button type=\"submit\" status=\"primary\" size=\"medium\" @click=\"onExportClick\">导出</vxe-button>\r\n      </div>\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nimport resolveResult from './result.js'\r\nexport default {\r\n  name: 'GovBudgetExport',\r\n  components: {},\r\n  props: {\r\n    exportModalVisible: {\r\n      type: Boolean\r\n    },\r\n    customExportConfig: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      exportConfigIn: {\r\n        isMore: false, // 是否只导出数据表头名称\r\n        tableIdJson: '',\r\n        mofDivVOS: [],\r\n        isSingle: true\r\n      },\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      defaultCheckedKeys: [],\r\n      defaultCheckedSecondKeys: [],\r\n      checkAllColumns: false,\r\n      checkAllSecondColumns: false,\r\n      columns: [],\r\n      secondColumns: [],\r\n      defaultSecondProps: {},\r\n      checkedKeys: {},\r\n      checkedSecondKeys: {}\r\n    }\r\n  },\r\n  computed: {\r\n    isShowHighOptions() {\r\n      return !(this.exportConfigIn.isSingle || this.exportConfigIn.isMore)\r\n    }\r\n  },\r\n  methods: {\r\n    ...resolveResult,\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? this.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    generateTree(arr) {\r\n      // 平行数据转化树形数据\r\n      let copy = this.deepCopy(arr)\r\n      let obj = {}\r\n      copy.forEach((item, index) => {\r\n        delete item.children\r\n        obj[item.nestedId] = item\r\n      })\r\n      let res = []\r\n      copy.forEach((item) => {\r\n        if (item.nestedPid === 0) {\r\n          res.push(item)\r\n        }\r\n        for (let key in obj) {\r\n          if (item.nestedId === obj[key].nestedPid) {\r\n            if (item.children) {\r\n              item.children.push(obj[key])\r\n            } else {\r\n              item.children = [obj[key]]\r\n            }\r\n          }\r\n        }\r\n      })\r\n      return res\r\n    },\r\n    init() {\r\n      this.exportConfigIn = Object.assign(\r\n        this.exportConfigIn,\r\n        this.exportConfig,\r\n        this.customExportConfig\r\n      )\r\n    },\r\n    onPrintClick() {\r\n      // 打印点击事件\r\n\r\n    },\r\n    onCancelClick() {\r\n      this.$emit('onCancel', this.content)\r\n      if (typeof this.cancel === 'function') {\r\n        this.cancel(this)\r\n      }\r\n    },\r\n    onExportClick() {\r\n      // 导出点击事件\r\n      let self = this\r\n      if (self.exportConfigIn.tableIdJson === '') {\r\n        self.$XModal.message({ status: 'error', message: '请至少选择一张报表进行导出!' })\r\n        return\r\n      }\r\n      let flag = self.exportConfigIn.isMore\r\n      self.$http.post('bisReport/report/tableExport', self.exportConfigIn).then(res => {\r\n        if (res.code === '100000') {\r\n          let blob = self.dataURLtoBlob(res.data, flag)\r\n          let url = window.URL.createObjectURL(blob)\r\n          const link = document.createElement('a') // 创建a标签\r\n          link.href = url\r\n          link.download = '导出报表' + new Date().format('YYYY-MM-DD:HH:MM:ss') // 重命名文件\r\n          link.click()\r\n          URL.revokeObjectURL(url) // 释放内存\r\n          self.$XModal.message({ status: 'success', message: '导出成功!' })\r\n          self.loadingPage.close()\r\n        } else {\r\n          self.$XModal.message({ status: 'error', message: '导出失败：' + res.msg })\r\n          self.loadingPage.close()\r\n        }\r\n      }).catch(e => {\r\n        self.$XModal.message({ status: 'error', message: '导出失败：' + e })\r\n        self.loadingPage.close()\r\n      })\r\n    },\r\n    dataURLtoBlob(base64Str, isMore) {\r\n      var bstr = atob(base64Str)\r\n      var n = bstr.length\r\n      var u8arr = new Uint8Array(n)\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n)\r\n      }\r\n      if (!isMore) {\r\n        return new Blob([u8arr], { type: 'application/vnd.ms-excel;charset=utf-8' })\r\n      } else {\r\n        return new Blob([u8arr], { type: 'application/zip' })\r\n      }\r\n    },\r\n    showLoading() {\r\n      return this.$loading({\r\n        lock: true,\r\n        text: '正在加载中...请您稍候',\r\n        spinner: 'ri-loader-4-line roll',\r\n        background: 'rgba(0, 0, 0, 0.7)'\r\n      })\r\n    },\r\n    getColumns() {\r\n      let self = this\r\n      self.loadingPage = self.showLoading()\r\n      let param = {\r\n        appguid: 'fiscal',\r\n        batchno: 1,\r\n        datatype: 8,\r\n        sxspecroleguid: '999004'\r\n      }\r\n      self.$http.post('bisReport/report/getQueryTable', param).then(res => {\r\n        self.loadingPage.close()\r\n        self.resolveResult(data => {\r\n          self.columns = data\r\n        }, res)\r\n      }).catch(e => {\r\n        self.$XModal.message({ status: 'error', message: '获取列表失败：' + e })\r\n        self.loadingPage.close()\r\n      })\r\n    },\r\n    checkTreeNode(checkedNodes, checkedKeys, halfCheckedNodes, halfCheckedKeys) {\r\n      let tableIds = []\r\n      checkedKeys.checkedNodes.forEach(item => {\r\n        tableIds.push(item.id)\r\n      })\r\n      if (tableIds.length > 0) {\r\n        this.exportConfigIn.tableIdJson = JSON.stringify(tableIds)\r\n      } else {\r\n        this.exportConfigIn.tableIdJson = ''\r\n      }\r\n    },\r\n    checkSecondTreeNode(checkedNodes, checkedKeys, halfCheckedNodes, halfCheckedKeys) {\r\n      this.checkedSecondKeys = checkedKeys\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n    this.getColumns()\r\n  },\r\n  watch: {\r\n    exportModalVisible: {\r\n      handler(newVal) {\r\n        this.visible = newVal\r\n        if (newVal) {\r\n          this.init()\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    visible: {\r\n      handler(newVal) {\r\n        this.$emit('update:exportModalVisible', newVal)\r\n      },\r\n      immediate: true\r\n    },\r\n    customExportConfig: {\r\n      handler() {\r\n        this.init()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    'exportConfigIn.isSingle': {\r\n      handler(value) {\r\n        if (value) {\r\n          this.exportConfigIn.isMore = !value\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    'exportConfigIn.isMore': {\r\n      handler(value) {\r\n        if (value) {\r\n          this.exportConfigIn.isSingle = !value\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.export-module {\r\n  padding: 0 0 20px 0;\r\n  .vxe-form {\r\n    padding: 0 60px;\r\n    margin: 0 auto;\r\n    .vxe-form--item {\r\n      padding: 3px 0;\r\n    }\r\n    .export-option {\r\n      border: 1px solid #dcdfe6;\r\n      margin: 3px 0;\r\n      border-radius: 4px;\r\n      user-select: none;\r\n      .export-option-title {\r\n        background-color: #f8f8f9;\r\n        font-weight: 700;\r\n        border-bottom: 1px solid #dadce0;\r\n        line-height: 30px;\r\n        padding: 0 23px;\r\n      }\r\n      .export-option-tree {\r\n        max-height: 155px;\r\n        overflow: auto;\r\n      }\r\n\r\n      .vxe-checkbox-group {\r\n        line-height: 24px;\r\n        line-height: normal;\r\n        .vxe-checkbox {\r\n          margin: 0 5px 0 0;\r\n        }\r\n        .vxe-checkbox + .vxe-checkbox {\r\n          margin: 0 5px 0 0;\r\n        }\r\n      }\r\n      .vxe-checkbox-group {\r\n        line-height: 24px;\r\n      }\r\n    }\r\n  }\r\n  .btn-group {\r\n    text-align: right;\r\n    padding: 0 20px;\r\n    .vxe-button {\r\n      border-radius: 6px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}