{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\manageSystem\\table\\tableConfModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\manageSystem\\table\\tableConfModal.vue","mtime":1694576524818},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZ2V0Rm9ybUNvbmZEYXRhIGZyb20gJy4vZm9ybUNvbmYuanMnDQppbXBvcnQgRW50ZXJJdGVtQ29uZmlnTW9kYWwgZnJvbSAnLi9FbnRlckl0ZW1Db25maWdNb2RhbCcNCi8vIGltcG9ydCB7IHByb2NvbmYgfSBmcm9tICcuL2NvbmZpZy9BZGRVbml0RnVuZFBsYW4uanMnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdUYWJsZUNvbmZNb2RhbCcsDQogIGNvbXBvbmVudHM6IHsgRW50ZXJJdGVtQ29uZmlnTW9kYWwgfSwNCiAgcHJvcHM6IHsNCiAgICBkaWFsb2dWaXNpYmxlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdCAoKSB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgcGFyYW1zOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZlJlbmRlclRhYmxlQ29uZlRhYmxlOiB0cnVlLA0KICAgICAgdG9vbGJhckNvbmZpZzogew0KICAgICAgICBkaXNhYmxlZE1vbmV5Q29udmVyc2lvbjogdHJ1ZSwNCiAgICAgICAgLi4uZ2V0Rm9ybUNvbmZEYXRhKCd0YWJsZUNvbmYnLCAndG9vbGJhckNvbmZpZycpDQogICAgICB9LA0KICAgICAgdGFibGVDb25maWc6IGdldEZvcm1Db25mRGF0YSgndGFibGVDb25mJywgJ3RhYmxlQ29uZmlnJyksDQogICAgICB0YWJsZUNvbHVtbnNDb25maWc6IGdldEZvcm1Db25mRGF0YSgndGFibGVDb25mJywgJ3RhYmxlQ29sdW1uc0NvbmZpZycpLA0KICAgICAgdGFibGVEYXRhOiBnZXRGb3JtQ29uZkRhdGEoJ3RhYmxlQ29uZicsICd0YWJsZURhdGEnKSwNCiAgICAgIGl0ZW1WaXNpYmxlOiBmYWxzZSwNCiAgICAgIGNvbmZpZ1BhcmFtczoge30sDQogICAgICBwYXJhbXNDcDoge30NCg0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uRW50ZXJDb25maWcoKSB7DQogICAgICBsZXQgcGFyYW1zQ29weSA9IHRoaXMuZGVlcENvcHkodGhpcy5wYXJhbXNDcCkNCiAgICAgIHBhcmFtc0NvcHkuY29uZmlndXJlID0gdGhpcy5qc29uUGFyc2UoDQogICAgICAgIHBhcmFtc0NvcHkuY29uZmlndXJlDQogICAgICApDQogICAgICB0aGlzLmNvbmZpZ1BhcmFtcyA9IHRoaXMuZGVlcENsb25lV2l0aEZ1bmN0aW9ucyhwYXJhbXNDb3B5KQ0KICAgICAgdGhpcy5pdGVtVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIGRpYWxvZ0Nsb3NlKCkgew0KICAgICAgdGhpcy5pdGVtVmlzaWJsZSA9IGZhbHNlDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy4kZW1pdCgnY2xvc2VDYWxsYmFjaycpDQogICAgfSwNCiAgICBkZWVwQ2xvbmVXaXRoRnVuY3Rpb25zKG9iaikgew0KICAgICAgLy8g5L2/55SoIEpTT04uc3RyaW5naWZ5IOWwhuWvueixoeW6j+WIl+WMluS4uuWtl+espuS4sg0KICAgICAgY29uc3Qgc2VyaWFsaXplZE9iaiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkgew0KICAgICAgICAvLyDlpoLmnpzlsZ7mgKflgLzmmK/lh73mlbDvvIzliJnov5Tlm57lh73mlbDnmoTlrZfnrKbkuLLooajnpLoNCiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHZhbHVlDQogICAgICB9KQ0KDQogICAgICAvLyDkvb/nlKggSlNPTi5wYXJzZSDlsIblrZfnrKbkuLLlj43luo/liJfljJbkuLrlr7nosaENCiAgICAgIGNvbnN0IGNsb25lZE9iaiA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZE9iaiwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkgew0KICAgICAgICAvLyDlpoLmnpzlsZ7mgKflgLzmmK/lrZfnrKbkuLLvvIzlubbkuJTnrKblkIjlh73mlbDnmoTlrZfnrKbkuLLooajnpLrlvaLlvI/vvIzliJnlsIblhbbovazmjaLlm57lh73mlbANCiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgL15mdW5jdGlvbi4rLy50ZXN0KHZhbHVlKSkgew0KICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsDQogICAgICAgICAgcmV0dXJuIGV2YWwoYCgke3ZhbHVlfSlgKQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB2YWx1ZQ0KICAgICAgfSkNCg0KICAgICAgcmV0dXJuIGNsb25lZE9iag0KICAgIH0sDQogICAgZGVlcENvcHkob2JqKSB7DQogICAgICAvLyDmt7Hmi7fotJ3pgJrnlKjmlrnms5UNCiAgICAgIGxldCBtZSA9IHRoaXMNCiAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHJldHVybiBvYmoNCiAgICAgIGxldCBuZXdPYmogPSBvYmogaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge30NCiAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgbmV3T2JqW2tleV0gPQ0KICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JyA/IG1lLmRlZXBDb3B5KG9ialtrZXldKSA6IG9ialtrZXldDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBuZXdPYmoNCiAgICB9LA0KICAgIGpzb25QYXJzZShzdHIpIHsNCiAgICAgIC8vIGpzb27lrZfnrKbkuLLovazmjaLmiJDlr7nosaENCiAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0ciwgZnVuY3Rpb24gKGssIHYpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICB2LmluZGV4T2YgJiYNCiAgICAgICAgICAgICh2LmluZGV4T2YoJ2Z1bmN0aW9uJykgPiAtMSB8fCB2LmluZGV4T2YoJz0+JykgPiAtMSkNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIC8vIHJldHVybiBldmFsKCcoZnVuY3Rpb24oKXtyZXR1cm4gJyArIHYgKyAnIH0pKCknKQ0KICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jDQogICAgICAgICAgICBsZXQgZnVuYyA9IG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyB2KQ0KICAgICAgICAgICAgcmV0dXJuIGZ1bmMoKQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gdg0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgcmV0dXJuIHYNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0KGNvbHVtbnMpIHsNCiAgICAgIC8vIGNvbHVtbnPovazljJbkuLp2eGUtdGFibGUgY29sdW1uc+aVsOaNrue7k+aehA0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBjb2x1bW5zLmZvckVhY2goKGNvbHVtbiwgY29sdW1uSW5kZXgpID0+IHsNCiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sdW1uLmNoaWxkcmVuKSAmJiBjb2x1bW4uY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gc2VsZi50cmFuc2Zvcm1Db25sdW1zRGF0YVRvTmVzdChjb2x1bW4uY2hpbGRyZW4pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaWYgKGNvbHVtblsncmVuZGVyVHlwZSddICYmIGNvbHVtbi5yZW5kZXJOYW1lKSB7DQogICAgICAgICAgICBjb2x1bW5bY29sdW1uLnJlbmRlclR5cGVdID0gew0KICAgICAgICAgICAgICBuYW1lOiBjb2x1bW4ucmVuZGVyTmFtZSwgLy8g5riy5p+T5Zmo5ZCNLA0KICAgICAgICAgICAgICBvcHRpb25zOiAoKGFyZykgPT4gew0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnb2JqZWN0Jykgew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZGVlcENvcHkoYXJnKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcgPyBhcmcuc3BsaXQoJysnKS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBpdGVtLnNwbGl0KCcjJylbMF0sIGxhYmVsOiBpdGVtLnNwbGl0KCcjJylbMV0gfQ0KICAgICAgICAgICAgICAgICAgfSkgOiBbXQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gYXJnDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KShjb2x1bW4ub3B0aW9ucyksIC8vIOS4i+aLieaVsOaNrua6kA0KICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGNvbHVtbi5kZWZhdWx0VmFsdWUsIC8vIOm7mOiupOWAvA0KICAgICAgICAgICAgICBwcm9wczogY29sdW1uLnByb3BzIC8vIOmineWkluWPguaVsA0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBkZWxldGUgY29sdW1uWydpdGVtUmVuZGVyJ10NCiAgICAgICAgICB9DQogICAgICAgICAgZGVsZXRlIGNvbHVtbi5pbnNlcnRNYXJrDQogICAgICAgICAgZGVsZXRlIGNvbHVtbi5kYXRlDQogICAgICAgICAgZGVsZXRlIGNvbHVtbi5pc05ldw0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4uX1hJRA0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucmVuZGVyVHlwZQ0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucmVuZGVyTmFtZQ0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ub3B0aW9ucw0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucHJvcHMNCiAgICAgICAgICBkZWxldGUgY29sdW1uLmRlZmF1bHRWYWx1ZQ0KICAgICAgICAgIGRlbGV0ZSBzZWxmLmRlZXBDb3B5KGNvbHVtbi5wcm9wcykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiBjb2x1bW5zDQogICAgfSwNCiAgICBqc29uU3RyaW5naWZ5KGNvbHVtbnMpIHsNCiAgICAgIC8vIOWvueixoei9rOaNouaIkGpzb27lrZfnrKbkuLINCiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjb2x1bW5zLCBmdW5jdGlvbihrZXksIHZhbCkgew0KICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgIHJldHVybiB2YWwgKyAnJw0KICAgICAgICB9DQogICAgICAgIHJldHVybiB2YWwNCiAgICAgIH0pDQogICAgfSwNCiAgICBvbkFkZFJvd0NsaWNrKCkgew0KICAgICAgdGhpcy4kcmVmcy5ic1RhYmxlUmVmLmluc2VydFJvd0RhdGEoKQ0KICAgIH0sDQogICAgb25EZWxldGVSb3dDbGljaygpIHsNCiAgICAgIHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5kZWxldGVSb3dEYXRhKCkNCiAgICB9LA0KICAgIHNhdmVUYWJsZUNvbmYodGFibGVDb25mU3RyKSB7DQogICAgICAvLyDkv53lrZjooajmoLzphY3nva4NCiAgICAgIGxldCBzZWxmID0gdGhpcw0KDQogICAgICB0aGlzLiRodHRwW3NlbGYucGFyYW1zLm9wdGlvblR5cGUgPT09ICdhZGQnID8gJ3Bvc3QnIDogJ3B1dCddKCdtcC1iLXBlcm0tc2VydmljZS92MS90YWJsZWNvbmYnLCB0aGlzLmdldFNhdmVQYXJhbXMoew0KICAgICAgICBjb25maWd1cmU6IHRhYmxlQ29uZlN0cg0KICAgICAgICAvLyB0eXBlOiAndGFibGVDb25mJw0KICAgICAgICAvLyBpZDogc2VsZi4kVG9vbEZuLnV0aWxGbi5nZXRVdWlkKCksDQogICAgICAgIC8vIG5hbWU6ICd0ZXN0RGF0YScsDQogICAgICAgIC8vIG1lbnVndWlkOiAnMTIzNDU2Jw0KICAgICAgfSkpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBpZiAocmVzLnJzY29kZSA9PT0gJzEwMDAwMCcpIHsNCiAgICAgICAgICAgIHNlbGYuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgICBzZWxmLiRlbWl0KCdjbG9zZUNhbGxiYWNrJykNCiAgICAgICAgICAgIHNlbGYuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgICAgIG1lc3NhZ2U6IHNlbGYucGFyYW1zLm9wdGlvblR5cGUgPT09ICdhZGQnID8gJ+aVsOaNruaWsOWinuaIkOWKnycgOiAn5pWw5o2u5L+d5a2Y5oiQ5YqfJywNCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgZ2V0U2F2ZVBhcmFtcyhvYmopIHsNCiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgLi4udGhpcy5wYXJhbXNDcCB9LCB7IGl0ZW1zQ29uZmlnOiBbXSwgZm9ybUNvbmZpZzogW10sIGdsb2JhbENvbmZpZzoge30gfSwgb2JqKQ0KICAgIH0sDQogICAgb25TYXZlQ2xpY2soKSB7DQogICAgICAvLyDkv53lrZjngrnlh7vkuovku7YNCiAgICAgIGNvbnN0IHsgZnVsbERhdGEgfSA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5nZXRUYWJsZURhdGEoKQ0KICAgICAgaWYgKGZ1bGxEYXRhLmxlbmd0aCkgew0KICAgICAgICBsZXQgc2F2ZUpzb24gPSB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0KHRoaXMuZGVlcENvcHkodGhpcy5jbGVhckRhdGFSZW5kZXJGaWVsZChmdWxsRGF0YSkpKQ0KICAgICAgICB0aGlzLnNhdmVUYWJsZUNvbmYoDQogICAgICAgICAgdGhpcy5qc29uU3RyaW5naWZ5KHsNCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnOiBzYXZlSnNvbiwNCiAgICAgICAgICAgIGdsb2JhbENvbmZpZzogdGhpcy5wYXJhbXMuZ2xvYmFsQ29uZmlnLA0KICAgICAgICAgICAgcGFnZUNvbmZpZzoge30sIC8vIOWIhumhtemFjee9rg0KICAgICAgICAgICAgZWRpdENvbmZpZzoge30sIC8vIOe8lui+kemFjee9rg0KICAgICAgICAgICAgZWRpdFJ1bGVzOiB7fSwgLy8g5qCh6aqM6KeE5YiZDQogICAgICAgICAgICBmb290ZXJDb25maWc6IHt9LCAvLyDooajlsL7phY3nva4NCiAgICAgICAgICAgIGRhdGFDb25maWc6IHsNCiAgICAgICAgICAgICAgZGF0YVNvdWNlVHlwZTogJ3F1ZXJ5Jw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAn5rKh5pyJ5pWw5o2u5Y+v5L+d5a2Y77yM6K+36YeN5paw5b2V5YWl77yBJywNCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGF1dG9BZGRNaXNzaW5nVHRyaWJ1dGVzKGNvbmZpZywgZGF0YSkgew0KICAgICAgLy8g6Ieq5Yqo6KGl6b2Q5omA5pyJ57y65aSx5bGe5oCnDQogICAgICBkYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgIGNvbmZpZy5mb3JFYWNoKChjb2x1bW4sIGNvbHVtbkluZGV4KSA9PiB7DQogICAgICAgICAgaWYgKGNvbHVtbi5maWVsZCkgew0KICAgICAgICAgICAgaXRlbVtjb2x1bW4uZmllbGRdID0gaXRlbVtjb2x1bW4uZmllbGRdID09PSB1bmRlZmluZWQgfHwgaXRlbVtjb2x1bW4uZmllbGRdID09PSBudWxsID8gJycgOiBpdGVtW2NvbHVtbi5maWVsZF0NCiAgICAgICAgICAgIGlmIChjb2x1bW4uZmllbGQuaW5kZXhPZigncHJvcHMnKSA+PSAwKSB7DQogICAgICAgICAgICAgIGl0ZW1bY29sdW1uLmZpZWxkXSA9IGl0ZW1bY29sdW1uLmZpZWxkXSB8fCB7fQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgICByZXR1cm4gZGF0YQ0KICAgIH0sDQogICAgY2xlYXJEYXRhUmVuZGVyRmllbGQoZGF0YSkgew0KICAgICAgLy8g5Yig6Zmkdmlld1NvcnTlrZfmrrUNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgcmV0dXJuIGRhdGEubWFwKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICBsZXQgaXRlbU4gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQ0KICAgICAgICBPYmplY3Qua2V5cyhpdGVtTikuZm9yRWFjaCgoa2V5LCBraSkgPT4gew0KICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignX18nKSA+PSAwKSB7DQogICAgICAgICAgICBkZWxldGUgaXRlbU5ba2V5XQ0KICAgICAgICAgIH0NCiAgICAgICAgICBkZWxldGUgaXRlbU5bJ2luc2VydE1hcmsnXQ0KICAgICAgICAgIGRlbGV0ZSBpdGVtTlsnZGF0ZSddDQogICAgICAgICAgZGVsZXRlIGl0ZW1OWydpc05ldyddDQogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbU4uY2hpbGRyZW4pICYmIGl0ZW1OLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICAgICAgaXRlbU4uY2hpbGRyZW4gPSBzZWxmLmNsZWFyRGF0YVJlbmRlckZpZWxkKGl0ZW1OLmNoaWxkcmVuKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGl0ZW1ODQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0UHVyZUNvbmZpZ0RhdGEoZGF0YSkgew0KICAgICAgZGVsZXRlIGRhdGFbJ2l0ZW1zQ29uZmlnJ10NCiAgICAgIGRlbGV0ZSBkYXRhWydnbG9iYWxDb25maWcnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ3BhZ2VDb25maWcnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ2VkaXRDb25maWcnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ2VkaXRSdWxlcyddDQogICAgICBkZWxldGUgZGF0YVsnZm9vdGVyQ29uZmlnJ10NCiAgICAgIGRlbGV0ZSBkYXRhWydkYXRhQ29uZmlnJ10NCiAgICAgIGRlbGV0ZSBkYXRhWydpdGVtc0NvbmZpZ05lc3QnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ19YSUQnXQ0KICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7DQogICAgICAgIGlmIChrZXkuaW5kZXhPZignX18nKSA+PSAwKSB7DQogICAgICAgICAgZGVsZXRlIGRhdGFba2V5XQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIGRhdGENCiAgICB9LA0KICAgIGluaXQoKSB7DQogICAgICB0aGlzLnRhYmxlRGF0YSA9IHRoaXMuYXV0b0FkZE1pc3NpbmdUdHJpYnV0ZXModGhpcy50YWJsZUNvbHVtbnNDb25maWcsIHRoaXMuY2xlYXJEYXRhUmVuZGVyRmllbGQodGhpcy5wYXJhbXMuaXRlbXNDb25maWcpKQ0KICAgICAgdGhpcy5wYXJhbXNDcCA9IHRoaXMuZ2V0UHVyZUNvbmZpZ0RhdGEodGhpcy5kZWVwQ29weSh0aGlzLnBhcmFtcykpDQogICAgICB0aGlzLmlmUmVuZGVyVGFibGVDb25mVGFibGUgPSBmYWxzZQ0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLmlmUmVuZGVyVGFibGVDb25mVGFibGUgPSB0cnVlDQogICAgICB9KQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHt9LA0KICB3YXRjaDogew0KICAgIGRpYWxvZ1Zpc2libGU6IHsNCiAgICAgIGhhbmRsZXIobmV3dmFsKSB7DQogICAgICAgIGlmIChuZXd2YWwpIHsNCiAgICAgICAgICB0aGlzLmluaXQoKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpkaWFsb2dWaXNpYmxlJywgbmV3dmFsKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIHBhcmFtczogew0KICAgICAgaGFuZGxlcihuZXd2YWwpIHsNCiAgICAgICAgdGhpcy5wYXJhbXNDcCA9IHRoaXMuZ2V0UHVyZUNvbmZpZ0RhdGEodGhpcy5wYXJhbXMpDQogICAgICAgIGlmIChuZXd2YWwudHlwZSA9PT0gJ3JhZGlvQ29uZicpIHsNCiAgICAgICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZyA9IGdldEZvcm1Db25mRGF0YSgncmFkaW9Db25mJywgJ3JhZGlvQ29sdW1uc0NvbmZpZycpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy50YWJsZUNvbHVtbnNDb25maWcgPSBnZXRGb3JtQ29uZkRhdGEoJ3RhYmxlQ29uZicsICd0YWJsZUNvbHVtbnNDb25maWcnKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["tableConfModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tableConfModal.vue","sourceRoot":"src/views/manageSystem/table","sourcesContent":["<template>\r\n  <div>\r\n    <vxe-modal\r\n      v-model=\"dialogVisible\"\r\n      show-zoom\r\n      title=\"当前选中表表格配置\"\r\n      width=\"90%\"\r\n      height=\"90%\"\r\n      :position=\"{ top: '8%', left: '5%' }\"\r\n      resize\r\n      remember\r\n      transfer\r\n      class=\"conf-modal\"\r\n    >\r\n      <div class=\"height-all\">\r\n        <!-- <div class=\"option-line-group\">\r\n        <div class=\"fn-inline option-line-group-btn\">\r\n          <vxe-button status=\"primary\" @click=\"onSaveClick\">保 存</vxe-button>\r\n          <vxe-button\r\n            code=\"reset\"\r\n            @click=\"dialogVisible = false\"\r\n          >取 消</vxe-button>\r\n        </div>\r\n      </div> -->\r\n        <div class=\"main-modulebox-tabcon ofa pdl10 pdr10\" style=\"height: calc(100% - 15px)\">\r\n          <BsTable1\r\n            v-if=\"ifRenderTableConfTable\"\r\n            ref=\"bsTableRef\"\r\n            :footer-config=\"{ showFooter: false }\"\r\n            :table-config=\"tableConfig\"\r\n            :table-columns-config=\"tableColumnsConfig\"\r\n            :table-data=\"tableData\"\r\n            :edit-config=\"editConfig\"\r\n            :toolbar-config=\"toolbarConfig\"\r\n            :pager-config=\"false\"\r\n          >\r\n            <template v-slot:toolbarSlots>\r\n              <div class=\"table-toolbar-left tl\">\r\n                <vxe-button size=\"medium\" status=\"primary\" content=\"录入配置项\" @click=\"onEnterConfig\" />\r\n                <vxe-button size=\"medium\" status=\"primary\" content=\"新增行\" @click=\"onAddRowClick\" />\r\n                <vxe-button size=\"medium\" status=\"primary\" content=\"删除行\" @click=\"onDeleteRowClick\" />\r\n              </div>\r\n            </template>\r\n            <template v-slot:toolbar-custom-slot>\r\n              <div class=\"toolbar-slot-custom-slot fn-inline mgr15\">\r\n                <vxe-button size=\"medium\" status=\"primary\" content=\"保存\" @click=\"onSaveClick\" />\r\n              </div>\r\n            </template>\r\n          </BsTable1>\r\n        </div>\r\n      </div>\r\n      <EnterItemConfigModal :item-visible.sync=\"itemVisible\" :config-params=\"configParams\" @onItemClose=\"dialogClose\" />\r\n    </vxe-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport getFormConfData from './formConf.js'\r\nimport EnterItemConfigModal from './EnterItemConfigModal'\r\n// import { proconf } from './config/AddUnitFundPlan.js'\r\nexport default {\r\n  name: 'TableConfModal',\r\n  components: { EnterItemConfigModal },\r\n  props: {\r\n    dialogVisible: {\r\n      type: Boolean,\r\n      default () {\r\n        return false\r\n      }\r\n    },\r\n    params: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      ifRenderTableConfTable: true,\r\n      toolbarConfig: {\r\n        disabledMoneyConversion: true,\r\n        ...getFormConfData('tableConf', 'toolbarConfig')\r\n      },\r\n      tableConfig: getFormConfData('tableConf', 'tableConfig'),\r\n      tableColumnsConfig: getFormConfData('tableConf', 'tableColumnsConfig'),\r\n      tableData: getFormConfData('tableConf', 'tableData'),\r\n      itemVisible: false,\r\n      configParams: {},\r\n      paramsCp: {}\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    onEnterConfig() {\r\n      let paramsCopy = this.deepCopy(this.paramsCp)\r\n      paramsCopy.configure = this.jsonParse(\r\n        paramsCopy.configure\r\n      )\r\n      this.configParams = this.deepCloneWithFunctions(paramsCopy)\r\n      this.itemVisible = true\r\n    },\r\n    dialogClose() {\r\n      this.itemVisible = false\r\n      this.dialogVisible = false\r\n      this.$emit('closeCallback')\r\n    },\r\n    deepCloneWithFunctions(obj) {\r\n      // 使用 JSON.stringify 将对象序列化为字符串\r\n      const serializedObj = JSON.stringify(obj, function(key, value) {\r\n        // 如果属性值是函数，则返回函数的字符串表示\r\n        if (typeof value === 'function') {\r\n          return value.toString()\r\n        }\r\n        return value\r\n      })\r\n\r\n      // 使用 JSON.parse 将字符串反序列化为对象\r\n      const clonedObj = JSON.parse(serializedObj, function(key, value) {\r\n        // 如果属性值是字符串，并且符合函数的字符串表示形式，则将其转换回函数\r\n        if (typeof value === 'string' && /^function.+/.test(value)) {\r\n          // eslint-disable-next-line no-eval\r\n          return eval(`(${value})`)\r\n        }\r\n        return value\r\n      })\r\n\r\n      return clonedObj\r\n    },\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    jsonParse(str) {\r\n      // json字符串转换成对象\r\n      return JSON.parse(str, function (k, v) {\r\n        try {\r\n          if (\r\n            v.indexOf &&\r\n            (v.indexOf('function') > -1 || v.indexOf('=>') > -1)\r\n          ) {\r\n            // return eval('(function(){return ' + v + ' })()')\r\n            // eslint-disable-next-line no-new-func\r\n            let func = new Function('return ' + v)\r\n            return func()\r\n          }\r\n          return v\r\n        } catch (e) {\r\n          return v\r\n        }\r\n      })\r\n    },\r\n    transformConlumsDataToNest(columns) {\r\n      // columns转化为vxe-table columns数据结构\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          if (column['renderType'] && column.renderName) {\r\n            column[column.renderType] = {\r\n              name: column.renderName, // 渲染器名,\r\n              options: ((arg) => {\r\n                if (typeof arg === 'object') {\r\n                  return self.deepCopy(arg)\r\n                } else if (typeof arg === 'string') {\r\n                  return arg ? arg.split('+').map((item, index) => {\r\n                    return { value: item.split('#')[0], label: item.split('#')[1] }\r\n                  }) : []\r\n                } else {\r\n                  return arg\r\n                }\r\n              })(column.options), // 下拉数据源\r\n              defaultValue: column.defaultValue, // 默认值\r\n              props: column.props // 额外参数\r\n            }\r\n          } else {\r\n            delete column['itemRender']\r\n          }\r\n          delete column.insertMark\r\n          delete column.date\r\n          delete column.isNew\r\n          delete column._XID\r\n          delete column.renderType\r\n          delete column.renderName\r\n          delete column.options\r\n          delete column.props\r\n          delete column.defaultValue\r\n          delete self.deepCopy(column.props)\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    jsonStringify(columns) {\r\n      // 对象转换成json字符串\r\n      return JSON.stringify(columns, function(key, val) {\r\n        if (typeof val === 'function') {\r\n          return val + ''\r\n        }\r\n        return val\r\n      })\r\n    },\r\n    onAddRowClick() {\r\n      this.$refs.bsTableRef.insertRowData()\r\n    },\r\n    onDeleteRowClick() {\r\n      this.$refs.bsTableRef.deleteRowData()\r\n    },\r\n    saveTableConf(tableConfStr) {\r\n      // 保存表格配置\r\n      let self = this\r\n\r\n      this.$http[self.params.optionType === 'add' ? 'post' : 'put']('mp-b-perm-service/v1/tableconf', this.getSaveParams({\r\n        configure: tableConfStr\r\n        // type: 'tableConf'\r\n        // id: self.$ToolFn.utilFn.getUuid(),\r\n        // name: 'testData',\r\n        // menuguid: '123456'\r\n      }))\r\n        .then((res) => {\r\n          if (res.rscode === '100000') {\r\n            self.dialogVisible = false\r\n            self.$emit('closeCallback')\r\n            self.$message({\r\n              showClose: true,\r\n              message: self.params.optionType === 'add' ? '数据新增成功' : '数据保存成功',\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    getSaveParams(obj) {\r\n      return Object.assign({ ...this.paramsCp }, { itemsConfig: [], formConfig: [], globalConfig: {} }, obj)\r\n    },\r\n    onSaveClick() {\r\n      // 保存点击事件\r\n      const { fullData } = this.$refs.bsTableRef.getTableData()\r\n      if (fullData.length) {\r\n        let saveJson = this.transformConlumsDataToNest(this.deepCopy(this.clearDataRenderField(fullData)))\r\n        this.saveTableConf(\r\n          this.jsonStringify({\r\n            itemsConfig: saveJson,\r\n            globalConfig: this.params.globalConfig,\r\n            pageConfig: {}, // 分页配置\r\n            editConfig: {}, // 编辑配置\r\n            editRules: {}, // 校验规则\r\n            footerConfig: {}, // 表尾配置\r\n            dataConfig: {\r\n              dataSouceType: 'query'\r\n            }\r\n          })\r\n        )\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '没有数据可保存，请重新录入！',\r\n          type: 'success'\r\n        })\r\n      }\r\n    },\r\n    autoAddMissingTtributes(config, data) {\r\n      // 自动补齐所有缺失属性\r\n      data.forEach((item, index) => {\r\n        config.forEach((column, columnIndex) => {\r\n          if (column.field) {\r\n            item[column.field] = item[column.field] === undefined || item[column.field] === null ? '' : item[column.field]\r\n            if (column.field.indexOf('props') >= 0) {\r\n              item[column.field] = item[column.field] || {}\r\n            }\r\n          }\r\n        })\r\n      })\r\n      return data\r\n    },\r\n    clearDataRenderField(data) {\r\n      // 删除viewSort字段\r\n      let self = this\r\n      return data.map((item, index) => {\r\n        let itemN = Object.assign({}, item)\r\n        Object.keys(itemN).forEach((key, ki) => {\r\n          if (key.indexOf('__') >= 0) {\r\n            delete itemN[key]\r\n          }\r\n          delete itemN['insertMark']\r\n          delete itemN['date']\r\n          delete itemN['isNew']\r\n          if (Array.isArray(itemN.children) && itemN.children.length) {\r\n            itemN.children = self.clearDataRenderField(itemN.children)\r\n          }\r\n        })\r\n        return itemN\r\n      })\r\n    },\r\n    getPureConfigData(data) {\r\n      delete data['itemsConfig']\r\n      delete data['globalConfig']\r\n      delete data['pageConfig']\r\n      delete data['editConfig']\r\n      delete data['editRules']\r\n      delete data['footerConfig']\r\n      delete data['dataConfig']\r\n      delete data['itemsConfigNest']\r\n      delete data['_XID']\r\n      Object.keys(data).forEach((key) => {\r\n        if (key.indexOf('__') >= 0) {\r\n          delete data[key]\r\n        }\r\n      })\r\n      return data\r\n    },\r\n    init() {\r\n      this.tableData = this.autoAddMissingTtributes(this.tableColumnsConfig, this.clearDataRenderField(this.params.itemsConfig))\r\n      this.paramsCp = this.getPureConfigData(this.deepCopy(this.params))\r\n      this.ifRenderTableConfTable = false\r\n      this.$nextTick(() => {\r\n        this.ifRenderTableConfTable = true\r\n      })\r\n    }\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n    dialogVisible: {\r\n      handler(newval) {\r\n        if (newval) {\r\n          this.init()\r\n        }\r\n        this.$emit('update:dialogVisible', newval)\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    params: {\r\n      handler(newval) {\r\n        this.paramsCp = this.getPureConfigData(this.params)\r\n        if (newval.type === 'radioConf') {\r\n          this.tableColumnsConfig = getFormConfData('radioConf', 'radioColumnsConfig')\r\n        } else {\r\n          this.tableColumnsConfig = getFormConfData('tableConf', 'tableColumnsConfig')\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n  .conf-modal {\r\n    .vxe-modal--content {\r\n      height: 100%;\r\n    }\r\n  }\r\n</style>\r\n"]}]}