{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\statisticAnalysis\\common\\components\\HandlingOfViolationsDetailModal.vue?vue&type=style&index=0&id=2edf371e&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\statisticAnalysis\\common\\components\\HandlingOfViolationsDetailModal.vue","mtime":1694505522826},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":1696752946978},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5sZWZ0LWl0ZW1zIHsNCiAgaGVpZ2h0OiAxMDAlOw0KICBwYWRkaW5nOiA0cHggOHB4Ow0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KDQogIC5pdGVtcy1kZXRhaWwgew0KICAgIGhlaWdodDogY2FsYygxMDAlIC0gMjBweCk7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICBvdmVyZmxvdzogYXV0bzsNCiAgfQ0KfQ0KDQoucmlnaHQtaW5mbyB7DQogIHBhZGRpbmc6IDAgOHB4IDE2cHg7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoNCi5kZnItY3VzdG9tLWNoZWNrLWFsbCB7DQogIHBhZGRpbmc6IDAgMCAycHggNHB4Ow0KICB3aWR0aDogMTAwJTsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCn0NCi5kZnItY3VzdG9tLWNoZWNrYm94IHsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7DQogIHBhZGRpbmc6IDJweCA0cHg7DQogIGN1cnNvcjogcG9pbnRlcjsNCiAgJi5pcy1hY3RpdmUgew0KICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWhpZ2h0bGlnaHQtY29sb3IpOw0KICB9DQogIC9kZWVwLy5lbC1jaGVja2JveF9fbGFiZWwgew0KICAgIGRpc3BsYXk6IG5vbmU7DQogIH0NCiAgL2RlZXAvLmRmci1jdXN0b20tY2hlY2tib3gtbGFiZWwgew0KICAgIG1hcmdpbi1sZWZ0OiAxMHB4Ow0KICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICB9DQp9DQouZGZyLXByaW50LXBhZ2Utd3JhcHBlciB7DQogIHBvc2l0aW9uOiBmaXhlZDsNCiAgdG9wOiAwOw0KICAvLyDlsIZkb23np7vlh7rliLDlj6/op4bojIPlm7TlpJYNCiAgbGVmdDogLTEwMCU7DQogIC8vbGVmdDogMDsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogYXV0bzsNCiAgei1pbmRleDogMTA7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQp9DQo="},{"version":3,"sources":["HandlingOfViolationsDetailModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HandlingOfViolationsDetailModal.vue","sourceRoot":"src/views/main/statisticAnalysis/common/components","sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"visible\"\r\n    :destroy-on-close=\"true\"\r\n    title=\"处理单查看\"\r\n    width=\"80%\"\r\n    height=\"80%\"\r\n    resize\r\n    show-footer\r\n  >\r\n    <template #footer>\r\n      <vxe-button size=\"small\" @click=\"visible = false\">返回</vxe-button>\r\n      <vxe-button size=\"small\" @click=\"$emit('closeAll')\">关闭</vxe-button>\r\n      <vxe-button :loading=\"printLoading\" type=\"primary\" size=\"small\" @click=\"printHandle\">打印</vxe-button>\r\n    </template>\r\n    <div class=\"modal-content\" style=\"height: calc(100% - 4px)\">\r\n      <!--规则信息-->\r\n      <RuleInfo :rule-info=\"currentWarnDetail.ruleResVO\">\r\n        <template #header>\r\n          <bs-table-title title=\"规则信息\">\r\n            <div class=\"f-c-c\">\r\n              <span v-if=\"currentWarnDetail.ruleResVO\" style=\"font-size: 16px; margin-right: 14px;\">处理单编号：{{ currentWarnDetail.ruleResVO.warningCode }}</span>\r\n              <vxe-button size=\"mini\" @click=\"changeReceiptsModalVisible(true)\">业务单据查看</vxe-button>\r\n            </div>\r\n          </bs-table-title>\r\n        </template>\r\n      </RuleInfo>\r\n      <!--处理进度-->\r\n      <AuditProgress\r\n        v-if=\"currentWarnDetail.processResultList && currentWarnDetail.processResultList.length\"\r\n        :table-data=\"currentWarnDetail.processResultList\"\r\n      />\r\n      <!--附件信息-->\r\n      <AttachmentInfo\r\n        v-if=\"!isBlueWarnLevel && currentNode\"\r\n        :loading=\"fileLoading\"\r\n        :required=\"currentNode.uploadFile\"\r\n        :file-list=\"currentNode.attachFiles\"\r\n        :billguid=\"currentNode.warningCode\"\r\n      />\r\n    </div>\r\n    <!--业务单据查看弹窗-->\r\n    <PreviewReceipts\r\n      v-if=\"receiptsModalVisible\"\r\n      v-model=\"receiptsModalVisible\"\r\n      :current-node=\"currentNode\"\r\n      v-on=\"$listeners\"\r\n    />\r\n    <!--打印组件-->\r\n    <div class=\"dfr-print-page-wrapper\">\r\n      <PrintHtmlNode\r\n        ref=\"printHtmlNodeRef\"\r\n        :list=\"printData\"\r\n        @open=\"openPrintCallback\"\r\n      />\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, unref } from '@vue/composition-api'\r\nimport RuleInfo from '@/views/main/handlingOfViolations/components/RuleInfo'\r\nimport AuditProgress from '@/views/main/handlingOfViolations/components/AuditProgress'\r\nimport AttachmentInfo from '@/views/main/handlingOfViolations/components/AttachmentInfo'\r\nimport PreviewReceipts from '@/views/main/handlingOfViolations/components/PreviewReceipts'\r\nimport PrintHtmlNode from '@/views/main/handlingOfViolations/components/PrintHtmlNode'\r\n\r\nimport { useModal, useModalInner } from '@/hooks/useModal/index'\r\n\r\nimport { ModalTypeEnum, RouterPathEnum } from '@/views/main/handlingOfViolations/model/enum.js'\r\n\r\nimport useWarnInfo from '@/views/main/handlingOfViolations/hooks/useWarnInfo'\r\nimport useAttachFiles from '@/views/main/handlingOfViolations/hooks/useAttachFiles'\r\nimport useIs from '@/views/main/handlingOfViolations/hooks/useIs'\r\nimport usePrint from '@/views/main/handlingOfViolations/hooks/usePrint'\r\n\r\n// 自定义双向绑定\r\nconst model = {\r\n  prop: 'value',\r\n  event: 'changeValue'\r\n}\r\nexport default defineComponent({\r\n  components: {\r\n    RuleInfo,\r\n    AuditProgress,\r\n    AttachmentInfo,\r\n    PreviewReceipts,\r\n    PrintHtmlNode\r\n  },\r\n  props: {\r\n    // 弹窗显隐\r\n    [model.prop]: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 勾选行\r\n    checkedRecords: {\r\n      type: Array,\r\n      default: () => ([])\r\n    }\r\n  },\r\n  model,\r\n  setup(props, { emit }) {\r\n    /**\r\n     * 弹窗内部状态\r\n     * */\r\n    const { visible } = useModalInner(props, emit, model)\r\n\r\n    // 单据弹窗显隐\r\n    const [receiptsModalVisible, changeReceiptsModalVisible] = useModal()\r\n\r\n    /**\r\n     * 处理单相关\r\n     * */\r\n    const {\r\n      cloneRecords,\r\n      currentNode,\r\n      checkedItemsKey,\r\n      currentWarnDetail,\r\n      getDetailHandle\r\n    } = useWarnInfo(props)\r\n\r\n    /**\r\n     * 附件相关\r\n     * */\r\n    const {\r\n      fileLoading,\r\n      initWarningCodesAttachFiles\r\n    } = useAttachFiles(currentNode, cloneRecords, currentNode, false)\r\n\r\n    Promise.all([\r\n      initWarningCodesAttachFiles(),\r\n      getDetailHandle({\r\n        warningCode: unref(currentNode).warningCode,\r\n        id: unref(currentNode).id\r\n      })\r\n    ])\r\n\r\n    /**\r\n     * 判断相关\r\n     * */\r\n    const {\r\n      isBlueWarnLevel\r\n    } = useIs(currentNode)\r\n\r\n    /**\r\n     * 打印相关\r\n     * */\r\n    const {\r\n      printLoading,\r\n      printHtmlNodeRef,\r\n      printData,\r\n      printHandle,\r\n      openPrintCallback\r\n    } = usePrint(checkedItemsKey, currentWarnDetail, [])\r\n\r\n    return {\r\n      ModalTypeEnum,\r\n      RouterPathEnum,\r\n\r\n      visible,\r\n      cloneRecords,\r\n      isBlueWarnLevel,\r\n\r\n      printLoading,\r\n      printData,\r\n      printHtmlNodeRef,\r\n      printHandle,\r\n      openPrintCallback,\r\n\r\n      fileLoading,\r\n\r\n      currentWarnDetail,\r\n      currentNode,\r\n      checkedItemsKey,\r\n      receiptsModalVisible,\r\n      changeReceiptsModalVisible\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.left-items {\r\n  height: 100%;\r\n  padding: 4px 8px;\r\n  box-sizing: border-box;\r\n  background-color: #fff;\r\n\r\n  .items-detail {\r\n    height: calc(100% - 20px);\r\n    box-sizing: border-box;\r\n    overflow: auto;\r\n  }\r\n}\r\n\r\n.right-info {\r\n  padding: 0 8px 16px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.dfr-custom-check-all {\r\n  padding: 0 0 2px 4px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n}\r\n.dfr-custom-checkbox {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: 2px 4px;\r\n  cursor: pointer;\r\n  &.is-active {\r\n    background-color: var(--hightlight-color);\r\n  }\r\n  /deep/.el-checkbox__label {\r\n    display: none;\r\n  }\r\n  /deep/.dfr-custom-checkbox-label {\r\n    margin-left: 10px;\r\n    font-size: 16px;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n.dfr-print-page-wrapper {\r\n  position: fixed;\r\n  top: 0;\r\n  // 将dom移出到可视范围外\r\n  left: -100%;\r\n  //left: 0;\r\n  width: 100%;\r\n  height: auto;\r\n  z-index: 10;\r\n  background-color: #fff;\r\n}\r\n</style>\r\n"]}]}