{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\monitProcFeedback\\monitProcFeedbackModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\monitProcFeedback\\monitProcFeedbackModal.vue","mtime":1694505522810},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgeyBwcm9jb25mIH0gZnJvbSAnLi9jcmVhdGVQcm9jZXNzaW5nLmpzJw0KaW1wb3J0IEh0dHBNb2R1bGUgZnJvbSAnQC9hcGkvZnJhbWUvbWFpbi9mdW5kTW9uaXRvcmluZy9jcmVhdGVQcm9jZXNzaW5nLmpzJw0KLy8gaW1wb3J0IHsgY2hlY2tQaG9uZSB9IGZyb20gJ0AvdXRpbHMvaW5kZXguanMnDQppbXBvcnQgVlhFVGFibGUgZnJvbSAndnhlLXRhYmxlJw0KaW1wb3J0IGxvYWRCc0NvbmZpZyBmcm9tICdAL3ZpZXdzL21haW4vZHluYW1pY1RhYmxlU2V0dGluZy9jb25maWcnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdIYW5kbGVEaWFsb2cnLA0KICBtaXhpbnM6IFtsb2FkQnNDb25maWddLA0KICBjb21wdXRlZDogew0KICAgIHVzZXJJbmZvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvDQogICAgfQ0KICB9LA0KICBwcm9wczogew0KDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNvbmZpZ1R5cGVJZDoge30sDQogICAgICB0YWJsZUxvYWRpbmc6IGZhbHNlLA0KICAgICAgdGFiQ29kZTogJ2RjbC1oc2ZrJywNCiAgICAgIHNob3dGb3JtVHlwZTogew0KICAgICAgICBzaG93MTogdHJ1ZSwNCiAgICAgICAgc2hvdzI6IHRydWUsDQogICAgICAgIHNob3czOiBmYWxzZSwNCiAgICAgICAgc2hvdzQ6IGZhbHNlLA0KICAgICAgICBzaG93NTogZmFsc2UNCiAgICAgIH0sDQogICAgICBmb3JtRGF0YTogW10sDQogICAgICB2YWxpZGF0ZURhdGE6IHt9LA0KICAgICAgdGl0bGU6ICfnm5HmjqflpITnkIbljZUnLA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICBjcmVhdGVWYWxpZGF0ZTogew0KDQogICAgICAgIC8vIHBob25lMTogWw0KICAgICAgICAvLyAgIHsgdmFsaWRhdG9yOiBwcm9jb25mLm1vYmlsZVBob25lVmFsaWQsIHRyaWdnZXI6ICdjaGFuZ2UnIH0NCiAgICAgICAgLy8gXQ0KICAgICAgfSwNCiAgICAgIGRvd25sb2FkUGFyYW1zOiB7DQogICAgICAgIGZpbGVndWlkOiAnJw0KICAgICAgfSwNCiAgICAgIGNyZWF0ZURhdGFMaXN0OiB7fSwNCiAgICAgIGF0dGFjaG1lbnRpZDogJycsDQogICAgICBpc0NyZWF0ZTogdHJ1ZSwNCiAgICAgIHNob3dib3g6IGZhbHNlLA0KICAgICAgZmlsZUxpc3QzOiBbe31dLA0KICAgICAgZmlsZURhdGEzOiBbXSwNCiAgICAgIGZpbGVEYXRhQmFrRGVsMzogW10sDQogICAgICBhZGRMb2FkaW5nOiBmYWxzZSwNCiAgICAgIHBhcmFtNToge30NCiAgICAgIC8vIC0tLS0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRBdHRhY2htZW50SW5mbyhiaWxsZ3VpZCkgew0KICAgICAgaWYgKCFiaWxsZ3VpZCkgcmV0dXJuIFtdDQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICB5ZWFyOiB0aGlzLnVzZXJJbmZvLnllYXIsDQogICAgICAgIHByb3ZpbmNlOiB0aGlzLm1vZkRpdkNvZGUgfHwgdGhpcy51c2VySW5mby5wcm92aW5jZSwNCiAgICAgICAgYmlsbGd1aWQ6IGJpbGxndWlkDQogICAgICB9DQogICAgICByZXR1cm4gSHR0cE1vZHVsZS5nZXRGaWxlKHBhcmFtcykudGhlbigocmVzKSA9PiB7DQogICAgICAgIGxldCBmaWxlTGlzdCA9IEpTT04ucGFyc2UocmVzLmRhdGEpIHx8IFtdDQogICAgICAgIGZpbGVMaXN0Lmxlbmd0aCAmJiBmaWxlTGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4gew0KICAgICAgICAgIGxldCBzaXplID0gZWxlbWVudC5maWxlc2l6ZSAvIDEwMjQNCiAgICAgICAgICBlbGVtZW50LmZpbGVzaXplID0gc2l6ZS50b0ZpeGVkKDIpICsgJ0tCJw0KICAgICAgICB9KQ0KICAgICAgICByZXR1cm4gZmlsZUxpc3QNCiAgICAgIH0pDQogICAgfSwNCiAgICBzZXRPdGhlckZvcm1JdGVtKCkgew0KICAgICAgdGhpcy5zaG93Rm9ybVR5cGUgPSB7DQogICAgICAgIHNob3cxOiBmYWxzZSwNCiAgICAgICAgc2hvdzI6IGZhbHNlLA0KICAgICAgICBzaG93MzogZmFsc2UsDQogICAgICAgIHNob3c0OiBmYWxzZSwNCiAgICAgICAgc2hvdzU6IGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBzZXRGb3JtRGlzYWJsZWQoZm9ybUl0ZW1JbmRleExpc3QgPSBbXSkgew0KICAgICAgaWYgKCFmb3JtSXRlbUluZGV4TGlzdC5sZW5ndGgpIHJldHVybg0KICAgICAgZm9ybUl0ZW1JbmRleExpc3QuZm9yRWFjaCgoZm9ybUl0ZW0pID0+IHsNCiAgICAgICAgdGhpc1tgY3JlYXRlQ29uZmlnJHtmb3JtSXRlbX1gXS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIGl0ZW0uaXRlbVJlbmRlci5wcm9wc1snZGlzYWJsZWQnXSA9IHRydWUNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvKioNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7QXJyYXlbc3RyaW5nXX0gZm9ybUl0ZW1JbmRleExpc3Qg5ZyoZGF0YeWumuS5ieeahOihqOWNleWtl+autWxpc3QNCiAgICAgKiBAcGFyYW0ge0FycmF5W3N0cmluZ119IGZpbGVkTGlzdCDpnIDopoHnpoHnlKjnmoTlrZfmrrUs5LygZmlsZWTnmoTlgLwNCiAgICAgKi8NCiAgICBzZXRGb3JtSXRlbURpc2FibGVkKGZvcm1JdGVtSW5kZXhMaXN0LCBmaWxlZExpc3QpIHsgLy8NCiAgICAgIGlmICghZm9ybUl0ZW1JbmRleExpc3QubGVuZ3RoKSByZXR1cm4NCiAgICAgIGZvcm1JdGVtSW5kZXhMaXN0LmZvckVhY2goKGZvcm1JdGVtKSA9PiB7DQogICAgICAgIHRoaXNbYGNyZWF0ZUNvbmZpZyR7Zm9ybUl0ZW19YF0uZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBpZiAoZmlsZWRMaXN0LmluY2x1ZGVzKGl0ZW0uZmllbGQpKSB7DQogICAgICAgICAgICBpdGVtLml0ZW1SZW5kZXIucHJvcHNbJ2Rpc2FibGVkJ10gPSB0cnVlDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGl0ZW0uaXRlbVJlbmRlci5wcm9wc1snZGlzYWJsZWQnXSA9IGZhbHNlDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRpYWxvZ0Nsb3NlKCkgew0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykNCiAgICB9LA0KICAgIGl0ZW1DaGFuZ2UoeyAkZm9ybSwgcHJvcGVydHksIGl0ZW1WYWx1ZSwgZGF0YSB9LCBic2Zvcm0pIHsNCiAgICAgIGNvbnNvbGUubG9nKCdjaGFuZ2VJdGVtcHJvcGVydHknLCBwcm9wZXJ0eSkNCiAgICAgIC8vIGZvcm3ooajljZXogZTliqjlvZPliY3lrZfmrrVjaGFuZ2Xkuovku7bku6PnkIYNCiAgICAgIHN3aXRjaCAocHJvcGVydHkpIHsNCiAgICAgICAgY2FzZSAndmlvbGF0ZVR5cGUnIDoNCiAgICAgICAgICB0aGlzLiRyZWZzLmNyZWF0ZVJlZj8uJHJlZnM/LmZvcm0/LmNsZWFyVmFsaWRhdGU/LigpDQogICAgICAgICAgdGhpcy5jcmVhdGVEYXRhTGlzdC52aW9sYXRlVHlwZSA9IGl0ZW1WYWx1ZQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ2hhbmRsZVR5cGUnIDoNCiAgICAgICAgICB0aGlzLmNyZWF0ZURhdGFMaXN0LmhhbmRsZVR5cGUgPSBpdGVtVmFsdWUNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICdoYW5kbGVSZXN1bHQnIDoNCiAgICAgICAgICB0aGlzLmNyZWF0ZURhdGFMaXN0LmhhbmRsZVJlc3VsdCA9IGl0ZW1WYWx1ZQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGRlZmF1bHQgOg0KICAgICAgICAgIGJyZWFrDQogICAgICB9DQogICAgfSwNCiAgICBnZXRUYWJsZUNvbmZCeU1lbnVndWlkKG1lbnVndWlkKSB7DQogICAgICAvLyDmoLnmja7oj5zljZVtZW51Z3VpZOiOt+WPluWFtuS4i+aJgOacieihqOmFjee9rg0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICBzZWxmLiRodHRwDQogICAgICAgICAgLmdldCgnbXAtYi1wZXJtLXNlcnZpY2UvdjEvdGFibGVjb25mL21lbnVndWlkJywgew0KICAgICAgICAgICAgbWVudWd1aWQ6IG1lbnVndWlkLA0KICAgICAgICAgICAgbW9mX2Rpdl9jb2RlOiBzZWxmLnVzZXJJbmZvLnByb3ZpbmNlLCAvLyDljLrliJINCiAgICAgICAgICAgIGZpc2NhbHllYXI6IHNlbGYudXNlckluZm8ueWVhciAvLyDlubTku70NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKQ0KICAgICAgICAgICAgICAvLyByZXNvbHZlKHNlbGYuZ2VuZXJhdGVDdXJUYWJsZUNvbmZEYXRhTWFwKHJlcy5kYXRhKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIHJlamVjdChlcnJvcikNCiAgICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldEZsb3dQYXJhbVZvTGlzdCgpIHsNCiAgICAgIC8vIOiOt+WPluWKqOaAgemFjee9ruihqOWNlemHjOmdoue7keWumuW+l2ZpZWxkIOW5tuS4lOe7hOijheaIkFt7a2V5OuihqOWNleavj+mhueW+l2ZpbGVkLHZhbHVlOuihqOWNlWZpbGVk57uR5a6a5YC8fe+8jO+8jC4uLl3kvKDnu5nlkI7nq68NCiAgICAgIGxldCBmbG93UGFyYW1Wb0xpc3QgPSBbXQ0KICAgICAgbGV0IGZvcm1EYXRhID0ge30NCiAgICAgIGlmICh0aGlzLmZvcm1EYXRhICYmIHRoaXMuZm9ybURhdGEubGVuZ3RoKSB7DQogICAgICAgIHRoaXMuZm9ybURhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS50eXBlICE9PSAnY29tcG9uZW50cycpIHsgLy8g5Yik5pat5LiN5piv5LiK5Lyg57uE5Lu2DQogICAgICAgICAgICBsZXQgZm9ybUl0ZW1EYXRhID0ge30NCiAgICAgICAgICAgIGlmIChpdGVtLmZvcm1SZWZLZXkpIHsNCiAgICAgICAgICAgICAgZm9ybUl0ZW1EYXRhID0gdGhpcy4kcmVmc1tpdGVtLmZvcm1SZWZLZXldWzBdLmdldEZvcm1EYXRhKCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGZvcm1JdGVtRGF0YSA9IHRoaXMuJHJlZnNbYGNyZWF0ZVJlZiR7aW5kZXh9YF1bMF0uZ2V0Rm9ybURhdGEoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaXRlbS5mb3JtSXRlbUxpc3QuZm9yRWFjaCgoaWksIGlkeCkgPT4gew0KICAgICAgICAgICAgICBsZXQgb2JqID0ge30NCiAgICAgICAgICAgICAgb2JqLmJpektleSA9IGlpLmZpZWxkDQogICAgICAgICAgICAgIG9iai5iaXpWYWx1ZSA9IGZvcm1JdGVtRGF0YVtpaS5maWVsZF0NCiAgICAgICAgICAgICAgaWYgKGl0ZW0ubmVlZFVwbG9hZCkgeyAvLyDojrflj5bpnIDopoHkuIrkvKDnmoTlk6rkuKrooajljZXnmoTmlbDmja4NCiAgICAgICAgICAgICAgICBpZiAoaWkuZmllbGQuaW5kZXhPZignY29tbWVudERlcHQnKSA+IC0xKSB7DQogICAgICAgICAgICAgICAgICBsZXQgb2JqMiA9IHsNCiAgICAgICAgICAgICAgICAgICAgYml6S2V5OiAnY29tbWVudE5hbWUnLA0KICAgICAgICAgICAgICAgICAgICBiaXpWYWx1ZTogaWkuaXRlbVJlbmRlci5vcHRpb25zLmZpbmQoaXRlbSA9PiB7IHJldHVybiBpdGVtLnZhbHVlID09PSBvYmouYml6VmFsdWUgfSkubGFiZWwNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIGZsb3dQYXJhbVZvTGlzdC5wdXNoKG9iajIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGZsb3dQYXJhbVZvTGlzdC5wdXNoKG9iaikNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBmb3JtRGF0YVtpaS5maWVsZF0gPSBmb3JtSXRlbURhdGFbaWkuZmllbGRdDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsZXQgb2JqID0ge30NCiAgICAgICAgICAgIG9iai5iaXpLZXkgPSBpdGVtLmZpZWxkDQogICAgICAgICAgICBvYmouYml6VmFsdWUgPSB0aGlzLmNyZWF0ZURhdGFMaXN0LmNyZWF0ZWRBdHRhY2htZW50aWQNCiAgICAgICAgICAgIGZsb3dQYXJhbVZvTGlzdC5wdXNoKG9iaikNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgICByZXR1cm4geyBmbG93UGFyYW1Wb0xpc3QsIGZvcm1EYXRhIH0NCiAgICB9LA0KDQogICAgLy8g5Y+N6aaIDQogICAgYXN5bmMgZG9GZWVkYmFjaygpIHsNCiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnZhbGlkYXRlRGF0YSkubGVuZ3RoKSB7DQogICAgICAgIGxldCBmb3JtVmFsaWRhUGFzcyA9IGF3YWl0IFByb21pc2UuYWxsKA0KICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMudmFsaWRhdGVEYXRhKS5tYXAoa2V5ID0+IHsNCiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyhyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgICAgICAgICAgbGV0IGZvcm1JbnN0YW5jZSA9IHRoaXMuJHJlZnNba2V5XQ0KICAgICAgICAgICAgICBpZiAoIWZvcm1JbnN0YW5jZSkgew0KICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSkNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBsZXQgdmFsaWQgPSBhd2FpdCBmb3JtSW5zdGFuY2VbMF0udmFsaWRhdGUoKQ0KICAgICAgICAgICAgICBpZiAodmFsaWQgPT09IHVuZGVmaW5lZCkgcmVzb2x2ZSh0cnVlKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgICApDQogICAgICAgIGlmICghZm9ybVZhbGlkYVBhc3MuZXZlcnkob25lID0+IHsgcmV0dXJuIG9uZSB9KSkgcmV0dXJuDQogICAgICB9DQogICAgICBsZXQgeyBmbG93UGFyYW1Wb0xpc3QsIGZvcm1EYXRhIH0gPSB0aGlzLmdldEZsb3dQYXJhbVZvTGlzdCgpDQogICAgICBjb25zb2xlLmxvZyhmbG93UGFyYW1Wb0xpc3QsIGZvcm1EYXRhKQ0KICAgICAgZm9ybURhdGEuZmxvd1BhcmFtVm9MaXN0ID0gZmxvd1BhcmFtVm9MaXN0DQogICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IHRydWUNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIC4uLnRoaXMuY3JlYXRlRGF0YUxpc3QsDQogICAgICAgIC4uLmZvcm1EYXRhLA0KICAgICAgICBhY3Rpb25UeXBlOiAnMicsDQogICAgICAgIG1lbnVJZDogdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmd1aWQNCiAgICAgIH0NCiAgICAgIEh0dHBNb2R1bGUud29ya0Zsb3dVcGRhdGUoW3BhcmFtc10pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy50YWJsZUxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwMDAwMDAnKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmoLjlrp7lj43ppojmiJDlip8nKQ0KICAgICAgICAgIHRoaXMuZGlhbG9nQ2xvc2UoKQ0KDQogICAgICAgICAgdGhpcy4kcGFyZW50LnF1ZXJ5VGFibGVEYXRhcygpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBpbml0TW9kYWwoKSB7DQogICAgICBjb25zb2xlLmxvZygn5p+l55yL5pWw5o2uJywgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jcmVhdGVEYXRhTGlzdCkpDQogICAgICB0aGlzLmdldFRhYmxlQ29uZkJ5TWVudWd1aWQodGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmd1aWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgcmVzLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgdGhpcy5jb25maWdUeXBlSWRbaXRlbS50eXBlXSA9IGl0ZW0uaWQNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5sb2FkQ29uZmlnKHRoaXMuY29uZmlnVHlwZUlkKQ0KICAgICAgICAvLyB0aGlzLmdldFZhbGlkYXRlQ29uZmlnKHRoaXMuY29uZmlnVHlwZUlkKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOS4i+i9vemZhOS7tg0KICAgIGRvd25sb2FkQXR0YWNobWVudChyb3cpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJvdywgJ+eCueWHu+S4i+i9vScpDQogICAgICBpZiAoIXJvdy5maWxlZ3VpZCkgcmV0dXJuDQogICAgICB0aGlzLmRvd25sb2FkUGFyYW1zLmZpbGVndWlkID0gcm93LmZpbGVndWlkDQogICAgICB0aGlzLiRyZWZzLmF0dGFjaG1lbnRVcGxvYWQuZG93bmxvYWRGaWxlRmlsZSgpDQogICAgfSwNCiAgICBhc3luYyBsb2FkQ29uZmlnKGNvbmZpZ1R5cGVJZCkgeyAvLyDor7fmsYLlt6XkvZzmtYFmb3JtaXRlbemFjee9rumhuQ0KICAgICAgbGV0IHsgZm9ybSB9ID0gY29uZmlnVHlwZUlkDQogICAgICBpZiAoIWZvcm0pIHJldHVybg0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgdGFibGVJZDogew0KICAgICAgICAgIGlkOiBmb3JtLA0KICAgICAgICAgIGZpc2NhbHllYXI6IHRoaXMudXNlckluZm8ueWVhciwNCiAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHRoaXMudXNlckluZm8ucHJvdmluY2UsDQogICAgICAgICAgbWVudWd1aWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkDQogICAgICAgICAgLy8gdXNlcmd1aWQ6ICcnDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGxldCBjb25maWdRdWVyeURhdGEgPSBhd2FpdCB0aGlzLmxvYWRCc0NvbmZpZyhwYXJhbXMpDQogICAgICB0aGlzLiRzZXQodGhpcywgJ2Zvcm1EYXRhJywgY29uZmlnUXVlcnlEYXRhLml0ZW1zQ29uZmlnKQ0KICAgICAgdGhpcy4kc2V0KHRoaXMsICd2YWxpZGF0ZURhdGEnLCBjb25maWdRdWVyeURhdGEuZWRpdFJ1bGVzKQ0KICAgICAgbGV0IGNyZWF0ZURhdGFMaXN0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jcmVhdGVEYXRhTGlzdCkNCiAgICAgIGxldCBmb3JtRGVmYXVsdFZhbHVlID0gY29uZmlnUXVlcnlEYXRhLmVkaXRDb25maWcuZGVmYXVsdFZhbHVlIHx8IHt9DQogICAgICBpZiAoT2JqZWN0LmtleXMoZm9ybURlZmF1bHRWYWx1ZSkpIHsgLy8g6YeN5paw57uE6KOF6buY6K6k5YC8DQogICAgICAgIE9iamVjdC5rZXlzKGZvcm1EZWZhdWx0VmFsdWUpLmZvckVhY2goZmllbGRLZXkgPT4gew0KICAgICAgICAgIGlmICghY3JlYXRlRGF0YUxpc3RbZmllbGRLZXldKSB7DQogICAgICAgICAgICBjcmVhdGVEYXRhTGlzdFtmaWVsZEtleV0gPSBmb3JtRGVmYXVsdFZhbHVlW2ZpZWxkS2V5XQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIC8vIOWmguaenOihqOWNlemhuemFjee9ruS6humZhOS7tiDliJnpgJrov4fmjqXlj6Mg5ou/5Yiw6ZmE5Lu25YiX6KGoIOW5tuS4lOmHjeaWsOe7meihqOWNleW+l+mFjee9rumhueW+l2l0ZW1SZW5kZXLmjILovb3kuIDkuKpmaWxlTGlzdA0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZvcm1EYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxldCBlYWNoRm9ybSA9IHRoaXMuZm9ybURhdGFbaV0NCiAgICAgICAgaWYgKGVhY2hGb3JtLmZvcm1JdGVtTGlzdCAmJiBlYWNoRm9ybS5mb3JtSXRlbUxpc3QubGVuZ3RoKSB7DQogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlYWNoRm9ybS5mb3JtSXRlbUxpc3QubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgIGxldCBmb3JtSXRlbSA9IGVhY2hGb3JtLmZvcm1JdGVtTGlzdFtqXQ0KICAgICAgICAgICAgaWYgKGZvcm1JdGVtLml0ZW1SZW5kZXIubmFtZSA9PT0gJyRjdXN0b21lckZpbGVSZW5kZXInKSB7IC8vIOWIpOaWreaYr+a4suafk+aWh+S7tuWIl+ihqA0KICAgICAgICAgICAgICBsZXQgZmlsZUxpc3QgPSBhd2FpdCB0aGlzLmdldEF0dGFjaG1lbnRJbmZvKGNyZWF0ZURhdGFMaXN0W2Zvcm1JdGVtLmZpZWxkXSkNCiAgICAgICAgICAgICAgdGhpcy4kc2V0KGZvcm1JdGVtLml0ZW1SZW5kZXIsICdmaWxlTGlzdCcsIGZpbGVMaXN0KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGZvcm1JdGVtLml0ZW1SZW5kZXIuZ2V0U2VydmVyVGltZSkgeyAvLyDlpoLmnpzphY3nva7kuobojrflj5bmnI3liqHlmajml7bpl7Qg5YiZ5Y+W5pyN5Yqh5Zmo5pe26Ze0DQogICAgICAgICAgICAgIGNyZWF0ZURhdGFMaXN0W2Zvcm1JdGVtLmZpZWxkXSA9IGNyZWF0ZURhdGFMaXN0LnNlcnZlclRpbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmb3JtSXRlbS5pdGVtUmVuZGVyLmdldFVzZXJOYW1lKSB7IC8vIOWmguaenOmFjee9ruS6huiOt+WPluacjeWKoeWZqOaXtumXtCDliJnlj5bmnI3liqHlmajml7bpl7QNCiAgICAgICAgICAgICAgY3JlYXRlRGF0YUxpc3RbZm9ybUl0ZW0uZmllbGRdID0gY3JlYXRlRGF0YUxpc3QudXNlck5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSBpZiAoZWFjaEZvcm0udHlwZSA9PT0gJ2NvbXBvbmVudHMnKSB7IC8vIOWmguaenOihqOWNlemFjee9ruS6huS4iuS8oOe7hOS7tiDliJnnu5nooajljZXmlbDmja7phY3nva7kuIDkuKrkuIrkvKDnu4Tku7blvpfllK/kuIBJRCDnlKjkuo7ojrflj5bkuIrkvKDpmYTku7blvpdpZA0KICAgICAgICAgIGNyZWF0ZURhdGFMaXN0W2VhY2hGb3JtLmZpZWxkXSA9IGNyZWF0ZURhdGFMaXN0LmNyZWF0ZWRBdHRhY2htZW50aWQNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy4kc2V0KHRoaXMsICdjcmVhdGVEYXRhTGlzdCcsIGNyZWF0ZURhdGFMaXN0KQ0KICAgICAgLy8g57uZdnhldGFibGXphY3nva7muLLmn5PlmaggIOa4suafk+aWh+S7tuWIl+ihqA0KICAgICAgbGV0IF90aGlzID0gdGhpcw0KICAgICAgVlhFVGFibGUucmVuZGVyZXIuYWRkKCckY3VzdG9tZXJGaWxlUmVuZGVyJywgew0KICAgICAgICByZW5kZXJJdGVtQ29udGVudChoLCByZW5kZXJPcHRzLCB7IGRhdGEsIHByb3BlcnR5IH0pIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygnY3VzdG9tZXJGaWxlUmVuZGVyJywgcmVuZGVyT3B0cywgZGF0YSwgcHJvcGVydHkpDQogICAgICAgICAgbGV0IGZpbGVMaXN0ID0gcmVuZGVyT3B0cy5maWxlTGlzdCB8fCBbXQ0KICAgICAgICAgIHJldHVybiBmaWxlTGlzdC5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICByZXR1cm4gPGRpdj4NCiAgICAgICAgICAgICAgPGEgc3R5bGU9ImNvbG9yOiAjMTg5MGZmOyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsiIG9uQ2xpY2s9eygpID0+IHsgX3RoaXMuZG93bmxvYWRBdHRhY2htZW50KGl0ZW0pIH19PntpdGVtLmZpbGVuYW1lfTwvYT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICB9LA0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgY29uc29sZS5sb2coJ+W9k+WJjeS8oOi/h+adpeW+l2Zvcm1EYXRhJywgdGhpcy5jcmVhdGVEYXRhTGlzdCkNCiAgICBjb25zb2xlLmxvZygn5b2T5YmN5Lyg6L+H5p2l5b6X6KGo5Y2V6YWN572u6aG5JywgdGhpcy5mb3JtRGF0YSkNCiAgfSwNCiAgZGVzdG9yeWVkKCkgew0KICAgIFZYRVRhYmxlLnJlbmRlcmVyLmRlbGV0ZSgnJGN1c3RvbWVyRmlsZVJlbmRlcicpDQogIH0NCn0NCg=="},{"version":3,"sources":["monitProcFeedbackModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"monitProcFeedbackModal.vue","sourceRoot":"src/views/main/monitProcFeedback","sourcesContent":["<!--处理弹框-->\r\n<template>\r\n  <div v-loading=\"tableLoading\">\r\n    <vxe-modal\r\n      v-model=\"dialogVisible\"\r\n      :title=\"title\"\r\n      width=\"96%\"\r\n      height=\"90%\"\r\n      :show-footer=\"true\"\r\n      @close=\"dialogClose\"\r\n    >\r\n      <div v-loading=\"addLoading\" class=\"payVoucherInput\">\r\n        <div v-for=\"(item,index) in formData\" :key=\"item.titleName\">\r\n          <template v-if=\"item.type !== 'components'\">\r\n            <div style=\"color:#40aaff;margin-bottom:5px;font-size:16px;font-weight:bold\">{{ item.titleName }}</div>\r\n            <BsForm\r\n              :ref=\"item.formRefKey || `createRef${index}`\"\r\n              class=\"createRef\"\r\n              :form-items-config=\"item.formItemList\"\r\n              :form-data-list=\"createDataList\"\r\n              :form-validation-config=\"validateData[item.formRefKey]\"\r\n              :is-editable=\"isCreate\"\r\n              title-align=\"top\"\r\n              @itemChange=\"itemChange\"\r\n            />\r\n          </template>\r\n          <BsUploadBak\r\n            v-if=\"item.type === 'components'\"\r\n            ref=\"myUpload\"\r\n            :disabled=\"false\"\r\n            :allow-delete=\"true\"\r\n            :allow-download=\"true\"\r\n            :allow-preview=\"true\"\r\n            :is-upload=\"true\"\r\n            :attachment-id=\"createDataList[item.field]\"\r\n            :file-list=\"fileList3\"\r\n            :file-data-bak-del.sync=\"fileDataBakDel3\"\r\n            :file-data.sync=\"fileData3\"\r\n          />\r\n        </div>\r\n        <BsUpload\r\n          ref=\"attachmentUpload\"\r\n          :downloadparams=\"downloadParams\"\r\n          uniqe-name=\"attachmentUpload\"\r\n        />\r\n      </div>\r\n      <div slot=\"footer\" style=\"height: 80px;margin:0 15px\">\r\n        <div v-if=\"showbox\" id=\"bigbox\"></div>\r\n        <el-divider style=\"color:#E7EBF0\" />\r\n        <div type=\"flex\" justify=\"space-around\">\r\n          <div>\r\n            <vxe-button status=\"primary\" @click=\"doFeedback\">确定</vxe-button>\r\n            <vxe-button @click=\"dialogClose\">取消</vxe-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </vxe-modal>\r\n  </div>\r\n</template>\r\n<script>\r\n// import { proconf } from './createProcessing.js'\r\nimport HttpModule from '@/api/frame/main/fundMonitoring/createProcessing.js'\r\n// import { checkPhone } from '@/utils/index.js'\r\nimport VXETable from 'vxe-table'\r\nimport loadBsConfig from '@/views/main/dynamicTableSetting/config'\r\nexport default {\r\n  name: 'HandleDialog',\r\n  mixins: [loadBsConfig],\r\n  computed: {\r\n    userInfo() {\r\n      return this.$store.state.userInfo\r\n    }\r\n  },\r\n  props: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      configTypeId: {},\r\n      tableLoading: false,\r\n      tabCode: 'dcl-hsfk',\r\n      showFormType: {\r\n        show1: true,\r\n        show2: true,\r\n        show3: false,\r\n        show4: false,\r\n        show5: false\r\n      },\r\n      formData: [],\r\n      validateData: {},\r\n      title: '监控处理单',\r\n      dialogVisible: false,\r\n      createValidate: {\r\n\r\n        // phone1: [\r\n        //   { validator: proconf.mobilePhoneValid, trigger: 'change' }\r\n        // ]\r\n      },\r\n      downloadParams: {\r\n        fileguid: ''\r\n      },\r\n      createDataList: {},\r\n      attachmentid: '',\r\n      isCreate: true,\r\n      showbox: false,\r\n      fileList3: [{}],\r\n      fileData3: [],\r\n      fileDataBakDel3: [],\r\n      addLoading: false,\r\n      param5: {}\r\n      // ----\r\n    }\r\n  },\r\n  methods: {\r\n    getAttachmentInfo(billguid) {\r\n      if (!billguid) return []\r\n      let params = {\r\n        year: this.userInfo.year,\r\n        province: this.mofDivCode || this.userInfo.province,\r\n        billguid: billguid\r\n      }\r\n      return HttpModule.getFile(params).then((res) => {\r\n        let fileList = JSON.parse(res.data) || []\r\n        fileList.length && fileList.forEach(element => {\r\n          let size = element.filesize / 1024\r\n          element.filesize = size.toFixed(2) + 'KB'\r\n        })\r\n        return fileList\r\n      })\r\n    },\r\n    setOtherFormItem() {\r\n      this.showFormType = {\r\n        show1: false,\r\n        show2: false,\r\n        show3: false,\r\n        show4: false,\r\n        show5: false\r\n      }\r\n    },\r\n    setFormDisabled(formItemIndexList = []) {\r\n      if (!formItemIndexList.length) return\r\n      formItemIndexList.forEach((formItem) => {\r\n        this[`createConfig${formItem}`].forEach(item => {\r\n          item.itemRender.props['disabled'] = true\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     *\r\n     * @param {Array[string]} formItemIndexList 在data定义的表单字段list\r\n     * @param {Array[string]} filedList 需要禁用的字段,传filed的值\r\n     */\r\n    setFormItemDisabled(formItemIndexList, filedList) { //\r\n      if (!formItemIndexList.length) return\r\n      formItemIndexList.forEach((formItem) => {\r\n        this[`createConfig${formItem}`].forEach(item => {\r\n          if (filedList.includes(item.field)) {\r\n            item.itemRender.props['disabled'] = true\r\n          } else {\r\n            item.itemRender.props['disabled'] = false\r\n          }\r\n        })\r\n      })\r\n    },\r\n    dialogClose() {\r\n      this.dialogVisible = false\r\n      this.$emit('close')\r\n    },\r\n    itemChange({ $form, property, itemValue, data }, bsform) {\r\n      console.log('changeItemproperty', property)\r\n      // form表单联动当前字段change事件代理\r\n      switch (property) {\r\n        case 'violateType' :\r\n          this.$refs.createRef?.$refs?.form?.clearValidate?.()\r\n          this.createDataList.violateType = itemValue\r\n          break\r\n        case 'handleType' :\r\n          this.createDataList.handleType = itemValue\r\n          break\r\n        case 'handleResult' :\r\n          this.createDataList.handleResult = itemValue\r\n          break\r\n        default :\r\n          break\r\n      }\r\n    },\r\n    getTableConfByMenuguid(menuguid) {\r\n      // 根据菜单menuguid获取其下所有表配置\r\n      let self = this\r\n      return new Promise((resolve, reject) => {\r\n        self.$http\r\n          .get('mp-b-perm-service/v1/tableconf/menuguid', {\r\n            menuguid: menuguid,\r\n            mof_div_code: self.userInfo.province, // 区划\r\n            fiscalyear: self.userInfo.year // 年份\r\n          })\r\n          .then((res) => {\r\n            if (res.rscode === '100000') {\r\n              resolve(res.data)\r\n              // resolve(self.generateCurTableConfDataMap(res.data))\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            reject(error)\r\n          })\r\n      })\r\n    },\r\n    getFlowParamVoList() {\r\n      // 获取动态配置表单里面绑定得field 并且组装成[{key:表单每项得filed,value:表单filed绑定值}，，...]传给后端\r\n      let flowParamVoList = []\r\n      let formData = {}\r\n      if (this.formData && this.formData.length) {\r\n        this.formData.forEach((item, index) => {\r\n          if (item.type !== 'components') { // 判断不是上传组件\r\n            let formItemData = {}\r\n            if (item.formRefKey) {\r\n              formItemData = this.$refs[item.formRefKey][0].getFormData()\r\n            } else {\r\n              formItemData = this.$refs[`createRef${index}`][0].getFormData()\r\n            }\r\n            item.formItemList.forEach((ii, idx) => {\r\n              let obj = {}\r\n              obj.bizKey = ii.field\r\n              obj.bizValue = formItemData[ii.field]\r\n              if (item.needUpload) { // 获取需要上传的哪个表单的数据\r\n                if (ii.field.indexOf('commentDept') > -1) {\r\n                  let obj2 = {\r\n                    bizKey: 'commentName',\r\n                    bizValue: ii.itemRender.options.find(item => { return item.value === obj.bizValue }).label\r\n                  }\r\n                  flowParamVoList.push(obj2)\r\n                }\r\n                flowParamVoList.push(obj)\r\n              }\r\n              formData[ii.field] = formItemData[ii.field]\r\n            })\r\n          } else {\r\n            let obj = {}\r\n            obj.bizKey = item.field\r\n            obj.bizValue = this.createDataList.createdAttachmentid\r\n            flowParamVoList.push(obj)\r\n          }\r\n        })\r\n      }\r\n      return { flowParamVoList, formData }\r\n    },\r\n\r\n    // 反馈\r\n    async doFeedback() {\r\n      if (Object.keys(this.validateData).length) {\r\n        let formValidaPass = await Promise.all(\r\n          Object.keys(this.validateData).map(key => {\r\n            return new Promise(async(resolve, reject) => {\r\n              let formInstance = this.$refs[key]\r\n              if (!formInstance) {\r\n                resolve(true)\r\n                return\r\n              }\r\n              let valid = await formInstance[0].validate()\r\n              if (valid === undefined) resolve(true)\r\n            })\r\n          })\r\n        )\r\n        if (!formValidaPass.every(one => { return one })) return\r\n      }\r\n      let { flowParamVoList, formData } = this.getFlowParamVoList()\r\n      console.log(flowParamVoList, formData)\r\n      formData.flowParamVoList = flowParamVoList\r\n      this.tableLoading = true\r\n      let params = {\r\n        ...this.createDataList,\r\n        ...formData,\r\n        actionType: '2',\r\n        menuId: this.$store.state.curNavModule.guid\r\n      }\r\n      HttpModule.workFlowUpdate([params]).then(res => {\r\n        this.tableLoading = false\r\n        if (res.code === '000000') {\r\n          this.$message.success('核实反馈成功')\r\n          this.dialogClose()\r\n\r\n          this.$parent.queryTableDatas()\r\n        }\r\n      })\r\n    },\r\n    initModal() {\r\n      console.log('查看数据', Object.assign({}, this.createDataList))\r\n      this.getTableConfByMenuguid(this.$store.state.curNavModule.guid).then(res => {\r\n        res.forEach(item => {\r\n          this.configTypeId[item.type] = item.id\r\n        })\r\n        this.loadConfig(this.configTypeId)\r\n        // this.getValidateConfig(this.configTypeId)\r\n      })\r\n    },\r\n    // 下载附件\r\n    downloadAttachment(row) {\r\n      console.log(row, '点击下载')\r\n      if (!row.fileguid) return\r\n      this.downloadParams.fileguid = row.fileguid\r\n      this.$refs.attachmentUpload.downloadFileFile()\r\n    },\r\n    async loadConfig(configTypeId) { // 请求工作流formitem配置项\r\n      let { form } = configTypeId\r\n      if (!form) return\r\n      let params = {\r\n        tableId: {\r\n          id: form,\r\n          fiscalyear: this.userInfo.year,\r\n          mof_div_code: this.userInfo.province,\r\n          menuguid: this.$store.state.curNavModule.guid\r\n          // userguid: ''\r\n        }\r\n      }\r\n      let configQueryData = await this.loadBsConfig(params)\r\n      this.$set(this, 'formData', configQueryData.itemsConfig)\r\n      this.$set(this, 'validateData', configQueryData.editRules)\r\n      let createDataList = Object.assign({}, this.createDataList)\r\n      let formDefaultValue = configQueryData.editConfig.defaultValue || {}\r\n      if (Object.keys(formDefaultValue)) { // 重新组装默认值\r\n        Object.keys(formDefaultValue).forEach(fieldKey => {\r\n          if (!createDataList[fieldKey]) {\r\n            createDataList[fieldKey] = formDefaultValue[fieldKey]\r\n          }\r\n        })\r\n      }\r\n      // 如果表单项配置了附件 则通过接口 拿到附件列表 并且重新给表单得配置项得itemRender挂载一个fileList\r\n      for (let i = 0; i < this.formData.length; i++) {\r\n        let eachForm = this.formData[i]\r\n        if (eachForm.formItemList && eachForm.formItemList.length) {\r\n          for (let j = 0; j < eachForm.formItemList.length; j++) {\r\n            let formItem = eachForm.formItemList[j]\r\n            if (formItem.itemRender.name === '$customerFileRender') { // 判断是渲染文件列表\r\n              let fileList = await this.getAttachmentInfo(createDataList[formItem.field])\r\n              this.$set(formItem.itemRender, 'fileList', fileList)\r\n            }\r\n            if (formItem.itemRender.getServerTime) { // 如果配置了获取服务器时间 则取服务器时间\r\n              createDataList[formItem.field] = createDataList.serverTime\r\n            }\r\n            if (formItem.itemRender.getUserName) { // 如果配置了获取服务器时间 则取服务器时间\r\n              createDataList[formItem.field] = createDataList.userName\r\n            }\r\n          }\r\n        } else if (eachForm.type === 'components') { // 如果表单配置了上传组件 则给表单数据配置一个上传组件得唯一ID 用于获取上传附件得id\r\n          createDataList[eachForm.field] = createDataList.createdAttachmentid\r\n        }\r\n      }\r\n      this.$set(this, 'createDataList', createDataList)\r\n      // 给vxetable配置渲染器  渲染文件列表\r\n      let _this = this\r\n      VXETable.renderer.add('$customerFileRender', {\r\n        renderItemContent(h, renderOpts, { data, property }) {\r\n          console.log('customerFileRender', renderOpts, data, property)\r\n          let fileList = renderOpts.fileList || []\r\n          return fileList.map(item => {\r\n            return <div>\r\n              <a style=\"color: #1890ff; text-decoration: underline;\" onClick={() => { _this.downloadAttachment(item) }}>{item.filename}</a>\r\n            </div>\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    console.log('当前传过来得formData', this.createDataList)\r\n    console.log('当前传过来得表单配置项', this.formData)\r\n  },\r\n  destoryed() {\r\n    VXETable.renderer.delete('$customerFileRender')\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n /deep/ .createRef{\r\n  .vxe-form--item.vxe-col--24{\r\n     .vxe-form--item-inner{\r\n      align-items: flex-start !important;\r\n    }\r\n  }\r\n  .vxe-textarea--inner[disabled]{\r\n    background: var(--common-background) !important;\r\n  }\r\n}\r\n\r\n</style>\r\n"]}]}