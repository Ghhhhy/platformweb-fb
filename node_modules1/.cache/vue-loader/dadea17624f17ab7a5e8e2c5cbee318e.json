{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableBak\\export\\Export.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableBak\\export\\Export.vue","mtime":1694505521584},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdFeHBvcnQnLA0KICBjb21wb25lbnRzOiB7fSwNCiAgcHJvcHM6IHsNCiAgICBleHBvcnRNb2RhbFZpc2libGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4NCiAgICB9LA0KICAgIGV4cG9ydE1vZGFsRGF0YTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBleHBvcnRNb2RhbEZvcm1EYXRhOiB7DQogICAgICAgIHNhdmVUeXBlOiAnLnhsc3gnLA0KICAgICAgICBmaWxlTmFtZTogJ2V4cG9ydC54bHN4JywgLy8g5paH5Lu25ZCNDQogICAgICAgIGRhdGFUeXBlOiAnZnVsbERhdGEnLA0KICAgICAgICBpc0V4cG9ydEhlYWQ6IHRydWUsIC8vIOaYr+WQpuWvvOWHuuihqOWktA0KICAgICAgICBpc0V4cG9ydEZvb3RlcjogdHJ1ZSwgLy8g5piv5ZCm5a+85Ye66KGo5bC+6YOoDQogICAgICAgIGlzRXhwb3J0T3JpZ2luYWxEYXRhOiB0cnVlLCAvLyDmmK/lkKblr7zlh7rmupDmlbDmja4NCiAgICAgICAgaXNFeHBvcnREYXRhOiB0cnVlLCAvLyDmmK/lkKblr7zlh7rmlbDmja4NCiAgICAgICAgY29sdW1uczogW10sIC8vIOihqOWktOmFjee9rg0KICAgICAgICBkYXRhczogW10sIC8vIOa6kOaVsOaNriwNCiAgICAgICAgc2VsZWN0aW9uOiBbXSwgLy8g6YCJ5Lit5pWw5o2uDQogICAgICAgIGlzRXhwb3J0VHJlZTogZmFsc2UsDQogICAgICAgIGlnbm9yZUNvbHNUeXBlczogW10sIC8vIOW/veeVpeWvvOWHuueahOWIl+exu+Weiw0KICAgICAgICB2aWV3VmFsdWVGb3JtYXQodmFsdWUsIHJvdywgY29sdW1uKSB7DQogICAgICAgICAgLy8g6KeG5Zu+5pWw5o2u5qC85byP5YyW5pa55rOVDQogICAgICAgICAgLy8gcmV0dXJuIHZhbHVlDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBjb2x1bW5zOiBbDQogICAgICAgIC8vIHsNCiAgICAgICAgLy8gICBpZDogMSwNCiAgICAgICAgLy8gICB0aXRsZTogJ+S4gOe6pyAxJywNCiAgICAgICAgLy8gICBjaGlsZHJlbjogWw0KICAgICAgICAvLyAgICAgew0KICAgICAgICAvLyAgICAgICBpZDogNCwNCiAgICAgICAgLy8gICAgICAgdGl0bGU6ICfkuoznuqcgMS0xJywNCiAgICAgICAgLy8gICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgLy8gICAgICAgICB7DQogICAgICAgIC8vICAgICAgICAgICBpZDogOSwNCiAgICAgICAgLy8gICAgICAgICAgIHRpdGxlOiAn5LiJ57qnIDEtMS0xJw0KICAgICAgICAvLyAgICAgICAgIH0sDQogICAgICAgIC8vICAgICAgICAgew0KICAgICAgICAvLyAgICAgICAgICAgaWQ6IDEwLA0KICAgICAgICAvLyAgICAgICAgICAgdGl0bGU6ICfkuInnuqcgMS0xLTInDQogICAgICAgIC8vICAgICAgICAgfQ0KICAgICAgICAvLyAgICAgICBdDQogICAgICAgIC8vICAgICB9DQogICAgICAgIC8vICAgXQ0KICAgICAgICAvLyB9LA0KICAgICAgICAvLyB7DQogICAgICAgIC8vICAgaWQ6IDIsDQogICAgICAgIC8vICAgdGl0bGU6ICfkuIDnuqcgMicsDQogICAgICAgIC8vICAgY2hpbGRyZW46IFsNCiAgICAgICAgLy8gICAgIHsNCiAgICAgICAgLy8gICAgICAgaWQ6IDUsDQogICAgICAgIC8vICAgICAgIHRpdGxlOiAn5LqM57qnIDItMScNCiAgICAgICAgLy8gICAgIH0sDQogICAgICAgIC8vICAgICB7DQogICAgICAgIC8vICAgICAgIGlkOiA2LA0KICAgICAgICAvLyAgICAgICB0aXRsZTogJ+S6jOe6pyAyLTInDQogICAgICAgIC8vICAgICB9DQogICAgICAgIC8vICAgXQ0KICAgICAgICAvLyB9LA0KICAgICAgICAvLyB7DQogICAgICAgIC8vICAgaWQ6IDMsDQogICAgICAgIC8vICAgdGl0bGU6ICfkuIDnuqcgMycsDQogICAgICAgIC8vICAgY2hpbGRyZW46IFsNCiAgICAgICAgLy8gICAgIHsNCiAgICAgICAgLy8gICAgICAgaWQ6IDcsDQogICAgICAgIC8vICAgICAgIHRpdGxlOiAn5LqM57qnIDMtMScNCiAgICAgICAgLy8gICAgIH0sDQogICAgICAgIC8vICAgICB7DQogICAgICAgIC8vICAgICAgIGlkOiA4LA0KICAgICAgICAvLyAgICAgICB0aXRsZTogJ+S6jOe6pyAzLTInDQogICAgICAgIC8vICAgICB9DQogICAgICAgIC8vICAgXQ0KICAgICAgICAvLyB9DQogICAgICBdLA0KICAgICAgZGVmYXVsdFByb3BzOiB7DQogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLA0KICAgICAgICBsYWJlbDogJ3RpdGxlJw0KICAgICAgfSwNCiAgICAgIGRlZmF1bHRDaGVja2VkS2V5czogW10sDQogICAgICBjaGVja0FsbENvbHVtbnM6IGZhbHNlDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZGVlcENvcHkob2JqKSB7DQogICAgICAvLyDmt7Hmi7fotJ3pgJrnlKjmlrnms5UNCiAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHJldHVybiBvYmoNCiAgICAgIGxldCBuZXdPYmogPSBvYmogaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge30NCiAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgbmV3T2JqW2tleV0gPQ0KICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JyA/IHRoaXMuZGVlcENvcHkob2JqW2tleV0pIDogb2JqW2tleV0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIG5ld09iag0KICAgIH0sDQogICAgZ2VuZXJhdGVUcmVlKGFycikgew0KICAgICAgLy8g5bmz6KGM5pWw5o2u6L2s5YyW5qCR5b2i5pWw5o2uDQogICAgICBsZXQgY29weSA9IHRoaXMuZGVlcENvcHkoYXJyKQ0KICAgICAgbGV0IG9iaiA9IHt9DQogICAgICBjb3B5LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgIGRlbGV0ZSBpdGVtLmNoaWxkcmVuDQogICAgICAgIG9ialtpdGVtLm5lc3RlZElkXSA9IGl0ZW0NCiAgICAgIH0pDQogICAgICBsZXQgcmVzID0gW10NCiAgICAgIGNvcHkuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBpZiAoaXRlbS5uZXN0ZWRQaWQgPT09IDApIHsNCiAgICAgICAgICByZXMucHVzaChpdGVtKQ0KICAgICAgICB9DQogICAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgICBpZiAoaXRlbS5uZXN0ZWRJZCA9PT0gb2JqW2tleV0ubmVzdGVkUGlkKSB7DQogICAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbikgew0KICAgICAgICAgICAgICBpdGVtLmNoaWxkcmVuLnB1c2gob2JqW2tleV0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBpdGVtLmNoaWxkcmVuID0gW29ialtrZXldXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiByZXMNCiAgICB9LA0KICAgIGRlZXBFYWNoVHJhdmVyc2FsQXJyKGRhdGEsIGNiKSB7DQogICAgICAvLyDmt7HluqbpgJLlvZLpgY3ljobmlrDlop7ltYzlpZfntKLlvJXlhbPns7sNCiAgICAgIGRlZXBFYWNoVHJhdmVyc2FsQXJyRm4oZGF0YSkNCiAgICAgIHJldHVybiBkYXRhDQogICAgICBmdW5jdGlvbiBkZWVwRWFjaFRyYXZlcnNhbEFyckZuKHJvb3QsIG5lc3RlZElkLCBjYikgew0KICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyb290KSAmJiByb290Lmxlbmd0aCkgew0KICAgICAgICAgIHJvb3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgIGl0ZW0uc29ydEluZGV4ID0gaW5kZXgNCiAgICAgICAgICAgIGl0ZW0ubmVzdGVkUGlkID0gbmVzdGVkSWQgPT09IHVuZGVmaW5lZCA/IDAgOiBuZXN0ZWRJZA0KICAgICAgICAgICAgaXRlbS5uZXN0ZWRJZCA9DQogICAgICAgICAgICAgIG5lc3RlZElkICE9PSB1bmRlZmluZWQgPyBuZXN0ZWRJZCArICdfJyArIChpbmRleCArIDEpIDogaW5kZXggKyAxDQogICAgICAgICAgICBjYiAmJiB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgJiYgY2Iocm9vdCkNCiAgICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgICAgIGRlZXBFYWNoVHJhdmVyc2FsQXJyRm4oaXRlbS5jaGlsZHJlbiwgaXRlbS5uZXN0ZWRJZCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBzZXRFeHBvcnRDb2x1bW5zKGNvbHVtbnMsIGlnbm9yZUNvbHNUeXBlcykgew0KICAgICAgLy8g6K6+572u5a+85Ye65YiXDQogICAgICBjb2x1bW5zID0gY29sdW1ucy5maWx0ZXIoKGl0ZW0pID0+IHsNCiAgICAgICAgcmV0dXJuIGlnbm9yZUNvbHNUeXBlcy5pbmRleE9mKGl0ZW0udHlwZSkgPCAwDQogICAgICB9KQ0KICAgICAgY29sdW1ucy51bnNoaWZ0KHsgdGl0bGU6ICfluo/lj7cnLCBmaWVsZDogJ3NlcUluZGV4JywgdHlwZTogJ3NlcUluZGV4JyB9KQ0KICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyQ29sdW1zKGNvbHVtbnMsICd2aXNpYmxlJywgZmFsc2UpDQogICAgfSwNCiAgICBmaWx0ZXJDb2x1bXMoY29sdW1ucywga2V5LCB2YWx1ZSkgew0KICAgICAgLy8g6L+H5rukLOWxnuaAp2tleeS4jeetieS6jlZhbHVl6L+H5rukDQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIHJldHVybiBjb2x1bW5zLmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgaWYgKA0KICAgICAgICAgIGl0ZW0uY2hpbGRyZW4gJiYNCiAgICAgICAgICBpdGVtLmNoaWxkcmVuLmxlbmd0aCAmJg0KICAgICAgICAgIChpdGVtW2tleV0gIT09IHZhbHVlIHx8IGl0ZW1ba2V5XSA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICApIHsNCiAgICAgICAgICBpdGVtLmNoaWxkcmVuID0gc2VsZi5maWx0ZXJDb2x1bXMoaXRlbS5jaGlsZHJlbiwga2V5LCB2YWx1ZSkNCiAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiBpdGVtW2tleV0gIT09IHZhbHVlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICB2YWxpQW5kU2V0KGV4cG9ydE1vZGFsRm9ybURhdGEpIHsNCiAgICAgIC8vICBleHBvcnRNb2RhbEZvcm1EYXRhOiB7DQogICAgICAvLyAgICAgICAgIHNhdmVUeXBlOiAnLnhsc3gnLA0KICAgICAgLy8gICAgICAgICBmaWxlTmFtZTogJ2V4cG9ydC54bHN4JywgLy8g5paH5Lu25ZCNDQogICAgICAvLyAgICAgICAgIGRhdGFUeXBlOiAnZnVsbERhdGEnLA0KICAgICAgLy8gICAgICAgICBpc0V4cG9ydEhlYWQ6IHRydWUsIC8vIOaYr+WQpuWvvOWHuuihqOWktA0KICAgICAgLy8gICAgICAgICBpc0V4cG9ydEZvb3RlcjogdHJ1ZSwgLy8g5piv5ZCm5a+85Ye66KGo5bC+6YOoDQogICAgICAvLyAgICAgICAgIGlzRXhwb3J0T3JpZ2luYWxEYXRhOiB0cnVlLCAvLyDmmK/lkKblr7zlh7rmupDmlbDmja4NCiAgICAgIC8vICAgICAgICAgaXNFeHBvcnREYXRhOiB0cnVlLCAvLyDmmK/lkKblr7zlh7rmlbDmja4NCiAgICAgIC8vICAgICAgICAgY29sdW1uczogW10sIC8vIOihqOWktOmFjee9rg0KICAgICAgLy8gICAgICAgICBkYXRhczogW10sIC8vIOa6kOaVsOaNriwNCiAgICAgIC8vICAgICAgICAgc2VsZWN0aW9uOiBbXSwgLy8g6YCJ5Lit5pWw5o2uDQogICAgICAvLyAgICAgICAgIGlnbm9yZUNvbHNUeXBlczogW10sIC8vIOW/veeVpeWvvOWHuueahOWIl+exu+Weiw0KICAgICAgLy8gICAgICAgICB2aWV3VmFsdWVGb3JtYXQodmFsdWUsIHJvdywgY29sdW1uKSB7IC8vIOinhuWbvuaVsOaNruagvOW8j+WMluaWueazlQ0KICAgICAgLy8gICAgICAgICAvLyByZXR1cm4gdmFsdWUNCiAgICAgIC8vICAgICAgICAgfQ0KICAgICAgLy8gICAgICAgfSwNCiAgICAgIGxldCB7IGZpbGVOYW1lIH0gPSBleHBvcnRNb2RhbEZvcm1EYXRhDQogICAgICBsZXQgcmVnID0gbmV3IFJlZ0V4cCgnXlthLXpBLVowLTktX1x1NGUwMC1cdTlmYTVdezAsMjAwMH0kJywgJ2lnJykNCiAgICAgIGlmICghcmVnLnRlc3QoZmlsZU5hbWUpKSB7DQogICAgICAgIGZpbGVOYW1lID0gdGhpcy5leHBvcnRNb2RhbERhdGEuZmlsZU5hbWUNCiAgICAgIH0NCiAgICAgIGV4cG9ydE1vZGFsRm9ybURhdGEuZmlsZU5hbWUgPSBmaWxlTmFtZQ0KICAgICAgcmV0dXJuIGV4cG9ydE1vZGFsRm9ybURhdGENCiAgICB9LA0KICAgIGluaXQoKSB7DQogICAgICB0aGlzLmV4cG9ydE1vZGFsRm9ybURhdGEgPSBPYmplY3QuYXNzaWduKA0KICAgICAgICB7fSwNCiAgICAgICAgdGhpcy5leHBvcnRNb2RhbEZvcm1EYXRhLA0KICAgICAgICB0aGlzLmV4cG9ydE1vZGFsRGF0YQ0KICAgICAgKQ0KICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5kZWVwRWFjaFRyYXZlcnNhbEFycigNCiAgICAgICAgdGhpcy5zZXRFeHBvcnRDb2x1bW5zKA0KICAgICAgICAgIHRoaXMuZXhwb3J0TW9kYWxGb3JtRGF0YS5jb2x1bW5zLA0KICAgICAgICAgIHRoaXMuZXhwb3J0TW9kYWxGb3JtRGF0YS5pZ25vcmVDb2xzVHlwZXMNCiAgICAgICAgKQ0KICAgICAgKQ0KICAgICAgdGhpcy5jaGVja0FsbENvbHVtbnMgPSB0cnVlDQogICAgICB0aGlzLmRlZmF1bHRDaGVja2VkS2V5cyA9IHRoaXMuY29sdW1ucy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgIHJldHVybiBpdGVtLm5lc3RlZElkDQogICAgICB9KQ0KICAgIH0sDQogICAgb25QcmludENsaWNrKCkgew0KICAgICAgLy8g5omT5Y2w54K55Ye75LqL5Lu2DQogICAgfSwNCiAgICBvbkV4cG9ydENsaWNrKCkgew0KICAgICAgLy8g5a+85Ye654K55Ye75LqL5Lu2DQogICAgICBsZXQgZXhwb3J0Q29sdW1ucyA9IHRoaXMuZ2VuZXJhdGVUcmVlKA0KICAgICAgICB0aGlzLiRyZWZzLmV4cG9ydENvbHVtc1RyZWUNCiAgICAgICAgICAuZ2V0Q2hlY2tlZE5vZGVzKCkNCiAgICAgICAgICAuY29uY2F0KHRoaXMuJHJlZnMuZXhwb3J0Q29sdW1zVHJlZS5nZXRIYWxmQ2hlY2tlZE5vZGVzKCkpDQogICAgICApLnNvcnQoKGEsIGIpID0+IHsNCiAgICAgICAgcmV0dXJuIGEuc29ydEluZGV4IC0gYi5zb3J0SW5kZXgNCiAgICAgIH0pDQogICAgICBsZXQgZXhwb3J0TW9kYWxGb3JtRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZXhwb3J0TW9kYWxGb3JtRGF0YSwgew0KICAgICAgICBjb2x1bW5zOiBleHBvcnRDb2x1bW5zDQogICAgICB9KQ0KICAgICAgZXhwb3J0TW9kYWxGb3JtRGF0YSA9IHRoaXMudmFsaUFuZFNldChleHBvcnRNb2RhbEZvcm1EYXRhKQ0KICAgICAgdGhpcy4kZW1pdCgnb25FeHBvcnRDbGljaycsIGV4cG9ydE1vZGFsRm9ybURhdGEpDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkge30sDQogIHdhdGNoOiB7DQogICAgZXhwb3J0TW9kYWxWaXNpYmxlOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbCkgew0KICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZXhwb3J0TW9kYWxWaXNpYmxlJywgbmV3VmFsKQ0KICAgICAgICBpZiAobmV3VmFsKSB7DQogICAgICAgICAgdGhpcy5pbml0KCkNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0sDQogICAgZXhwb3J0TW9kYWxGb3JtRGF0YTogew0KICAgICAgaGFuZGxlcigpIHt9LA0KICAgICAgZGVlcDogdHJ1ZSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0sDQogICAgY2hlY2tBbGxDb2x1bW5zOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlKSB7DQogICAgICAgIGlmIChuZXdWYWx1ZSkgew0KICAgICAgICAgIHRoaXMuJHJlZnMuZXhwb3J0Q29sdW1zVHJlZSAmJg0KICAgICAgICAgICAgdGhpcy4kcmVmcy5leHBvcnRDb2x1bXNUcmVlLnNldENoZWNrZWROb2Rlcyh0aGlzLmNvbHVtbnMpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kcmVmcy5leHBvcnRDb2x1bXNUcmVlICYmDQogICAgICAgICAgICB0aGlzLiRyZWZzLmV4cG9ydENvbHVtc1RyZWUuc2V0Q2hlY2tlZE5vZGVzKFtdKQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Export.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Export.vue","sourceRoot":"src/components/TableBak/export","sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"exportModalVisible\"\r\n    title=\"导出参数设置\"\r\n    width=\"660\"\r\n    height=\"auto\"\r\n    remember\r\n    transfer\r\n  >\r\n    <div class=\"export-module\">\r\n      <vxe-form\r\n        :data=\"exportModalFormData\"\r\n        size=\"medium\"\r\n        title-width=\"120\"\r\n        title-align=\"right\"\r\n        align=\"left\"\r\n        title-colon\r\n      >\r\n        <vxe-form-item title=\"名称\" field=\"fileName\" :span=\"24\">\r\n          <template v-slot>\r\n            <vxe-input v-model=\"exportModalFormData.fileName\" placeholder=\"请输入文件名\" clearable />\r\n          </template>\r\n        </vxe-form-item>\r\n        <vxe-form-item title=\"保存类型\" field=\"saveType\" :span=\"24\">\r\n          <template v-slot>\r\n            <vxe-select v-model=\"exportModalFormData.saveType\" placeholder=\"请选择保存类型\" clearable>\r\n              <vxe-option value=\".xlsx\" label=\"Excel 工作簿(*.xlsx)\" />\r\n              <!-- <vxe-option value=\".csv\" label=\"CSV (逗号分隔)(*.csv)\" /> -->\r\n            </vxe-select>\r\n          </template>\r\n        </vxe-form-item>\r\n        <vxe-form-item title=\"要导出的数据\" field=\"saveType\" :span=\"24\">\r\n          <template v-slot>\r\n            <vxe-select v-model=\"exportModalFormData.dataType\" placeholder=\"要导出的数据\" clearable>\r\n              <vxe-option value=\"fullData\" label=\"当前页数据\" />\r\n              <vxe-option value=\"selection\" label=\"选中数据\" />\r\n              <!-- <vxe-option value=\"allData\" label=\"所有数据\" /> -->\r\n            </vxe-select>\r\n          </template>\r\n        </vxe-form-item>\r\n        <vxe-form-item title=\"导出列选项\" field=\"exportOption\" :span=\"24\">\r\n          <template v-slot>\r\n            <div class=\"export-option\">\r\n              <div class=\"export-option-title\">\r\n                <vxe-checkbox\r\n                  v-model=\"checkAllColumns\"\r\n                  label=\"allFields\"\r\n                  content=\"全部列\"\r\n                  size=\"medium\"\r\n                />\r\n              </div>\r\n              <div class=\"export-option-tree\">\r\n                <el-tree\r\n                  ref=\"exportColumsTree\"\r\n                  :data=\"columns\"\r\n                  show-checkbox\r\n                  node-key=\"nestedId\"\r\n                  default-expand-all\r\n                  :default-checked-keys=\"defaultCheckedKeys\"\r\n                  :props=\"defaultProps\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </vxe-form-item>\r\n        <vxe-form-item title=\"导出类型\" field=\"exportOption\" :span=\"24\">\r\n          <template v-slot>\r\n            <div class=\"vxe-checkbox-group fn-inline\">\r\n              <vxe-checkbox\r\n                v-model=\"exportModalFormData.isExportOnlySourceField\"\r\n                label=\"isExportOnlySourceField\"\r\n                content=\"只导出表列字段\"\r\n                size=\"medium\"\r\n              />\r\n              <vxe-checkbox\r\n                v-model=\"exportModalFormData.isExportOnlyViewTitle\"\r\n                label=\"isExportOnlySourceField\"\r\n                content=\"只导出表列名称\"\r\n                size=\"medium\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </vxe-form-item>\r\n        <vxe-form-item v-if=\"!(exportModalFormData.isExportOnlySourceField || exportModalFormData.isExportOnlyViewTitle)\" title=\"导出选项\" field=\"exportOption\" :span=\"24\">\r\n          <template v-slot>\r\n            <div class=\"vxe-checkbox-group\">\r\n              <vxe-checkbox\r\n                v-model=\"exportModalFormData.isExportHead\"\r\n                label=\"isExportHead\"\r\n                content=\"表头\"\r\n                size=\"medium\"\r\n              />\r\n              <vxe-checkbox\r\n                v-model=\"exportModalFormData.isExportFooter\"\r\n                label=\"isExportFooter\"\r\n                content=\"表尾\"\r\n                size=\"medium\"\r\n              />\r\n              <vxe-checkbox\r\n                v-model=\"exportModalFormData.isExportData\"\r\n                label=\"isExportData\"\r\n                content=\"视图数据\"\r\n                size=\"medium\"\r\n              />\r\n              <vxe-checkbox\r\n                v-model=\"exportModalFormData.isExportOriginalData\"\r\n                label=\"isExportOriginalData\"\r\n                content=\"源数据\"\r\n                size=\"medium\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </vxe-form-item>\r\n        <vxe-form-item title=\"其他导出选项\" field=\"exportOption\" :span=\"24\">\r\n          <template v-slot>\r\n            <div class=\"vxe-checkbox-group\">\r\n              <vxe-checkbox\r\n                v-model=\"exportModalFormData.isExportTree\"\r\n                label=\"isExportTree\"\r\n                content=\"导出树形数据\"\r\n                size=\"medium\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </vxe-form-item>\r\n      </vxe-form>\r\n      <div class=\"btn-group\">\r\n        <vxe-button size=\"medium\" content=\"中等尺寸\" @click=\"onPrintClick\">打印</vxe-button>\r\n        <vxe-button type=\"submit\" status=\"primary\" size=\"medium\" @click=\"onExportClick\">导出</vxe-button>\r\n      </div>\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Export',\r\n  components: {},\r\n  props: {\r\n    exportModalVisible: {\r\n      type: Boolean\r\n    },\r\n    exportModalData: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      exportModalFormData: {\r\n        saveType: '.xlsx',\r\n        fileName: 'export.xlsx', // 文件名\r\n        dataType: 'fullData',\r\n        isExportHead: true, // 是否导出表头\r\n        isExportFooter: true, // 是否导出表尾部\r\n        isExportOriginalData: true, // 是否导出源数据\r\n        isExportData: true, // 是否导出数据\r\n        columns: [], // 表头配置\r\n        datas: [], // 源数据,\r\n        selection: [], // 选中数据\r\n        isExportTree: false,\r\n        ignoreColsTypes: [], // 忽略导出的列类型\r\n        viewValueFormat(value, row, column) {\r\n          // 视图数据格式化方法\r\n          // return value\r\n        }\r\n      },\r\n      columns: [\r\n        // {\r\n        //   id: 1,\r\n        //   title: '一级 1',\r\n        //   children: [\r\n        //     {\r\n        //       id: 4,\r\n        //       title: '二级 1-1',\r\n        //       children: [\r\n        //         {\r\n        //           id: 9,\r\n        //           title: '三级 1-1-1'\r\n        //         },\r\n        //         {\r\n        //           id: 10,\r\n        //           title: '三级 1-1-2'\r\n        //         }\r\n        //       ]\r\n        //     }\r\n        //   ]\r\n        // },\r\n        // {\r\n        //   id: 2,\r\n        //   title: '一级 2',\r\n        //   children: [\r\n        //     {\r\n        //       id: 5,\r\n        //       title: '二级 2-1'\r\n        //     },\r\n        //     {\r\n        //       id: 6,\r\n        //       title: '二级 2-2'\r\n        //     }\r\n        //   ]\r\n        // },\r\n        // {\r\n        //   id: 3,\r\n        //   title: '一级 3',\r\n        //   children: [\r\n        //     {\r\n        //       id: 7,\r\n        //       title: '二级 3-1'\r\n        //     },\r\n        //     {\r\n        //       id: 8,\r\n        //       title: '二级 3-2'\r\n        //     }\r\n        //   ]\r\n        // }\r\n      ],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'title'\r\n      },\r\n      defaultCheckedKeys: [],\r\n      checkAllColumns: false\r\n    }\r\n  },\r\n  methods: {\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? this.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    generateTree(arr) {\r\n      // 平行数据转化树形数据\r\n      let copy = this.deepCopy(arr)\r\n      let obj = {}\r\n      copy.forEach((item, index) => {\r\n        delete item.children\r\n        obj[item.nestedId] = item\r\n      })\r\n      let res = []\r\n      copy.forEach((item) => {\r\n        if (item.nestedPid === 0) {\r\n          res.push(item)\r\n        }\r\n        for (let key in obj) {\r\n          if (item.nestedId === obj[key].nestedPid) {\r\n            if (item.children) {\r\n              item.children.push(obj[key])\r\n            } else {\r\n              item.children = [obj[key]]\r\n            }\r\n          }\r\n        }\r\n      })\r\n      return res\r\n    },\r\n    deepEachTraversalArr(data, cb) {\r\n      // 深度递归遍历新增嵌套索引关系\r\n      deepEachTraversalArrFn(data)\r\n      return data\r\n      function deepEachTraversalArrFn(root, nestedId, cb) {\r\n        if (Array.isArray(root) && root.length) {\r\n          root.forEach((item, index) => {\r\n            item.sortIndex = index\r\n            item.nestedPid = nestedId === undefined ? 0 : nestedId\r\n            item.nestedId =\r\n              nestedId !== undefined ? nestedId + '_' + (index + 1) : index + 1\r\n            cb && typeof cb === 'function' && cb(root)\r\n            if (item.children && item.children.length) {\r\n              deepEachTraversalArrFn(item.children, item.nestedId)\r\n            }\r\n          })\r\n        }\r\n      }\r\n    },\r\n    setExportColumns(columns, ignoreColsTypes) {\r\n      // 设置导出列\r\n      columns = columns.filter((item) => {\r\n        return ignoreColsTypes.indexOf(item.type) < 0\r\n      })\r\n      columns.unshift({ title: '序号', field: 'seqIndex', type: 'seqIndex' })\r\n      return this.filterColums(columns, 'visible', false)\r\n    },\r\n    filterColums(columns, key, value) {\r\n      // 过滤,属性key不等于Value过滤\r\n      let self = this\r\n      return columns.filter((item, index) => {\r\n        if (\r\n          item.children &&\r\n          item.children.length &&\r\n          (item[key] !== value || item[key] === undefined)\r\n        ) {\r\n          item.children = self.filterColums(item.children, key, value)\r\n          return true\r\n        } else {\r\n          return item[key] !== value\r\n        }\r\n      })\r\n    },\r\n    valiAndSet(exportModalFormData) {\r\n      //  exportModalFormData: {\r\n      //         saveType: '.xlsx',\r\n      //         fileName: 'export.xlsx', // 文件名\r\n      //         dataType: 'fullData',\r\n      //         isExportHead: true, // 是否导出表头\r\n      //         isExportFooter: true, // 是否导出表尾部\r\n      //         isExportOriginalData: true, // 是否导出源数据\r\n      //         isExportData: true, // 是否导出数据\r\n      //         columns: [], // 表头配置\r\n      //         datas: [], // 源数据,\r\n      //         selection: [], // 选中数据\r\n      //         ignoreColsTypes: [], // 忽略导出的列类型\r\n      //         viewValueFormat(value, row, column) { // 视图数据格式化方法\r\n      //         // return value\r\n      //         }\r\n      //       },\r\n      let { fileName } = exportModalFormData\r\n      let reg = new RegExp('^[a-zA-Z0-9-_\\u4e00-\\u9fa5]{0,2000}$', 'ig')\r\n      if (!reg.test(fileName)) {\r\n        fileName = this.exportModalData.fileName\r\n      }\r\n      exportModalFormData.fileName = fileName\r\n      return exportModalFormData\r\n    },\r\n    init() {\r\n      this.exportModalFormData = Object.assign(\r\n        {},\r\n        this.exportModalFormData,\r\n        this.exportModalData\r\n      )\r\n      this.columns = this.deepEachTraversalArr(\r\n        this.setExportColumns(\r\n          this.exportModalFormData.columns,\r\n          this.exportModalFormData.ignoreColsTypes\r\n        )\r\n      )\r\n      this.checkAllColumns = true\r\n      this.defaultCheckedKeys = this.columns.map((item, index) => {\r\n        return item.nestedId\r\n      })\r\n    },\r\n    onPrintClick() {\r\n      // 打印点击事件\r\n    },\r\n    onExportClick() {\r\n      // 导出点击事件\r\n      let exportColumns = this.generateTree(\r\n        this.$refs.exportColumsTree\r\n          .getCheckedNodes()\r\n          .concat(this.$refs.exportColumsTree.getHalfCheckedNodes())\r\n      ).sort((a, b) => {\r\n        return a.sortIndex - b.sortIndex\r\n      })\r\n      let exportModalFormData = Object.assign({}, this.exportModalFormData, {\r\n        columns: exportColumns\r\n      })\r\n      exportModalFormData = this.valiAndSet(exportModalFormData)\r\n      this.$emit('onExportClick', exportModalFormData)\r\n    }\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n    exportModalVisible: {\r\n      handler(newVal) {\r\n        this.$emit('update:exportModalVisible', newVal)\r\n        if (newVal) {\r\n          this.init()\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    exportModalFormData: {\r\n      handler() {},\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    checkAllColumns: {\r\n      handler(newValue) {\r\n        if (newValue) {\r\n          this.$refs.exportColumsTree &&\r\n            this.$refs.exportColumsTree.setCheckedNodes(this.columns)\r\n        } else {\r\n          this.$refs.exportColumsTree &&\r\n            this.$refs.exportColumsTree.setCheckedNodes([])\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.export-module {\r\n  padding: 0 0 20px 0;\r\n  .vxe-form {\r\n    padding: 0 60px;\r\n    margin: 0 auto;\r\n    .vxe-form--item {\r\n      padding: 3px 0;\r\n    }\r\n    .export-option {\r\n      border: 1px solid #dcdfe6;\r\n      margin: 3px 0;\r\n      border-radius: 4px;\r\n      user-select: none;\r\n      .export-option-title {\r\n        background-color: #f8f8f9;\r\n        font-weight: 700;\r\n        border-bottom: 1px solid #dadce0;\r\n        line-height: 30px;\r\n        padding: 0 23px;\r\n      }\r\n      .export-option-tree {\r\n        max-height: 265px;\r\n        overflow: auto;\r\n      }\r\n\r\n      .vxe-checkbox-group {\r\n        line-height: 24px;\r\n        line-height: normal;\r\n        .vxe-checkbox {\r\n          margin: 0 5px 0 0;\r\n        }\r\n        .vxe-checkbox + .vxe-checkbox {\r\n          margin: 0 5px 0 0;\r\n        }\r\n      }\r\n      .vxe-checkbox-group {\r\n        line-height: 24px;\r\n      }\r\n    }\r\n  }\r\n  .btn-group {\r\n    text-align: right;\r\n    padding: 0 20px;\r\n    .vxe-button {\r\n      border-radius: 6px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}