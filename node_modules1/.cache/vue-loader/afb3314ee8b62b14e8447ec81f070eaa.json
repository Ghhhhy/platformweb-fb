{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\components\\AuditProgress.vue?vue&type=style&index=0&id=e7d2ab50&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\components\\AuditProgress.vue","mtime":1694505522763},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubW9kdWxlLWNvbnRhaW5lciB7DQogIG1hcmdpbi10b3A6IDE2cHg7DQp9DQouYXVkaXQtcHJvZ3Jlc3MtdGFibGUgew0KICB3aWR0aDogMTAwJTsNCg0KICB0aCwgdGQgew0KICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQogICAgYm9yZGVyOiAwLjVweCBzb2xpZCByZ2JhKCM2MDYyNjYsIDAuNik7DQogICAgYm9yZGVyLXRvcDogbm9uZTsNCiAgICBib3JkZXItbGVmdDogbm9uZTsNCiAgfQ0KDQogIHRyIHRoOmxhc3QtY2hpbGQsDQogIHRyIHRkOmxhc3QtY2hpbGQgew0KICAgIGJvcmRlci1yaWdodC1jb2xvcjogI2YwZjBmMDsNCiAgfQ0KDQogIHRyIHRoOmZpcnN0LWNoaWxkLA0KICB0ciB0ZDpmaXJzdC1jaGlsZCB7DQogICAgYm9yZGVyLWxlZnQtY29sb3I6ICNmMGYwZjA7DQogIH0NCg0KICB0aGVhZCB0ciB7DQogICAgYmFja2dyb3VuZDogI2VkZjJmYzsNCiAgICBib3gtc2hhZG93OiAxcHggMCAwICNjZmQyZDQ7DQoNCiAgICB0aCB7DQogICAgICBmb250LXdlaWdodDogNzAwOw0KICAgICAgY29sb3I6ICM2MDYyNjY7DQogICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIH0NCiAgfQ0KDQogIHRoLCB0ZCB7DQogICAgcGFkZGluZzogNnB4Ow0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIH0NCg0KICB0Ym9keSB0ciB0ZCB7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIHBhZGRpbmc6IDVweDsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICB9DQoNCiAgdGJvZHkgdHI6bnRoLWNoaWxkKGV2ZW4pIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmYWZlDQogIH0NCn0NCi5lbXB0eS1jb250YWluZXIgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgd2lkdGg6IDEwMCU7DQogIHBhZGRpbmc6IDEwcHg7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQo="},{"version":3,"sources":["AuditProgress.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AuditProgress.vue","sourceRoot":"src/views/main/handlingOfViolations/components","sourcesContent":["<template>\r\n  <div class=\"module-container audit-progress-wrapper\">\r\n    <bs-table-title title=\"处理进度\" style=\"margin-bottom: 10px\" />\r\n    <!--<BsTable-->\r\n    <!--  :table-config=\"tableConfig\"-->\r\n    <!--  :table-columns-config=\"columns\"-->\r\n    <!--  :table-data=\"tableData\"-->\r\n    <!--  :toolbar-config=\"false\"-->\r\n    <!--  :pager-config=\"false\"-->\r\n    <!--  size=\"medium\"-->\r\n    <!--  v-bind=\"$attrs\"-->\r\n    <!--  :max-height=\"400\"-->\r\n    <!--/>-->\r\n    <!--<el-table :data=\"tableData\" width=\"100%\">-->\r\n    <!--  <el-table-column-->\r\n    <!--    v-for=\"column in columns\"-->\r\n    <!--    :key=\"column.field\"-->\r\n    <!--    :prop=\"column.field\"-->\r\n    <!--    :label=\"column.title\"-->\r\n    <!--    :min-width=\"column.wdith\"-->\r\n    <!--  />-->\r\n    <!--</el-table>-->\r\n    <!--<vxe-grid-->\r\n    <!--  :columns=\"columns\"-->\r\n    <!--  :data=\"tableData\"-->\r\n    <!--  :scroll-x=\"{ enabled: false }\"-->\r\n    <!--  :scroll-y=\"{ enabled: false }\"-->\r\n    <!--/>-->\r\n    <!--自定义table解决：BsTable、vxe-grid、el-table打印出现滚动条列咋展示不全问题-->\r\n    <table class=\"audit-progress-table\">\r\n      <!--表头-->\r\n      <thead>\r\n        <tr>\r\n          <!--除开第1、2最后一列（序号、处理日期、是否终审），其余列平分宽度-->\r\n          <th\r\n            v-for=\"(column) in columns\"\r\n            :key=\"column.field\"\r\n            :align=\"column.titleAlign || 'center'\"\r\n            :style=\"{\r\n              width: column.width ? `${column.width}px` : computedColumnWidth,\r\n              textAlign: 'center',\r\n            }\"\r\n          >\r\n            {{ column.title }}\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <!--表体-->\r\n      <tbody>\r\n        <tr\r\n          v-for=\"(row, index) in tableData\"\r\n          :key=\"index\"\r\n        >\r\n          <!--除开第1、2最后一列（序号、处理日期、是否终审），其余列左对齐-->\r\n          <td\r\n            v-for=\"(column) in columns\"\r\n            :key=\"column.field\"\r\n            valign=\"top\"\r\n            :align=\"column.align || 'center'\"\r\n          >\r\n            {{ getTdLabel(row, column, index) }}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div\r\n      v-if=\"!tableData.length\"\r\n      class=\"empty-container\"\r\n    >\r\n      <!--<img :src=\"require('@/components/Table/assets/img/empty.svg')\">-->\r\n      <p style=\"margin-top: 8px;\">暂无处理进度数据！</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, unref, inject, computed } from '@vue/composition-api'\r\nimport useTable from '@/hooks/useTable'\r\nimport { auditInfoColumns, getAuditDescriptionColumn, indexColumn } from '../model/data'\r\nimport { RouterPathEnum, WarnLevelEnum } from '../model/enum'\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    isPint: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    tableData: {\r\n      type: Array,\r\n      default: () => ([])\r\n    }\r\n  },\r\n  setup(props) {\r\n    // 当前选中的业务单据\r\n    const currentNode = inject('currentNode')\r\n    // 页面路由\r\n    const pagePath = inject('pagePath')\r\n\r\n    const columns = computed(() => {\r\n      const common = [indexColumn, ...auditInfoColumns]\r\n      if (unref(currentNode)?.warnLevel === WarnLevelEnum.BLUE) {\r\n        // 蓝色预警\r\n        common.splice(\r\n          common.length - 1,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理说明' })\r\n        )\r\n      } else if (unref(pagePath) === RouterPathEnum().UNIT_FEEDBACK) {\r\n        common.splice(\r\n          common.length - 1,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理说明/处理意见' })\r\n        )\r\n      } else {\r\n        common.splice(\r\n          common.length - 1,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理说明/处理意见' })\r\n        )\r\n      }\r\n\r\n      return common\r\n    })\r\n\r\n    const computedColumnWidth = computed(() => {\r\n      let length = unref(columns).length\r\n      const totalWidth = unref(columns).reduce((sum, column) => {\r\n        if (column.width) {\r\n          sum += column.width\r\n          length--\r\n        }\r\n        return sum\r\n      })\r\n\r\n      return `calc((100% - ${totalWidth}px) / ${length}`\r\n    })\r\n    /**\r\n     * 表格\r\n     * */\r\n    const [\r\n      {\r\n        tableConfig\r\n        // tableData\r\n      }\r\n    ] = useTable({\r\n      dataKey: 'data'\r\n    })\r\n    tableConfig.globalConfig = {\r\n      seq: true, // 序号列\r\n      checkType: false // hasCheckbox\r\n    }\r\n\r\n    /**\r\n     * 获取td值\r\n     * @param row\r\n     * @param column\r\n     */\r\n    function getTdLabel(row, column, index) {\r\n      if (column?.type === 'seq') {\r\n        return index + 1\r\n      }\r\n      if (column?.cellRender?.name?.indexOf('select')) {\r\n        return column?.cellRender.options.find(item => item.value === row[column.field])?.label\r\n      }\r\n      return row[column.field]\r\n    }\r\n    return {\r\n      columns,\r\n      tableConfig,\r\n      // tableData,\r\n      getTdLabel,\r\n      computedColumnWidth\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.module-container {\r\n  margin-top: 16px;\r\n}\r\n.audit-progress-table {\r\n  width: 100%;\r\n\r\n  th, td {\r\n    border-collapse: collapse;\r\n    border: 0.5px solid rgba(#606266, 0.6);\r\n    border-top: none;\r\n    border-left: none;\r\n  }\r\n\r\n  tr th:last-child,\r\n  tr td:last-child {\r\n    border-right-color: #f0f0f0;\r\n  }\r\n\r\n  tr th:first-child,\r\n  tr td:first-child {\r\n    border-left-color: #f0f0f0;\r\n  }\r\n\r\n  thead tr {\r\n    background: #edf2fc;\r\n    box-shadow: 1px 0 0 #cfd2d4;\r\n\r\n    th {\r\n      font-weight: 700;\r\n      color: #606266;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n\r\n  th, td {\r\n    padding: 6px;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  tbody tr td {\r\n    font-size: 14px;\r\n    padding: 5px;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  tbody tr:nth-child(even) {\r\n    background-color: #f8fafe\r\n  }\r\n}\r\n.empty-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n</style>\r\n"]}]}