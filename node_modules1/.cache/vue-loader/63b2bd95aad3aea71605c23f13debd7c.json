{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TabSelect\\TabSelectTwo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TabSelect\\TabSelectTwo.vue","mtime":1694505521458},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdUYWJTZWxlY3QnLA0KICBwcm9wczogew0KICAgIHNob3dOdW06IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4NCiAgICB9LA0KICAgIHNob3daZXJvOiB7DQogICAgICB0eXBlOiBCb29sZWFuDQogICAgfSwNCiAgICB0YWJMaXN0OiB7DQogICAgICB0eXBlOiBbQXJyYXksIE9iamVjdF0sDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfSwNCiAgICBkZWZhdWx0U2VsZWN0OiB7DQogICAgICB0eXBlOiBbT2JqZWN0XSwNCiAgICAgIGRlZmF1bHQgKCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzUmVuZGVyVGFiOiBmYWxzZSwNCiAgICAgIHRhYkxpc3RDcDogW10sDQogICAgICB0YWJMaXN0SW46IFtdLA0KICAgICAgY3VyVGFiU2VsZWN0OiB7IC4uLnRoaXMuZGVmYXVsdFNlbGVjdCB9LA0KICAgICAgc2xlY3RDdXJWYWx1ZVRlbXA6ICcnDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0YmFzaWNEYXRhVHlwZShvYmopIHsNCiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKS5zbGljZSg4LCAtMSkNCiAgICB9LA0KICAgIGluaXQoKSB7DQogICAgICB0aGlzLnRhYkxpc3RDcCA9IHRoaXMuZGVlcENvcHkodGhpcy50YWJMaXN0KSAvLyDkv67lpI3kuIrpnaLnmoTmt7HluqZjb3B5IOaWueazleS4ouWksemXrumimA0KICAgICAgdGhpcy50YWJMaXN0SW4gPSB0aGlzLnRhYkxpc3RDcA0KICAgICAgLy8gY29uc29sZS5sb2coJzU1NjYnLCB0aGlzLnRhYkxpc3RJbiwgdGhpcy5jdXJUYWJTZWxlY3QpDQogICAgfSwNCiAgICBkZWVwQ29weShvYmopIHsNCiAgICAgIC8vIOa3seaLt+i0nemAmueUqOaWueazlQ0KICAgICAgLy8gdmFyIG5ld19hcnIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFycikpIC8vIOS4jeS7heWPr+aLt+i0neaVsOe7hOi/mOiDveaLt+i0neWvueixoe+8iCDkvYbkuI3og73mi7fotJ3lh73mlbDvvIkNCiAgICAgIC8vIOWPquaLt+i0neWvueixoQ0KICAgICAgbGV0IG1lID0gdGhpcw0KICAgICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIG9iag0KICAgICAgLy8g5qC55o2ub2Jq55qE57G75Z6L5Yik5pat5piv5paw5bu65LiA5Liq5pWw57uE6L+Y5piv5LiA5Liq5a+56LGhDQogICAgICBsZXQgbmV3T2JqID0gb2JqIGluc3RhbmNlb2YgQXJyYXkgPyBbXSA6IHt9DQogICAgICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7DQogICAgICAgIC8vIOmBjeWOhm9iaizlubbkuJTliKTmlq3mmK9vYmrnmoTlsZ7mgKfmiY3mi7fotJ0NCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgLy8g5Yik5pat5bGe5oCn5YC855qE57G75Z6L77yM5aaC5p6c5piv5a+56LGh6YCS5b2S6LCD55So5rex5ou36LSdDQogICAgICAgICAgbmV3T2JqW2tleV0gPQ0KICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JyA/IG1lLmRlZXBDb3B5KG9ialtrZXldKSA6IG9ialtrZXldDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBuZXdPYmoNCiAgICB9LA0KICAgIGdldEltYWdlVXJsKCkgew0KICAgICAgdGhpcy50YWJMaXN0SW4uZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0uaWNvbk5hbWUpIHsNCiAgICAgICAgICBpdGVtLmljb25VcmwgPSByZXF1aXJlKCcuL2ltZy8nICsgaXRlbS5pY29uTmFtZSkNCiAgICAgICAgfQ0KICAgICAgICBpZiAoaXRlbS5pY29uTmFtZUFjdGl2ZSkgew0KICAgICAgICAgIGl0ZW0uaWNvblVybEFjdGl2ZSA9IHJlcXVpcmUoJy4vaW1nLycgKyBpdGVtLmljb25OYW1lQWN0aXZlKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvLyDliIfmjaJUYWLnmoTop6blj5ENCiAgICBvblRhYkVsQ2xpY2sob2JqKSB7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuZ2V0YmFzaWNEYXRhVHlwZSh0aGlzLmN1clRhYlNlbGVjdCkgPT09ICdPYmplY3QnICYmDQogICAgICAgIG9iai5jb2RlICE9PSB0aGlzLmN1clRhYlNlbGVjdC5jb2RlDQogICAgICApIHsNCiAgICAgICAgdGhpcy5zbGVjdEN1clZhbHVlVGVtcCA9ICcnDQogICAgICAgIHRoaXMuY3VyVGFiU2VsZWN0ID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKQ0KICAgICAgICBpZiAob2JqLnR5cGUgPT09ICdidXR0b24nKSB7DQogICAgICAgICAgdGhpcy4kZW1pdCgnb25UYWJDbGljaycsIG9iaikNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDliIfmjaJzZWxlY3TkuIvnmoRvcHRpb27op6blj5ENCiAgICBjaGFuZ2VPcHRpb24ob2JqKSB7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuZ2V0YmFzaWNEYXRhVHlwZSh0aGlzLmN1clRhYlNlbGVjdCkgPT09ICdPYmplY3QnICYmDQogICAgICAgIG9iai5jb2RlICE9PSB0aGlzLmN1clRhYlNlbGVjdC5jb2RlDQogICAgICApIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLnNsZWN0Q3VyVmFsdWVUZW1wID09PSBvYmouY3VyVmFsdWUpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGNvbnN0IGN1clRhYiA9IE9iamVjdC5hc3NpZ24oe30sIG9iaikNCiAgICAgIHRoaXMuc2xlY3RDdXJWYWx1ZVRlbXAgPSBvYmouY3VyVmFsdWUNCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp0YWJMaXN0JywgdGhpcy50YWJMaXN0SW4pDQogICAgICB0aGlzLiRlbWl0KCdvblRhYkNsaWNrJywgY3VyVGFiKQ0KICAgIH0NCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy8g5Yqg6L295pys5Zyw5Zu+54mHDQoNCiAgICAvLyDliJ3lp4vljJbmlbDmja4NCiAgICB0aGlzLmluaXQoKQ0KICAgIHRoaXMuZ2V0SW1hZ2VVcmwoKQ0KICAgIC8vIOW8gOWni+a4suafkw0KICAgIHRoaXMuaXNSZW5kZXJUYWIgPSB0cnVlDQogICAgLy8g5YWo6YOo5Yqg6L295a6M5oiQ5ZCO77yM5aaC5p6c5YaN6LCD55So5LiL5r+A5rS75oCBcGFuZWwNCiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAvLyB0aGlzLiRlbWl0KCdvblRhYkNsaWNrJywgdGhpcy5jdXJUYWJTZWxlY3QpDQogICAgICB0aGlzLiRlbWl0KCdvblRhYkFmdGVyTG9hZCcsIHRoaXMuY3VyVGFiU2VsZWN0KQ0KICAgIH0pDQogIH0sDQogIHdhdGNoOiB7DQogICAgdGFiTGlzdDogew0KICAgICAgaGFuZGxlcigpIHsNCiAgICAgICAgdGhpcy5pbml0KCkNCiAgICAgICAgdGhpcy5nZXRJbWFnZVVybCgpDQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlbHk6IHRydWUNCiAgICB9LA0KICAgIGRlZmF1bHRTZWxlY3Q6IHsNCiAgICAgIGhhbmRsZXIobmV3VmFsKSB7DQogICAgICAgIHRoaXMub25UYWJFbENsaWNrKG5ld1ZhbCkNCiAgICAgIH0sDQogICAgICBpbW1lZGlhdGVseTogdHJ1ZQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["TabSelectTwo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TabSelectTwo.vue","sourceRoot":"src/components/TabSelect","sourcesContent":["<template>\r\n  <div class=\"tab-select__con\">\r\n    <div v-if=\"isRenderTab\" class=\"tab-select-two-con-list fn-inline\">\r\n      <ul>\r\n        <li v-for=\"(item, index) in tabListIn\" :key=\"index\" class=\"fn-inline pointer btn-hover\" :class=\"[curTabSelect.code === item.code ? 'active-btn' : 'no-active',item.type === 'button' ? 'button-btn' : '']\" @click.stop=\"onTabElClick(item)\">\r\n          <!-- buton -->\r\n          <el-button v-if=\"item.type === 'button'\" class=\"fn-inline olh\" :title=\"item.label\">\r\n            <img :src=\"curTabSelect.code === item.code ? item.iconUrlActive : item.iconUrl\" class=\"prefix-btn-icon\">\r\n            <span>{{ showNum ? (showZero ? item.labelZero : item.labelNum) : item.label }}</span>\r\n          </el-button>\r\n\r\n          <!-- select -->\r\n          <span v-if=\"(item.type === 'select') && (curTabSelect.code !== item.code)\" class=\"select-tab__hover\"></span>\r\n          <el-select v-if=\"item.type === 'select'\" v-model=\"item.curValue\" placeholder=\"请选择\" class=\"fn-inline olh\" :change=\"changeOption(item)\">\r\n            <el-option v-for=\"(option, idx) in item.options\" :key=\"idx\" class=\"tab-select__two\" :value=\"option.code\" :label=\" (showNum ? (showZero ? option.labelZero : option.labelNum) : `${item.label} - ${option.label}`)\" />\r\n            <template v-slot:prefix>\r\n              <img :src=\"curTabSelect.code === item.code ? item.iconUrlActive : item.iconUrl\" class=\"prefix-btn-icon\">\r\n            </template>\r\n          </el-select>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TabSelect',\r\n  props: {\r\n    showNum: {\r\n      type: Boolean\r\n    },\r\n    showZero: {\r\n      type: Boolean\r\n    },\r\n    tabList: {\r\n      type: [Array, Object],\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    defaultSelect: {\r\n      type: [Object],\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isRenderTab: false,\r\n      tabListCp: [],\r\n      tabListIn: [],\r\n      curTabSelect: { ...this.defaultSelect },\r\n      slectCurValueTemp: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getbasicDataType(obj) {\r\n      return Object.prototype.toString.call(obj).slice(8, -1)\r\n    },\r\n    init() {\r\n      this.tabListCp = this.deepCopy(this.tabList) // 修复上面的深度copy 方法丢失问题\r\n      this.tabListIn = this.tabListCp\r\n      // console.log('5566', this.tabListIn, this.curTabSelect)\r\n    },\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      // var new_arr = JSON.parse(JSON.stringify(arr)) // 不仅可拷贝数组还能拷贝对象（ 但不能拷贝函数）\r\n      // 只拷贝对象\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      // 根据obj的类型判断是新建一个数组还是一个对象\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        // 遍历obj,并且判断是obj的属性才拷贝\r\n        if (obj.hasOwnProperty(key)) {\r\n          // 判断属性值的类型，如果是对象递归调用深拷贝\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    getImageUrl() {\r\n      this.tabListIn.forEach(item => {\r\n        if (item.iconName) {\r\n          item.iconUrl = require('./img/' + item.iconName)\r\n        }\r\n        if (item.iconNameActive) {\r\n          item.iconUrlActive = require('./img/' + item.iconNameActive)\r\n        }\r\n      })\r\n    },\r\n\r\n    // 切换Tab的触发\r\n    onTabElClick(obj) {\r\n      if (\r\n        this.getbasicDataType(this.curTabSelect) === 'Object' &&\r\n        obj.code !== this.curTabSelect.code\r\n      ) {\r\n        this.slectCurValueTemp = ''\r\n        this.curTabSelect = Object.assign({}, obj)\r\n        if (obj.type === 'button') {\r\n          this.$emit('onTabClick', obj)\r\n        }\r\n      }\r\n    },\r\n\r\n    // 切换select下的option触发\r\n    changeOption(obj) {\r\n      if (\r\n        this.getbasicDataType(this.curTabSelect) === 'Object' &&\r\n        obj.code !== this.curTabSelect.code\r\n      ) {\r\n        return\r\n      }\r\n\r\n      if (this.slectCurValueTemp === obj.curValue) {\r\n        return\r\n      }\r\n\r\n      const curTab = Object.assign({}, obj)\r\n      this.slectCurValueTemp = obj.curValue\r\n      this.$emit('update:tabList', this.tabListIn)\r\n      this.$emit('onTabClick', curTab)\r\n    }\r\n  },\r\n\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    // 加载本地图片\r\n\r\n    // 初始化数据\r\n    this.init()\r\n    this.getImageUrl()\r\n    // 开始渲染\r\n    this.isRenderTab = true\r\n    // 全部加载完成后，如果再调用下激活态panel\r\n    this.$nextTick(() => {\r\n      // this.$emit('onTabClick', this.curTabSelect)\r\n      this.$emit('onTabAfterLoad', this.curTabSelect)\r\n    })\r\n  },\r\n  watch: {\r\n    tabList: {\r\n      handler() {\r\n        this.init()\r\n        this.getImageUrl()\r\n      },\r\n      immediately: true\r\n    },\r\n    defaultSelect: {\r\n      handler(newVal) {\r\n        this.onTabElClick(newVal)\r\n      },\r\n      immediately: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .tab-select__two {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .tab-select-two-con-list {\r\n    font-size: 0;\r\n    margin-left: 24px;\r\n\r\n    li {\r\n      position: relative;\r\n    }\r\n\r\n    ul li:hover .el-input__inner {\r\n      color: var(--primary-color);\r\n    }\r\n\r\n    ul li:nth-child(1) button {\r\n      border-left: solid 1px #DCDFE6;\r\n      border-bottom-left-radius: 8px;\r\n    }\r\n\r\n    ul li:last-child button {\r\n      border-top-right-radius: 8px;\r\n    }\r\n\r\n    ul li:nth-child(1) .el-select {\r\n      border-bottom-left-radius: 8px;\r\n      border-left: solid 1px #DCDFE6;\r\n    }\r\n\r\n    ul li:last-child .el-select {\r\n      border-top-right-radius: 8px;\r\n    }\r\n\r\n    .el-select .el-input .el-select__caret {\r\n      color: #C0C4CC;\r\n      font-size: 5px;\r\n      -webkit-transition: -webkit-transform .3s;\r\n      transition: -webkit-transform .3s;\r\n      transition: transform .3s;\r\n      transition: transform .3s, -webkit-transform .3s;\r\n      transition: transform .3s, -webkit-transform .3s;\r\n      -webkit-transform: rotateZ(180deg);\r\n      transform: rotateZ(180deg);\r\n      cursor: pointer;\r\n    }\r\n\r\n    .prefix-btn-icon {\r\n      width: 16px;\r\n      height: 16px;\r\n      vertical-align: middle;\r\n      margin-top: -2px;\r\n    }\r\n\r\n    .el-select {\r\n      box-sizing: border-box;\r\n      height: 32px;\r\n      border: solid 1px #DCDFE6;\r\n      border-left: 0;\r\n    }\r\n\r\n    .el-button {\r\n      height: 32px;\r\n      border-radius: unset;\r\n      box-sizing: border-box;\r\n      padding: 8px 15px;\r\n      font-size: 12px;\r\n      font-weight: 400;\r\n      border-left: 0;\r\n    }\r\n\r\n    .el-input__inner {\r\n      border-left: 0;\r\n    }\r\n\r\n    .el-input__prefix {\r\n      left: 15px;\r\n      height: 32px;\r\n      line-height: 32px;\r\n    }\r\n\r\n    .el-input__suffix {\r\n      right: 8px;\r\n\r\n      .el-input__icon {\r\n        line-height: 32px;\r\n      }\r\n    }\r\n\r\n    .el-input--suffix .el-input__inner {\r\n      height: 32px;\r\n      line-height: 32px;\r\n      padding-left: 39px;\r\n      padding-right: 33px;\r\n      font-size: 12px;\r\n      border-radius: unset;\r\n      border: unset;\r\n    }\r\n\r\n    .el-button:hover {\r\n      color: var(--tabbutton-color-active);\r\n      opacity: 0.8;\r\n    }\r\n\r\n    .no-active {\r\n      .el-input__inner {\r\n        color: #606266;\r\n      }\r\n\r\n      .el-select__caret {\r\n        color: #606266 !important;\r\n      }\r\n    }\r\n\r\n    .active-btn:hover {\r\n      opacity: 0.8;\r\n      .el-input__inner {\r\n        background-image: linear-gradient(0deg, var(--primary-color) 0%, var(--primary-color-anamorphism) 100%);\r\n        color: #fff;\r\n      }\r\n    }\r\n\r\n    .active-btn {\r\n      .el-select {\r\n        border-color: var(--tabbutton-color-active);\r\n        box-shadow: 1px 0 0 0 var(--tabbutton-color-active);\r\n      }\r\n\r\n      .el-input__inner {\r\n        background-image: linear-gradient(0deg, var(--primary-color) 0%, var(--primary-color-anamorphism) 100%);\r\n        color: #fff;\r\n      }\r\n\r\n      button {\r\n        border-color: var(--tabbutton-color-active);\r\n        box-shadow: 1px 0 0 0 var(--tabbutton-color-active);\r\n        background-image: linear-gradient(0deg, var(--primary-color) 0%, var(--primary-color-anamorphism) 100%);\r\n        color: #fff;\r\n      }\r\n\r\n      .el-button:hover {\r\n        color: #fff;\r\n      }\r\n\r\n      .el-input__suffix .el-input__icon {\r\n        color: #fff;\r\n      }\r\n    }\r\n\r\n    .select-tab__hover {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: 99;\r\n    }\r\n\r\n    .select-tab__hover:hover {\r\n      color: var(--primary-color);\r\n      border-color: var(--hightlight-color);\r\n      background-color: var(--hightlight-color);\r\n      opacity: 0.3;\r\n    }\r\n  }\r\n</style>\r\n"]}]}