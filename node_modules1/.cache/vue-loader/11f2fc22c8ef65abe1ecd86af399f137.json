{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\renderers\\tableFilters\\FilterNumberRange\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\renderers\\tableFilters\\FilterNumberRange\\index.vue","mtime":1694505521947},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6IHsNCiAgICBwYXJhbXM6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiB7fQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG1pbjogJycsIC8vIOacgOWwj+WAvA0KICAgICAgbWF4OiAnJywgLy8g5pyA5aSn5YC8DQogICAgICBvcHRpb246IG51bGwgLy8g5Lyg5YWl55qE6buY6K6k5YC8e09iamVjdH06IHtkYXRhOiB7IG1pbiwgbWF4IH19DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIHBhcmFtcyAoKSB7DQogICAgICB0aGlzLmxvYWQoKQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy5sb2FkKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGxvYWQgKCkgew0KICAgICAgY29uc3QgeyBjb2x1bW4gfSA9IHRoaXMucGFyYW1zDQogICAgICBjb25zdCBvcHRpb24gPSBjb2x1bW4uZmlsdGVyc1swXQ0KICAgICAgLy8g57uP5a6e6aqM5b+F6aG75oql5a2Y5YKo5Lyg5YWl55qEb3B0aW9u5byV55So44CC5ZCO57ut56Gu6K6k5Yi36YCJ5pe255So5q2k5byV55So5Lyg5YWlY2hhbmdlT3B0aW9uDQogICAgICB0aGlzLm9wdGlvbiA9IG9wdGlvbg0KICAgICAgdGhpcy5taW4gPSBvcHRpb24uZGF0YS5taW4NCiAgICAgIHRoaXMubWF4ID0gb3B0aW9uLmRhdGEubWF4DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDnoa7orqQNCiAgICAgKiAqLw0KICAgIGNvbmZpcm1IYW5kbGUoZXZlbnQpIHsNCiAgICAgIGNvbnN0IHsgcGFyYW1zLCBvcHRpb24sIG1pbiwgbWF4IH0gPSB0aGlzDQogICAgICBjb25zdCBbbnVtYmVyTWluLCBudW1iZXJNYXhdID0gW051bWJlcihtaW4pLCBOdW1iZXIobWF4KV0NCiAgICAgIG9wdGlvbi5kYXRhLm1pbiA9IG51bWJlck1pbg0KICAgICAgb3B0aW9uLmRhdGEubWF4ID0gbnVtYmVyTWF4DQoNCiAgICAgIGlmICghbnVtYmVyTWF4IHx8IG51bWJlck1pbiA8IDAgfHwgbnVtYmVyTWF4IDw9IDApIHsNCiAgICAgICAgTWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLA0KICAgICAgICAgIG1lc3NhZ2U6ICfor7forr7nva7lkIjnkIbnmoTljLrpl7QnLA0KICAgICAgICAgIGN1c3RvbUNsYXNzOiAnbW9kYWwtbGF5b3V0LW1lc3NhZ2UnIC8vIOiHquWumuS5ieexu+WQje+8jOWQjeiuvue9rnotaW5kZXjop6PlhrNtb2RhbOWxgue6p+imhuebluS6hm1lc3NhZ2UNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAobnVtYmVyTWF4IDw9IG51bWJlck1pbikgew0KICAgICAgICBNZXNzYWdlKHsNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgbWVzc2FnZTogJ+ivt+iuvue9ruWQiOeQhueahOacgOWkp+WAvCcsDQogICAgICAgICAgY3VzdG9tQ2xhc3M6ICdtb2RhbC1sYXlvdXQtbWVzc2FnZScgLy8g6Ieq5a6a5LmJ57G75ZCN77yM5ZCN6K6+572uei1pbmRleOino+WGs21vZGFs5bGC57qn6KaG55uW5LqGbWVzc2FnZQ0KICAgICAgICB9KQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgcGFyYW1zLiRwYW5lbC5jaGFuZ2VPcHRpb24oZXZlbnQsIHRydWUsIG9wdGlvbikNCiAgICAgIHBhcmFtcy4kcGFuZWwuY29uZmlybUZpbHRlcigpDQogICAgfSwNCiAgICAvKioNCiAgICAgKiDph43nva4NCiAgICAgKi8NCiAgICByZXNldEhhbmRsZSgpIHsNCiAgICAgIGNvbnN0IHsgcGFyYW1zLCBvcHRpb24gfSA9IHRoaXMNCiAgICAgIHBhcmFtcy4kcGFuZWwucmVzZXRGaWx0ZXIob3B0aW9uLmRhdGEpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/renderers/tableFilters/FilterNumberRange","sourcesContent":["<template>\r\n  <div class=\"filter-number-range-wrapper\" @keydown.stop>\r\n    <div class=\"filter-number-range-content\">\r\n      <el-input\r\n        v-model=\"min\"\r\n        :min=\"0\"\r\n        type=\"number\"\r\n        size=\"mini\"\r\n        placeholder=\"请输入最小值\"\r\n        style=\"margin-bottom: 10px\"\r\n      />\r\n      <el-input\r\n        v-model=\"max\"\r\n        :min=\"0\"\r\n        type=\"number\"\r\n        size=\"mini\"\r\n        placeholder=\"请输入最大值\"\r\n      />\r\n    </div>\r\n    <div class=\"filter-number-range-footer\">\r\n      <vxe-button status=\"primary\" size=\"mini\" @click=\"confirmHandle\">确认</vxe-button>\r\n      <vxe-button size=\"mini\" @click=\"resetHandle\">重置</vxe-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Message } from 'element-ui'\r\nexport default {\r\n  props: {\r\n    params: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      min: '', // 最小值\r\n      max: '', // 最大值\r\n      option: null // 传入的默认值{Object}: {data: { min, max }}\r\n    }\r\n  },\r\n  watch: {\r\n    params () {\r\n      this.load()\r\n    }\r\n  },\r\n  created () {\r\n    this.load()\r\n  },\r\n  methods: {\r\n    load () {\r\n      const { column } = this.params\r\n      const option = column.filters[0]\r\n      // 经实验必须报存储传入的option引用。后续确认刷选时用此引用传入changeOption\r\n      this.option = option\r\n      this.min = option.data.min\r\n      this.max = option.data.max\r\n    },\r\n    /**\r\n     * 确认\r\n     * */\r\n    confirmHandle(event) {\r\n      const { params, option, min, max } = this\r\n      const [numberMin, numberMax] = [Number(min), Number(max)]\r\n      option.data.min = numberMin\r\n      option.data.max = numberMax\r\n\r\n      if (!numberMax || numberMin < 0 || numberMax <= 0) {\r\n        Message({\r\n          type: 'warning',\r\n          message: '请设置合理的区间',\r\n          customClass: 'modal-layout-message' // 自定义类名，名设置z-index解决modal层级覆盖了message\r\n        })\r\n        return\r\n      }\r\n      if (numberMax <= numberMin) {\r\n        Message({\r\n          type: 'warning',\r\n          message: '请设置合理的最大值',\r\n          customClass: 'modal-layout-message' // 自定义类名，名设置z-index解决modal层级覆盖了message\r\n        })\r\n        return\r\n      }\r\n\r\n      params.$panel.changeOption(event, true, option)\r\n      params.$panel.confirmFilter()\r\n    },\r\n    /**\r\n     * 重置\r\n     */\r\n    resetHandle() {\r\n      const { params, option } = this\r\n      params.$panel.resetFilter(option.data)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.filter-number-range-wrapper {\r\n  width: 160px;\r\n  padding: 10px;\r\n}\r\n\r\n.filter-number-range-footer {\r\n  margin-top: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>\r\n"]}]}