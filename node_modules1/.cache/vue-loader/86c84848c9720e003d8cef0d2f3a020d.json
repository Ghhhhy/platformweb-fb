{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TabSelect\\TabSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TabSelect\\TabSelect.vue","mtime":1694505521458},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdUYWJTZWxlY3QnLA0KICBwcm9wczogew0KICAgIHNob3dOdW06IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4NCiAgICB9LA0KICAgIHNob3daZXJvOiB7DQogICAgICB0eXBlOiBCb29sZWFuDQogICAgfSwNCiAgICB0YWJMaXN0OiB7DQogICAgICB0eXBlOiBbQXJyYXksIE9iamVjdF0sDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIGRlZmF1bHRTZWxlY3Q6IHsNCiAgICAgIHR5cGU6IFtPYmplY3RdLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpc1JlbmRlclRhYjogZmFsc2UsDQogICAgICB0YWJMaXN0Q3A6IFtdLA0KICAgICAgdGFiTGlzdEluOiBbXSwNCiAgICAgIGN1clRhYlNlbGVjdDogeyAuLi50aGlzLmRlZmF1bHRTZWxlY3QgfSwNCiAgICAgIHNsZWN0Q3VyVmFsdWVUZW1wOiAnJw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldGJhc2ljRGF0YVR5cGUob2JqKSB7DQogICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikuc2xpY2UoOCwgLTEpDQogICAgfSwNCiAgICBpbml0KCkgew0KICAgICAgdGhpcy50YWJMaXN0Q3AgPSB0aGlzLmRlZXBDb3B5KHRoaXMudGFiTGlzdCkgLy8g5L+u5aSN5LiK6Z2i55qE5rex5bqmY29weSDmlrnms5XkuKLlpLHpl67popgNCiAgICAgIHRoaXMudGFiTGlzdEluID0gdGhpcy50YWJMaXN0Q3ANCiAgICAgIC8vIGNvbnNvbGUubG9nKCc1NScsIHRoaXMudGFiTGlzdEluLCB0aGlzLmN1clRhYlNlbGVjdCkNCiAgICB9LA0KICAgIGRlZXBDb3B5KG9iaikgew0KICAgICAgLy8g5rex5ou36LSd6YCa55So5pa55rOVDQogICAgICAvLyB2YXIgbmV3X2FyciA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXJyKSkgLy8g5LiN5LuF5Y+v5ou36LSd5pWw57uE6L+Y6IO95ou36LSd5a+56LGh77yIIOS9huS4jeiDveaLt+i0neWHveaVsO+8iQ0KICAgICAgLy8g5Y+q5ou36LSd5a+56LGhDQogICAgICBsZXQgbWUgPSB0aGlzDQogICAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gb2JqDQogICAgICAvLyDmoLnmja5vYmrnmoTnsbvlnovliKTmlq3mmK/mlrDlu7rkuIDkuKrmlbDnu4Tov5jmmK/kuIDkuKrlr7nosaENCiAgICAgIGxldCBuZXdPYmogPSBvYmogaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge30NCiAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgLy8g6YGN5Y6Gb2JqLOW5tuS4lOWIpOaWreaYr29iaueahOWxnuaAp+aJjeaLt+i0nQ0KICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHsNCiAgICAgICAgICAvLyDliKTmlq3lsZ7mgKflgLznmoTnsbvlnovvvIzlpoLmnpzmmK/lr7nosaHpgJLlvZLosIPnlKjmt7Hmi7fotJ0NCiAgICAgICAgICBuZXdPYmpba2V5XSA9DQogICAgICAgICAgICB0eXBlb2Ygb2JqW2tleV0gPT09ICdvYmplY3QnID8gbWUuZGVlcENvcHkob2JqW2tleV0pIDogb2JqW2tleV0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIG5ld09iag0KICAgIH0sDQogICAgZ2V0SW1hZ2VVcmwoKSB7DQogICAgICB0aGlzLnRhYkxpc3RJbi5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBpZiAoaXRlbS5pY29uTmFtZSkgew0KICAgICAgICAgIGl0ZW0uaWNvblVybCA9IHJlcXVpcmUoJy4vaW1nLycgKyBpdGVtLmljb25OYW1lKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvLyDliIfmjaJUYWLnmoTop6blj5ENCiAgICBvblRhYkVsQ2xpY2sob2JqKSB7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuZ2V0YmFzaWNEYXRhVHlwZSh0aGlzLmN1clRhYlNlbGVjdCkgPT09ICdPYmplY3QnICYmDQogICAgICAgIG9iai5jb2RlICE9PSB0aGlzLmN1clRhYlNlbGVjdC5jb2RlDQogICAgICApIHsNCiAgICAgICAgdGhpcy5zbGVjdEN1clZhbHVlVGVtcCA9ICcnDQogICAgICAgIHRoaXMuY3VyVGFiU2VsZWN0ID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKQ0KICAgICAgICBpZiAob2JqLnR5cGUgPT09ICdidXR0b24nKSB7DQogICAgICAgICAgdGhpcy4kZW1pdCgnb25UYWJDbGljaycsIG9iaikNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDliIfmjaJzZWxlY3TkuIvnmoRvcHRpb27op6blj5ENCiAgICBjaGFuZ2VPcHRpb24ob2JqKSB7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuZ2V0YmFzaWNEYXRhVHlwZSh0aGlzLmN1clRhYlNlbGVjdCkgPT09ICdPYmplY3QnICYmDQogICAgICAgIG9iai5jb2RlICE9PSB0aGlzLmN1clRhYlNlbGVjdC5jb2RlDQogICAgICApIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLnNsZWN0Q3VyVmFsdWVUZW1wID09PSBvYmouY3VyVmFsdWUpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGNvbnN0IGN1clRhYiA9IE9iamVjdC5hc3NpZ24oe30sIG9iaikNCiAgICAgIHRoaXMuc2xlY3RDdXJWYWx1ZVRlbXAgPSBvYmouY3VyVmFsdWUNCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp0YWJMaXN0JywgdGhpcy50YWJMaXN0SW4pDQogICAgICB0aGlzLiRlbWl0KCdvblRhYkNsaWNrJywgY3VyVGFiKQ0KICAgIH0NCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy8g5Yid5aeL5YyW5pWw5o2uDQogICAgdGhpcy5pbml0KCkNCiAgICAvLyDliqDovb3mnKzlnLDlm77niYcNCiAgICB0aGlzLmdldEltYWdlVXJsKCkNCiAgICAvLyDlvIDlp4vmuLLmn5MNCiAgICB0aGlzLmlzUmVuZGVyVGFiID0gdHJ1ZQ0KICAgIC8vIOWFqOmDqOWKoOi9veWujOaIkOWQju+8jOWmguaenOWGjeiwg+eUqOS4i+a/gOa0u+aAgXBhbmVsDQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgdGhpcy4kZW1pdCgnb25UYWJBZnRlckxvYWQnLCB0aGlzLmN1clRhYlNlbGVjdCkNCiAgICB9KQ0KICB9LA0KICB3YXRjaDogew0KICAgIHRhYkxpc3Q6IHsNCiAgICAgIGhhbmRsZXIoKSB7DQogICAgICAgIHRoaXMuaW5pdCgpDQogICAgICAgIHRoaXMuZ2V0SW1hZ2VVcmwoKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGVseTogdHJ1ZQ0KICAgIH0sDQogICAgZGVmYXVsdFNlbGVjdDogew0KICAgICAgaGFuZGxlcihuZXdWYWwpIHsNCiAgICAgICAgdGhpcy5vblRhYkVsQ2xpY2sobmV3VmFsKQ0KICAgICAgfSwNCiAgICAgIGltbWVkaWF0ZWx5OiB0cnVlDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["TabSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TabSelect.vue","sourceRoot":"src/components/TabSelect","sourcesContent":["<template>\r\n  <div class=\"tab-select__con\">\r\n    <div v-if=\"isRenderTab\" class=\"tab-select-con-list fn-inline\">\r\n      <ul>\r\n        <li\r\n          v-for=\"(item, index) in tabListIn\"\r\n          :key=\"index\"\r\n          class=\"fn-inline pointer btn-hover\"\r\n          :class=\"[curTabSelect.code === item.code ? 'active-btn' : 'no-active',item.type === 'button' ? 'button-btn' : '']\"\r\n          @click.stop=\"onTabElClick(item)\"\r\n        >\r\n          <!-- buton -->\r\n          <el-button v-if=\"item.type === 'button'\" class=\"fn-inline olh\" :title=\"item.label\">\r\n            <img :src=\"item.iconUrl\" class=\"prefix-btn-icon\">\r\n            <span>{{ showNum ? (showZero ? item.labelZero : item.labelNum) : item.label }}</span>\r\n          </el-button>\r\n\r\n          <!-- select -->\r\n          <span v-if=\"(item.type === 'select') && (curTabSelect.code !== item.code)\" class=\"select-tab__hover\"></span>\r\n          <el-select v-if=\"item.type === 'select'\" v-model=\"item.curValue\" placeholder=\"请选择\" class=\"fn-inline olh\" :change=\"changeOption(item)\">\r\n            <el-option\r\n              v-for=\"(option, idx) in item.options\"\r\n              :key=\"idx\"\r\n              :value=\"option.code\"\r\n              :label=\" (showNum ? (showZero ? option.labelZero : option.labelNum) : `${item.label} - ${option.label}`)\"\r\n            />\r\n            <template v-slot:prefix>\r\n              <img :src=\"item.iconUrl\" class=\"prefix-btn-icon\">\r\n            </template>\r\n          </el-select>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TabSelect',\r\n  props: {\r\n    showNum: {\r\n      type: Boolean\r\n    },\r\n    showZero: {\r\n      type: Boolean\r\n    },\r\n    tabList: {\r\n      type: [Array, Object],\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    defaultSelect: {\r\n      type: [Object],\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isRenderTab: false,\r\n      tabListCp: [],\r\n      tabListIn: [],\r\n      curTabSelect: { ...this.defaultSelect },\r\n      slectCurValueTemp: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getbasicDataType(obj) {\r\n      return Object.prototype.toString.call(obj).slice(8, -1)\r\n    },\r\n    init() {\r\n      this.tabListCp = this.deepCopy(this.tabList) // 修复上面的深度copy 方法丢失问题\r\n      this.tabListIn = this.tabListCp\r\n      // console.log('55', this.tabListIn, this.curTabSelect)\r\n    },\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      // var new_arr = JSON.parse(JSON.stringify(arr)) // 不仅可拷贝数组还能拷贝对象（ 但不能拷贝函数）\r\n      // 只拷贝对象\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      // 根据obj的类型判断是新建一个数组还是一个对象\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        // 遍历obj,并且判断是obj的属性才拷贝\r\n        if (obj.hasOwnProperty(key)) {\r\n          // 判断属性值的类型，如果是对象递归调用深拷贝\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    getImageUrl() {\r\n      this.tabListIn.forEach(item => {\r\n        if (item.iconName) {\r\n          item.iconUrl = require('./img/' + item.iconName)\r\n        }\r\n      })\r\n    },\r\n\r\n    // 切换Tab的触发\r\n    onTabElClick(obj) {\r\n      if (\r\n        this.getbasicDataType(this.curTabSelect) === 'Object' &&\r\n        obj.code !== this.curTabSelect.code\r\n      ) {\r\n        this.slectCurValueTemp = ''\r\n        this.curTabSelect = Object.assign({}, obj)\r\n        if (obj.type === 'button') {\r\n          this.$emit('onTabClick', obj)\r\n        }\r\n      }\r\n    },\r\n\r\n    // 切换select下的option触发\r\n    changeOption(obj) {\r\n      if (\r\n        this.getbasicDataType(this.curTabSelect) === 'Object' &&\r\n        obj.code !== this.curTabSelect.code\r\n      ) {\r\n        return\r\n      }\r\n\r\n      if (this.slectCurValueTemp === obj.curValue) {\r\n        return\r\n      }\r\n\r\n      const curTab = Object.assign({}, obj)\r\n      this.slectCurValueTemp = obj.curValue\r\n      this.$emit('update:tabList', this.tabListIn)\r\n      this.$emit('onTabClick', curTab)\r\n    }\r\n  },\r\n\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    // 初始化数据\r\n    this.init()\r\n    // 加载本地图片\r\n    this.getImageUrl()\r\n    // 开始渲染\r\n    this.isRenderTab = true\r\n    // 全部加载完成后，如果再调用下激活态panel\r\n    this.$nextTick(() => {\r\n      this.$emit('onTabAfterLoad', this.curTabSelect)\r\n    })\r\n  },\r\n  watch: {\r\n    tabList: {\r\n      handler() {\r\n        this.init()\r\n        this.getImageUrl()\r\n      },\r\n      deep: true,\r\n      immediately: true\r\n    },\r\n    defaultSelect: {\r\n      handler(newVal) {\r\n        this.onTabElClick(newVal)\r\n      },\r\n      immediately: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style  lang=\"scss\">\r\n  .tab-select-con-list{\r\n    font-size: 0;\r\n    li{\r\n      position: relative;\r\n    }\r\n    .btn-icon{\r\n      color: #2A8BFD;\r\n      font-size: 20px;\r\n      margin-top: -1px;\r\n      margin-right: 4px;\r\n    }\r\n    .prefix-btn-icon{\r\n      width: 18px;\r\n      height: 18px;\r\n      vertical-align: middle;\r\n      margin-top: -2px;\r\n    }\r\n    button{\r\n      color: #2E3133;\r\n      letter-spacing: 0;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      padding: 12px 24px;\r\n      box-sizing: border-box;\r\n      height: 48px;\r\n      border-radius: unset;\r\n      max-width: 300px;\r\n      border-top: solid 5px #fff\r\n    }\r\n    .el-input__prefix{\r\n      left: 24px;\r\n      height: 48px;\r\n      line-height: 48px;\r\n    }\r\n    .el-input__suffix{\r\n      right: 15px;\r\n    }\r\n    .el-input--suffix .el-input__inner{\r\n      height: 48px;\r\n      line-height: 48px;\r\n      padding-left: 48px;\r\n      padding-right: 40px;\r\n      font-size: 14px;\r\n      border-radius: unset;\r\n      color: var(--primary-color);\r\n\r\n    }\r\n    .el-select .el-input .el-select__caret{\r\n      color: var(--primary-color);\r\n    }\r\n    .el-button:active,  .el-button:focus{\r\n        color: #2E3133;\r\n        background-color: #fff;\r\n    }\r\n    .el-input__inner:active,  .el-input__inner:focus{\r\n        color: #2E3133;\r\n        background-color: #fff;\r\n        border-color: #DCDFE6;\r\n    }\r\n    .select-tab__hover:hover {\r\n        color: var(--primary-color);\r\n        border-color: var(--hightlight-color);\r\n        background-color: var(--hightlight-color);\r\n        opacity: 0.3;\r\n    }\r\n    .button-btn:hover{\r\n      color: var(--primary-color);\r\n      border-color: #c6e2ff;\r\n      background-color: #ecf5ff;\r\n    }\r\n\r\n    .no-active{\r\n      .el-input__inner{\r\n        border: unset;\r\n        border-bottom: solid 1px #DCDFE6;\r\n        color: #606266;\r\n      }\r\n      .el-select__caret{\r\n        color: #606266 !important;\r\n      }\r\n      button{\r\n        border-left: unset;\r\n        border-right: unset;\r\n        border-bottom: solid 1px #DCDFE6;\r\n      }\r\n    }\r\n    .el-button:hover{\r\n      border-color: #ecf5ff;\r\n    }\r\n    .el-button:active,  .el-button:focus{\r\n      border-color: var(--primary-color);\r\n      border-left-color: #DCDFE6;\r\n      border-right-color: #DCDFE6;\r\n      color: var(--primary-color);\r\n    }\r\n    .el-input__inner:active,  .el-input__inner:focus{\r\n      border-left-color: #DCDFE6;\r\n      border-right-color: #DCDFE6;\r\n    }\r\n    .active-btn{\r\n      .el-input__inner{\r\n        border: unset;\r\n        border-left: solid 1px #DCDFE6;\r\n        border-right: solid 1px #DCDFE6;\r\n        border-top: solid 5px var(--primary-color);\r\n        border-top-left-radius: 6px ;\r\n        border-top-right-radius: 6px;\r\n        padding-bottom: 6px;\r\n      }\r\n      button{\r\n        border: unset;\r\n        border-left: solid 1px #DCDFE6;\r\n        border-right: solid 1px #DCDFE6;\r\n        border-top: solid 5px var(--primary-color);\r\n        border-top-left-radius: 6px;\r\n        border-top-right-radius: 6px;\r\n\r\n      }\r\n\r\n    }\r\n    .select-tab__hover{\r\n      position:absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: 99;\r\n    }\r\n  }\r\n\r\n</style>\r\n"]}]}