{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\dynamicTableSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\dynamicTableSetting.vue","mtime":1695716045292},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVGFibGVDb25mTW9kYWwgZnJvbSAnLi90YWJsZUNvbmZNb2RhbC52dWUnDQppbXBvcnQgRm9ybUNvbmZNb2RhbCBmcm9tICcuL0Zvcm1Db25mTW9kYWwudnVlJw0KaW1wb3J0IEVudGVyaW5nRGVmYXVsdCBmcm9tICcuL2VudGVyaW5nRGVmYXVsdC52dWUnDQppbXBvcnQgZ2V0Rm9ybUNvbmZEYXRhIGZyb20gJy4vZm9ybUNvbmYuanMnDQppbXBvcnQgU3ViVGFiQ29uZmlnTW9kYWwgZnJvbSAnLi9TdWJUYWJDb25maWdNb2RhbC52dWUnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICcnLA0KICBjb21wb25lbnRzOiB7DQogICAgVGFibGVDb25mTW9kYWwsDQogICAgRm9ybUNvbmZNb2RhbCwNCiAgICBFbnRlcmluZ0RlZmF1bHQsDQogICAgU3ViVGFiQ29uZmlnTW9kYWwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBhbGxQcm9wRGF0YTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtZW51Z3VpZHM6IFtdLA0KICAgICAgY3VyQ29uZlR5cGU6ICd0YWJsZScsDQogICAgICBsZWZ0VmlzaWJsZTogdHJ1ZSwNCiAgICAgIGxlZnRUcmVlRGF0YTogW10sDQogICAgICBjdXJTcGxpdFBhbmVMZWZ0V2lkdGg6IDIwLA0KICAgICAgaXNTaG93UXVlcnlDb25kaXRpb25zOiBmYWxzZSwNCiAgICAgIHNlcnZlclVyaTogJ21wLWItcGVybS1zZXJ2aWNlL3YxL3RhYmxlY29uZi9tZW51Z3VpZCcsDQogICAgICB0cmVlUXVlcnlwYXJhbXM6IHsNCiAgICAgICAgbWVudWd1aWQ6ICd0ZXN0XzEyMzQ1NicsDQogICAgICAgIHVzZVJpZ2h0OiBmYWxzZSwNCiAgICAgICAgYmF0Y2hubzogMiwNCiAgICAgICAgZGF0YXR5cGU6IDUsDQogICAgICAgIGVsZUNvZGU6ICdERVBCR1RFQ08nLA0KICAgICAgICBzeHNwZWNyb2xlZ3VpZDogJzYzN0I2RDVBODIzRjQ1OUFCMzEzQ0JGOTRDODc3NjVCJw0KICAgICAgfSwNCiAgICAgIHRyZWVsZWZ0VHJlZUNvbmZpZzogew0KICAgICAgICBpbnB1dFZhbDogJycNCiAgICAgIH0sDQogICAgICB0cmVlQ29uZmlnOiB7DQogICAgICAgIGN1clJhZGlvOiAnemYnLA0KICAgICAgICByYWRpb0dyb3VwOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgY29kZTogJ3pmJywNCiAgICAgICAgICAgIGxhYmVsOiAn5pS/5bqc6YOo6Zeo5qCRJw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgY29kZTogJ3h1ZXhpYW8nLA0KICAgICAgICAgICAgbGFiZWw6ICflrabmoKHmoJEnDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBjb2RlOiAnamlnb3UnLA0KICAgICAgICAgICAgbGFiZWw6ICfmnLrmnoTmoJEnDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgbGVmdFRyZWVDb25maWc6IHsNCiAgICAgICAgaW5wdXRWYWw6ICcnDQogICAgICB9LA0KICAgICAgcGFnZXJDb25maWc6IHsNCiAgICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICAgIHRvdGFsOiAxMDANCiAgICAgIH0sDQogICAgICBjdXJUYWJsZUNvbmZEYXRhczogW10sDQogICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgIGN1clRhYmxlQ29uZkRhdGFzTWFwQXJyOiBbDQogICAgICAgIC8vIHsNCiAgICAgICAgLy8gICB0YWJsZU5hbWU6ICcxJywNCiAgICAgICAgLy8gICBidXNpbmVzc1RhYmxlTmFtZTogJzEnLA0KICAgICAgICAvLyAgIHRhYmxlTm90ZTogJzEnLA0KICAgICAgICAvLyAgIG1lYXN1cmluZ1VuaXQ6IDEsDQogICAgICAgIC8vICAgdmlld09yZGVyOiAnMDAxJywNCiAgICAgICAgLy8gICBlZGl0YWJsZUJhdGNoOiAnMDAxJywNCiAgICAgICAgLy8gICB0YWJsZVR5cGU6ICcwMDEnLA0KICAgICAgICAvLyAgIG5vdGU6ICcxJywNCiAgICAgICAgLy8gICBhdXRvQnVpbHRUYWJsZXM6IGZhbHNlLA0KICAgICAgICAvLyAgIGVkaXRibGU6IHRydWUsDQogICAgICAgIC8vICAgc2hvd0NoZWNrYm94OiB0cnVlLA0KICAgICAgICAvLyAgIGNhblVzZTogdHJ1ZSwNCiAgICAgICAgLy8gICBhU2luZ2xlVGFibGU6IGZhbHNlLA0KICAgICAgICAvLyAgIGJhdGNoTW9kaWZ5OiBmYWxzZSwNCiAgICAgICAgLy8gICByb3dDb25maWc6IGZhbHNlLA0KICAgICAgICAvLyAgIG5vUmVjb3JkSXNBbGxvd2VkVG9SZXBvcnQ6IHRydWUsDQogICAgICAgIC8vICAgc3VidG90YWxSb3dzOiB0cnVlDQogICAgICAgIC8vIH0NCiAgICAgIF0sDQogICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcDoge30sDQogICAgICBnbG9ibGVDb25maWdDcDogew0KICAgICAgICB0YWJsZU5hbWU6ICcnLA0KICAgICAgICBidXNpbmVzc1RhYmxlTmFtZTogJycsDQogICAgICAgIHRhYmxlTm90ZTogJycsDQogICAgICAgIG1lYXN1cmluZ1VuaXQ6ICcnLA0KICAgICAgICB2aWV3T3JkZXI6ICcnLA0KICAgICAgICBlZGl0YWJsZUJhdGNoOiAnJywNCiAgICAgICAgdGFibGVUeXBlOiAnJywNCiAgICAgICAgbm90ZTogJycsDQogICAgICAgIGF1dG9CdWlsdFRhYmxlczogZmFsc2UsDQogICAgICAgIGVkaXRibGU6IHRydWUsDQogICAgICAgIHNob3dDaGVja2JveDogdHJ1ZSwNCiAgICAgICAgY2FuVXNlOiB0cnVlLA0KICAgICAgICBhU2luZ2xlVGFibGU6IGZhbHNlLA0KICAgICAgICBiYXRjaE1vZGlmeTogZmFsc2UsDQogICAgICAgIHJvd0NvbmZpZzogZmFsc2UsDQogICAgICAgIG5vUmVjb3JkSXNBbGxvd2VkVG9SZXBvcnQ6IHRydWUsDQogICAgICAgIHN1YnRvdGFsUm93czogdHJ1ZQ0KICAgICAgfSwNCiAgICAgIHRvb2xiYXJDb25maWc6IHsNCiAgICAgICAgZGlzYWJsZWRNb25leUNvbnZlcnNpb246IGZhbHNlLA0KICAgICAgICAuLi5nZXRGb3JtQ29uZkRhdGEoJ3RhYmxlSW5mb3JDb25mJywgJ3Rvb2xiYXJDb25maWcnKQ0KICAgICAgfSwNCiAgICAgIHRhYmxlQ29uZmlnOiBnZXRGb3JtQ29uZkRhdGEoJ3RhYmxlSW5mb3JDb25mJywgJ3RhYmxlQ29uZmlnJyksDQogICAgICB0YWJsZUNvbHVtbnNDb25maWc6IGdldEZvcm1Db25mRGF0YSgNCiAgICAgICAgJ3RhYmxlSW5mb3JDb25mJywNCiAgICAgICAgJ3RhYmxlQ29sdW1uc0NvbmZpZycNCiAgICAgICksDQogICAgICB0YWJsZUNvbmZNb2RhbFZpc2libGU6IGZhbHNlLA0KICAgICAgZm9ybUNvbmZNb2RhbFZpc2libGU6IGZhbHNlLA0KICAgICAgZW50ZXJpbmdEZWZhdWx0VmlzaWJsZTogZmFsc2UsDQogICAgICBjdXJMZWZ0VHJlZUNsaWNrTm9kZToge30sDQogICAgICBlbnRlcmluZ0RlZmF1bHRGbGFnOiBmYWxzZSwNCiAgICAgIFN1YlRhYkNvbmZpZ1Zpc2libGU6IGZhbHNlDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGN1ck5hdk1vZHVsZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUNCiAgICB9LA0KICAgIHVzZXJJbmZvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZGVlcENvcHkob2JqKSB7DQogICAgICAvLyDmt7Hmi7fotJ3pgJrnlKjmlrnms5UNCiAgICAgIGxldCBtZSA9IHRoaXMNCiAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHJldHVybiBvYmoNCiAgICAgIGxldCBuZXdPYmogPSBvYmogaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge30NCiAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgbmV3T2JqW2tleV0gPQ0KICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JyA/IG1lLmRlZXBDb3B5KG9ialtrZXldKSA6IG9ialtrZXldDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBuZXdPYmoNCiAgICB9LA0KICAgIGpzb25TdHJpbmdpZnkoY29sdW1ucykgew0KICAgICAgLy8g5a+56LGh6L2s5o2i5oiQanNvbuWtl+espuS4sg0KICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGNvbHVtbnMsIGZ1bmN0aW9uIChrZXksIHZhbCkgew0KICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgIHJldHVybiB2YWwgKyAnJw0KICAgICAgICB9DQogICAgICAgIHJldHVybiB2YWwNCiAgICAgIH0pDQogICAgfSwNCiAgICBqc29uUGFyc2Uoc3RyKSB7DQogICAgICAvLyBqc29u5a2X56ym5Liy6L2s5o2i5oiQ5a+56LGhDQogICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIsIGZ1bmN0aW9uIChrLCB2KSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgdi5pbmRleE9mICYmDQogICAgICAgICAgICAodi5pbmRleE9mKCdmdW5jdGlvbicpID4gLTEgfHwgdi5pbmRleE9mKCc9PicpID4gLTEpDQogICAgICAgICAgKSB7DQogICAgICAgICAgICAvLyByZXR1cm4gZXZhbCgnKGZ1bmN0aW9uKCl7cmV0dXJuICcgKyB2ICsgJyB9KSgpJykNCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYw0KICAgICAgICAgICAgbGV0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ3JldHVybiAnICsgdikNCiAgICAgICAgICAgIHJldHVybiBmdW5jKCkNCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuIHYNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgIHJldHVybiB2DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBjaGFuZ2VJbnB1dCh2YWwpIHsNCiAgICAgIHRoaXMuJHJlZnMudGVzdFRyZWUuZmlsdGVyVGV4dCA9IHZhbA0KICAgIH0sDQogICAgY29uZnJpbURhdGEoY3VyVHJlZSkgew0KICAgICAgdGhpcy5jb25mcmltRGF0YS5jdXJSYWRpbyA9IGN1clRyZWUuY29kZQ0KICAgICAgc3dpdGNoIChjdXJUcmVlLmNvZGUpIHsNCiAgICAgICAgY2FzZSAnemYnOg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ3h1ZXhpYW8nOg0KICAgICAgICAgIHRoaXMudGFiU3RhdHVzTnVtQ29uZmlnWyd5Y2wnXSA9IDEyDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnamlnb3UnOg0KICAgICAgICAgIGJyZWFrDQogICAgICB9DQogICAgfSwNCiAgICBvblNwbGl0UGFuZVJlc2l6ZShsZWZ0V2lkdGgpIHsNCiAgICAgIGlmIChsZWZ0V2lkdGggPiAxKSB7DQogICAgICAgIHRoaXMuY3VyU3BsaXRQYW5lTGVmdFdpZHRoID0gbGVmdFdpZHRoDQogICAgICAgIHRoaXMubGVmdFZpc2libGUgPSB0cnVlDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmxlZnRWaXNpYmxlID0gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KICAgIGFqYXhEYXRhKHsgY3VycmVudFBhZ2UsIHBhZ2VTaXplIH0pIHsNCiAgICAgIHRoaXMucGFnZXJDb25maWcuY3VycmVudFBhZ2UgPSBjdXJyZW50UGFnZQ0KICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IE9iamVjdC5hc3NpZ24odGhpcy5xdWVyeVBhcmFtcywgew0KICAgICAgICBjdXJyZW50UGFnZSwNCiAgICAgICAgcGFnZVNpemUNCiAgICAgIH0pDQogICAgICB0aGlzLmdldFRhYmxlRGF0YXMoY3VycmVudFBhZ2UsIHBhZ2VTaXplKQ0KICAgIH0sDQogICAgZ2V0VGFibGVEYXRhcyhjdXJyZW50UGFnZSwgcGFnZVNpemUpIHsNCiAgICAgIC8vIOacjeWKoeerr+afpeivouaVsOaNrg0KICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWUNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgdGhpcy4kaHR0cC5wb3N0KCd1cmwnLCB0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICBzZWxmLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmxpc3QNCiAgICAgICAgICBzZWxmLnBhZ2VyQ29uZmlnID0gew0KICAgICAgICAgICAgdG90YWw6IHJlcy5kYXRhLnRvdGFsLA0KICAgICAgICAgICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgdHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoY29sdW1ucykgew0KICAgICAgLy8gY29sdW1uc+i9rOWMluS4unZ4ZS10YWJsZSBjb2x1bW5z5pWw5o2u57uT5p6EDQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIGNvbHVtbnMuZm9yRWFjaCgoY29sdW1uLCBjb2x1bW5JbmRleCkgPT4gew0KICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb2x1bW4uY2hpbGRyZW4pICYmIGNvbHVtbi5jaGlsZHJlbi5sZW5ndGgpIHsNCiAgICAgICAgICBjb2x1bW4uY2hpbGRyZW4gPSBzZWxmLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0KGNvbHVtbi5jaGlsZHJlbikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb2x1bW5bY29sdW1uLnJlbmRlclR5cGVdID0gew0KICAgICAgICAgICAgbmFtZTogY29sdW1uLnJlbmRlck5hbWUsIC8vIOa4suafk+WZqOWQjSwNCiAgICAgICAgICAgIG9wdGlvbnM6ICgocGFyYW1zKSA9PiB7DQogICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnb2JqZWN0Jykgew0KICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmRlZXBDb3B5KHBhcmFtcykNCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJykgew0KICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXMNCiAgICAgICAgICAgICAgICAgID8gcGFyYW1zLnNwbGl0KCcrJykubWFwKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnNwbGl0KCcjJylbMF0sDQogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0uc3BsaXQoJyMnKVsxXQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgOiBbXQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXMNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkoY29sdW1uLm9wdGlvbnMpLCAvLyDkuIvmi4nmlbDmja7mupANCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogY29sdW1uLmRlZmF1bHRWYWx1ZSwgLy8g6buY6K6k5YC8DQogICAgICAgICAgICBwcm9wczogY29sdW1uLnByb3BzIC8vIOmineWkluWPguaVsA0KICAgICAgICAgIH0NCiAgICAgICAgICBkZWxldGUgY29sdW1uLl9YSUQNCiAgICAgICAgICBkZWxldGUgY29sdW1uLnJlbmRlclR5cGUNCiAgICAgICAgICBkZWxldGUgY29sdW1uLnJlbmRlck5hbWUNCiAgICAgICAgICBkZWxldGUgY29sdW1uLm9wdGlvbnMNCiAgICAgICAgICBkZWxldGUgY29sdW1uLnByb3BzDQogICAgICAgICAgZGVsZXRlIGNvbHVtbi5kZWZhdWx0VmFsdWUNCiAgICAgICAgICBkZWxldGUgc2VsZi5kZWVwQ29weShjb2x1bW4ucHJvcHMpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXR1cm4gY29sdW1ucw0KICAgIH0sDQogICAgdHJhbnNmb3JtQ29ubHVtc0RhdGFUb1NpbmdsZShjb2x1bW5zKSB7DQogICAgICAvLyB2eGUtdGFibGUgY29sdW1uc+aVsOaNrue7k+aehOi9rOWMluS4uuWNleWxgmNvbHVtbnMNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgY29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGNvbHVtbkluZGV4KSA9PiB7DQogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5jaGlsZHJlbikgJiYgY29sdW1uLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IHNlbGYudHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoY29sdW1uLmNoaWxkcmVuKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGlmIChjb2x1bW4uaGFzT3duUHJvcGVydHkoJ2VkaXRSZW5kZXInKSkgew0KICAgICAgICAgICAgY29sdW1uLnJlbmRlclR5cGUgPSAnZWRpdFJlbmRlcicNCiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJOYW1lID0gY29sdW1uLmVkaXRSZW5kZXIubmFtZQ0KICAgICAgICAgICAgY29sdW1uID0gT2JqZWN0LmFzc2lnbihjb2x1bW4sIHNlbGYuZGVlcENvcHkoY29sdW1uLmVkaXRSZW5kZXIpKQ0KICAgICAgICAgICAgZGVsZXRlIGNvbHVtbi5lZGl0UmVuZGVyDQogICAgICAgICAgfSBlbHNlIGlmIChjb2x1bW4uaGFzT3duUHJvcGVydHkoJ2NlbGxSZW5kZXInKSkgew0KICAgICAgICAgICAgY29sdW1uLnJlbmRlclR5cGUgPSAnY2VsbFJlbmRlcicNCiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJOYW1lID0gY29sdW1uLmNlbGxSZW5kZXIubmFtZQ0KICAgICAgICAgICAgY29sdW1uID0gT2JqZWN0LmFzc2lnbihjb2x1bW4sIHNlbGYuZGVlcENvcHkoY29sdW1uLmNlbGxSZW5kZXIpKQ0KICAgICAgICAgIH0gZWxzZSBpZiAoY29sdW1uLmhhc093blByb3BlcnR5KCdpdGVtUmVuZGVyJykpIHsNCiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJUeXBlID0gJ2l0ZW1SZW5kZXInDQogICAgICAgICAgICBjb2x1bW4ucmVuZGVyTmFtZSA9IGNvbHVtbi5pdGVtUmVuZGVyLm5hbWUNCiAgICAgICAgICAgIGNvbHVtbiA9IE9iamVjdC5hc3NpZ24oY29sdW1uLCBzZWxmLmRlZXBDb3B5KGNvbHVtbi5pdGVtUmVuZGVyKSkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAoWyckc2VsZWN0JywgJyR2eGVTZWxlY3QnLCAnJHZ4ZUZvcm1TZWxlY3QnLCAnJHZ4ZVN3aXRjaCcsICckdnhlUmFkaW8nLCAnJHZ4ZVN3aXRjaCcsICckdnhlQ2hlY2tib3gnXS5pbmRleE9mKGNvbHVtbi5yZW5kZXJOYW1lKSA+PSAwKSB7DQogICAgICAgICAgICBjb2x1bW4ub3B0aW9ucyA9IGNvbHVtbi5vcHRpb25zDQogICAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgKyAnIycgKyBpdGVtLmxhYmVsDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC5qb2luKCcrJykNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXR1cm4gY29sdW1ucw0KICAgIH0sDQogICAgdHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoaXRlbXMpIHsNCiAgICAgIC8vIHZ4ZS10YWJsZSBpdGVtc+aVsOaNrue7k+aehOi9rOWMluS4uuWNleWxgml0ZW1zDQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGl0ZW1JbmRleCkgPT4gew0KICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLmNoaWxkcmVuKSAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICAgIGl0ZW0uY2hpbGRyZW4gPSBzZWxmLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0KGl0ZW0uY2hpbGRyZW4pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2l0ZW1SZW5kZXInKSkgew0KICAgICAgICAgICAgaXRlbS5yZW5kZXJUeXBlID0gJ2l0ZW1SZW5kZXInDQogICAgICAgICAgICBpdGVtLnJlbmRlck5hbWUgPSBpdGVtLml0ZW1SZW5kZXIubmFtZQ0KICAgICAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oaXRlbSwgc2VsZi5kZWVwQ29weShpdGVtLml0ZW1SZW5kZXIpKQ0KICAgICAgICAgICAgZGVsZXRlIGl0ZW0uaXRlbVJlbmRlcg0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAoWyckc2VsZWN0JywgJyR2eGVTZWxlY3QnLCAnJHZ4ZUZvcm1SYWRpbycsICckdnhlRm9ybVNlbGVjdCcsICckdnhlU3dpdGNoJywgJyR2eGVSYWRpbycsICckdnhlU3dpdGNoJywgJyR2eGVDaGVja2JveCcsICckdnhlRm9ybUNoZWNrYm94J10uaW5kZXhPZihpdGVtLnJlbmRlck5hbWUpID49IDApIHsNCiAgICAgICAgICAgIGl0ZW0ub3B0aW9ucyA9IEFycmF5LmlzQXJyYXkoaXRlbS5vcHRpb25zKSA/IGl0ZW0ub3B0aW9ucw0KICAgICAgICAgICAgICAubWFwKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlICsgJyMnICsgaXRlbS5sYWJlbA0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAuam9pbignKycpIDogaXRlbS5vcHRpb25zDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIGl0ZW1zDQogICAgfSwNCiAgICBnZXRUYWJsZUNvbmZCeU1lbnVndWlkKG1lbnVndWlkKSB7DQogICAgICAvLyDmoLnmja7oj5zljZVtZW51Z3VpZOiOt+WPluWFtuS4i+aJgOacieihqOmFjee9rg0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICBzZWxmLiRodHRwDQogICAgICAgICAgLmdldCgnbXAtYi1wZXJtLXNlcnZpY2UvdjEvdGFibGVjb25mL21lbnVndWlkJywgew0KICAgICAgICAgICAgbWVudWd1aWQ6IG1lbnVndWlkLA0KICAgICAgICAgICAgbW9mX2Rpdl9jb2RlOiBzZWxmLnVzZXJJbmZvLnByb3ZpbmNlLCAvLyDljLrliJINCiAgICAgICAgICAgIGZpc2NhbHllYXI6IHNlbGYudXNlckluZm8ueWVhciAvLyDlubTku70NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKQ0KICAgICAgICAgICAgICAvLyByZXNvbHZlKHNlbGYuZ2VuZXJhdGVDdXJUYWJsZUNvbmZEYXRhTWFwKHJlcy5kYXRhKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIHJlamVjdChlcnJvcikNCiAgICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdlbmVyYXRlQ3VyVGFibGVDb25mRGF0YU1hcChjdXJNZW51Q29uZnMpIHsNCiAgICAgIC8vIOeUn+aIkOW9k+WJjW1lbnXkuIvooajmoLzmlbDmja7mmKDlsIQNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgbGV0IHJlc3VsdE9iaiA9IHt9DQogICAgICBsZXQgY3VyVGFibGVDb25mRGF0YXNNYXAgPSB7fQ0KICAgICAgbGV0IGN1clRhYmxlQ29uZkRhdGFzTWFwQXJyID0gW10NCiAgICAgIHJlc3VsdE9iai5jdXJUYWJsZUNvbmZEYXRhcyA9IGN1ck1lbnVDb25mcw0KICAgICAgY3VyTWVudUNvbmZzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgIGxldCB7IGl0ZW1zQ29uZmlnLCBnbG9iYWxDb25maWcsIGZvcm1Db25maWcgfSA9IHNlbGYuanNvblBhcnNlKA0KICAgICAgICAgIGl0ZW0uY29uZmlndXJlDQogICAgICAgICkNCiAgICAgICAgZ2xvYmFsQ29uZmlnID0gZ2xvYmFsQ29uZmlnIHx8IHt9DQogICAgICAgIGl0ZW1zQ29uZmlnID0gaXRlbXNDb25maWcgfHwgW10NCiAgICAgICAgZm9ybUNvbmZpZyA9IGZvcm1Db25maWcgfHwgW10NCiAgICAgICAgbGV0IGdsb2JhbENvbmZpZ0NwID0gT2JqZWN0LmFzc2lnbigNCiAgICAgICAgICB7DQogICAgICAgICAgICB0YWJsZW5hbWU6ICcnLA0KICAgICAgICAgICAgYnVzaW5lc3NUYWJsZU5hbWU6ICcnLA0KICAgICAgICAgICAgdGFibGVOb3RlOiAnJywNCiAgICAgICAgICAgIG1lYXN1cmluZ1VuaXQ6ICcnLA0KICAgICAgICAgICAgdmlld09yZGVyOiAnJywNCiAgICAgICAgICAgIGVkaXRhYmxlQmF0Y2g6ICcnLA0KICAgICAgICAgICAgdGFibGVUeXBlOiAnJywNCiAgICAgICAgICAgIG5vdGU6ICcnLA0KICAgICAgICAgICAgYXV0b0J1aWx0VGFibGVzOiAnJywNCiAgICAgICAgICAgIGVkaXRibGU6ICcnLA0KICAgICAgICAgICAgc2hvd0NoZWNrYm94OiAnJywNCiAgICAgICAgICAgIGNhblVzZTogJycsDQogICAgICAgICAgICBhU2luZ2xlVGFibGU6ICcnLA0KICAgICAgICAgICAgYmF0Y2hNb2RpZnk6ICcnLA0KICAgICAgICAgICAgcm93Q29uZmlnOiAnJywNCiAgICAgICAgICAgIG5vUmVjb3JkSXNBbGxvd2VkVG9SZXBvcnQ6ICcnLA0KICAgICAgICAgICAgc3VidG90YWxSb3dzOiAnJw0KICAgICAgICAgIH0sDQogICAgICAgICAgZ2xvYmFsQ29uZmlnLA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIC8vIHRhYmxlbmFtZTogaXRlbS50YWJsZW5hbWUsDQogICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsDQogICAgICAgICAgICB1cGRhdGV0aW1lOiBpdGVtLnVwZGF0ZXRpbWUsDQogICAgICAgICAgICBtZW51bmFtZTogdGhpcy5jdXJMZWZ0VHJlZUNsaWNrTm9kZS5uYW1lLA0KICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsDQogICAgICAgICAgICBtZW51Z3VpZDogaXRlbS5tZW51Z3VpZA0KICAgICAgICAgIH0NCiAgICAgICAgKQ0KICAgICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcEFyci5wdXNoKGdsb2JhbENvbmZpZ0NwKQ0KICAgICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcFtpdGVtLmlkXSA9IHsNCiAgICAgICAgICBpdGVtc0NvbmZpZzogc2VsZi50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKSwNCiAgICAgICAgICBmb3JtQ29uZmlnOiBzZWxmLnRyYW5zZm9ybUl0ZW1zRGF0YVRvU2luZ2xlKGZvcm1Db25maWcpLA0KICAgICAgICAgIGlkOiBpdGVtLmlkLA0KICAgICAgICAgIGdsb2JhbENvbmZpZzogZ2xvYmFsQ29uZmlnQ3AsDQogICAgICAgICAgbWVudWd1aWQ6IGl0ZW0ubWVudWd1aWQsDQogICAgICAgICAgdHlwZTogaXRlbS50eXBlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXN1bHRPYmouY3VyVGFibGVDb25mRGF0YXNNYXBBcnIgPSBjdXJUYWJsZUNvbmZEYXRhc01hcEFycg0KICAgICAgcmVzdWx0T2JqLmN1clRhYmxlQ29uZkRhdGFzTWFwID0gY3VyVGFibGVDb25mRGF0YXNNYXANCiAgICAgIHJldHVybiByZXN1bHRPYmoNCiAgICB9LA0KICAgIHNldExlZnRNZW51VHJlZSgpIHsNCiAgICAgIC8vIOWKoOi9veW3puS+p+agkQ0KICAgICAgdGhpcy5sZWZ0VHJlZURhdGEgPSBbXS5jb25jYXQodGhpcy4kc3RvcmUuc3RhdGUuc3lzdGVtTWVudSkNCiAgICB9LA0KICAgIG9uTGVmdFRyZWVOb2RlQ2xpY2sobm9kZSwgbGVmdFRyZWUpIHsNCiAgICAgIC8vIOW3puS+p+agkeeCueWHu+S6i+S7tg0KICAgICAgaWYgKCEoQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCkpIHsNCiAgICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICAgIHRoaXMuY3VyTGVmdFRyZWVDbGlja05vZGUgPSBub2RlDQogICAgICAgIHRoaXMuZ2V0VGFibGVDb25mQnlNZW51Z3VpZChub2RlLmd1aWQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHNlbGYuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogYOW9k+WJjeiPnOWNleaVsOaNruafpeivouaIkOWKnyzlhbHorqEoJHtyZXMubGVuZ3RofeadoSlgLA0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgfSkNCiAgICAgICAgICBzZWxmLmN1clRhYmxlQ29uZkRhdGFzTWFwQXJyID0gcmVzDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICByZWZyZXNoVGFibGUoKSB7DQogICAgICAvLyDliLfmlrDooajmoLwNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgdGhpcy5nZXRUYWJsZUNvbmZCeU1lbnVndWlkKHRoaXMuY3VyTGVmdFRyZWVDbGlja05vZGUuZ3VpZCkudGhlbigNCiAgICAgICAgKHJlcykgPT4gew0KICAgICAgICAgIHNlbGYuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+W9k+WJjeiPnOWNleaVsOaNruW3suWIt+aWsCcsDQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHNlbGYuY3VyVGFibGVDb25mRGF0YXNNYXBBcnIgPSByZXMNCiAgICAgICAgICBzZWxmLiRyZWZzLmJzVGFibGVSZWYNCiAgICAgICAgICAgIC50YWJsZU9wdGlvbkZuKCkNCiAgICAgICAgICAgIC5yZWxvYWREYXRhKHNlbGYuY3VyVGFibGVDb25mRGF0YXNNYXBBcnIpLnRoZW4oKCkgPT4ge30pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICkNCiAgICB9LA0KICAgIG9uRWRpdFRhYmxlQ2xpY2soKSB7DQogICAgICAvLyDnvJbovpHngrnlh7vkuovku7YNCiAgICAgIGxldCBzZWxlY3Rpb24gPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uDQogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkgew0KICAgICAgICBsZXQgeyBpdGVtc0NvbmZpZywgZ2xvYmFsQ29uZmlnLCBmb3JtQ29uZmlnIH0gPSB0aGlzLmpzb25QYXJzZSgNCiAgICAgICAgICBzZWxlY3Rpb25bMF0uY29uZmlndXJlDQogICAgICAgICkNCiAgICAgICAgZ2xvYmFsQ29uZmlnID0gZ2xvYmFsQ29uZmlnIHx8IHt9DQogICAgICAgIGl0ZW1zQ29uZmlnID0gaXRlbXNDb25maWcgfHwgW10NCiAgICAgICAgZm9ybUNvbmZpZyA9IGZvcm1Db25maWcgfHwgW10NCiAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oc2VsZWN0aW9uWzBdLCB7DQogICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsDQogICAgICAgICAgaXRlbXNDb25maWc6IHRoaXMudHJhbnNmb3JtQ29ubHVtc0RhdGFUb1NpbmdsZShpdGVtc0NvbmZpZyksDQogICAgICAgICAgZm9ybUNvbmZpZzogdGhpcy50cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShmb3JtQ29uZmlnKQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsVmlzaWJsZSA9IHRydWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5LiA5p2h5pWw5o2u6L+b6KGM57yW6L6RJywNCiAgICAgICAgICB0eXBlOiAnaW5mbycNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uRWRpdEZvcm1DbGljaygpIHsNCiAgICAgIC8vIOe8lui+keeCueWHu+S6i+S7tg0KICAgICAgbGV0IHNlbGVjdGlvbiA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb24NCiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7DQogICAgICAgIGxldCB7IGl0ZW1zQ29uZmlnLCBnbG9iYWxDb25maWcsIGZvcm1Db25maWcgfSA9IHRoaXMuanNvblBhcnNlKA0KICAgICAgICAgIHNlbGVjdGlvblswXS5jb25maWd1cmUNCiAgICAgICAgKQ0KICAgICAgICBnbG9iYWxDb25maWcgPSBnbG9iYWxDb25maWcgfHwge30NCiAgICAgICAgaXRlbXNDb25maWcgPSBpdGVtc0NvbmZpZyB8fCBbXQ0KICAgICAgICBmb3JtQ29uZmlnID0gZm9ybUNvbmZpZyB8fCBbXQ0KICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsNCiAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywNCiAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKSwNCiAgICAgICAgICBmb3JtQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUl0ZW1zRGF0YVRvU2luZ2xlKGZvcm1Db25maWcpDQogICAgICAgIH0pDQogICAgICAgIHRoaXMuZm9ybUNvbmZNb2RhbFZpc2libGUgPSB0cnVlDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeS4gOadoeaVsOaNrui/m+ihjOe8lui+kScsDQogICAgICAgICAgdHlwZTogJ2luZm8nDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBvbkVkaXRDbGljaygpIHsNCiAgICAgIGxldCBzZWxlY3Rpb24gPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uDQogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkgew0KICAgICAgICBsZXQgeyBpdGVtc0NvbmZpZywgZ2xvYmFsQ29uZmlnLCBzdWJUYWJDb25maWcsIGRlZmF1bHRDb25maWcgfSA9IHRoaXMuanNvblBhcnNlKA0KICAgICAgICAgIHNlbGVjdGlvblswXS5jb25maWd1cmUNCiAgICAgICAgKQ0KICAgICAgICBnbG9iYWxDb25maWcgPSBnbG9iYWxDb25maWcgfHwge30NCiAgICAgICAgaXRlbXNDb25maWcgPSBpdGVtc0NvbmZpZyB8fCBbXQ0KICAgICAgICBzdWJUYWJDb25maWcgPSBzdWJUYWJDb25maWcgfHwgew0KICAgICAgICAgIGJ1dHRvbnM6IFtdLA0KICAgICAgICAgIGJ1dHRvbnNJbmZvOiB7fQ0KICAgICAgICB9DQogICAgICAgIGRlZmF1bHRDb25maWcgPSBkZWZhdWx0Q29uZmlnIHx8IFtdDQogICAgICAgIGlmIChzZWxlY3Rpb25bMF0udHlwZSA9PT0gJ2Zvcm0nIHx8IHNlbGVjdGlvblswXS50eXBlID09PSAnZm9ybUNvbmYnIHx8IHNlbGVjdGlvblswXS50eXBlID09PSAnZGV0YWlsJyB8fCBzZWxlY3Rpb25bMF0udHlwZSA9PT0gJ2RldGFpbENvbmYnKSB7DQogICAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oc2VsZWN0aW9uWzBdLCB7DQogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywNCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnTmVzdDogdGhpcy5kZWVwQ29weShpdGVtc0NvbmZpZyksDQogICAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShpdGVtc0NvbmZpZykNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMuZm9ybUNvbmZNb2RhbFZpc2libGUgPSB0cnVlDQogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uWzBdLnR5cGUgPT09ICd0YWJQYW5lQ29uZicpIHsNCiAgICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsNCiAgICAgICAgICAgIGdsb2JhbENvbmZpZzogZ2xvYmFsQ29uZmlnLA0KICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KHN1YlRhYkNvbmZpZyksDQogICAgICAgICAgICBzdWJUYWJDb25maWc6IHN1YlRhYkNvbmZpZw0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5TdWJUYWJDb25maWdWaXNpYmxlID0gdHJ1ZQ0KICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvblswXS50eXBlID09PSAnZW50ZXJpbmdEZWZhdWx0Jykgew0KICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgew0KICAgICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsDQogICAgICAgICAgICBpdGVtc0NvbmZpZ05lc3Q6IHRoaXMuZGVlcENvcHkoZGVmYXVsdENvbmZpZyksDQogICAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGRlZmF1bHRDb25maWcpDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmVudGVyaW5nRGVmYXVsdFZpc2libGUgPSB0cnVlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oc2VsZWN0aW9uWzBdLCB7DQogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywNCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnTmVzdDogdGhpcy5kZWVwQ29weShpdGVtc0NvbmZpZyksDQogICAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFZpc2libGUgPSB0cnVlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5LiA5p2h5pWw5o2u6L+b6KGM57yW6L6RJywNCiAgICAgICAgICB0eXBlOiAnaW5mbycNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uQWRkQ2xpY2soKSB7DQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5pbnNlcnRSb3dEYXRhKHsNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgIG1lbnVndWlkOiBzZWxmLmN1ckxlZnRUcmVlQ2xpY2tOb2RlLmd1aWQsDQogICAgICAgICAgdHlwZTogJ3RhYmxlJywNCiAgICAgICAgICBvcHRpb25UeXBlOiAnYWRkJywNCiAgICAgICAgICBpZDogc2VsZi4kVG9vbEZuLnV0aWxGbi5nZXRVdWlkKCksDQogICAgICAgICAgbWVudW5hbWU6IHNlbGYuY3VyTGVmdFRyZWVDbGlja05vZGUubmFtZSwNCiAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHNlbGYudXNlckluZm8ucHJvdmluY2UsDQogICAgICAgICAgdGFibGVuYW1lOiAnJywNCiAgICAgICAgICBmaXNjYWx5ZWFyOiBzZWxmLnVzZXJJbmZvLnllYXIsDQogICAgICAgICAgY29uZmlndXJlOiBzZWxmLmpzb25TdHJpbmdpZnkoew0KICAgICAgICAgICAgZ2xvYmFsQ29uZmlnOiB7fSwgLy8g5YWo5bGA6YWN572uDQogICAgICAgICAgICBpdGVtc0NvbmZpZzogW10sIC8vIOmhuemFjee9rg0KICAgICAgICAgICAgcGFnZUNvbmZpZzoge30sIC8vIOWIhumhtemFjee9rg0KICAgICAgICAgICAgZWRpdENvbmZpZzoge30sIC8vIOe8lui+kemFjee9rg0KICAgICAgICAgICAgZWRpdFJ1bGVzOiB7fSwgLy8g5qCh6aqM6KeE5YiZDQogICAgICAgICAgICBmb290ZXJDb25maWc6IHt9LCAvLyDooajlsL7phY3nva4NCiAgICAgICAgICAgIGRhdGFDb25maWc6IHsNCiAgICAgICAgICAgICAgZGF0YVNvdWNlVHlwZTogJ3F1ZXJ5Jw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHN1YlRhYkNvbmZpZzogW10sDQogICAgICAgICAgICBkZWZhdWx0Q29uZmlnOiBbXSAvLyDlvZXlhaXpu5jorqTlgLwNCiAgICAgICAgICB9KQ0KICAgICAgICAvLyBtZW51Z3VpZDogJzEyMzQ1NicNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIG9uRGVsZXRlQ2xpY2soKSB7DQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIGxldCBpZHMgPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgcmV0dXJuIGl0ZW0uaWQNCiAgICAgIH0pDQogICAgICBsZXQgbWVudWd1aWQgPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uWzBdLm1lbnVndWlkDQogICAgICB0aGlzLm1lbnVndWlkc1swXSA9IG1lbnVndWlkDQogICAgICBpZiAoaWRzLmxlbmd0aCkgew0KICAgICAgICBzZWxmLiRjb25maXJtKCfnoa7lrprliKDpmaTvvJ8nLCAn5o+Q56S6Jywgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgc2VsZi4kaHR0cA0KICAgICAgICAgICAgLmRlbCgnbXAtYi1wZXJtLXNlcnZpY2UvdjEvdGFibGVjb25mJywgew0KICAgICAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHNlbGYudXNlckluZm8ucHJvdmluY2UsIC8vIOWMuuWIkg0KICAgICAgICAgICAgICBmaXNjYWx5ZWFyOiBzZWxmLnVzZXJJbmZvLnllYXIsIC8vIOW5tOS7vXMNCiAgICAgICAgICAgICAgaWRzOiBpZHMsDQogICAgICAgICAgICAgIG1lbnVndWlkczogdGhpcy5tZW51Z3VpZHMNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgICAgICAgICAgIHNlbGYuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOmAieS4reeahCR7aWRzLmxlbmd0aH3mnaHmlbDmja7lt7LliKDpmaRgLA0KICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBzZWxmLnJlZnJlc2hUYWJsZSgpDQogICAgICAgICAgICAgICAgLy8gcmVzb2x2ZShzZWxmLmdlbmVyYXRlQ3VyVGFibGVDb25mRGF0YU1hcChyZXMuZGF0YSkpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSkuY2F0Y2goZSA9PiB7DQogICAgICAgICAgc2VsZi4kbWVzc2FnZS5zdWNjZXNzKCflj5bmtojliKDpmaTmiJDlip8nKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25UYWJsZUNlbGxDbGljayh7DQogICAgICByb3csDQogICAgICByb3dJbmRleCwNCiAgICAgICRyb3dJbmRleCwNCiAgICAgIGNvbHVtbiwNCiAgICAgIGNvbHVtbkluZGV4LA0KICAgICAgJGNvbHVtbkluZGV4LA0KICAgICAgdHJpZ2dlclJhZGlvLA0KICAgICAgdHJpZ2dlckNoZWNrYm94LA0KICAgICAgdHJpZ2dlclRyZWVOb2RlLA0KICAgICAgdHJpZ2dlckV4cGFuZE5vZGUsDQogICAgICAkZXZlbnQNCiAgICB9KSB7DQogICAgICAvLyB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gdGhpcy5jdXJUYWJsZUNvbmZEYXRhc01hcFtyb3cuaWRdDQogICAgICAvLyB0aGlzLlRhYmxlQ29uZk1vZGFsVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIC8vIOWMuuWIkum7mOiupOWAvA0KICAgIGdldFByb3ZpbmNlKCkgew0KICAgICAgbGV0IG9iaiA9IHsNCiAgICAgICAgdmFsdWU6IHRoaXMudXNlckluZm8ucHJvdmluY2UsDQogICAgICAgIGxhYmVsOiB0aGlzLnVzZXJJbmZvLmFkbWRpdm5hbWUNCiAgICAgIH0NCiAgICAgIGxldCBmbGFnID0gZmFsc2UNCiAgICAgIHRoaXMudGFibGVDb2x1bW5zQ29uZmlnWzBdLmVkaXRSZW5kZXIub3B0aW9ucy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gdGhpcy51c2VySW5mby5wcm92aW5jZSkgew0KICAgICAgICAgIGZsYWcgPSB0cnVlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICBpZiAoIWZsYWcpIHsNCiAgICAgICAgdGhpcy50YWJsZUNvbHVtbnNDb25maWdbMF0uZWRpdFJlbmRlci5vcHRpb25zLnB1c2gob2JqKQ0KICAgICAgfQ0KICAgICAgdGhpcy50YWJsZUNvbHVtbnNDb25maWdbMF0uZWRpdFJlbmRlci5kZWZhdWx0VmFsdWUgPSB0aGlzLnVzZXJJbmZvLnByb3ZpbmNlDQogICAgfSwNCiAgICAvLyDnvJbovpHnmoTml7blgJnlvZXlhaXpu5jorqTlgLzmnInkuKrpu5jorqRpZA0KICAgIGVkaXRDbG9zZWQoeyByb3csIGNvbHVtbiB9KSB7DQogICAgICAvLyBlbnRlcmluZ0RlZmF1bHRGbGFn5qCH6K+G77yM5b2T5pS56L+H5Li65b2V5YWl6buY6K6k5YC85ZCO77yM5YaN5pu05pS55omN5b2x5ZONaWTlj5jljJYNCiAgICAgIGlmIChyb3cudHlwZSA9PT0gJ2VudGVyaW5nRGVmYXVsdCcpIHsNCiAgICAgICAgcm93LmlkID0gJ0Q5QTBCNThFNUMyMjQyRjM4NjBFNkQ4MTUxQzIxMUIyJw0KICAgICAgICByb3cuaWRfX3ZpZXdTb3J0ID0gJ0Q5QTBCNThFNUMyMjQyRjM4NjBFNkQ4MTUxQzIxMUIyJw0KICAgICAgICB0aGlzLmVudGVyaW5nRGVmYXVsdEZsYWcgPSB0cnVlDQogICAgICB9IGVsc2UgaWYgKHJvdy50eXBlICE9PSAnZW50ZXJpbmdEZWZhdWx0JyAmJiB0aGlzLmVudGVyaW5nRGVmYXVsdEZsYWcgPT09IHRydWUpIHsNCiAgICAgICAgcm93LmlkID0gdGhpcy4kVG9vbEZuLnV0aWxGbi5nZXRVdWlkKCkNCiAgICAgICAgcm93LmlkX192aWV3U29ydCA9IHJvdy5pZA0KICAgICAgICB0aGlzLmVudGVyaW5nRGVmYXVsdEZsYWcgPSBmYWxzZQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnNldExlZnRNZW51VHJlZSgpDQogICAgaWYgKHRoaXMuJGdsb2FibGVUb29sRm4/LmN1cnJlbnRQcm92aW5jZSA9PT0gdGhpcy4kZ2xvYWJsZVRvb2xGbj8uRnVKaWFuKSB7DQogICAgICB0aGlzLmdldFByb3ZpbmNlKCkNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdGFibGVDb25mTW9kYWxWaXNpYmxlOiB7DQogICAgICBoYW5kbGVyKG5ld3ZhbCkgew0KICAgICAgICAvLyBpZiAoIW5ld3ZhbCkgew0KICAgICAgICAvLyAgIHRoaXMucmVmcmVzaFRhYmxlKCkNCiAgICAgICAgLy8gfQ0KICAgICAgfSwNCiAgICAgIC8vIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIGZvcm1Db25mTW9kYWxWaXNpYmxlOiB7DQogICAgICBoYW5kbGVyKG5ld3ZhbCkgew0KICAgICAgICAvLyBpZiAoIW5ld3ZhbCkgew0KICAgICAgICAvLyAgIHRoaXMucmVmcmVzaFRhYmxlKCkNCiAgICAgICAgLy8gfQ0KICAgICAgfSwNCiAgICAgIC8vIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["dynamicTableSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dynamicTableSetting.vue","sourceRoot":"src/views/main/dynamicTableSetting","sourcesContent":["<!--  表格信息配置   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div class=\"height-all\">\r\n    <BsMainFormListLayout :left-visible.sync=\"leftVisible\">\r\n      <template v-slot:topTap>\r\n        <!-- <JsonEditor />  -->\r\n      </template>\r\n      <template v-slot:topTabPane> </template>\r\n      <template v-slot:query> </template>\r\n      <!-- leftVisible不为undefined为渲染mainTree和mainForm插槽 ，否则渲染mainCon插槽-->\r\n      <template v-slot:mainTree>\r\n        <div class=\"height-all left-tree-pane\">\r\n          <div class=\"mmc-left-tree-title\">\r\n            <BsTreeSet\r\n\r\n              @onAsideChange=\"leftVisible = false\"\r\n              @onChangeInput=\"changeInput\"\r\n              @onConfrimData=\"confrimData\"\r\n            />\r\n            <!-- <div class=\"mmc-title\">\r\n              <span class=\"fn-inline\">菜单树</span>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"mmc-left-tree-body\" style=\"height: calc(100% - 48px)\">\r\n            <BsBossTree\r\n              ref=\"testTree\"\r\n              is-need-root\r\n              :tree-props=\"{\r\n                label: 'name',\r\n                children: 'children',\r\n              }\"\r\n              open-loading\r\n              :is-server=\"false\"\r\n              :datas=\"leftTreeData\"\r\n              :server-uri=\"serverUri\"\r\n              :global-config=\"leftTreeConfig\"\r\n              :queryparams=\"treeQueryparams\"\r\n              :clickmethod=\"onLeftTreeNodeClick\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template v-slot:mainForm>\r\n        <BsTable\r\n          ref=\"bsTableRef\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"tableColumnsConfig\"\r\n          :table-data=\"curTableConfDatasMapArr\"\r\n          :toolbar-config=\"toolbarConfig\"\r\n          :pager-config=\"false\"\r\n          :edit-config=\"{}\"\r\n          @ajaxData=\"ajaxData\"\r\n          @editClosed=\"editClosed\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left\">\r\n              <div\r\n                v-if=\"leftVisible === false\"\r\n                class=\"table-toolbar-contro-leftvisible\"\r\n                @click=\"leftVisible = true\"\r\n              ></div>\r\n              <div class=\"table-toolbar-left-title\">\r\n                <span class=\"fn-inline\">{{\r\n                  (curLeftTreeClickNode.name ? curLeftTreeClickNode.name : '') + '菜单表配置'\r\n                }}</span>\r\n                <i class=\"fn-inline\"></i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <template v-slot:toolbar-custom-slot>\r\n            <div class=\"toolbar-slot-custom-slot fn-inline\">\r\n              <!-- <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表单项配置\"\r\n                @click=\"onEditFormClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表格列配置\"\r\n                @click=\"onEditTableClick\"\r\n              /> -->\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"新增\"\r\n                @click=\"onAddClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"删除\"\r\n                @click=\"onDeleteClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑\"\r\n                @click=\"onEditClick\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </BsTable>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <div>\r\n      <TableConfModal\r\n        v-if=\"tableConfModalVisible\"\r\n        :dialog-visible.sync=\"tableConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <FormConfModal\r\n        v-if=\"formConfModalVisible\"\r\n        :dialog-visible.sync=\"formConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <EnteringDefault\r\n        v-if=\"enteringDefaultVisible\"\r\n        :dialog-visible.sync=\"enteringDefaultVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <SubTabConfigModal\r\n        v-if=\"SubTabConfigVisible\"\r\n        :dialog-visible.sync=\"SubTabConfigVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TableConfModal from './tableConfModal.vue'\r\nimport FormConfModal from './FormConfModal.vue'\r\nimport EnteringDefault from './enteringDefault.vue'\r\nimport getFormConfData from './formConf.js'\r\nimport SubTabConfigModal from './SubTabConfigModal.vue'\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    TableConfModal,\r\n    FormConfModal,\r\n    EnteringDefault,\r\n    SubTabConfigModal\r\n  },\r\n  props: {\r\n    allPropData: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      menuguids: [],\r\n      curConfType: 'table',\r\n      leftVisible: true,\r\n      leftTreeData: [],\r\n      curSplitPaneLeftWidth: 20,\r\n      isShowQueryConditions: false,\r\n      serverUri: 'mp-b-perm-service/v1/tableconf/menuguid',\r\n      treeQueryparams: {\r\n        menuguid: 'test_123456',\r\n        useRight: false,\r\n        batchno: 2,\r\n        datatype: 5,\r\n        eleCode: 'DEPBGTECO',\r\n        sxspecroleguid: '637B6D5A823F459AB313CBF94C87765B'\r\n      },\r\n      treeleftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      treeConfig: {\r\n        curRadio: 'zf',\r\n        radioGroup: [\r\n          {\r\n            code: 'zf',\r\n            label: '政府部门树'\r\n          },\r\n          {\r\n            code: 'xuexiao',\r\n            label: '学校树'\r\n          },\r\n          {\r\n            code: 'jigou',\r\n            label: '机构树'\r\n          }\r\n        ]\r\n      },\r\n      leftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      pagerConfig: {\r\n        currentPage: 1,\r\n        total: 100\r\n      },\r\n      curTableConfDatas: [],\r\n      currentPage: 1,\r\n      curTableConfDatasMapArr: [\r\n        // {\r\n        //   tableName: '1',\r\n        //   businessTableName: '1',\r\n        //   tableNote: '1',\r\n        //   measuringUnit: 1,\r\n        //   viewOrder: '001',\r\n        //   editableBatch: '001',\r\n        //   tableType: '001',\r\n        //   note: '1',\r\n        //   autoBuiltTables: false,\r\n        //   editble: true,\r\n        //   showCheckbox: true,\r\n        //   canUse: true,\r\n        //   aSingleTable: false,\r\n        //   batchModify: false,\r\n        //   rowConfig: false,\r\n        //   noRecordIsAllowedToReport: true,\r\n        //   subtotalRows: true\r\n        // }\r\n      ],\r\n      curTableConfDatasMap: {},\r\n      globleConfigCp: {\r\n        tableName: '',\r\n        businessTableName: '',\r\n        tableNote: '',\r\n        measuringUnit: '',\r\n        viewOrder: '',\r\n        editableBatch: '',\r\n        tableType: '',\r\n        note: '',\r\n        autoBuiltTables: false,\r\n        editble: true,\r\n        showCheckbox: true,\r\n        canUse: true,\r\n        aSingleTable: false,\r\n        batchModify: false,\r\n        rowConfig: false,\r\n        noRecordIsAllowedToReport: true,\r\n        subtotalRows: true\r\n      },\r\n      toolbarConfig: {\r\n        disabledMoneyConversion: false,\r\n        ...getFormConfData('tableInforConf', 'toolbarConfig')\r\n      },\r\n      tableConfig: getFormConfData('tableInforConf', 'tableConfig'),\r\n      tableColumnsConfig: getFormConfData(\r\n        'tableInforConf',\r\n        'tableColumnsConfig'\r\n      ),\r\n      tableConfModalVisible: false,\r\n      formConfModalVisible: false,\r\n      enteringDefaultVisible: false,\r\n      curLeftTreeClickNode: {},\r\n      enteringDefaultFlag: false,\r\n      SubTabConfigVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.userInfo\r\n    }\r\n  },\r\n  methods: {\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    jsonStringify(columns) {\r\n      // 对象转换成json字符串\r\n      return JSON.stringify(columns, function (key, val) {\r\n        if (typeof val === 'function') {\r\n          return val + ''\r\n        }\r\n        return val\r\n      })\r\n    },\r\n    jsonParse(str) {\r\n      // json字符串转换成对象\r\n      return JSON.parse(str, function (k, v) {\r\n        try {\r\n          if (\r\n            v.indexOf &&\r\n            (v.indexOf('function') > -1 || v.indexOf('=>') > -1)\r\n          ) {\r\n            // return eval('(function(){return ' + v + ' })()')\r\n            // eslint-disable-next-line no-new-func\r\n            let func = new Function('return ' + v)\r\n            return func()\r\n          }\r\n          return v\r\n        } catch (e) {\r\n          return v\r\n        }\r\n      })\r\n    },\r\n    changeInput(val) {\r\n      this.$refs.testTree.filterText = val\r\n    },\r\n    confrimData(curTree) {\r\n      this.confrimData.curRadio = curTree.code\r\n      switch (curTree.code) {\r\n        case 'zf':\r\n          break\r\n        case 'xuexiao':\r\n          this.tabStatusNumConfig['ycl'] = 12\r\n          break\r\n        case 'jigou':\r\n          break\r\n      }\r\n    },\r\n    onSplitPaneResize(leftWidth) {\r\n      if (leftWidth > 1) {\r\n        this.curSplitPaneLeftWidth = leftWidth\r\n        this.leftVisible = true\r\n      } else {\r\n        this.leftVisible = false\r\n      }\r\n    },\r\n    ajaxData({ currentPage, pageSize }) {\r\n      this.pagerConfig.currentPage = currentPage\r\n      this.queryParams = Object.assign(this.queryParams, {\r\n        currentPage,\r\n        pageSize\r\n      })\r\n      this.getTableDatas(currentPage, pageSize)\r\n    },\r\n    getTableDatas(currentPage, pageSize) {\r\n      // 服务端查询数据\r\n      this.showLoading = true\r\n      let self = this\r\n      this.$http.post('url', this.queryParams).then((res) => {\r\n        if (res.code === 200) {\r\n          self.tableData = res.data.list\r\n          self.pagerConfig = {\r\n            total: res.data.total,\r\n            currentPage: currentPage\r\n          }\r\n          this.showLoading = false\r\n        }\r\n      })\r\n    },\r\n    transformConlumsDataToNest(columns) {\r\n      // columns转化为vxe-table columns数据结构\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          column[column.renderType] = {\r\n            name: column.renderName, // 渲染器名,\r\n            options: ((params) => {\r\n              if (typeof params === 'object') {\r\n                return self.deepCopy(params)\r\n              } else if (typeof params === 'string') {\r\n                return params\r\n                  ? params.split('+').map((item, index) => {\r\n                    return {\r\n                      value: item.split('#')[0],\r\n                      label: item.split('#')[1]\r\n                    }\r\n                  })\r\n                  : []\r\n              } else {\r\n                return params\r\n              }\r\n            })(column.options), // 下拉数据源\r\n            defaultValue: column.defaultValue, // 默认值\r\n            props: column.props // 额外参数\r\n          }\r\n          delete column._XID\r\n          delete column.renderType\r\n          delete column.renderName\r\n          delete column.options\r\n          delete column.props\r\n          delete column.defaultValue\r\n          delete self.deepCopy(column.props)\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformConlumsDataToSingle(columns) {\r\n      // vxe-table columns数据结构转化为单层columns\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          if (column.hasOwnProperty('editRender')) {\r\n            column.renderType = 'editRender'\r\n            column.renderName = column.editRender.name\r\n            column = Object.assign(column, self.deepCopy(column.editRender))\r\n            delete column.editRender\r\n          } else if (column.hasOwnProperty('cellRender')) {\r\n            column.renderType = 'cellRender'\r\n            column.renderName = column.cellRender.name\r\n            column = Object.assign(column, self.deepCopy(column.cellRender))\r\n          } else if (column.hasOwnProperty('itemRender')) {\r\n            column.renderType = 'itemRender'\r\n            column.renderName = column.itemRender.name\r\n            column = Object.assign(column, self.deepCopy(column.itemRender))\r\n          } else {\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox'].indexOf(column.renderName) >= 0) {\r\n            column.options = column.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+')\r\n          }\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformItemsDataToSingle(items) {\r\n      // vxe-table items数据结构转化为单层items\r\n      let self = this\r\n      items.forEach((item, itemIndex) => {\r\n        if (Array.isArray(item.children) && item.children.length) {\r\n          item.children = self.transformConlumsDataToNest(item.children)\r\n        } else {\r\n          if (item.hasOwnProperty('itemRender')) {\r\n            item.renderType = 'itemRender'\r\n            item.renderName = item.itemRender.name\r\n            item = Object.assign(item, self.deepCopy(item.itemRender))\r\n            delete item.itemRender\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormRadio', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox', '$vxeFormCheckbox'].indexOf(item.renderName) >= 0) {\r\n            item.options = Array.isArray(item.options) ? item.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+') : item.options\r\n          }\r\n        }\r\n      })\r\n      return items\r\n    },\r\n    getTableConfByMenuguid(menuguid) {\r\n      // 根据菜单menuguid获取其下所有表配置\r\n      let self = this\r\n      return new Promise((resolve, reject) => {\r\n        self.$http\r\n          .get('mp-b-perm-service/v1/tableconf/menuguid', {\r\n            menuguid: menuguid,\r\n            mof_div_code: self.userInfo.province, // 区划\r\n            fiscalyear: self.userInfo.year // 年份\r\n          })\r\n          .then((res) => {\r\n            if (res.rscode === '100000') {\r\n              resolve(res.data)\r\n              // resolve(self.generateCurTableConfDataMap(res.data))\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            reject(error)\r\n          })\r\n      })\r\n    },\r\n    generateCurTableConfDataMap(curMenuConfs) {\r\n      // 生成当前menu下表格数据映射\r\n      let self = this\r\n      let resultObj = {}\r\n      let curTableConfDatasMap = {}\r\n      let curTableConfDatasMapArr = []\r\n      resultObj.curTableConfDatas = curMenuConfs\r\n      curMenuConfs.forEach((item, index) => {\r\n        let { itemsConfig, globalConfig, formConfig } = self.jsonParse(\r\n          item.configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        let globalConfigCp = Object.assign(\r\n          {\r\n            tablename: '',\r\n            businessTableName: '',\r\n            tableNote: '',\r\n            measuringUnit: '',\r\n            viewOrder: '',\r\n            editableBatch: '',\r\n            tableType: '',\r\n            note: '',\r\n            autoBuiltTables: '',\r\n            editble: '',\r\n            showCheckbox: '',\r\n            canUse: '',\r\n            aSingleTable: '',\r\n            batchModify: '',\r\n            rowConfig: '',\r\n            noRecordIsAllowedToReport: '',\r\n            subtotalRows: ''\r\n          },\r\n          globalConfig,\r\n          {\r\n            // tablename: item.tablename,\r\n            type: item.type,\r\n            updatetime: item.updatetime,\r\n            menuname: this.curLeftTreeClickNode.name,\r\n            id: item.id,\r\n            menuguid: item.menuguid\r\n          }\r\n        )\r\n        curTableConfDatasMapArr.push(globalConfigCp)\r\n        curTableConfDatasMap[item.id] = {\r\n          itemsConfig: self.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: self.transformItemsDataToSingle(formConfig),\r\n          id: item.id,\r\n          globalConfig: globalConfigCp,\r\n          menuguid: item.menuguid,\r\n          type: item.type\r\n        }\r\n      })\r\n      resultObj.curTableConfDatasMapArr = curTableConfDatasMapArr\r\n      resultObj.curTableConfDatasMap = curTableConfDatasMap\r\n      return resultObj\r\n    },\r\n    setLeftMenuTree() {\r\n      // 加载左侧树\r\n      this.leftTreeData = [].concat(this.$store.state.systemMenu)\r\n    },\r\n    onLeftTreeNodeClick(node, leftTree) {\r\n      // 左侧树点击事件\r\n      if (!(Array.isArray(node.children) && node.children.length)) {\r\n        let self = this\r\n        this.curLeftTreeClickNode = node\r\n        this.getTableConfByMenuguid(node.guid).then((res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: `当前菜单数据查询成功,共计(${res.length}条)`,\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n        })\r\n      }\r\n    },\r\n    refreshTable() {\r\n      // 刷新表格\r\n      let self = this\r\n      this.getTableConfByMenuguid(this.curLeftTreeClickNode.guid).then(\r\n        (res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: '当前菜单数据已刷新',\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n          self.$refs.bsTableRef\r\n            .tableOptionFn()\r\n            .reloadData(self.curTableConfDatasMapArr).then(() => {}).catch(() => {\r\n            })\r\n        }\r\n      )\r\n    },\r\n    onEditTableClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.tableConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditFormClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.formConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditClick() {\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, subTabConfig, defaultConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        subTabConfig = subTabConfig || {\r\n          buttons: [],\r\n          buttonsInfo: {}\r\n        }\r\n        defaultConfig = defaultConfig || []\r\n        if (selection[0].type === 'form' || selection[0].type === 'formConf' || selection[0].type === 'detail' || selection[0].type === 'detailConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformItemsDataToSingle(itemsConfig)\r\n          })\r\n          this.formConfModalVisible = true\r\n        } else if (selection[0].type === 'tabPaneConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(subTabConfig),\r\n            subTabConfig: subTabConfig\r\n          })\r\n          this.SubTabConfigVisible = true\r\n        } else if (selection[0].type === 'enteringDefault') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(defaultConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(defaultConfig)\r\n          })\r\n          this.enteringDefaultVisible = true\r\n        } else {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(itemsConfig)\r\n          })\r\n          this.tableConfModalVisible = true\r\n        }\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onAddClick() {\r\n      let self = this\r\n      this.$refs.bsTableRef.insertRowData({\r\n        data: {\r\n          menuguid: self.curLeftTreeClickNode.guid,\r\n          type: 'table',\r\n          optionType: 'add',\r\n          id: self.$ToolFn.utilFn.getUuid(),\r\n          menuname: self.curLeftTreeClickNode.name,\r\n          mof_div_code: self.userInfo.province,\r\n          tablename: '',\r\n          fiscalyear: self.userInfo.year,\r\n          configure: self.jsonStringify({\r\n            globalConfig: {}, // 全局配置\r\n            itemsConfig: [], // 项配置\r\n            pageConfig: {}, // 分页配置\r\n            editConfig: {}, // 编辑配置\r\n            editRules: {}, // 校验规则\r\n            footerConfig: {}, // 表尾配置\r\n            dataConfig: {\r\n              dataSouceType: 'query'\r\n            },\r\n            subTabConfig: [],\r\n            defaultConfig: [] // 录入默认值\r\n          })\r\n        // menuguid: '123456'\r\n        }\r\n      })\r\n    },\r\n    onDeleteClick() {\r\n      let self = this\r\n      let ids = this.$refs.bsTableRef.selection.map((item, index) => {\r\n        return item.id\r\n      })\r\n      let menuguid = this.$refs.bsTableRef.selection[0].menuguid\r\n      this.menuguids[0] = menuguid\r\n      if (ids.length) {\r\n        self.$confirm('确定删除？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          self.$http\r\n            .del('mp-b-perm-service/v1/tableconf', {\r\n              mof_div_code: self.userInfo.province, // 区划\r\n              fiscalyear: self.userInfo.year, // 年份s\r\n              ids: ids,\r\n              menuguids: this.menuguids\r\n            })\r\n            .then((res) => {\r\n              if (res.rscode === '100000') {\r\n                self.$message({\r\n                  showClose: true,\r\n                  message: `选中的${ids.length}条数据已删除`,\r\n                  type: 'success'\r\n                })\r\n                self.refreshTable()\r\n                // resolve(self.generateCurTableConfDataMap(res.data))\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.log('error', error)\r\n            })\r\n        }).catch(e => {\r\n          self.$message.success('取消删除成功')\r\n        })\r\n      }\r\n    },\r\n    onTableCellClick({\r\n      row,\r\n      rowIndex,\r\n      $rowIndex,\r\n      column,\r\n      columnIndex,\r\n      $columnIndex,\r\n      triggerRadio,\r\n      triggerCheckbox,\r\n      triggerTreeNode,\r\n      triggerExpandNode,\r\n      $event\r\n    }) {\r\n      // this.tableConfModalParams = this.curTableConfDatasMap[row.id]\r\n      // this.TableConfModalVisible = true\r\n    },\r\n    // 区划默认值\r\n    getProvince() {\r\n      let obj = {\r\n        value: this.userInfo.province,\r\n        label: this.userInfo.admdivname\r\n      }\r\n      let flag = false\r\n      this.tableColumnsConfig[0].editRender.options.forEach(item => {\r\n        if (item.value === this.userInfo.province) {\r\n          flag = true\r\n        }\r\n      })\r\n      if (!flag) {\r\n        this.tableColumnsConfig[0].editRender.options.push(obj)\r\n      }\r\n      this.tableColumnsConfig[0].editRender.defaultValue = this.userInfo.province\r\n    },\r\n    // 编辑的时候录入默认值有个默认id\r\n    editClosed({ row, column }) {\r\n      // enteringDefaultFlag标识，当改过为录入默认值后，再更改才影响id变化\r\n      if (row.type === 'enteringDefault') {\r\n        row.id = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        row.id__viewSort = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        this.enteringDefaultFlag = true\r\n      } else if (row.type !== 'enteringDefault' && this.enteringDefaultFlag === true) {\r\n        row.id = this.$ToolFn.utilFn.getUuid()\r\n        row.id__viewSort = row.id\r\n        this.enteringDefaultFlag = false\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setLeftMenuTree()\r\n    if (this.$gloableToolFn?.currentProvince === this.$gloableToolFn?.FuJian) {\r\n      this.getProvince()\r\n    }\r\n  },\r\n  watch: {\r\n    tableConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    },\r\n    formConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.left-tree-pane {\r\n  .mmc-title {\r\n    height: 47px;\r\n    padding: 7px 15px;\r\n    line-height: 31px;\r\n    color: #464c5b;\r\n    font-size: 16px;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #dce3f3;\r\n    background-color: #e3f2fe;\r\n  }\r\n}\r\n</style>\r\n"]}]}