{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\card\\card.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\card\\card.vue","mtime":1694576524269},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY2FyZC1jb250ZW50ewogIHdpZHRoOiAzNTZweDsKICBoZWlnaHQ6IDIyNHB4OwogIGJhY2tncm91bmQ6ICNGRkZGRkY7CiAgYm94LXNoYWRvdzogMCAwIDEycHggMCB2YXIoLS1wcmltYXJ5LWNvbG9yLXNoYWRvdyk7CiAgYm9yZGVyLXJhZGl1czogMnB4OwogIHBhZGRpbmc6IDAgNXB4IDEwcHggNXB4OwogIGNvbG9yOiAjMkUzMTMzOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBvdmVyZmxvdzogaGlkZGVuOwogIG1hcmdpbjogMjBweCAwcHggMCAwcHg7CiAgLmNvbnRlbnQtYmd7CiAgICB3aWR0aDogMjQwcHg7CiAgICBoZWlnaHQ6IDI0MHB4OwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgcmlnaHQ6IC00MnB4OwogICAgdG9wOiAtODlweDsKICB9CiAgLmNhcmQtdGl0bGV7CiAgICBoZWlnaHQ6IDYwcHg7CiAgICBwYWRkaW5nOiAyMnB4IDE5cHggMTJweCAxOXB4OwogICAgLmljb25fYm94ewogICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgIHdpZHRoOiA2MHB4OwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgaW1newogICAgICAgIGNvbG9yOiNmZmY7CiAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgIHdpZHRoOiAzMHB4OwogICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgLy8gZmlsdGVyOiBkcm9wLXNoYWRvdygjZmZmIDBweCAwcHgpCiAgICAgICAgc3Ryb2tlOiAjZmZmOwogICAgICB9CiAgICB9CiAgICAuY3VzdG9tLXRpdGxlLWljb257CiAgICAgIHdpZHRoOiA2MHB4OwogICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgIGZvbnQtc2l6ZTogNjBweDsKICAgICAgbGluZS1oZWlnaHQ6IDYwcHg7CiAgICB9CiAgICAuY3VzdG9tLXRpdGxlewogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIHdpZHRoOiAyMjBweDsKICAgICAgZm9udC1zaXplOiAyMnB4OwogICAgICBjb2xvcjogIzJFMzEzMzsKICAgICAgbGV0dGVyLXNwYWNpbmc6IDA7CiAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgIG1hcmdpbi1sZWZ0OiAxM3B4OwogICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgfQogIH0KCiAgLmNhcmQtYnRuc3sKICAgIGRpc3BsYXk6IGdyaWQ7CiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7CiAgICBmb250LXNpemU6IDA7CiAgICAuYmFzZS1mb250ewogICAgICBmb250LXNpemU6IDE4cHg7CiAgICB9CiAgICAuY2FyZC1idG57CiAgICAgIG1pbi13aWR0aDogMTYzcHg7CiAgICAgIGhlaWdodDogNTBweDsKICAgICAgYmFja2dyb3VuZDogI0UzRjJGRTsKICAgICAgcGFkZGluZzogMTVweCAyNHB4OwogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGNvbG9yOiAjMkUzMTMzOwogICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICBmb250LXdlaWdodDogdW5zZXQ7CiAgICAgIGJvcmRlci1yYWRpdXM6IDBweDsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBtYXJnaW46IDEwcHggNXB4IDBweCA1cHg7CiAgICAgIC5idG4tbnVtewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICByaWdodDogMTBweDsKICAgICAgICB0b3A6IDUwJTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIGZvbnQtc2l6ZTogMTJweDsKCiAgICAgICAgJi50b2RvLW51bS1iZyB7CiAgICAgICAgICBtaW4td2lkdGg6IDIwcHg7CiAgICAgICAgICBoZWlnaHQ6IDIwcHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgcGFkZGluZzogNHB4OwogICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgIGJhY2tncm91bmQ6ICNFRDQxMUU7CiAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC5pY29uLWNsYXNzewogICAgICBtYXJnaW4tdG9wOiAtM3B4OwogICAgICBjb2xvcjogdmFyKC0tYnRuLWljb25Db2xvcik7CiAgICB9CgogICAgLmJ0bi1ob3Zlcl9fY2xhc3N7CiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJ0bi1idG5Db2xvcik7CiAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYnRuLWJ0bkNvbG9yKTsKICAgIH0KICAgIC5idG4taG92ZXJfX2NsYXNzOmhvdmVyLCAuYnRuLWhvdmVyX19jbGFzczphY3RpdmUsIC5idG4tYWN0aXZlewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1idG4taWNvbkNvbG9yKTsKICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1idG4taWNvbkNvbG9yKTsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIC5pY29uLWNsYXNzewogICAgICAgIGNvbG9yOiAjZmZmOwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["card.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"card.vue","sourceRoot":"src/components/CardMenu/card","sourcesContent":["<template>\r\n  <div class=\"card-content\">\r\n    <img :src=\"cardMenuIn.bgUrl\" class=\"content-bg\">\r\n    <div class=\"card-title\">\r\n      <!-- <i\r\n        class=\"fn-inline base-font base-base-info-icon custom-title-icon\"\r\n        :class=\"cardMenuIn.title.icon\"\r\n        :style=\"{ color: cardMenuIn.iconColor }\"\r\n      ></i> -->\r\n      <div class=\"fn-inline base-font icon_box\" :style=\"{ background: cardMenuIn.iconColor }\">\r\n        <img :src=\"getStyleLevel1(cardMenuIn.title)\" alt=\"\">\r\n      </div>\r\n      <span class=\"custom-title\">{{ cardMenuIn.title.title }}</span>\r\n    </div>\r\n    <div class=\"card-btns\">\r\n      <el-button\r\n        v-for=\"(item, index) in cardMenuIn.buttons\"\r\n        :key=\"index\"\r\n        class=\"card-btn\"\r\n        :class=\"[cardMenuIn.btnHoverColorName, activeBtn === `${cardMenuIn.type}-${item.code}` ? 'btn-active' : '']\"\r\n        :style=\"{ '--btn-btnColor': cardMenuIn.btnColor, '--btn-iconColor': cardMenuIn.iconColor }\"\r\n        @click.stop=\"onClickBtn(item)\"\r\n      >\r\n        <i\r\n          class=\"fn-inline base-font\"\r\n          :class=\"[item.icon, cardMenuIn.iconColorName]\"\r\n        ></i>\r\n        <span>{{ item.title }}</span>\r\n        <span v-if=\"item.code === 'agentItem' && getTodoCount(cardMenu)\" class=\"btn-num todo-num-bg\">{{ getTodoCount(cardMenu) > 99 ? '99+' : getTodoCount(cardMenu) }}</span>\r\n        <span v-else-if=\"item.code !== 'agentItem' && item.num\" class=\"btn-num\">{{ item.num > 99 ? '99+' : item.num }}</span>\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { extend } from '../utils'\r\nimport { getPinYinFirstCharacter } from '@/components/CardMenu/utils/pinyin'\r\nimport { defaultCardConfig, defaultCardData } from './config/config'\r\nexport default {\r\n  name: 'Card',\r\n  props: {\r\n    cardGlobal: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    cardMenu: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    bsMenuClickEvent: {\r\n      type: Function,\r\n      default: function(obj, $this) {}\r\n    },\r\n    rowNo: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    },\r\n    activeBtn: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    },\r\n    seq: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      cardGlobalIn: extend(true, {}, this.cardGlobal),\r\n      cardMenuIn: extend(true, {}, this.cardMenu),\r\n      rowNumber: this.rowNo,\r\n      seqIn: this.seq\r\n    }\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  methods: {\r\n    // 获取待办数量\r\n    getTodoCount(cardMenu) {\r\n      return this.$store.getters['todoInfo/getMenuTodoInfo'](cardMenu?.menu?.guid)?.totalCount || 0\r\n    },\r\n    // card按钮点击事件\r\n    onClickBtn(obj = {}, index) {\r\n      // 按钮触发，事件回调\r\n      let newData = Object.assign({}, obj, { type: this.cardMenuIn.type, rowNo: this.rowNumber, seq: this.seqIn, menu: this.cardMenuIn.menu })\r\n      this.bsCardClickEvent(newData)\r\n    },\r\n\r\n    // 点击事件回调\r\n    bsCardClickEvent(obj) {\r\n      let self = this\r\n      let methods = this.cardMenuIn.methods\r\n      if (obj.code) {\r\n        // this.cardMenuIn.menu 里面的children不对。直接从sysmenu里取吧，这里只给GUID\r\n        if (obj.code === 'agentItem') {\r\n          this.$emit('generateCardBtns', '0', this.cardMenuIn.menu.guid)\r\n        } else if (obj.code === 'doneItem') {\r\n          this.$emit('generateCardBtns', '1', this.cardMenuIn.menu.guid)\r\n        } else if (obj.code === 'oprateGuide') {\r\n          this.$emit('generateCardBtns', '2', this.cardMenuIn.menu.guid)\r\n        }\r\n      }\r\n      if (typeof obj.callback === 'function') {\r\n        // 方式一: 工具栏按钮点击事件回调\r\n        obj.callback(obj, self)\r\n      } else {\r\n        // 方式二: toolbar事件代理\r\n        typeof methods.bsCardClickEvent === 'function' &&\r\n          methods.bsCardClickEvent(obj, self)\r\n      }\r\n    },\r\n\r\n    initCardMenu() {\r\n      let menuCp = extend(true, {}, this.cardMenuIn)\r\n      let cardMenuInTemp = extend(true, defaultCardConfig, defaultCardData, this.cardMenuIn)\r\n      if (menuCp.buttons && menuCp.buttons.length) {\r\n        cardMenuInTemp.buttons = menuCp.buttons\r\n      }\r\n\r\n      this.cardMenuIn = extend(true, {}, cardMenuInTemp)\r\n      // console.log('77', { ...this.cardMenuIn })\r\n    },\r\n    getStyleLevel1(item) {\r\n      try {\r\n        // 为啥不直接用中文？因为有个书包不会配nginx\r\n        let title = getPinYinFirstCharacter(item.title, '', true)\r\n        return require('@/components/CardMenu/imgSvg/' + title + '.svg')\r\n      } catch {\r\n        return require('@/components/CardMenu/imgSvg/default.svg')\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n  },\r\n  watch: {\r\n    cardGlobal: {\r\n      handler(newValue, oldValue) {\r\n        this.cardGlobalIn = Object.assign({}, this.cardGlobalIn, newValue)\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    cardMenu: {\r\n      handler(newValue, oldValue) {\r\n        this.cardMenuIn = extend(true, {}, newValue)\r\n        this.initCardMenu()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    rowNo(newValue) {\r\n      this.rowNumber = newValue\r\n    },\r\n    seq(newValue) {\r\n      this.seqIn = newValue\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style  lang=\"scss\">\r\n  .card-content{\r\n    width: 356px;\r\n    height: 224px;\r\n    background: #FFFFFF;\r\n    box-shadow: 0 0 12px 0 var(--primary-color-shadow);\r\n    border-radius: 2px;\r\n    padding: 0 5px 10px 5px;\r\n    color: #2E3133;\r\n    box-sizing: border-box;\r\n    display: inline-block;\r\n    position: relative;\r\n    overflow: hidden;\r\n    margin: 20px 0px 0 0px;\r\n    .content-bg{\r\n      width: 240px;\r\n      height: 240px;\r\n      position: absolute;\r\n      right: -42px;\r\n      top: -89px;\r\n    }\r\n    .card-title{\r\n      height: 60px;\r\n      padding: 22px 19px 12px 19px;\r\n      .icon_box{\r\n        height: 60px;\r\n        width: 60px;\r\n        border-radius: 50%;\r\n        text-align: center;\r\n        img{\r\n          color:#fff;\r\n          height: 30px;\r\n          width: 30px;\r\n          margin-top: 15px;\r\n          // filter: drop-shadow(#fff 0px 0px)\r\n          stroke: #fff;\r\n        }\r\n      }\r\n      .custom-title-icon{\r\n        width: 60px;\r\n        height: 60px;\r\n        font-size: 60px;\r\n        line-height: 60px;\r\n      }\r\n      .custom-title{\r\n        display: inline-block;\r\n        width: 220px;\r\n        font-size: 22px;\r\n        color: #2E3133;\r\n        letter-spacing: 0;\r\n        text-align: left;\r\n        margin-left: 13px;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n\r\n    .card-btns{\r\n      display: grid;\r\n      grid-template-columns: 1fr 1fr;\r\n      font-size: 0;\r\n      .base-font{\r\n        font-size: 18px;\r\n      }\r\n      .card-btn{\r\n        min-width: 163px;\r\n        height: 50px;\r\n        background: #E3F2FE;\r\n        padding: 15px 24px;\r\n        font-size: 16px;\r\n        color: #2E3133;\r\n        text-align: left;\r\n        font-weight: unset;\r\n        border-radius: 0px;\r\n        position: relative;\r\n        margin: 10px 5px 0px 5px;\r\n        .btn-num{\r\n          position: absolute;\r\n          right: 10px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 12px;\r\n\r\n          &.todo-num-bg {\r\n            min-width: 20px;\r\n            height: 20px;\r\n            border-radius: 10px;\r\n            padding: 4px;\r\n            box-sizing: border-box;\r\n            background: #ED411E;\r\n            color: #fff;\r\n          }\r\n        }\r\n      }\r\n      .icon-class{\r\n        margin-top: -3px;\r\n        color: var(--btn-iconColor);\r\n      }\r\n\r\n      .btn-hover__class{\r\n        background-color: var(--btn-btnColor);\r\n        border-color: var(--btn-btnColor);\r\n      }\r\n      .btn-hover__class:hover, .btn-hover__class:active, .btn-active{\r\n        background-color: var(--btn-iconColor);\r\n        border-color: var(--btn-iconColor);\r\n        color: #fff;\r\n        .icon-class{\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}