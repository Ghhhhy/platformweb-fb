{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\renderers\\tableFilters\\FilterNumberRange\\index.vue?vue&type=style&index=1&id=dd491ea8&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\renderers\\tableFilters\\FilterNumberRange\\index.vue","mtime":1694505521947},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmZpbHRlci1udW1iZXItcmFuZ2Utd3JhcHBlciB7DQogIHdpZHRoOiAxNjBweDsNCiAgcGFkZGluZzogMTBweDsNCn0NCg0KLmZpbHRlci1udW1iZXItcmFuZ2UtZm9vdGVyIHsNCiAgbWFyZ2luLXRvcDogMTZweDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/renderers/tableFilters/FilterNumberRange","sourcesContent":["<template>\r\n  <div class=\"filter-number-range-wrapper\" @keydown.stop>\r\n    <div class=\"filter-number-range-content\">\r\n      <el-input\r\n        v-model=\"min\"\r\n        :min=\"0\"\r\n        type=\"number\"\r\n        size=\"mini\"\r\n        placeholder=\"请输入最小值\"\r\n        style=\"margin-bottom: 10px\"\r\n      />\r\n      <el-input\r\n        v-model=\"max\"\r\n        :min=\"0\"\r\n        type=\"number\"\r\n        size=\"mini\"\r\n        placeholder=\"请输入最大值\"\r\n      />\r\n    </div>\r\n    <div class=\"filter-number-range-footer\">\r\n      <vxe-button status=\"primary\" size=\"mini\" @click=\"confirmHandle\">确认</vxe-button>\r\n      <vxe-button size=\"mini\" @click=\"resetHandle\">重置</vxe-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Message } from 'element-ui'\r\nexport default {\r\n  props: {\r\n    params: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      min: '', // 最小值\r\n      max: '', // 最大值\r\n      option: null // 传入的默认值{Object}: {data: { min, max }}\r\n    }\r\n  },\r\n  watch: {\r\n    params () {\r\n      this.load()\r\n    }\r\n  },\r\n  created () {\r\n    this.load()\r\n  },\r\n  methods: {\r\n    load () {\r\n      const { column } = this.params\r\n      const option = column.filters[0]\r\n      // 经实验必须报存储传入的option引用。后续确认刷选时用此引用传入changeOption\r\n      this.option = option\r\n      this.min = option.data.min\r\n      this.max = option.data.max\r\n    },\r\n    /**\r\n     * 确认\r\n     * */\r\n    confirmHandle(event) {\r\n      const { params, option, min, max } = this\r\n      const [numberMin, numberMax] = [Number(min), Number(max)]\r\n      option.data.min = numberMin\r\n      option.data.max = numberMax\r\n\r\n      if (!numberMax || numberMin < 0 || numberMax <= 0) {\r\n        Message({\r\n          type: 'warning',\r\n          message: '请设置合理的区间',\r\n          customClass: 'modal-layout-message' // 自定义类名，名设置z-index解决modal层级覆盖了message\r\n        })\r\n        return\r\n      }\r\n      if (numberMax <= numberMin) {\r\n        Message({\r\n          type: 'warning',\r\n          message: '请设置合理的最大值',\r\n          customClass: 'modal-layout-message' // 自定义类名，名设置z-index解决modal层级覆盖了message\r\n        })\r\n        return\r\n      }\r\n\r\n      params.$panel.changeOption(event, true, option)\r\n      params.$panel.confirmFilter()\r\n    },\r\n    /**\r\n     * 重置\r\n     */\r\n    resetHandle() {\r\n      const { params, option } = this\r\n      params.$panel.resetFilter(option.data)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.filter-number-range-wrapper {\r\n  width: 160px;\r\n  padding: 10px;\r\n}\r\n\r\n.filter-number-range-footer {\r\n  margin-top: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>\r\n"]}]}