{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\manageSystem\\table\\EnterItemConfigModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\manageSystem\\table\\EnterItemConfigModal.vue","mtime":1694576524814},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdFbnRlckl0ZW1Db25maWdNb2RhbCcsDQogIHByb3BzOiB7DQogICAgaXRlbVZpc2libGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgY29uZmlnUGFyYW1zOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBqc29uRGF0YTogew0KICAgICAgICBjb25maWd1cmU6IHsNCiAgICAgICAgICBpdGVtc0NvbmZpZzogW10sDQogICAgICAgICAgZ2xvYmFsQ29uZmlnOiB7fSwNCiAgICAgICAgICBwYWdlQ29uZmlnOiB7fSwNCiAgICAgICAgICBlZGl0Q29uZmlnOiB7fSwNCiAgICAgICAgICBlZGl0UnVsZXM6IHt9LA0KICAgICAgICAgIGZvb3RlckNvbmZpZzoge30sDQogICAgICAgICAgZGF0YUNvbmZpZzogew0KICAgICAgICAgICAgZGF0YVNvdWNlVHlwZTogJycNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBlZGl0b3JWaXNpYmxlOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uU2F2ZUl0ZW1DbGljayh0YWJsZUNvbmZTdHIpIHsNCiAgICAgIC8vIOS/neWtmOihqOagvOmFjee9rg0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICB0aGlzLmpzb25EYXRhLmNvbmZpZ3VyZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuanNvbkRhdGEuY29uZmlndXJlKQ0KICAgICAgdGhpcy4kaHR0cFtzZWxmLmNvbmZpZ1BhcmFtcy5vcHRpb25UeXBlID09PSAnYWRkJyA/ICdwb3N0JyA6ICdwdXQnXSgnbXAtYi1wZXJtLXNlcnZpY2UvdjEvdGFibGVjb25mJywgdGhpcy5qc29uRGF0YSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgICAgICAgc2VsZi5pdGVtVmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgICBzZWxmLmVkaXRvclZpc2libGUgPSBmYWxzZQ0KICAgICAgICAgICAgc2VsZi4kZW1pdCgnb25JdGVtQ2xvc2UnKQ0KICAgICAgICAgICAgc2VsZi4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgICAgbWVzc2FnZTogc2VsZi5wYXJhbXMub3B0aW9uVHlwZSA9PT0gJ2FkZCcgPyAn5pWw5o2u5paw5aKe5oiQ5YqfJyA6ICfmlbDmja7kv53lrZjmiJDlip8nLA0KICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICAgIH0pDQogICAgfSwNCiAgICBvblN0b3BJdGVtQ2xpY2soKSB7DQogICAgICB0aGlzLmVkaXRvclZpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy5pdGVtVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICBpdGVtQ2xvc2UoKSB7DQogICAgICB0aGlzLmVkaXRvclZpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy5pdGVtVmlzaWJsZSA9IGZhbHNlDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIHdhdGNoOiB7DQogICAgaXRlbVZpc2libGU6IHsNCiAgICAgIGhhbmRsZXIobmV3VmFsdWUpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOml0ZW1WaXNpYmxlJywgbmV3VmFsdWUpDQogICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdHJ1ZSkgew0KICAgICAgICAgIHRoaXMuZWRpdG9yVmlzaWJsZSA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0sDQogICAgY29uZmlnUGFyYW1zOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlKSB7DQogICAgICAgIHRoaXMuanNvbkRhdGEgPSBuZXdWYWx1ZQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["EnterItemConfigModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EnterItemConfigModal.vue","sourceRoot":"src/views/manageSystem/table","sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"itemVisible\"\r\n    show-zoom\r\n    resize\r\n    transfer\r\n    width=\"90%\"\r\n    height=\"90%\"\r\n    title=\"录入配置项\"\r\n    class=\"item-config\"\r\n    @close=\"itemClose\"\r\n  >\r\n    <BsJsonEditor v-if=\"editorVisible\" v-model=\"jsonData\" :read-only=\"false\" />\r\n    <div style=\"height:40px\" class=\"item-btn\">\r\n      <vxe-button size=\"medium\" content=\"取消\" style=\"margin-left:10px\" @click=\"onStopItemClick\" />\r\n      <vxe-button size=\"medium\" status=\"primary\" content=\"保存\" @click=\"onSaveItemClick\" />\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'EnterItemConfigModal',\r\n  props: {\r\n    itemVisible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    configParams: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      jsonData: {\r\n        configure: {\r\n          itemsConfig: [],\r\n          globalConfig: {},\r\n          pageConfig: {},\r\n          editConfig: {},\r\n          editRules: {},\r\n          footerConfig: {},\r\n          dataConfig: {\r\n            dataSouceType: ''\r\n          }\r\n        }\r\n      },\r\n      editorVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    onSaveItemClick(tableConfStr) {\r\n      // 保存表格配置\r\n      let self = this\r\n      this.jsonData.configure = JSON.stringify(this.jsonData.configure)\r\n      this.$http[self.configParams.optionType === 'add' ? 'post' : 'put']('mp-b-perm-service/v1/tableconf', this.jsonData)\r\n        .then((res) => {\r\n          if (res.rscode === '100000') {\r\n            self.itemVisible = false\r\n            self.editorVisible = false\r\n            self.$emit('onItemClose')\r\n            self.$message({\r\n              showClose: true,\r\n              message: self.params.optionType === 'add' ? '数据新增成功' : '数据保存成功',\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    onStopItemClick() {\r\n      this.editorVisible = false\r\n      this.itemVisible = false\r\n    },\r\n    itemClose() {\r\n      this.editorVisible = false\r\n      this.itemVisible = false\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  watch: {\r\n    itemVisible: {\r\n      handler(newValue) {\r\n        this.$emit('update:itemVisible', newValue)\r\n        if (newValue === true) {\r\n          this.editorVisible = true\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    configParams: {\r\n      handler(newValue) {\r\n        this.jsonData = newValue\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  .item-config {\r\n    .T-editor-json {\r\n      height: 90%;\r\n\r\n      .BsJsonEditor-vue {\r\n        height: 100%;\r\n      }\r\n    }\r\n\r\n    .item-btn {\r\n      margin:20px 0 0 0;\r\n      height: 40px;\r\n      display: flex;\r\n      flex-direction: row-reverse;\r\n    }\r\n  }\r\n</style>\r\n"]}]}