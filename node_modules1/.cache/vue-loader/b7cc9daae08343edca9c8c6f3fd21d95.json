{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\poper\\poper.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\poper\\poper.vue","mtime":1694505521363},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlscycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1BvcGVyRXh0ZW5kJywNCiAgcHJvcHM6IHsNCiAgICBjYXJkQnRuczogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfSwNCiAgICBjdXI6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiB7fQ0KICAgICAgfQ0KICAgIH0sDQogICAgYWxsb3dOdW06IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiAwDQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIGxldCBhZ2VudEl0ZW1UZW1wID0gW10NCiAgICBpZiAodGhpcy5jdXIuY3VycmVudENhcmQgJiYgdGhpcy5jdXIuY3VycmVudEJ0biAmJiB0aGlzLmNhcmRCdG5zW3RoaXMuY3VyLmN1cnJlbnRDYXJkXSkgew0KICAgICAgYWdlbnRJdGVtVGVtcCA9IGV4dGVuZCh0cnVlLCBbXSwgdGhpcy5jYXJkQnRuc1t0aGlzLmN1ci5jdXJyZW50Q2FyZF1bdGhpcy5jdXIuY3VycmVudEJ0bl0pDQogICAgfQ0KICAgIHJldHVybiB7DQogICAgICBhZ2VudEl0ZW1zOiBhZ2VudEl0ZW1UZW1wLA0KICAgICAgY2FyZEJ0bnNJbjogZXh0ZW5kKHRydWUsIHt9LCB0aGlzLmNhcmRCdG5zKSwNCiAgICAgIGN1cnJlbnRDYXJkOiB0aGlzLmN1ci5jdXJyZW50Q2FyZCB8fCAnJywNCiAgICAgIGN1cnJlbnRCdG46IHRoaXMuY3VyLmN1cnJlbnRCdG4gfHwgJycsDQogICAgICBhbGxvd051bUluOiB0aGlzLmFsbG93TnVtDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGhhc0RhdGEoKSB7DQogICAgICByZXR1cm4gdGhpcy5hZ2VudEl0ZW1zLmxlbmd0aA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOS4muWKoeaMiemSrue7hOeCueWHuw0KICAgIG9uQ2xpY2tCdG4ob2JqID0ge30pIHsNCiAgICAgIC8vIOaMiemSruinpuWPke+8jOS6i+S7tuWbnuiwgw0KICAgICAgT2JqZWN0LmFzc2lnbihvYmosIHsgdHlwZTogdGhpcy5jdXJyZW50Q2FyZCB9KQ0KICAgICAgdGhpcy5ic0NhcmRQb3BlckNsaWNrRXZlbnQob2JqKQ0KICAgIH0sDQoNCiAgICAvLyDngrnlh7vkuovku7blm57osIMNCiAgICBic0NhcmRQb3BlckNsaWNrRXZlbnQob2JqKSB7DQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIGxldCBtZXRob2RzID0gdGhpcy5jYXJkQnRuc0luLmdsb2JhbENvbmZpZy5tZXRob2RzDQogICAgICBpZiAodHlwZW9mIG9iai5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAvLyDmlrnlvI/kuIA6IOW3peWFt+agj+aMiemSrueCueWHu+S6i+S7tuWbnuiwgw0KICAgICAgICBvYmouY2FsbGJhY2sob2JqLCBzZWxmKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g5pa55byP5LqMOiB0b29sYmFy5LqL5Lu25Luj55CGDQogICAgICAgIHR5cGVvZiBtZXRob2RzLmJzQ2FyZFBvcGVyQ2xpY2tFdmVudCA9PT0gJ2Z1bmN0aW9uJyAmJg0KICAgICAgICAgIG1ldGhvZHMuYnNDYXJkUG9wZXJDbGlja0V2ZW50KG9iaiwgc2VsZikNCiAgICAgIH0NCiAgICB9LA0KDQogICAgaW5pdEFnZW50SXRlbXMoKSB7DQogICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZCAmJiB0aGlzLmN1cnJlbnRCdG4pIHsNCiAgICAgICAgaWYgKCF0aGlzLmNhcmRCdG5zSW5bdGhpcy5jdXJyZW50Q2FyZF0pIHsNCiAgICAgICAgICB0aGlzLmFnZW50SXRlbXMgPSBbXQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICAgIHRoaXMuYWdlbnRJdGVtcyA9IGV4dGVuZCh0cnVlLCBbXSwgdGhpcy5jYXJkQnRuc0luW3RoaXMuY3VycmVudENhcmRdW3RoaXMuY3VycmVudEJ0bl0pDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQogIH0sDQogIHdhdGNoOiB7DQogICAgY2FyZEJ0bnM6IHsNCiAgICAgIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7DQogICAgICAgIHRoaXMuY2FyZEJ0bnNJbiA9IGV4dGVuZCh0cnVlLCB7fSwgbmV3VmFsdWUpDQogICAgICAgIHRoaXMuaW5pdEFnZW50SXRlbXMoKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIGN1cjogew0KICAgICAgaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsNCiAgICAgICAgdGhpcy5jdXJyZW50Q2FyZCA9IG5ld1ZhbHVlLmN1cnJlbnRDYXJkDQogICAgICAgIHRoaXMuY3VycmVudEJ0biA9IG5ld1ZhbHVlLmN1cnJlbnRCdG4NCiAgICAgICAgdGhpcy5pbml0QWdlbnRJdGVtcygpDQogICAgICB9LA0KICAgICAgZGVlcDogdHJ1ZSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0sDQogICAgYWxsb3dOdW0obmV3VmFsdWUpIHsNCiAgICAgIHRoaXMuYWxsb3dOdW1JbiA9IG5ld1ZhbHVlDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["poper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"poper.vue","sourceRoot":"src/components/CardMenu/poper","sourcesContent":["<template>\r\n  <div class=\"card-menu-extend__content\">\r\n    <div\r\n      v-for=\"(item, index) in agentItems\"\r\n      v-show=\"hasData\"\r\n      :key=\"index\"\r\n      class=\"fn-inline menu-extend__item\"\r\n      :class=\" [(index + 1) % allowNumIn === 0 ? 'extend-last-child' : '',\r\n                ((index + 1) % allowNumIn === 1) ? 'extend-first-child' : '',\r\n                (index + 1) <= allowNumIn ? 'extend-row-top' : '',\r\n                (agentItems.length - (index + 1)) < (agentItems.length % allowNumIn) ? 'extend-row-bottom' : '',\r\n\r\n      ]\"\r\n    >\r\n      <div class=\"fn-inline extend-title\">\r\n        <div class=\"title-tip fn-inline olh pointer\" :title=\"item.name\" @click.stop=\"onClickBtn(item)\">{{ item.name }}</div>\r\n        <div v-if=\"item.num\" class=\"num-color fn-inline\">{{ item.num }}条</div>\r\n      </div>\r\n      <button v-if=\"item.button\" class=\"extend-btn\" @click.stop=\"onClickBtn(item)\">{{ item.button.label }}</button>\r\n    </div>\r\n    <div v-show=\"!hasData\" class=\"no-data__content\">\r\n      暂无数据\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { extend } from '../utils'\r\nexport default {\r\n  name: 'PoperExtend',\r\n  props: {\r\n    cardBtns: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    cur: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    allowNum: {\r\n      type: Number,\r\n      default() {\r\n        return 0\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    let agentItemTemp = []\r\n    if (this.cur.currentCard && this.cur.currentBtn && this.cardBtns[this.cur.currentCard]) {\r\n      agentItemTemp = extend(true, [], this.cardBtns[this.cur.currentCard][this.cur.currentBtn])\r\n    }\r\n    return {\r\n      agentItems: agentItemTemp,\r\n      cardBtnsIn: extend(true, {}, this.cardBtns),\r\n      currentCard: this.cur.currentCard || '',\r\n      currentBtn: this.cur.currentBtn || '',\r\n      allowNumIn: this.allowNum\r\n    }\r\n  },\r\n  computed: {\r\n    hasData() {\r\n      return this.agentItems.length\r\n    }\r\n  },\r\n  methods: {\r\n    // 业务按钮组点击\r\n    onClickBtn(obj = {}) {\r\n      // 按钮触发，事件回调\r\n      Object.assign(obj, { type: this.currentCard })\r\n      this.bsCardPoperClickEvent(obj)\r\n    },\r\n\r\n    // 点击事件回调\r\n    bsCardPoperClickEvent(obj) {\r\n      let self = this\r\n      let methods = this.cardBtnsIn.globalConfig.methods\r\n      if (typeof obj.callback === 'function') {\r\n        // 方式一: 工具栏按钮点击事件回调\r\n        obj.callback(obj, self)\r\n      } else {\r\n        // 方式二: toolbar事件代理\r\n        typeof methods.bsCardPoperClickEvent === 'function' &&\r\n          methods.bsCardPoperClickEvent(obj, self)\r\n      }\r\n    },\r\n\r\n    initAgentItems() {\r\n      if (this.currentCard && this.currentBtn) {\r\n        if (!this.cardBtnsIn[this.currentCard]) {\r\n          this.agentItems = []\r\n          return\r\n        }\r\n        this.agentItems = extend(true, [], this.cardBtnsIn[this.currentCard][this.currentBtn])\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n  },\r\n  watch: {\r\n    cardBtns: {\r\n      handler(newValue, oldValue) {\r\n        this.cardBtnsIn = extend(true, {}, newValue)\r\n        this.initAgentItems()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    cur: {\r\n      handler(newValue, oldValue) {\r\n        this.currentCard = newValue.currentCard\r\n        this.currentBtn = newValue.currentBtn\r\n        this.initAgentItems()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    allowNum(newValue) {\r\n      this.allowNumIn = newValue\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .card-menu-extend__content{\r\n    position: relative;\r\n    padding: 8px 0;\r\n    .no-data__content{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-size: 20px;\r\n      color: #dFE1E2;\r\n      height: 120px;\r\n    }\r\n    .menu-extend__item{\r\n      width: 460px;\r\n      height: 40px;\r\n      padding: 8px 50px;\r\n      box-sizing: border-box;\r\n      display: inline-flex;\r\n      justify-content: space-between;\r\n      font-size: 14px;\r\n      color: #2E3133;\r\n      border-right: solid 1px #DFE1E2;\r\n      margin: 0 0 0 10px;\r\n      .extend-title{\r\n        margin-top: 2px;\r\n        .title-tip{\r\n          max-width: 280px;\r\n          text-decoration: underline;\r\n          color: var(--primary-color)\r\n        }\r\n        .num-color{\r\n          color: #FFA522;\r\n          margin-left: 5px;\r\n        }\r\n      }\r\n      .extend-btn{\r\n        height: 24px;\r\n        box-sizing: border-box;\r\n        padding: 2px 8px;\r\n        border-radius: 2px;\r\n        font-weight: 300;\r\n        font-size: 12px;\r\n      }\r\n      .olh {\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n      }\r\n    }\r\n    .extend-last-child{\r\n      margin-left: 0px;\r\n      border-right: unset;\r\n    }\r\n    .extend-first-child{\r\n      margin-left: 0px;\r\n    }\r\n    .menu-extend__item::after{\r\n      padding:0;margin:0;display:block;\r\n      content: \"\";\r\n      width:50%;\r\n      height:1.1px;\r\n      background-color:white;\r\n      position: absolute;\r\n      right:0;\r\n      top:-1px;\r\n    }\r\n    .extend-row-bottom::after{\r\n      padding:0;margin:0;display:block;\r\n      content: \"\";\r\n      width:50%;\r\n      height:1.1px;\r\n      background-color:white;\r\n      position: absolute;\r\n      right:0;\r\n      top:-1px;\r\n    }\r\n    .extend-btn{\r\n      color: var(--primary-color);\r\n      background: #ecf5ff;\r\n      border-color: #b3d8ff;\r\n    }\r\n    .extend-btn:focus, .extend-btn:hover, .extend-btn:active{\r\n      background-color: var(--primary-color);\r\n      border-color: var(--primary-color);\r\n      color: #fff;\r\n    }\r\n\r\n  }\r\n</style>\r\n"]}]}