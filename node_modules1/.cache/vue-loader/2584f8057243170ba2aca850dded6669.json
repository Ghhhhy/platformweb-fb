{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\components\\AuditProgress.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\components\\AuditProgress.vue","mtime":1695716045727},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHVucmVmLCBpbmplY3QsIGNvbXB1dGVkIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknDQppbXBvcnQgdXNlVGFibGUgZnJvbSAnQC9ob29rcy91c2VUYWJsZScNCmltcG9ydCB7IGF1ZGl0SW5mb0NvbHVtbnMsIGdldEF1ZGl0RGVzY3JpcHRpb25Db2x1bW4sIGluZGV4Q29sdW1uIH0gZnJvbSAnLi4vbW9kZWwvZGF0YScNCmltcG9ydCB7IFJvdXRlclBhdGhFbnVtLCBXYXJuTGV2ZWxFbnVtIH0gZnJvbSAnLi4vbW9kZWwvZW51bScNCg0KZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsNCiAgcHJvcHM6IHsNCiAgICBpc1BpbnQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgdGFibGVEYXRhOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IChbXSkNCiAgICB9DQogIH0sDQogIHNldHVwKHByb3BzKSB7DQogICAgLy8g5b2T5YmN6YCJ5Lit55qE5Lia5Yqh5Y2V5o2uDQogICAgY29uc3QgY3VycmVudE5vZGUgPSBpbmplY3QoJ2N1cnJlbnROb2RlJykNCiAgICAvLyDpobXpnaLot6/nlLENCiAgICBjb25zdCBwYWdlUGF0aCA9IGluamVjdCgncGFnZVBhdGgnKQ0KDQogICAgY29uc3QgY29sdW1ucyA9IGNvbXB1dGVkKCgpID0+IHsNCiAgICAgIGNvbnN0IGNvbW1vbiA9IFtpbmRleENvbHVtbiwgLi4uYXVkaXRJbmZvQ29sdW1uc10NCiAgICAgIGlmICh1bnJlZihjdXJyZW50Tm9kZSk/Lndhcm5MZXZlbCA9PT0gV2FybkxldmVsRW51bS5CTFVFKSB7DQogICAgICAgIC8vIOiTneiJsumihOitpg0KICAgICAgICBjb21tb24uc3BsaWNlKA0KICAgICAgICAgIGNvbW1vbi5sZW5ndGggLSAxLA0KICAgICAgICAgIDAsDQogICAgICAgICAgZ2V0QXVkaXREZXNjcmlwdGlvbkNvbHVtbih7IHRpdGxlOiAn5aSE55CG6K+05piOJyB9KQ0KICAgICAgICApDQogICAgICB9IGVsc2UgaWYgKHVucmVmKHBhZ2VQYXRoKSA9PT0gUm91dGVyUGF0aEVudW0oKS5VTklUX0ZFRURCQUNLKSB7DQogICAgICAgIGNvbW1vbi5zcGxpY2UoDQogICAgICAgICAgY29tbW9uLmxlbmd0aCAtIDEsDQogICAgICAgICAgMCwNCiAgICAgICAgICBnZXRBdWRpdERlc2NyaXB0aW9uQ29sdW1uKHsgdGl0bGU6ICflpITnkIbor7TmmI4v5aSE55CG5oSP6KeBJyB9KQ0KICAgICAgICApDQogICAgICAgIC8vIGxldCBpbmRleCA9IGNvbW1vbi5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmZpZWxkID09PSAnY3JlYXRlQnknKQ0KICAgICAgICAvLyBjb21tb24uc3BsaWNlKGluZGV4ICsgMSwgMCwgew0KICAgICAgICAvLyAgIGZpZWxkOiAnY3VyU3RhdHVzTmFtZScsDQogICAgICAgIC8vICAgdGl0bGU6ICflpITnkIbnirbmgIEnLA0KICAgICAgICAvLyAgIHdpZHRoOiAyMjAsDQogICAgICAgIC8vICAgZmlsdGVyczogZmFsc2UsDQogICAgICAgIC8vICAgc29ydGFibGU6IGZhbHNlDQogICAgICAgIC8vIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb21tb24uc3BsaWNlKA0KICAgICAgICAgIGNvbW1vbi5sZW5ndGggLSAxLA0KICAgICAgICAgIDAsDQogICAgICAgICAgZ2V0QXVkaXREZXNjcmlwdGlvbkNvbHVtbih7IHRpdGxlOiAn5aSE55CG6K+05piOL+WkhOeQhuaEj+ingScgfSkNCiAgICAgICAgKQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gY29tbW9uDQogICAgfSkNCg0KICAgIGNvbnN0IGNvbXB1dGVkQ29sdW1uV2lkdGggPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICBsZXQgbGVuZ3RoID0gdW5yZWYoY29sdW1ucykubGVuZ3RoDQogICAgICBjb25zdCB0b3RhbFdpZHRoID0gdW5yZWYoY29sdW1ucykucmVkdWNlKChzdW0sIGNvbHVtbikgPT4gew0KICAgICAgICBpZiAoY29sdW1uLndpZHRoKSB7DQogICAgICAgICAgc3VtICs9IGNvbHVtbi53aWR0aA0KICAgICAgICAgIGxlbmd0aC0tDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN1bQ0KICAgICAgfSkNCg0KICAgICAgcmV0dXJuIGBjYWxjKCgxMDAlIC0gJHt0b3RhbFdpZHRofXB4KSAvICR7bGVuZ3RofWANCiAgICB9KQ0KICAgIC8qKg0KICAgICAqIOihqOagvA0KICAgICAqICovDQogICAgY29uc3QgWw0KICAgICAgew0KICAgICAgICB0YWJsZUNvbmZpZw0KICAgICAgICAvLyB0YWJsZURhdGENCiAgICAgIH0NCiAgICBdID0gdXNlVGFibGUoew0KICAgICAgZGF0YUtleTogJ2RhdGEnDQogICAgfSkNCiAgICB0YWJsZUNvbmZpZy5nbG9iYWxDb25maWcgPSB7DQogICAgICBzZXE6IHRydWUsIC8vIOW6j+WPt+WIlw0KICAgICAgY2hlY2tUeXBlOiBmYWxzZSAvLyBoYXNDaGVja2JveA0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOiOt+WPlnRk5YC8DQogICAgICogQHBhcmFtIHJvdw0KICAgICAqIEBwYXJhbSBjb2x1bW4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBnZXRUZExhYmVsKHJvdywgY29sdW1uLCBpbmRleCkgew0KICAgICAgaWYgKGNvbHVtbj8udHlwZSA9PT0gJ3NlcScpIHsNCiAgICAgICAgcmV0dXJuIGluZGV4ICsgMQ0KICAgICAgfQ0KICAgICAgaWYgKGNvbHVtbj8uY2VsbFJlbmRlcj8ubmFtZT8uaW5kZXhPZignc2VsZWN0JykpIHsNCiAgICAgICAgcmV0dXJuIGNvbHVtbj8uY2VsbFJlbmRlci5vcHRpb25zLmZpbmQoaXRlbSA9PiBpdGVtLnZhbHVlID09PSByb3dbY29sdW1uLmZpZWxkXSk/LmxhYmVsDQogICAgICB9DQogICAgICByZXR1cm4gcm93W2NvbHVtbi5maWVsZF0NCiAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIGNvbHVtbnMsDQogICAgICB0YWJsZUNvbmZpZywNCiAgICAgIC8vIHRhYmxlRGF0YSwNCiAgICAgIGdldFRkTGFiZWwsDQogICAgICBjb21wdXRlZENvbHVtbldpZHRoDQogICAgfQ0KICB9DQp9KQ0K"},{"version":3,"sources":["AuditProgress.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AuditProgress.vue","sourceRoot":"src/views/main/handlingOfViolations/components","sourcesContent":["<template>\r\n  <div class=\"module-container audit-progress-wrapper\">\r\n    <bs-table-title title=\"处理进度\" style=\"margin-bottom: 10px\" />\r\n    <!--<BsTable-->\r\n    <!--  :table-config=\"tableConfig\"-->\r\n    <!--  :table-columns-config=\"columns\"-->\r\n    <!--  :table-data=\"tableData\"-->\r\n    <!--  :toolbar-config=\"false\"-->\r\n    <!--  :pager-config=\"false\"-->\r\n    <!--  size=\"medium\"-->\r\n    <!--  v-bind=\"$attrs\"-->\r\n    <!--  :max-height=\"400\"-->\r\n    <!--/>-->\r\n    <!--<el-table :data=\"tableData\" width=\"100%\">-->\r\n    <!--  <el-table-column-->\r\n    <!--    v-for=\"column in columns\"-->\r\n    <!--    :key=\"column.field\"-->\r\n    <!--    :prop=\"column.field\"-->\r\n    <!--    :label=\"column.title\"-->\r\n    <!--    :min-width=\"column.wdith\"-->\r\n    <!--  />-->\r\n    <!--</el-table>-->\r\n    <!--<vxe-grid-->\r\n    <!--  :columns=\"columns\"-->\r\n    <!--  :data=\"tableData\"-->\r\n    <!--  :scroll-x=\"{ enabled: false }\"-->\r\n    <!--  :scroll-y=\"{ enabled: false }\"-->\r\n    <!--/>-->\r\n    <!--自定义table解决：BsTable、vxe-grid、el-table打印出现滚动条列咋展示不全问题-->\r\n    <table class=\"audit-progress-table\">\r\n      <!--表头-->\r\n      <thead>\r\n        <tr>\r\n          <!--除开第1、2最后一列（序号、处理日期、是否终审），其余列平分宽度-->\r\n          <th\r\n            v-for=\"(column) in columns\"\r\n            :key=\"column.field\"\r\n            :align=\"column.titleAlign || 'center'\"\r\n            :style=\"{\r\n              width: column.width ? `${column.width}px` : computedColumnWidth,\r\n              textAlign: 'center',\r\n            }\"\r\n          >\r\n            {{ column.title }}\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <!--表体-->\r\n      <tbody>\r\n        <tr\r\n          v-for=\"(row, index) in tableData\"\r\n          :key=\"index\"\r\n        >\r\n          <!--除开第1、2最后一列（序号、处理日期、是否终审），其余列左对齐-->\r\n          <td\r\n            v-for=\"(column) in columns\"\r\n            :key=\"column.field\"\r\n            valign=\"top\"\r\n            :align=\"column.align || 'center'\"\r\n          >\r\n            {{ getTdLabel(row, column, index) }}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div\r\n      v-if=\"!tableData.length\"\r\n      class=\"empty-container\"\r\n    >\r\n      <!--<img :src=\"require('@/components/Table/assets/img/empty.svg')\">-->\r\n      <p style=\"margin-top: 8px;\">暂无处理进度数据！</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, unref, inject, computed } from '@vue/composition-api'\r\nimport useTable from '@/hooks/useTable'\r\nimport { auditInfoColumns, getAuditDescriptionColumn, indexColumn } from '../model/data'\r\nimport { RouterPathEnum, WarnLevelEnum } from '../model/enum'\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    isPint: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    tableData: {\r\n      type: Array,\r\n      default: () => ([])\r\n    }\r\n  },\r\n  setup(props) {\r\n    // 当前选中的业务单据\r\n    const currentNode = inject('currentNode')\r\n    // 页面路由\r\n    const pagePath = inject('pagePath')\r\n\r\n    const columns = computed(() => {\r\n      const common = [indexColumn, ...auditInfoColumns]\r\n      if (unref(currentNode)?.warnLevel === WarnLevelEnum.BLUE) {\r\n        // 蓝色预警\r\n        common.splice(\r\n          common.length - 1,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理说明' })\r\n        )\r\n      } else if (unref(pagePath) === RouterPathEnum().UNIT_FEEDBACK) {\r\n        common.splice(\r\n          common.length - 1,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理说明/处理意见' })\r\n        )\r\n        // let index = common.findIndex(item => item.field === 'createBy')\r\n        // common.splice(index + 1, 0, {\r\n        //   field: 'curStatusName',\r\n        //   title: '处理状态',\r\n        //   width: 220,\r\n        //   filters: false,\r\n        //   sortable: false\r\n        // })\r\n      } else {\r\n        common.splice(\r\n          common.length - 1,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理说明/处理意见' })\r\n        )\r\n      }\r\n\r\n      return common\r\n    })\r\n\r\n    const computedColumnWidth = computed(() => {\r\n      let length = unref(columns).length\r\n      const totalWidth = unref(columns).reduce((sum, column) => {\r\n        if (column.width) {\r\n          sum += column.width\r\n          length--\r\n        }\r\n        return sum\r\n      })\r\n\r\n      return `calc((100% - ${totalWidth}px) / ${length}`\r\n    })\r\n    /**\r\n     * 表格\r\n     * */\r\n    const [\r\n      {\r\n        tableConfig\r\n        // tableData\r\n      }\r\n    ] = useTable({\r\n      dataKey: 'data'\r\n    })\r\n    tableConfig.globalConfig = {\r\n      seq: true, // 序号列\r\n      checkType: false // hasCheckbox\r\n    }\r\n\r\n    /**\r\n     * 获取td值\r\n     * @param row\r\n     * @param column\r\n     */\r\n    function getTdLabel(row, column, index) {\r\n      if (column?.type === 'seq') {\r\n        return index + 1\r\n      }\r\n      if (column?.cellRender?.name?.indexOf('select')) {\r\n        return column?.cellRender.options.find(item => item.value === row[column.field])?.label\r\n      }\r\n      return row[column.field]\r\n    }\r\n    return {\r\n      columns,\r\n      tableConfig,\r\n      // tableData,\r\n      getTdLabel,\r\n      computedColumnWidth\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.module-container {\r\n  margin-top: 16px;\r\n}\r\n.audit-progress-table {\r\n  width: 100%;\r\n\r\n  th, td {\r\n    border-collapse: collapse;\r\n    border: 0.5px solid rgba(#606266, 0.6);\r\n    border-top: none;\r\n    border-left: none;\r\n  }\r\n\r\n  tr th:last-child,\r\n  tr td:last-child {\r\n    border-right-color: #f0f0f0;\r\n  }\r\n\r\n  tr th:first-child,\r\n  tr td:first-child {\r\n    border-left-color: #f0f0f0;\r\n  }\r\n\r\n  thead tr {\r\n    background: #edf2fc;\r\n    box-shadow: 1px 0 0 #cfd2d4;\r\n\r\n    th {\r\n      font-weight: 700;\r\n      color: #606266;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n\r\n  th, td {\r\n    padding: 6px;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  tbody tr td {\r\n    font-size: 14px;\r\n    padding: 5px;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  tbody tr:nth-child(even) {\r\n    background-color: #f8fafe\r\n  }\r\n}\r\n.empty-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n</style>\r\n"]}]}