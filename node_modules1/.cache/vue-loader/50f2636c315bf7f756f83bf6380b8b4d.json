{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\other\\menuTree\\components\\TreeRender.vue?vue&type=style&index=0&id=3658b7fa&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\other\\menuTree\\components\\TreeRender.vue","mtime":1694505521363},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":1696752946978},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoudHJlZS1ib3h7DQogIHVsew0KICAgIG1hcmdpbi1sZWZ0OiAxMHB4Ow0KICAgIC50cmVlLWxpc3QtYm94ew0KICAgICAgbGluZS1oZWlnaHQ6IDI1cHg7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgLmxlZnR7DQogICAgICAgIHdpZHRoOiAyMDZweDsNCiAgICAgICAgcGFkZGluZy1yaWdodDogMTZweDsNCiAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICBmb250LXdlaWdodDogNzAwOw0KICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgfQ0KICAgICAgc3Ryb25nLCBpew0KICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7DQogICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7DQogICAgICB9DQogICAgICAucmlnaHR7DQoNCiAgICAgICAgZmxleDogMTsNCiAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICBzcGFuew0KICAgICAgICAgIG1hcmdpbi1yaWdodDogMThweDsNCiAgICAgICAgICBjb2xvcjogdmFyKC0tbWVudS1pdGVtLWNvbG9yKTsNCiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgICAgICAgd2lkdGg6IDI0MHB4Ow0KICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["TreeRender.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TreeRender.vue","sourceRoot":"src/components/CardMenu/other/menuTree/components","sourcesContent":["<!-- 功能菜单 -->\r\n<template>\r\n  <div class=\"tree-box\">\r\n    <ul v-for=\"(item, index) in data\" :key=\"index\">\r\n      <li>\r\n        <div class=\"tree-list-box\">\r\n          <div\r\n            class=\"left\"\r\n            :style=\"{ width: `${206 - item.level * 10}px` }\"\r\n          >{{ item.name }}</div>\r\n          <div\r\n            v-if=\"item.subList\"\r\n            class=\"right\"\r\n          >\r\n            <span v-for=\"(it, idx) in item.subList\" :key=\"idx\" @click=\"getRouter(it)\">\r\n              <el-tooltip v-if=\"it.name.length > 8 && renderTip\" class=\"item\" effect=\"dark\" :content=\"it.name\" placement=\"top-start\">\r\n                <strong>{{ it.name }}</strong>\r\n              </el-tooltip>\r\n              <i v-else> {{ it.name }}</i>\r\n            </span>\r\n          </div>\r\n          <div style=\"clear: both;\"></div>\r\n        </div>\r\n        <menu-tree v-if=\"item.children && item.children.length > 0\" :tree-data=\"item.children\" />\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport globalConfig from '../../../../GlobalConfig/index.js'\r\nimport MenuModule from '@/api/frame/common/menu.js'\r\n\r\nexport default {\r\n  components: {},\r\n  name: 'MenuTree',\r\n  props: {\r\n    treeData: {\r\n      type: [Array, Object],\r\n      // required: true,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      renderTip: globalConfig.homeCard.showTip,\r\n      keyWord: '',\r\n      menuData: this.data\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    input (val) {\r\n      console.log(val)\r\n    },\r\n    onMenuSelectChange(obj) {\r\n      let self = this\r\n      if (obj.param5 && obj.param5.indexOf('needcheck=true') >= 0) { // 需要校验编报是否已关闭\r\n        let params = {\r\n          menuguid: obj.guid,\r\n          appguid: obj.appid,\r\n          appid: obj.appsysid,\r\n          specroleguid: '',\r\n          roleguid: obj.roleguid }\r\n        MenuModule.getFbPageConfig(params).then(res => {\r\n          if (res) {\r\n            if (res.code === '100000') {\r\n              Object.assign(obj, res)\r\n              if (res.data.isbudgetbegin === 0 && res.data.datatype !== 8) {\r\n                self.$XModal.message({ status: 'info', message: '预算编报已关闭' })\r\n              } else {\r\n                self.$store.commit('setCurMenuObj', obj)\r\n              }\r\n            } else {\r\n              console.log(res.errorInfor)\r\n              if (res.code === 0) {\r\n                self.$XModal.message({ status: 'error', message: res.errorInfor.response.data.msg })\r\n              } else if (res.msg) {\r\n                self.$XModal.message({ status: 'error', message: `错误：[${res.code}-${res.msg}]` })\r\n              } else if (res.message) {\r\n                this.$XModal.message({ status: 'error', message: `错误：[${res.code}-${res.message}]` })\r\n              } else {\r\n                self.$XModal.message({ status: 'error', message: '未知错误' })\r\n              }\r\n            }\r\n          } else {\r\n            self.$XModal.message({ status: 'error', message: '服务错误，请查看日志' })\r\n            console.log(res)\r\n          }\r\n        }).catch(e => {\r\n          self.$message('获取预算编报状态失败：' + e.message)\r\n        })\r\n      } else {\r\n        this.$store.commit('setCurMenuObj', obj)\r\n      }\r\n    },\r\n    getRouter(value) {\r\n      let arr = []\r\n      arr.push(value)\r\n      let valueNum = arr.slice(0, arr.length + 1)\r\n      if (valueNum[0].name === valueNum[0].f_FullName) {\r\n        this.onMenuSelectChange(value)\r\n      }\r\n    },\r\n    treeFindPath (tree, func, path = []) {\r\n      if (!tree) return []\r\n      for (const data of tree) {\r\n        path.push(data.id)\r\n        if (func(data)) return path\r\n        if (data.children) {\r\n          const findChildren = this.treeFindPath(data.children, func, path)\r\n          if (findChildren.length) return findChildren\r\n        }\r\n        path.pop()\r\n      }\r\n      return []\r\n    }\r\n  },\r\n  created () {\r\n  },\r\n  mounted () {\r\n\r\n  },\r\n  watch: {\r\n    treeData: {\r\n      handler (newValue, oldValue) {\r\n        this.data = newValue\r\n        this.$forceUpdate()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.tree-box{\r\n  ul{\r\n    margin-left: 10px;\r\n    .tree-list-box{\r\n      line-height: 25px;\r\n      display: flex;\r\n      .left{\r\n        width: 206px;\r\n        padding-right: 16px;\r\n        font-size: 14px;\r\n        font-weight: 700;\r\n        box-sizing: border-box;\r\n      }\r\n      strong, i{\r\n        font-style: normal;\r\n        font-weight: normal;\r\n      }\r\n      .right{\r\n\r\n        flex: 1;\r\n        cursor: pointer;\r\n        span{\r\n          margin-right: 18px;\r\n          color: var(--menu-item-color);\r\n          display: inline-block;\r\n          width: 240px;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}