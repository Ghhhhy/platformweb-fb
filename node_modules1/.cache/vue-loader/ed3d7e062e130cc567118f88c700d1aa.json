{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\treeinput\\BossTreeInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\treeinput\\BossTreeInput.vue","mtime":1694505521962},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IGNoZWNrIGZyb20gJy4vY29uZmlnL2NoZWNrJw0KaW1wb3J0IHsNCiAgZGVmYXVsdEVkaXRDb25maWcNCn0gZnJvbSAnLi9jb25maWcvY29uZmlnJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQm9zc1RyZWVpbnB1dCcsDQogIG1peGluczogW2NoZWNrXSwNCiAgcHJvcHM6IHsNCiAgICBwcm9wczogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogKCkgPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHZhbHVlOiAnaWQnLCAvLyBJROWtl+auteWQjQ0KICAgICAgICAgIGxhYmVsOiAnbGFiZWwnLCAvLyDmmL7npLrlkI3np7ANCiAgICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJyAvLyDlrZDnuqflrZfmrrXlkI0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgdmFsdWU6IHsgLy8g5Y+M5ZCR57uR5a6a55qE5YC8IOaUr+aMgeWvueixoeWSjCMj5ou85o6l5a2X56ym5LiyDQogICAgICB0eXBlOiBbT2JqZWN0LCBTdHJpbmddLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuICcgIyMgIyMgJw0KICAgICAgfQ0KICAgIH0sDQogICAgZGF0YXM6IHsgLy8g5qCR5pWw5o2uDQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfSwNCiAgICBzaXplOiB7IC8vIHNlbGVjdOWwuuWvuCBtZWRpdW0vc21hbGwvbWluaQ0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIGRpc2FibGVkOiB7IC8vIHNlbGVjdOaYr+WQpuemgeeUqCAg6buY6K6k5LiN56aB55SoDQogICAgICB0eXBlOiBCb29sZWFuDQogICAgfSwNCiAgICBzaG93Y2hlY2tib3g6IHsgLy8g5qCR5piv5ZCm5aSa6YCJ77yM6buY6K6k5LiN5pivDQogICAgICB0eXBlOiBCb29sZWFuDQogICAgfSwNCiAgICBpc2xlYWY6IHsgLy8g5piv5ZCm5byA5ZCv6YCJ5oup5p+Q5LiA57qn5Yir77yM6buY6K6k5LiN5byA5ZCv77ya5YWo5Y+v6YCJDQogICAgICB0eXBlOiBCb29sZWFuDQogICAgfSwNCiAgICBpc1NlcnZlcjogeyAvLyDmmK/lkKbmnI3liqHnq6/liqDovb0g6buY6K6k5LiN5pivDQogICAgICB0eXBlOiBCb29sZWFuDQogICAgfSwNCiAgICBhamF4VHlwZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ3Bvc3QnDQogICAgfSwNCiAgICBzZXJ2ZXJVcmk6IHsgLy8g6I635Y+W5pWw5o2u6K6/6ZeudXJp77yM5Y+v6Ieq5a6a5LmJW+W+ruacjeWKoS91cmxdDQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAncGxhbi1zZXJ2aWNlL3F1ZXJ5VHJlZUFzc2lzdERhdGEnDQogICAgfSwNCiAgICBvcGVuRm9ybWF0TGFiZWw6IHsgLy8g5piv5ZCm5ZCv55So5qC85byP5YyWbGFiZWwNCiAgICAgIHR5cGU6IEJvb2xlYW4NCiAgICB9LA0KICAgIGZvcm1hdHRlcjogeyAvLyDmoJHmmL7npLpsYWJlbOagvOW8j+WMlg0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJyNjb2RlLSNuYW1lJw0KICAgIH0sDQogICAgcmVsb2FkZGF0YTogeyAvLyDmr4/mrKHngrnlh7vmmK/lkKbph43mlrDliqDovb3mlbDmja4NCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgfQ0KICAgIH0sDQogICAgZHJvcGRvd25tZXRob2Q6IHsgLy8g5Y2V6YCJ5oOF5Ya15LiL5Y+M5Ye76YCJ5Lit5LqL5Lu25ZCO6Kem5Y+R77yMIOWbnuiwgw0KICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbihkYXRhcykge30NCiAgICB9LA0KICAgIGFmdGVyY2hlY2ttZXRob2Q6IHsgLy8g5aSa6YCJ5oOF5Ya15LiL5Yu+6YCJ6Kem5Y+R77yM5Zue6LCDDQogICAgICB0eXBlOiBGdW5jdGlvbiwNCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uKGRhdGFzKSB7fQ0KICAgIH0sDQogICAgYWZ0ZXJsb2FkbWV0aG9kOiB7IC8vIOaVsOaNruW3sue7j+WKoOi9veWujO+8jCDlm57osIMNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgZGVmYXVsdDogZnVuY3Rpb24oZGF0YXMpIHt9DQogICAgfSwNCiAgICBvcGVuUXVlcnlTZWFjaDogew0KICAgICAgdHlwZTogQm9vbGVhbg0KICAgIH0sDQogICAgcXVlcnlwYXJhbXM6IHsgLy8g5p+l6K+i5p2h5Lu26I635Y+W5pa55rOVDQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9LA0KICAgIHByZWZpeDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuICcnDQogICAgICB9DQogICAgfSwNCiAgICBvcGVuVHJlZUNhY2hlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIG9wZW5Mb2FkaW5nOiB7IC8vIOaYr+WQpuW8gOWQr2xvYWRpbmcg6buY6K6k5byA5ZCvDQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIGJhY2tncm91bmRDb2xvcjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuICcjZmZmZmZmJw0KICAgICAgfQ0KICAgIH0sDQogICAgdGl0bGVDb25maWc6IHsgLy8g5qCH6aKY5YaF5a656YWN572uDQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHJlcXVpcmU6IGZhbHNlLA0KICAgICAgICAgIHRpcDogJycNCg0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBlZGl0Q29uZmlnOiB7IC8vIOagkemFjee9rg0KICAgICAgLy8g5qCR57yW6L6R6YWN572u6aG5DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9LA0KICAgIHF1ZXJ5QnlJbnB1dDogeyAvLyDmoLnmja7nlKjmiLfovpPlhaXmnaXph43mlrDojrflj5bmlbDmja4NCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNsYXNzTmFtZTogJ2Jvc3MtdHJlZV9faW5wdXRfdHJlZScsDQogICAgICBxdWVzdFVyaTogdGhpcy5zZXJ2ZXJVcmksDQogICAgICBzZWxlY3REaXNhYmxlZDogdGhpcy5kaXNhYmxlZCwNCiAgICAgIHZhbHVlSWQ6ICcnLCAvLyDliJ3lp4vlgLwNCiAgICAgIGxpbmVEYXRhOiB0aGlzLnZhbHVlLCAvLyDooYzmlbDmja4NCiAgICAgIHZhbHVlVGl0bGU6ICcnLA0KICAgICAgaW5wdXR2YWw6ICcnLCAvLyDorrDlvZXkuIDkuIvmlofmnKzmoYbph4zpnaLovpPlhaXnmoTlgLwNCiAgICAgIGVtcHR5VGV4dDogJycsDQogICAgICBkZWZhdWx0RXhwYW5kZWRLZXk6IFtdLA0KICAgICAgZGF0YTogdGhpcy5kYXRhcywNCiAgICAgIHBhcmFtczogdGhpcy5xdWVyeXBhcmFtcywNCiAgICAgIGNoZWNrYm94OiB0aGlzLnNob3djaGVja2JveCwNCiAgICAgIGN1ck5vZGU6IHsgLy8g5b2T5YmN54K55Ye76IqC54K5DQogICAgICAgIGlkOiAnJywNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIGNvZGU6ICcnDQogICAgICB9LA0KICAgICAgdHJlZVByZWZpeDogdGhpcy5wcmVmaXgsDQogICAgICBjYWNoZURhdGE6IG51bGwsDQogICAgICB0cmVlTG9hZGluZzogZmFsc2UsDQogICAgICB0ZW1wTm9kZTogbnVsbCwgLy8g5Li05pe255qEbm9kZeWAvA0KICAgICAgdXNlVHJlZUNhY2hlOiB0aGlzLm9wZW5UcmVlQ2FjaGUsDQogICAgICB0aXRsZTogdGhpcy50aXRsZUNvbmZpZywNCiAgICAgIGVkaXRDb25maWdJbjogeyAuLi5kZWZhdWx0RWRpdENvbmZpZyB9DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoJ2Jhc2ljSW5mbycsIFsnY2FjaGVUcmVlJ10pLA0KICAgIHRyZWVQYXJhbXMoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBhamF4VHlwZTogdGhpcy5hamF4VHlwZSwNCiAgICAgICAgc2VydmVyVXJpOiB0aGlzLnNlcnZlclVyaSwNCiAgICAgICAgcGFyYW1zOiB0aGlzLnF1ZXJ5cGFyYW1zDQogICAgICB9DQogICAgfSwNCiAgICBzaG93VGl0bGUoKSB7IC8vIOaYr+WQpuaYvuekunRpdGxlDQogICAgICByZXR1cm4gISF0aGlzLnRpdGxlLnRpcA0KICAgIH0sDQogICAgbGV2ZWxubygpIHsgLy8g5qCR6IqC54K557qn5YirDQogICAgICByZXR1cm4gKHRoaXMuZWRpdENvbmZpZ0luICYmIHRoaXMuZWRpdENvbmZpZ0luLmxldmVsbm8pIHx8ICctMScNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBNdXRhdGlvbnMoJ2Jhc2ljSW5mbycsIFsnc2V0Qm9zc1RyZWUnXSksDQogICAgLy8g5Yid5aeL5YyW5Y+C5pWwDQogICAgaW5pdERhdGEoKSB7DQogICAgICB0aGlzLmluaXRFZGl0Q29uZmlnKCkNCiAgICB9LA0KDQogICAgLy8g5Yid5aeL5YyWYXBp5pyN5Yqh5pWw5o2uDQogICAgaW5pdEVkaXRDb25maWcoKSB7DQogICAgICB0aGlzLmVkaXRDb25maWdJbiA9IE9iamVjdC5hc3NpZ24oDQogICAgICAgIHt9LA0KICAgICAgICB0aGlzLmVkaXRDb25maWdJbiwNCiAgICAgICAgdGhpcy5lZGl0Q29uZmlnDQogICAgICApDQogICAgfSwNCg0KICAgIC8vIOWIpOaWreaYr+WQpuS4uuWvueixoQ0KICAgIGlzT2JqZWN0KG9iaikgew0KICAgICAgcmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpDQogICAgfSwNCiAgICAvLyDnm5HlkKx2YWx1ZeWPmOWMlu+8jCB2YWx1ZeaUueWPmOaXtuaUueWPmHZhbHVlSWTlj4pjdXJOb2Rl55qE5YC8DQogICAgaW5pdFZhbHVlKCkgew0KICAgICAgaWYgKHRoaXMuY2hlY2tib3gpIHsNCiAgICAgICAgdGhpcy5pbml0Q2hlY2tWYWx1ZSgpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuaXNPYmplY3QodGhpcy52YWx1ZSkpIHsNCiAgICAgICAgdGhpcy52YWx1ZUlkID0gdGhpcy52YWx1ZVtgJHt0aGlzLnRyZWVQcmVmaXh9aWRgXQ0KICAgICAgICB0aGlzLmN1ck5vZGUuaWQgPSB0aGlzLnZhbHVlW2Ake3RoaXMudHJlZVByZWZpeH1pZGBdDQogICAgICAgIHRoaXMuY3VyTm9kZS5jb2RlID0gdGhpcy52YWx1ZVtgJHt0aGlzLnRyZWVQcmVmaXh9Y29kZWBdDQogICAgICAgIHRoaXMuY3VyTm9kZS5uYW1lID0gdGhpcy52YWx1ZVtgJHt0aGlzLnRyZWVQcmVmaXh9bmFtZWBdDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnZhbHVlSWQgPSB0aGlzLnZhbHVlLnNwbGl0KCcjIycpWzBdDQogICAgICAgIHRoaXMuY3VyTm9kZS5pZCA9IHRoaXMudmFsdWUuc3BsaXQoJyMjJylbMF0NCiAgICAgICAgdGhpcy5jdXJOb2RlLmNvZGUgPSB0aGlzLnZhbHVlLnNwbGl0KCcjIycpWzFdDQogICAgICAgIHRoaXMuY3VyTm9kZS5uYW1lID0gdGhpcy52YWx1ZS5zcGxpdCgnIyMnKVsyXQ0KICAgICAgfQ0KICAgICAgbGV0IG5vZGUgPSB7DQogICAgICAgIGlkOiAodGhpcy5jdXJOb2RlLmlkICYmIHRoaXMuY3VyTm9kZS5pZCAhPT0gJyAnKSA/IHRoaXMuY3VyTm9kZS5pZCA6ICcnLA0KICAgICAgICBjb2RlOiAodGhpcy5jdXJOb2RlLmNvZGUgJiYgdGhpcy5jdXJOb2RlLmNvZGUgIT09ICcgJykgPyB0aGlzLmN1ck5vZGUuY29kZSA6ICcnLA0KICAgICAgICBuYW1lOiAodGhpcy5jdXJOb2RlLm5hbWUgJiYgdGhpcy5jdXJOb2RlLm5hbWUgIT09ICcgJykgPyB0aGlzLmN1ck5vZGUubmFtZSA6ICcnDQogICAgICB9DQogICAgICBpZiAodGhpcy5vcGVuRm9ybWF0TGFiZWwgJiYgdGhpcy5jdXJOb2RlLm5hbWUgIT09ICcgJykgew0KICAgICAgICBsZXQgZm10ID0gdGhpcy5mb3JtYXR0ZXINCiAgICAgICAgbGV0IGZtdEFyciA9IHRoaXMuZm9ybWF0dGVyLnNwbGl0KCctJykNCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmbXRBcnIubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICBmbXQgPSBmbXQucmVwbGFjZSgNCiAgICAgICAgICAgIGZtdEFycltqXSwNCiAgICAgICAgICAgIG5vZGVbZm10QXJyW2pdLnJlcGxhY2UoJyMnLCAnJyldIHx8ICcnDQogICAgICAgICAgKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMudmFsdWVUaXRsZSA9IGZtdA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g6buY6K6k5pi+56S65Li6Y29kZeS4jm5hbWXmi7zmjqUNCiAgICAgICAgdGhpcy52YWx1ZVRpdGxlID0gKG5vZGUubmFtZSAmJiBub2RlLmNvZGUpID8gbm9kZS5jb2RlICsgJy0nICsgbm9kZS5uYW1lIDogJycNCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy8g5LiL5ouJ5qGG6L6T5YWl5pe25pe25pe26Kem5Y+R6Ieq5Yqo6L+H5rukLOWmguaenOagkeaYr+aUr+aMgeW9leWFpe+8jOWImeS4jeaUr+aMgeaXtuaXtui/h+a7pO+8jOWPquaUr+aMgWVudGVy6L+H5rukDQogICAgc2VsZWN0RmlsdGVyKG5ld1ZhbCkgew0KICAgICAgdGhpcy5pbnB1dHZhbCA9IG5ld1ZhbA0KICAgICAgaWYgKHRoaXMuZWRpdENvbmZpZ0luLmFsbG93SW5wdXQpIHsNCiAgICAgICAgdGhpcy5saW5lRGF0YSA9IGAke25ld1ZhbH0jIyAjIyR7bmV3VmFsfWANCiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmxpbmVEYXRhKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgdGhpcy5maWx0ZXJUcmVlKG5ld1ZhbCkNCiAgICB9LA0KDQogICAgLy8gZW50ZXLov5vooYzov4fmu6Tmn6Xor6INCiAgICBlbnRlckZpbHRlcihlKSB7DQogICAgICBpZiAoIXRoaXMuZWRpdENvbmZpZ0luLmFsbG93SW5wdXQpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBjb25zdCBuZXdWYWwgPSBlLnRhcmdldC52YWx1ZQ0KICAgICAgdGhpcy5maWx0ZXJUcmVlKG5ld1ZhbCkNCiAgICB9LA0KDQogICAgZmlsdGVyVHJlZShuZXdWYWwpIHsNCiAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZSAmJiB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuZmlsdGVyKG5ld1ZhbCkNCiAgICB9LA0KDQogICAgLy8g5a+55qCR6IqC54K56L+b6KGM562b6YCJ5pe25omn6KGM55qE5pa55rOV77yM6L+U5ZueIHRydWUg6KGo56S66L+Z5Liq6IqC54K55Y+v5Lul5pi+56S677yM6L+U5ZueIGZhbHNlIOWImeihqOekuui/meS4quiKgueCueS8muiiq+makOiXjw0KICAgIGZpbHRlck5vZGUodmFsdWUsIGRhdGEpIHsNCiAgICAgIC8vIOaQnOe0oui/h+a7pA0KICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWUNCiAgICAgIGxldCB2YWxBcnIgPSB2YWx1ZS5zcGxpdCgnLCcpDQogICAgICBsZXQgaXNPayA9IGZhbHNlDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbEFyci5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAoaXNPaykgew0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgICAgaXNPayA9IGRhdGEubGFiZWwuaW5kZXhPZih2YWxBcnJbaV0pICE9PSAtMQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGlzT2sNCiAgICB9LA0KDQogICAgLy8g5qC85byP5YyW5qCR55qEbGFiZWwNCiAgICBmb3JtYXRMYWJlbChkYXRhKSB7DQogICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCAhPT0gMCkgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBkYXRhW2ldLm5hbWUgPSBkYXRhW2ldLm5hbWUgfHwgZGF0YVtpXS5sYWJlbA0KICAgICAgICAgIGlmICh0aGlzLm9wZW5Gb3JtYXRMYWJlbCkgew0KICAgICAgICAgICAgbGV0IGZtdCA9IHRoaXMuZm9ybWF0dGVyDQogICAgICAgICAgICBsZXQgZm10QXJyID0gdGhpcy5mb3JtYXR0ZXIuc3BsaXQoJy0nKQ0KICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmbXRBcnIubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgZm10ID0gZm10LnJlcGxhY2UoDQogICAgICAgICAgICAgICAgZm10QXJyW2pdLA0KICAgICAgICAgICAgICAgIGRhdGFbaV1bZm10QXJyW2pdLnJlcGxhY2UoJyMnLCAnJyldIHx8ICcnDQogICAgICAgICAgICAgICkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRhdGFbaV1bJ2xhYmVsJ10gPSBmbXQNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKGRhdGFbaV0uY2hpbGRyZW4gJiYgZGF0YVtpXS5jaGlsZHJlbiAhPT0gdW5kZWZpbmVkICYmIGRhdGFbaV0uY2hpbGRyZW4ubGVuZ3RoID4gMCkgeyAvLyDpnZ7lupXnuqfoioLngrkNCiAgICAgICAgICAgIGRhdGFbaV0uaXNsZWFmID0gJzAnDQogICAgICAgICAgICBkYXRhW2ldLmxlYWYgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5mb3JtYXRMYWJlbChkYXRhW2ldLmNoaWxkcmVuKQ0KICAgICAgICAgIH0gZWxzZSB7IC8vIOW6lee6p+iKgueCuQ0KICAgICAgICAgICAgZGF0YVtpXS5pc2xlYWYgPSAnMScNCiAgICAgICAgICAgIGRhdGFbaV0ubGVhZiA9IHRydWUNCiAgICAgICAgICB9DQogICAgICAgICAgLy8g6IqC54K557qn5Yir77yM5aaC5p6c5rKh5pyJ5YiZ5Li6MA0KICAgICAgICAgIGRhdGFbaV0ubGV2ZWxzID0gZGF0YVtpXS5sZXZlbG5vIHx8IDANCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyBpbnB1dOahhuWNleWHu++8jOafpeivouagkeaVsOaNru+8jOaUr+aMgeWFs+mXrQ0KICAgIHNlbGVjdEZvY3VzKCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0RGlzYWJsZWQpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLnJlbG9hZGRhdGEpIHsNCiAgICAgICAgdGhpcy5pbml0VHJlZSgpDQogICAgICB9DQogICAgICB0aGlzLiRyZWZzLnNlbGVjdFRyZWUgJiYgdGhpcy4kcmVmcy5zZWxlY3RUcmVlLmZpbHRlcignJykgLy8g5q+P5qyh5pi+56S65pWw5o2u5riF6Zmk5o6J5LmL5YmN55qE6L+H5rukDQogICAgfSwNCg0KICAgIHNldFZhbHVlKHZhbCkgew0KICAgICAgdGhpcy52YWx1ZUlkID0gdmFsDQogICAgICBpZiAoIXZhbCkgew0KICAgICAgICB0aGlzLmNsZWFySGFuZGxlKCkNCiAgICAgIH0NCiAgICAgIHRoaXMuc2V0VHJlZURhdGEoKQ0KICAgIH0sDQogICAgLy8g5Yqg6L295a6M5ZCO5aSE55CG5pWw5o2uDQogICAgZGVhbERhdGFBZnRlckxvYWQoKSB7DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuZm9ybWF0TGFiZWwodGhpcy5kYXRhKQ0KICAgICAgICB0aGlzLnNldFRyZWVEYXRhKCkNCiAgICAgICAgaWYgKCF0aGlzLmVkaXRDb25maWdJbi5hbGxvd0lucHV0ICYmICF0aGlzLnF1ZXJ5QnlJbnB1dCkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0RmlsdGVyKCcnKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmFmdGVybG9hZG1ldGhvZCh0aGlzLmRhdGEpDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvLyDojrflj5bnvJPlrZjmlbDmja4NCiAgICBnZXRDYWNoZURhdGEoKSB7DQogICAgICB0aGlzLmRhdGEgPSB0aGlzLmNhY2hlRGF0YQ0KICAgICAgdGhpcy5kZWFsRGF0YUFmdGVyTG9hZCgpDQogICAgfSwNCg0KICAgIC8vIOiOt+WPluivt+axguaVsOaNrg0KICAgIGFzeW5jIGdldEh0dHBEYXRhKCkgew0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBpZiAodGhpcy50cmVlTG9hZGluZykgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMuZW1wdHlUZXh0ID0gJycNCiAgICAgIHNlbGYub3BlbkxvYWRpbmcgJiYgKHNlbGYudHJlZUxvYWRpbmcgPSB0cnVlKQ0KICAgICAgYXdhaXQgdGhpcy4kaHR0cFt0aGlzLmFqYXhUeXBlXSh0aGlzLnF1ZXN0VXJpLCB0aGlzLnBhcmFtcykNCiAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICByZXMuZGF0YS5tYXAodiA9PiB7DQogICAgICAgICAgICB2LmxhYmVsID0gdi5sYWJlbCB8fCB2Lm5hbWUNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHNlbGYuZGF0YSA9IChyZXMgJiYgQXJyYXkuaXNBcnJheShyZXMpKSA/IHJlcyA6ICgocmVzLnJzY29kZSA9PT0gJzEwMDAwMCcgfHwgcmVzLnJzY29kZSA9PT0gJzIwMCcgfHwgcmVzLmNvZGUgPT09ICcxMDAwMDAnIHx8IHJlcy5jb2RlID09PSAnMjAwJykgPyByZXMuZGF0YSA6IFtdKQ0KICAgICAgICAgIHRoaXMudHJlZUxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICB0aGlzLnRyZWVMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICAgIH0pDQogICAgICB0aGlzLmVtcHR5VGV4dCA9ICfmmoLml6DmlbDmja4nDQogICAgICB0aGlzLmRlYWxEYXRhQWZ0ZXJMb2FkKCkNCiAgICAgIC8vIOe8k+WtmOaVsOaNrg0KICAgICAgdGhpcy5zZXRCb3NzVHJlZSh7DQogICAgICAgIHBhcmFtczogdGhpcy50cmVlUGFyYW1zLA0KICAgICAgICB0cmVlRGF0YTogdGhpcy5kYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5Yid5aeL5YyW5YC8DQogICAgYXN5bmMgaW5pdFRyZWUoKSB7DQogICAgICBpZiAodGhpcy5pc1NlcnZlcikgew0KICAgICAgICB0aGlzLmdldEh0dHBEYXRhKCkNCiAgICAgICAgLy8gdGhpcy5jYWNoZURhdGEgPSB0aGlzLmNhY2hlVHJlZSh0aGlzLnRyZWVQYXJhbXMpDQogICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKDU1LCB0aGlzLnVzZVRyZWVDYWNoZSwgdGhpcy5jYWNoZURhdGEpDQogICAgICAgIC8vIGlmICh0aGlzLnVzZVRyZWVDYWNoZSAmJiB0aGlzLmNhY2hlRGF0YSkgew0KICAgICAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCfmnaXoh6rmoJHnvJPlrZjmlbDmja4nKQ0KICAgICAgICAvLyAgIHRoaXMuZ2V0Q2FjaGVEYXRhKCkNCiAgICAgICAgLy8gfSBlbHNlIHsNCiAgICAgICAgLy8gICAvLyBjb25zb2xlLmxvZygn5p2l6Ieq5qCR6K+35rGC5pWw5o2uJykNCiAgICAgICAgLy8gICB0aGlzLmdldEh0dHBEYXRhKCkNCiAgICAgICAgLy8gfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKHRoaXMuZGF0YS5sZW5ndGgpIHsgLy8g6K+05piO5piv5Lyg5YWl55qE5qCR5pWw5o2uDQogICAgICAgICAgdGhpcy5kZWFsRGF0YUFmdGVyTG9hZCgpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy8g5LiL5ouJ5qGG5Ye6546wL+makOiXj+aXtuinpuWPkSDlh7rnjrDliJnkuLogdHJ1Ze+8jOmakOiXj+WImeS4uiBmYWxzZQ0KICAgIHNob3dTZWxlY3RCb3goaXNTaG93KSB7DQogICAgICBpZiAoIWlzU2hvdykgew0KICAgICAgICBpZiAodGhpcy5jaGVja2JveCkgew0KICAgICAgICAgIHRoaXMuY2hhbmdlU2VsZWN0Qm94TXVsdGlTZWxlY3QoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICh0aGlzLmVkaXRDb25maWdJbiAmJiB0aGlzLmVkaXRDb25maWdJbi5hbGxvd0lucHV0KSA/IHRoaXMuY2hhbmdlU2VsZWN0Qm94RWRpdElucHV0KCkgOiB0aGlzLmNoYW5nZVNlbGVjdEJveE5vRWRpdElucHV0KCkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmVtaXRMaW5lRGF0YSgpDQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIOWkmumAieaXtu+8jOS4i+aLieahhuaUueWPmOaXtuWkhOeQhumAu+i+kQ0KICAgIGNoYW5nZVNlbGVjdEJveE11bHRpU2VsZWN0KCkgew0KICAgICAgbGV0IG5vZGVzID0gdGhpcy4kcmVmcy5zZWxlY3RUcmVlLmdldENoZWNrZWROb2RlcygpDQogICAgICBub2RlcyA9IHRoaXMuZGVhbENoZWNrRGF0YUJ5aXNMZWFmKG5vZGVzKQ0KICAgICAgaWYgKG5vZGVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgbGV0IGFsbFZhbHVlSWQgPSAnJw0KICAgICAgICBsZXQgYWxsVmFsdWVUaXRsZSA9ICcnDQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAoaSA9PT0gbm9kZXMubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgYWxsVmFsdWVJZCArPSBub2Rlc1tpXVt0aGlzLnByb3BzLnZhbHVlXSArICcnDQogICAgICAgICAgICBhbGxWYWx1ZVRpdGxlICs9IG5vZGVzW2ldW3RoaXMucHJvcHMubGFiZWxdICsgJycNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxsVmFsdWVJZCArPSBub2Rlc1tpXVt0aGlzLnByb3BzLnZhbHVlXSArICcsJw0KICAgICAgICAgICAgYWxsVmFsdWVUaXRsZSArPSBub2Rlc1tpXVt0aGlzLnByb3BzLmxhYmVsXSArICcsJw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnZhbHVlSWQgPSBhbGxWYWx1ZUlkDQogICAgICAgIHRoaXMudmFsdWVUaXRsZSA9IGFsbFZhbHVlVGl0bGUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudmFsdWVJZCA9ICcnDQogICAgICAgIHRoaXMudmFsdWVUaXRsZSA9ICcnDQogICAgICB9DQogICAgICB0aGlzLmFmdGVyTm9kZUNoZWNrZWQobm9kZXMsIHRoaXMudmFsdWVJZCkNCiAgICB9LA0KDQogICAgLy8g5qCR5LiN5pSv5oyB5b2V5YWl5pe277yMIOS4i+aLieahhuaUueWPmOaXtuWkhOeQhumAu+i+kQ0KICAgIGNoYW5nZVNlbGVjdEJveE5vRWRpdElucHV0KCkgew0KICAgICAgaWYgKCF0aGlzLnN0clRyaW0odGhpcy52YWx1ZUlkKSkgew0KICAgICAgICAvLyDlvZPliY3kuI3kuLrnqboNCiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuZ2V0Q3VycmVudE5vZGUoKQ0KDQogICAgICAgIGlmICh0aGlzLmlzbGVhZikgew0KICAgICAgICAgIHRoaXMuY2hhbmdlU2VsZWN0Qnlpc0xlYWYobm9kZSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpZiAobm9kZSkgew0KICAgICAgICAgICAgdGhpcy52YWx1ZVRpdGxlID0gbm9kZVt0aGlzLnByb3BzLmxhYmVsXQ0KICAgICAgICAgICAgdGhpcy52YWx1ZUlkID0gbm9kZVt0aGlzLnByb3BzLnZhbHVlXQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuc2V0Q3VycmVudEtleShudWxsKQ0KICAgICAgICAgICAgdGhpcy52YWx1ZVRpdGxlID0gJycNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5maWx0ZXIoJycpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAodHlwZW9mIHRoaXMudmFsdWVJZCA9PT0gJ3N0cmluZycgJiYgIVN0cmluZyh0aGlzLnZhbHVlSWQpLmluY2x1ZGVzKCdpbml0SWQnKSkgew0KICAgICAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5zZXRDdXJyZW50S2V5KHRoaXMudmFsdWVJZCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDmlLnlj5jpgInmi6nnmoTmoJHoioLngrnvvIzlvZPlvIDlkK/nuqfliKvlkI7vvIzmlbDmja7lpITnkIYNCiAgICBjaGFuZ2VTZWxlY3RCeWlzTGVhZihub2RlKSB7DQogICAgICAvLyDlpoLmnpzmmK/lupXnuqcNCiAgICAgIGlmIChub2RlICYmIHRoaXMubGV2ZWxubyA9PT0gLTEpIHsNCiAgICAgICAgaWYgKG5vZGUubGVhZikgew0KICAgICAgICAgIC8vIOaYr+W6lee6p+WwseaYvuekug0KICAgICAgICAgIHRoaXMudmFsdWVUaXRsZSA9IG5vZGVbdGhpcy5wcm9wcy5sYWJlbF0NCiAgICAgICAgICB0aGlzLnZhbHVlSWQgPSBub2RlW3RoaXMucHJvcHMudmFsdWVdDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8g5LiN5piv5bqV57qn5bCx5riF5qWa5qCR55qE6YCJ5LitDQogICAgICAgICAgdGhpcy4kcmVmcy5zZWxlY3RUcmVlLnNldEN1cnJlbnRLZXkobnVsbCkNCiAgICAgICAgICB0aGlzLnZhbHVlVGl0bGUgPSAnJw0KICAgICAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5maWx0ZXIoJycpDQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgaWYgKG5vZGUgJiYgdGhpcy5sZXZlbG5vICE9PSAtMSkgew0KICAgICAgICBpZiAodGhpcy5sZXZlbG5vID09PSBub2RlLmxldmVscykgew0KICAgICAgICAgIC8vIOaYr+mAieaLqeeahOe6p+WIq+WwseaYvuekug0KICAgICAgICAgIHRoaXMudmFsdWVUaXRsZSA9IG5vZGVbdGhpcy5wcm9wcy5sYWJlbF0NCiAgICAgICAgICB0aGlzLnZhbHVlSWQgPSBub2RlW3RoaXMucHJvcHMudmFsdWVdDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8g5LiN5piv6YCJ5oup55qE57qn5Yir5bCx5riF6Zmk5qCR55qE6YCJ5LitDQogICAgICAgICAgdGhpcy4kcmVmcy5zZWxlY3RUcmVlLnNldEN1cnJlbnRLZXkobnVsbCkNCiAgICAgICAgICB0aGlzLnZhbHVlVGl0bGUgPSAnJw0KICAgICAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5maWx0ZXIoJycpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy8g5qCR5pSv5oyB5b2V5YWl5pe277yM5LiL5ouJ5qGG5pS55Y+Y5pe25aSE55CG6YC76L6RDQogICAgY2hhbmdlU2VsZWN0Qm94RWRpdElucHV0KCkgew0KICAgICAgaWYgKCF0aGlzLnZhbHVlSWQpIHsNCiAgICAgICAgLy8g5b2T5YmN5LiN5Li656m6DQogICAgICAgIGxldCBub2RlID0gdGhpcy4kcmVmcy5zZWxlY3RUcmVlLmdldEN1cnJlbnROb2RlKCkNCiAgICAgICAgaWYgKG5vZGUpIHsNCiAgICAgICAgICBpZiAodGhpcy5pbnB1dHZhbCAmJiB0aGlzLmlucHV0dmFsICE9PSAnJyAmJiB0aGlzLmlucHV0dmFsICE9PSBub2RlLmxhYmVsDQogICAgICAgICAgKSB7DQogICAgICAgICAgICB0aGlzLnZhbHVlVGl0bGUgPSB0aGlzLmlucHV0dmFsDQogICAgICAgICAgICB0aGlzLnZhbHVlSWQgPSB0aGlzLmlucHV0dmFsDQogICAgICAgICAgICB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuc2V0Q3VycmVudEtleShudWxsKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2xlYWYpIHsNCiAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTZWxlY3RCeWlzTGVhZihub2RlKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgaWYgKG5vZGUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlVGl0bGUgPSBub2RlW3RoaXMucHJvcHMubGFiZWxdDQogICAgICAgICAgICAgICAgdGhpcy52YWx1ZUlkID0gbm9kZVt0aGlzLnByb3BzLnZhbHVlXQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5zZXRDdXJyZW50S2V5KG51bGwpDQogICAgICAgICAgICAgICAgdGhpcy52YWx1ZVRpdGxlID0gJycNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuZmlsdGVyKCcnKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGlmICh0aGlzLmlucHV0dmFsICYmIHRoaXMuaW5wdXR2YWwgIT09ICcnKSB7DQogICAgICAgICAgICB0aGlzLnZhbHVlVGl0bGUgPSB0aGlzLmlucHV0dmFsDQogICAgICAgICAgICB0aGlzLnZhbHVlSWQgPSB0aGlzLmlucHV0dmFsDQogICAgICAgICAgICB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuc2V0Q3VycmVudEtleShudWxsKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuZ2V0Q3VycmVudE5vZGUoKQ0KICAgICAgICBpZiAoIW5vZGUpIHsNCiAgICAgICAgICB0aGlzLnZhbHVlVGl0bGUgPSB0aGlzLmlucHV0dmFsDQogICAgICAgICAgdGhpcy52YWx1ZUlkID0gdGhpcy5pbnB1dHZhbA0KICAgICAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5zZXRDdXJyZW50S2V5KG51bGwpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaWYgKHRoaXMuaW5wdXR2YWwgJiYgdGhpcy5pbnB1dHZhbCAhPT0gJycgJiYgdGhpcy5pbnB1dHZhbCAhPT0gbm9kZS5sYWJlbCkgew0KICAgICAgICAgICAgdGhpcy52YWx1ZVRpdGxlID0gdGhpcy5pbnB1dHZhbA0KICAgICAgICAgICAgdGhpcy52YWx1ZUlkID0gdGhpcy5pbnB1dHZhbA0KICAgICAgICAgICAgdGhpcy4kcmVmcy5zZWxlY3RUcmVlLnNldEN1cnJlbnRLZXkobnVsbCkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNsZWFmKSB7DQogICAgICAgICAgICAgIHRoaXMuY2hhbmdlU2VsZWN0Qnlpc0xlYWYobm9kZSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGlmIChub2RlKSB7DQogICAgICAgICAgICAgICAgdGhpcy52YWx1ZVRpdGxlID0gbm9kZVt0aGlzLnByb3BzLmxhYmVsXQ0KICAgICAgICAgICAgICAgIHRoaXMudmFsdWVJZCA9IG5vZGVbdGhpcy5wcm9wcy52YWx1ZV0NCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuc2V0Q3VycmVudEtleShudWxsKQ0KICAgICAgICAgICAgICAgIHRoaXMudmFsdWVUaXRsZSA9ICcnDQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zZWxlY3RUcmVlLmZpbHRlcignJykNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhZnRlck5vZGVDaGVja2VkKG5vZGVzLCB2YWx1ZXMpIHsNCiAgICAgIGlmICh0aGlzLmFmdGVyY2hlY2ttZXRob2QpIHsNCiAgICAgICAgdGhpcy5hZnRlcmNoZWNrbWV0aG9kKG5vZGVzLCB2YWx1ZXMpDQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIOagkeWNleWHu+S6i+S7tg0KICAgIGhhbmRsZU5vZGVDbGljaygkZXZlbnQsIG5vZGUsIGN1cm5kb2UsIGUpIHsNCiAgICAgIC8vIHdpbmRvdy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgLy8gd2luZG93LmV2ZW50LnByZXZlbnREZWZhdWx0KCkNCiAgICAgIGlmICh0aGlzLmlzbGVhZikgew0KICAgICAgICBpZiAodGhpcy5sZXZlbG5vID09PSAtMSkgew0KICAgICAgICAgIGlmIChub2RlLmxlYWYpIHsNCiAgICAgICAgICAgIHRoaXMuY3VyTm9kZSA9IG5vZGUNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy50aHJvd1dhcm4oKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGlmICh0aGlzLmxldmVsbm8gIT09IC0xKSB7DQogICAgICAgICAgaWYgKHRoaXMubGV2ZWxubyA9PT0gbm9kZS5sZXZlbHMpIHsNCiAgICAgICAgICAgIHRoaXMuY3VyTm9kZSA9IG5vZGUNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9XYXJuKCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuY3VyTm9kZSA9IG5vZGUNCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy8g6Z2e5bqV57qn6IqC54K55o+Q56S6DQogICAgdGhyb3dXYXJuKCkgew0KICAgICAgdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6ICfpnZ7lupXnuqfoioLngrnkuI3og73pgInkuK0hJywgdHlwZTogJ3dhcm5pbmcnIH0pDQogICAgfSwNCiAgICAvLyDpnZ7kvKDlhaXnmoTnuqfliKvoioLngrnmj5DnpLoNCiAgICB0aHJvd0Vycm9XYXJuKCkgew0KICAgICAgdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6ICfpnZ7mnJ/mnJvnmoToioLngrnkuI3og73pgInkuK0hJywgdHlwZTogJ3dhcm5pbmcnIH0pDQogICAgfSwNCg0KICAgIC8vIOagkeWPjOWHu+S6i+S7tuOAkOWPquaciWNoZWNrYm945Li6ZmFsc2Xmg4XlhrXkuIvop6blj5HjgJENCiAgICBkYmxOb2RlQ2xpY2soZXZlbnQpIHsNCiAgICAgIGlmICghdGhpcy5jaGVja2JveCkgew0KICAgICAgICBjb25zdCBub2RlID0gdGhpcy4kcmVmcy5zZWxlY3RUcmVlLmdldEN1cnJlbnROb2RlKCkNCg0KICAgICAgICBpZiAodGhpcy5pc2xlYWYpIHsNCiAgICAgICAgICBpZiAodGhpcy5sZXZlbG5vID09PSAtMSAmJiAhbm9kZS5sZWFmKSB7DQogICAgICAgICAgICB0aGlzLnRocm93V2FybigpDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICB9DQoNCiAgICAgICAgICBpZiAodGhpcy5sZXZlbG5vICE9PSAtMSAmJiB0aGlzLmxldmVsbm8gIT09IG5vZGUubGV2ZWxzKSB7DQogICAgICAgICAgICB0aGlzLnRocm93RXJyb1dhcm4oKQ0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy4kcmVmcy5zZWxlY3RSZWYuYmx1cigpDQogICAgICAgIHRoaXMub25Ecm9wZG93bk1lbnVDbG9zZWQobm9kZSwgZXZlbnQpDQogICAgICAgIHRoaXMuaW5wdXR2YWwgPSAnJw0KICAgICAgICAvLyDlgLzkv67mlLnnm5Hmjqfkuovku7YNCiAgICAgICAgdGhpcy5lbWl0TGluZURhdGEoKQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDlj4zlh7vpgInkuK3lkI7op6blj5ENCiAgICBvbkRyb3Bkb3duTWVudUNsb3NlZChkYXRhLCBldmVudCkgew0KICAgICAgdGhpcy5kcm9wZG93bm1ldGhvZChkYXRhLCBldmVudCwgdGhpcy5xdWVyeXBhcmFtcykNCiAgICB9LA0KDQogICAgLy8g5riF6Zmk6YCJ5LitDQogICAgY2xlYXJIYW5kbGUoKSB7DQogICAgICB0aGlzLnZhbHVlVGl0bGUgPSAnJw0KICAgICAgdGhpcy52YWx1ZUlkID0gbnVsbA0KICAgICAgdGhpcy5pbnB1dHZhbCA9ICcnDQogICAgICB0aGlzLmRlZmF1bHRFeHBhbmRlZEtleSA9IFtdDQogICAgICBpZiAodGhpcy5jaGVja2JveCkgew0KICAgICAgICB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuc2V0Q2hlY2tlZEtleXMoW10pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuc2V0Q3VycmVudEtleShudWxsKQ0KICAgICAgfQ0KICAgICAgdGhpcy5lbWl0Q2xlYXJMaW5lRGF0YSgpDQogICAgfSwNCg0KICAgIGRlYWxDc3MoKSB7DQogICAgICB2YXIgdWxkaXYgPSB0aGlzLiRlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKA0KICAgICAgICAnZWwtc2VsZWN0LWRyb3Bkb3duX193cmFwIGVsLXNjcm9sbGJhcl9fd3JhcCcNCiAgICAgICkNCiAgICAgIHZhciB1bCA9IHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoDQogICAgICAgICdlbC1zY3JvbGxiYXJfX3ZpZXcgZWwtc2VsZWN0LWRyb3Bkb3duX19saXN0Jw0KICAgICAgKQ0KICAgICAgaWYgKHVsZGl2Lmxlbmd0aCkgew0KICAgICAgICB1bGRpdlswXS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMHB4Jw0KICAgICAgICB1bGRpdlswXS5zdHlsZS5tYXJnaW5SaWdodCA9ICcwcHgnDQogICAgICAgIHVsZGl2WzBdLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nDQogICAgICB9DQogICAgICBpZiAodWwubGVuZ3RoKSB7DQogICAgICAgIHVsWzBdLnN0eWxlLnBhZGRpbmcgPSAwDQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIOiuvue9ruagkeaVsOaNruOAkGlucHV05pi+56S6ICDpu5jorqTpgInkuK0gIOm7mOiupOWxleW8gOOAkQ0KICAgIHNldFRyZWVEYXRhKCkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrYm94KSB7DQogICAgICAgIGlmICh0aGlzLnZhbHVlSWQgJiYgIVN0cmluZyh0aGlzLnZhbHVlSWQpLmluY2x1ZGVzKCdpbml0SWQnKSkgew0KICAgICAgICAgIGxldCBub2RlID0gdGhpcy4kcmVmcy5zZWxlY3RUcmVlICYmIHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5nZXROb2RlKHRoaXMudmFsdWVJZCkNCiAgICAgICAgICBpZiAodGhpcy5lZGl0Q29uZmlnSW4uYWxsb3dJbnB1dCkgew0KICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMubGluZURhdGFbdGhpcy5wcmVmaXggKyAnbmFtZSddDQogICAgICAgICAgICBpZiAobmFtZSkgew0KICAgICAgICAgICAgICB0aGlzLmlucHV0dmFsID0gbmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy52YWx1ZVRpdGxlID0gKG5vZGUgJiYgbm9kZS5kYXRhW3RoaXMucHJvcHMubGFiZWxdKSB8fCB0aGlzLmlucHV0dmFsIHx8IG5hbWUgfHwgJycNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy52YWx1ZVRpdGxlID0gKG5vZGUgJiYgbm9kZS5kYXRhW3RoaXMucHJvcHMubGFiZWxdKSB8fCAnJy8vIOWIneWni+WMluaYvuekug0KICAgICAgICAgIH0NCg0KICAgICAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZSAmJiB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuc2V0Q3VycmVudEtleSh0aGlzLnZhbHVlSWQpIC8vIOiuvue9rum7mOiupOmAieS4rQ0KICAgICAgICAgIHRoaXMuZGVmYXVsdEV4cGFuZGVkS2V5ID0gW3RoaXMudmFsdWVJZF0gLy8g6K6+572u6buY6K6k5bGV5byADQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0aGlzLnZhbHVlSWQpIHsNCiAgICAgICAgICBsZXQgdmFsQXJyID0gdGhpcy52YWx1ZUlkLnNwbGl0KCcsJykNCiAgICAgICAgICB0aGlzLnZhbHVlVGl0bGUgPSAnJw0KICAgICAgICAgIHRoaXMuZGVmYXVsdEV4cGFuZGVkS2V5ID0gW10NCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbEFyci5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgaWYgKGkgPT09IHZhbEFyci5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLnNlbGVjdFRyZWUuZ2V0Tm9kZSh2YWxBcnJbaV0pKSB7DQogICAgICAgICAgICAgICAgdGhpcy52YWx1ZVRpdGxlICs9IHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5nZXROb2RlKHZhbEFycltpXSkuZGF0YVt0aGlzLnByb3BzLmxhYmVsXSAvLyDliJ3lp4vljJbmmL7npLoNCiAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRFeHBhbmRlZEtleS5wdXNoKHZhbEFycltpXSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5nZXROb2RlKHZhbEFycltpXSkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlVGl0bGUgKz0NCiAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5nZXROb2RlKHZhbEFycltpXSkuZGF0YVt0aGlzLnByb3BzLmxhYmVsXSArICcsJyAvLyDliJ3lp4vljJbmmL7npLoNCiAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRFeHBhbmRlZEtleS5wdXNoKHZhbEFycltpXSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy4kcmVmcy5zZWxlY3RUcmVlLnNldENoZWNrZWRLZXlzKHRoaXMuZGVmYXVsdEV4cGFuZGVkS2V5KQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyBzZWxlY3QgIOWPjOWHuyAg5riF56m677yM5b2x5ZON5LqGbGluZURhdGHmlLnlj5gNCiAgICBlbWl0TGluZURhdGEoKSB7DQogICAgICBjb25zdCBjdXJWYWwgPSB0aGlzLmdldERhdGEoKQ0KICAgICAgaWYgKHRoaXMuY2hlY2tib3gpIHsNCiAgICAgICAgdGhpcy5lbWl0TGluZURhdGFDaGVja3MoY3VyVmFsKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmlzT2JqZWN0KHRoaXMudmFsdWUpKSB7DQogICAgICAgIHRoaXMubGluZURhdGFbYCR7dGhpcy50cmVlUHJlZml4fWlkYF0gPSBjdXJWYWwuaWQNCiAgICAgICAgdGhpcy5saW5lRGF0YVtgJHt0aGlzLnRyZWVQcmVmaXh9Y29kZWBdID0gY3VyVmFsLmNvZGUNCiAgICAgICAgdGhpcy5saW5lRGF0YVtgJHt0aGlzLnRyZWVQcmVmaXh9bmFtZWBdID0gY3VyVmFsLm5hbWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMubGluZURhdGEgPSBgJHtjdXJWYWwuaWR9IyMke2N1clZhbC5jb2RlfSMjJHtjdXJWYWwubmFtZX1gDQogICAgICB9DQogICAgICAvLyBjb25zb2xlLmxvZyg3NywgdGhpcy5saW5lRGF0YSkNCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5saW5lRGF0YSkNCiAgICB9LA0KDQogICAgLy8g5riF56m6IOWbnuiwgw0KICAgIGVtaXRDbGVhckxpbmVEYXRhKCkgew0KICAgICAgbGV0IHRpbWVTdGFtcCA9ICtuZXcgRGF0ZSgpDQogICAgICBpZiAodGhpcy5pc09iamVjdCh0aGlzLnZhbHVlKSkgew0KICAgICAgICB0aGlzLmxpbmVEYXRhW2Ake3RoaXMudHJlZVByZWZpeH1pZGBdID0gJ2luaXRJZCcgKyB0aW1lU3RhbXANCiAgICAgICAgdGhpcy5saW5lRGF0YVtgJHt0aGlzLnRyZWVQcmVmaXh9Y29kZWBdID0gJyAnDQogICAgICAgIHRoaXMubGluZURhdGFbYCR7dGhpcy50cmVlUHJlZml4fW5hbWVgXSA9ICcgJw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5saW5lRGF0YSA9IGBpbml0SWQke3RpbWVTdGFtcH0jIyAjIyBgDQogICAgICB9DQoNCiAgICAgIC8vIGNvbnNvbGUubG9nKDc4LCB0aGlzLmxpbmVEYXRhKQ0KICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmxpbmVEYXRhKQ0KICAgIH0sDQoNCiAgICBzcGxpdExpbmVEYXRhKCkgew0KICAgICAgbGV0IGxpbmVEYXRhT2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKQ0KICAgICAgaWYgKHRoaXMuaXNPYmplY3QodGhpcy52YWx1ZSkpIHsNCiAgICAgICAgbGluZURhdGFPYmouaWQgPSB0aGlzLmxpbmVEYXRhW2Ake3RoaXMudHJlZVByZWZpeH1pZGBdDQogICAgICAgIGxpbmVEYXRhT2JqLmNvZGUgPSB0aGlzLmxpbmVEYXRhW2Ake3RoaXMudHJlZVByZWZpeH1jb2RlYF0NCiAgICAgICAgbGluZURhdGFPYmoubmFtZSA9IHRoaXMubGluZURhdGFbYCR7dGhpcy50cmVlUHJlZml4fW5hbWVgXQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgW2xpbmVEYXRhT2JqLmlkLCBsaW5lRGF0YU9iai5jb2RlLCBsaW5lRGF0YU9iai5uYW1lXSA9IHRoaXMubGluZURhdGEuc3BsaXQoJyMjJykNCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIGxpbmVEYXRhT2JqDQogICAgfSwNCg0KICAgIHN0clRyaW0oc3RyKSB7DQogICAgICBsZXQgc3RyQ3AgPSB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyA/IFN0cmluZyhzdHIpIDogc3RyDQogICAgICByZXR1cm4gKHN0ckNwIHx8ICcnKS50cmltKCkNCiAgICB9LA0KDQogICAgLy89ID09PT09PT09PT09PT09PT09PT09PT09PT09PT0957uZ6LCD55So6ICF5pq06Zyy55qE5pa55rOVPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ly8NCg0KICAgIC8vIOi/lOWbnnNlbGVjdOWvueixoeWSjOagkeWvueixoQ0KICAgIHRyZWVJbnB1dE9wdGlvbkZuKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgc2VsZWN0UmVmOiB0aGlzLiRyZWZzLnNlbGVjdFJlZiwNCiAgICAgICAgc2VsZWN0VHJlZTogdGhpcy4kcmVmcy5zZWxlY3RUcmVlDQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIOWIt+aWsOagkQ0KICAgIHJlZnJlc2hUcmVlKCkgew0KICAgICAgdGhpcy5pbml0VHJlZSgpDQogICAgfSwNCg0KICAgIC8vIOiOt+WPluagkeaVsOaNrg0KICAgIGdldERhdGEoKSB7DQogICAgICBsZXQgcmRhdGENCiAgICAgIGxldCB0aW1lU3RhbXAgPSArbmV3IERhdGUoKQ0KICAgICAgY29uc3QgZGVmYXVsdE9iaiA9IHsNCiAgICAgICAgaWQ6ICdpbml0SWQnICsgdGltZVN0YW1wLA0KICAgICAgICBjb2RlOiAnICcsDQogICAgICAgIG5hbWU6ICcgJw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuY2hlY2tib3gpIHsNCiAgICAgICAgcmRhdGEgPSB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuZ2V0Q2hlY2tlZE5vZGVzKCkgfHwgdGhpcy5zcGxpdExpbmVEYXRhQ2hlY2tzKCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKDQ0LCB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuZ2V0Q3VycmVudE5vZGUoKSkNCiAgICAgICAgcmRhdGEgPSB0aGlzLiRyZWZzLnNlbGVjdFRyZWUuZ2V0Q3VycmVudE5vZGUoKSB8fCB0aGlzLnNwbGl0TGluZURhdGEoKQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJkYXRhIHx8IGRlZmF1bHRPYmoNCiAgICB9DQoNCiAgICAvLz0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT3nu5nosIPnlKjogIXmmrTpnLLnmoTmlrnms5U9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vLw0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pbml0RGF0YSgpDQogICAgaWYgKHRoaXMuZWRpdENvbmZpZ0luLmluaXRMb2FkVHJlZSkgew0KICAgICAgdGhpcy5pbml0VHJlZSgpDQogICAgfQ0KICAgIHRoaXMuaW5pdFZhbHVlKCkNCiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICB0aGlzLmRlYWxDc3MoKQ0KICAgIH0pDQogIH0sDQogIGNyZWF0ZWQoKSB7DQoNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBlZGl0Q29uZmlnOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgICB0aGlzLmluaXRFZGl0Q29uZmlnKCkNCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICBzaG93Y2hlY2tib3godmFsKSB7DQogICAgICB0aGlzLmNoZWNrYm94ID0gdmFsDQogICAgfSwNCiAgICBkaXNhYmxlZCh2YWwpIHsNCiAgICAgIHRoaXMuc2VsZWN0RGlzYWJsZWQgPSB2YWwNCiAgICB9LA0KICAgIHByZWZpeCh2YWwpIHsNCiAgICAgIHRoaXMudHJlZVByZWZpeCA9IHZhbA0KICAgIH0sDQogICAgb3BlblRyZWVDYWNoZSh2YWwpIHsNCiAgICAgIHRoaXMudXNlVHJlZUNhY2hlID0gdmFsDQogICAgfSwNCiAgICBxdWVzdFVyaSh2YWwpIHsNCiAgICAgIHRoaXMucXVlc3RVcmkgPSB2YWwNCiAgICB9LA0KICAgIGRhdGFzOiB7IC8vIOihqOagvOmFjee9ruebkeWQrA0KICAgICAgaGFuZGxlcihuZXd2YWx1ZSwgb2xkVmFsdWUpIHsNCiAgICAgICAgdGhpcy5kYXRhID0gbmV3dmFsdWUNCiAgICAgIH0sDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIHRpdGxlQ29uZmlnOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgICB0aGlzLnRpdGxlID0gbmV3VmFsdWUNCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICBxdWVyeXBhcmFtczogew0KICAgICAgaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsNCiAgICAgICAgY29uc3QgZmxhZyA9IEpTT04uc3RyaW5naWZ5KG5ld1ZhbHVlKSA9PT0gSlNPTi5zdHJpbmdpZnkob2xkVmFsdWUpDQogICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgIHRoaXMucGFyYW1zID0gbmV3VmFsdWUNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5vcGVuUXVlcnlTZWFjaCAmJiAhZmxhZyAmJiBvbGRWYWx1ZSkgew0KICAgICAgICAgIHRoaXMuaW5pdFRyZWUoKQ0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLnF1ZXJ5QnlJbnB1dCkgew0KICAgICAgICAgIHRoaXMucGFyYW1zID0gbmV3VmFsdWUNCiAgICAgICAgICB0aGlzLmluaXRUcmVlKCkNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIHZhbHVlOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmlzT2JqZWN0KHRoaXMudmFsdWUpID8gdGhpcy52YWx1ZVtgJHt0aGlzLnRyZWVQcmVmaXh9aWRgXSA6ICh0aGlzLmNoZWNrYm94ID8gdGhpcy52YWx1ZS5zcGxpdCgnLCcpLmxlbmd0aCA6IHRoaXMudmFsdWUuc3BsaXQoJyMjJylbMF0pDQogICAgICAgIGlmICh0aGlzLnZhbHVlICYmIHZhbCkgew0KICAgICAgICAgIHRoaXMuaW5pdFZhbHVlKCkNCiAgICAgICAgICB0aGlzLmxpbmVEYXRhID0gdGhpcy52YWx1ZQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgZGVlcDogdHJ1ZSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0sDQogICAgdmFsdWVUaXRsZSh2YWwpIHsgLy8g6Kej5YazZnJvbeWKoOi9veagkeaXtu+8jOWPquacieS4gOS4qmlk5rKh5pyJY29kZeWSjG5hbWXml7bpnIDopoHlm57mmL7lkI3np7Dpl67popgNCiAgICAgIGlmICghdGhpcy5lZGl0Q29uZmlnSW4uYWxsb3dJbnB1dCkgew0KICAgICAgICBpZiAodGhpcy5jaGVja2JveCkgew0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICAgIGxldCBkYXRhID0gT2JqZWN0LmNyZWF0ZShudWxsKQ0KICAgICAgICBpZiAodGhpcy5pc09iamVjdCh0aGlzLnZhbHVlKSkgew0KICAgICAgICAgIGRhdGEgPSB0aGlzLmxpbmVEYXRhDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgY29uc3QgYXJyID0gdGhpcy5saW5lRGF0YS5zcGxpdCgnIyMnKQ0KICAgICAgICAgIGRhdGFbdGhpcy50cmVlUHJlZml4ICsgJ2lkJ10gPSBhcnJbMF0NCiAgICAgICAgICBkYXRhW3RoaXMudHJlZVByZWZpeCArICdjb2RlJ10gPSBhcnJbMV0NCiAgICAgICAgICBkYXRhW3RoaXMudHJlZVByZWZpeCArICduYW1lJ10gPSBhcnJbMl0NCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBfaWQgPSB0aGlzLnN0clRyaW0oZGF0YVt0aGlzLnRyZWVQcmVmaXggKyAnaWQnXSkNCiAgICAgICAgbGV0IF9jb2RlID0gdGhpcy5zdHJUcmltKGRhdGFbdGhpcy50cmVlUHJlZml4ICsgJ2NvZGUnXSkNCiAgICAgICAgbGV0IF9uYW1lID0gdGhpcy5zdHJUcmltKGRhdGFbdGhpcy50cmVlUHJlZml4ICsgJ25hbWUnXSkNCiAgICAgICAgaWYgKF9pZCAmJiAhU3RyaW5nKF9pZCkuaW5jbHVkZXMoJ2luaXRJZCcpICYmICFfY29kZSAmJiAhX25hbWUpIHsNCiAgICAgICAgICBsZXQgdGltZVN0YW1wID0gK25ldyBEYXRlKCkNCiAgICAgICAgICBjb25zdCBkZWZhdWx0T2JqID0gew0KICAgICAgICAgICAgaWQ6ICdpbml0SWQnICsgdGltZVN0YW1wLA0KICAgICAgICAgICAgY29kZTogJyAnLA0KICAgICAgICAgICAgbmFtZTogJyAnDQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbnN0IGN1clZhbCA9IHRoaXMuJHJlZnMuc2VsZWN0VHJlZS5nZXRDdXJyZW50Tm9kZSgpIHx8IGRlZmF1bHRPYmoNCiAgICAgICAgICBpZiAodGhpcy5pc09iamVjdCh0aGlzLnZhbHVlKSkgew0KICAgICAgICAgICAgdGhpcy5saW5lRGF0YVtgJHt0aGlzLnRyZWVQcmVmaXh9aWRgXSA9IGN1clZhbC5pZA0KICAgICAgICAgICAgdGhpcy5saW5lRGF0YVtgJHt0aGlzLnRyZWVQcmVmaXh9Y29kZWBdID0gY3VyVmFsLmNvZGUNCiAgICAgICAgICAgIHRoaXMubGluZURhdGFbYCR7dGhpcy50cmVlUHJlZml4fW5hbWVgXSA9IGN1clZhbC5uYW1lDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMubGluZURhdGEgPSBgJHtjdXJWYWwuaWR9IyMke2N1clZhbC5jb2RlfSMjJHtjdXJWYWwubmFtZX1gDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5saW5lRGF0YSkNCiAgICAgICAgLy8gY29uc29sZS5sb2coOTksIHRoaXMubGluZURhdGEpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGlucHV0dmFsOiB7IC8vIOebkeWQrOeUqOaIt+i+k+WFpQ0KICAgICAgaGFuZGxlcihuZXd2YWx1ZSwgb2xkVmFsdWUpIHsNCiAgICAgICAgLy8g5aaC5p6c6YWN572u5Li6dHJ1ZeWImeaUueWPmOafpeivouadoeS7tg0KICAgICAgICBpZiAodGhpcy5xdWVyeUJ5SW5wdXQpIHsgLy8gJiYgbmV3dmFsdWUgIT09ICcnDQogICAgICAgICAgLy8g5oqK55So5oi36L6T5YWl5ou85o6l5Yiw5p+l6K+i5p2h5Lu25LiKDQogICAgICAgICAgdGhpcy5xdWVyeXBhcmFtcy5jb25kaXRpb25bdGhpcy50cmVlUHJlZml4XSA9IHsNCiAgICAgICAgICAgICdhbGwnOiBuZXd2YWx1ZQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0NCg0KICB9DQp9DQo="},{"version":3,"sources":["BossTreeInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"BossTreeInput.vue","sourceRoot":"src/components/treeinput","sourcesContent":["<template>\r\n  <div class=\"boss-tree__input\" :style=\"{ 'background-color': backgroundColor }\">\r\n    <div v-if=\"showTitle\" class=\"boss-tree__input_title\">\r\n      <span v-if=\"title.require\" style=\"color: red;\">*</span>\r\n      <span :title=\"title.tip\">{{ title.tip }}:&nbsp;&nbsp;</span>\r\n    </div>\r\n    <el-select\r\n      ref=\"selectRef\"\r\n      class=\"boss-tree__input_select\"\r\n      :size=\"size\"\r\n      :disabled=\"selectDisabled\"\r\n      :popper-class=\"className\"\r\n      :filter-method=\"selectFilter\"\r\n      :value=\"valueTitle\"\r\n      clearable\r\n      filterable\r\n      :placeholder=\"editConfigIn.placeholder\"\r\n      @visible-change=\"showSelectBox\"\r\n      @click.native=\"selectFocus\"\r\n      @clear=\"clearHandle\"\r\n      @keyup.native.enter=\"enterFilter\"\r\n    >\r\n      <el-option v-loading=\"treeLoading\" :value=\"valueTitle\" :label=\"valueTitle\">\r\n        <el-tree\r\n          ref=\"selectTree\"\r\n          class=\"boss-tree__input_tree\"\r\n          :show-checkbox=\"checkbox\"\r\n          :data=\"data\"\r\n          :props=\"props\"\r\n          :node-key=\"props.value\"\r\n          :empty-text=\"emptyText\"\r\n          :default-expanded-keys=\"defaultExpandedKey\"\r\n          :filter-node-method=\"filterNode\"\r\n          @dblclick.native=\"dblNodeClick\"\r\n        />\r\n      </el-option>\r\n    </el-select>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport check from './config/check'\r\nimport {\r\n  defaultEditConfig\r\n} from './config/config'\r\nexport default {\r\n  name: 'BossTreeinput',\r\n  mixins: [check],\r\n  props: {\r\n    props: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          value: 'id', // ID字段名\r\n          label: 'label', // 显示名称\r\n          children: 'children' // 子级字段名\r\n        }\r\n      }\r\n    },\r\n    value: { // 双向绑定的值 支持对象和##拼接字符串\r\n      type: [Object, String],\r\n      default() {\r\n        return ' ## ## '\r\n      }\r\n    },\r\n    datas: { // 树数据\r\n      type: Array,\r\n      default: () => {\r\n        return []\r\n      }\r\n    },\r\n    size: { // select尺寸 medium/small/mini\r\n      type: String,\r\n      default: ''\r\n    },\r\n    disabled: { // select是否禁用  默认不禁用\r\n      type: Boolean\r\n    },\r\n    showcheckbox: { // 树是否多选，默认不是\r\n      type: Boolean\r\n    },\r\n    isleaf: { // 是否开启选择某一级别，默认不开启：全可选\r\n      type: Boolean\r\n    },\r\n    isServer: { // 是否服务端加载 默认不是\r\n      type: Boolean\r\n    },\r\n    ajaxType: {\r\n      type: String,\r\n      default: 'post'\r\n    },\r\n    serverUri: { // 获取数据访问uri，可自定义[微服务/url]\r\n      type: String,\r\n      default: 'plan-service/queryTreeAssistData'\r\n    },\r\n    openFormatLabel: { // 是否启用格式化label\r\n      type: Boolean\r\n    },\r\n    formatter: { // 树显示label格式化\r\n      type: String,\r\n      default: '#code-#name'\r\n    },\r\n    reloaddata: { // 每次点击是否重新加载数据\r\n      type: Boolean,\r\n      default() {\r\n        return true\r\n      }\r\n    },\r\n    dropdownmethod: { // 单选情况下双击选中事件后触发， 回调\r\n      type: Function,\r\n      default: function(datas) {}\r\n    },\r\n    aftercheckmethod: { // 多选情况下勾选触发，回调\r\n      type: Function,\r\n      default: function(datas) {}\r\n    },\r\n    afterloadmethod: { // 数据已经加载完， 回调\r\n      type: Function,\r\n      default: function(datas) {}\r\n    },\r\n    openQuerySeach: {\r\n      type: Boolean\r\n    },\r\n    queryparams: { // 查询条件获取方法\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    prefix: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    },\r\n    openTreeCache: {\r\n      type: Boolean,\r\n      default() {\r\n        return true\r\n      }\r\n    },\r\n    openLoading: { // 是否开启loading 默认开启\r\n      type: Boolean,\r\n      default() {\r\n        return true\r\n      }\r\n    },\r\n    backgroundColor: {\r\n      type: String,\r\n      default() {\r\n        return '#ffffff'\r\n      }\r\n    },\r\n    titleConfig: { // 标题内容配置\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          require: false,\r\n          tip: ''\r\n\r\n        }\r\n      }\r\n    },\r\n    editConfig: { // 树配置\r\n      // 树编辑配置项\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    queryByInput: { // 根据用户输入来重新获取数据\r\n      type: Boolean,\r\n      default() {\r\n        return false\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      className: 'boss-tree__input_tree',\r\n      questUri: this.serverUri,\r\n      selectDisabled: this.disabled,\r\n      valueId: '', // 初始值\r\n      lineData: this.value, // 行数据\r\n      valueTitle: '',\r\n      inputval: '', // 记录一下文本框里面输入的值\r\n      emptyText: '',\r\n      defaultExpandedKey: [],\r\n      data: this.datas,\r\n      params: this.queryparams,\r\n      checkbox: this.showcheckbox,\r\n      curNode: { // 当前点击节点\r\n        id: '',\r\n        name: '',\r\n        code: ''\r\n      },\r\n      treePrefix: this.prefix,\r\n      cacheData: null,\r\n      treeLoading: false,\r\n      tempNode: null, // 临时的node值\r\n      useTreeCache: this.openTreeCache,\r\n      title: this.titleConfig,\r\n      editConfigIn: { ...defaultEditConfig }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('basicInfo', ['cacheTree']),\r\n    treeParams() {\r\n      return {\r\n        ajaxType: this.ajaxType,\r\n        serverUri: this.serverUri,\r\n        params: this.queryparams\r\n      }\r\n    },\r\n    showTitle() { // 是否显示title\r\n      return !!this.title.tip\r\n    },\r\n    levelno() { // 树节点级别\r\n      return (this.editConfigIn && this.editConfigIn.levelno) || '-1'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('basicInfo', ['setBossTree']),\r\n    // 初始化参数\r\n    initData() {\r\n      this.initEditConfig()\r\n    },\r\n\r\n    // 初始化api服务数据\r\n    initEditConfig() {\r\n      this.editConfigIn = Object.assign(\r\n        {},\r\n        this.editConfigIn,\r\n        this.editConfig\r\n      )\r\n    },\r\n\r\n    // 判断是否为对象\r\n    isObject(obj) {\r\n      return (Object.prototype.toString.call(obj) === '[object Object]')\r\n    },\r\n    // 监听value变化， value改变时改变valueId及curNode的值\r\n    initValue() {\r\n      if (this.checkbox) {\r\n        this.initCheckValue()\r\n        return\r\n      }\r\n      if (this.isObject(this.value)) {\r\n        this.valueId = this.value[`${this.treePrefix}id`]\r\n        this.curNode.id = this.value[`${this.treePrefix}id`]\r\n        this.curNode.code = this.value[`${this.treePrefix}code`]\r\n        this.curNode.name = this.value[`${this.treePrefix}name`]\r\n      } else {\r\n        this.valueId = this.value.split('##')[0]\r\n        this.curNode.id = this.value.split('##')[0]\r\n        this.curNode.code = this.value.split('##')[1]\r\n        this.curNode.name = this.value.split('##')[2]\r\n      }\r\n      let node = {\r\n        id: (this.curNode.id && this.curNode.id !== ' ') ? this.curNode.id : '',\r\n        code: (this.curNode.code && this.curNode.code !== ' ') ? this.curNode.code : '',\r\n        name: (this.curNode.name && this.curNode.name !== ' ') ? this.curNode.name : ''\r\n      }\r\n      if (this.openFormatLabel && this.curNode.name !== ' ') {\r\n        let fmt = this.formatter\r\n        let fmtArr = this.formatter.split('-')\r\n        for (let j = 0; j < fmtArr.length; j++) {\r\n          fmt = fmt.replace(\r\n            fmtArr[j],\r\n            node[fmtArr[j].replace('#', '')] || ''\r\n          )\r\n        }\r\n        this.valueTitle = fmt\r\n      } else {\r\n        // 默认显示为code与name拼接\r\n        this.valueTitle = (node.name && node.code) ? node.code + '-' + node.name : ''\r\n      }\r\n    },\r\n\r\n    // 下拉框输入时时时触发自动过滤,如果树是支持录入，则不支持时时过滤，只支持enter过滤\r\n    selectFilter(newVal) {\r\n      this.inputval = newVal\r\n      if (this.editConfigIn.allowInput) {\r\n        this.lineData = `${newVal}## ##${newVal}`\r\n        this.$emit('input', this.lineData)\r\n        return\r\n      }\r\n\r\n      this.filterTree(newVal)\r\n    },\r\n\r\n    // enter进行过滤查询\r\n    enterFilter(e) {\r\n      if (!this.editConfigIn.allowInput) {\r\n        return\r\n      }\r\n      const newVal = e.target.value\r\n      this.filterTree(newVal)\r\n    },\r\n\r\n    filterTree(newVal) {\r\n      this.$refs.selectTree && this.$refs.selectTree.filter(newVal)\r\n    },\r\n\r\n    // 对树节点进行筛选时执行的方法，返回 true 表示这个节点可以显示，返回 false 则表示这个节点会被隐藏\r\n    filterNode(value, data) {\r\n      // 搜索过滤\r\n      if (!value) return true\r\n      let valArr = value.split(',')\r\n      let isOk = false\r\n      for (let i = 0; i < valArr.length; i++) {\r\n        if (isOk) {\r\n          break\r\n        }\r\n        isOk = data.label.indexOf(valArr[i]) !== -1\r\n      }\r\n      return isOk\r\n    },\r\n\r\n    // 格式化树的label\r\n    formatLabel(data) {\r\n      if (data && data.length !== 0) {\r\n        for (let i = 0; i < data.length; i++) {\r\n          data[i].name = data[i].name || data[i].label\r\n          if (this.openFormatLabel) {\r\n            let fmt = this.formatter\r\n            let fmtArr = this.formatter.split('-')\r\n            for (let j = 0; j < fmtArr.length; j++) {\r\n              fmt = fmt.replace(\r\n                fmtArr[j],\r\n                data[i][fmtArr[j].replace('#', '')] || ''\r\n              )\r\n            }\r\n            data[i]['label'] = fmt\r\n          }\r\n          if (data[i].children && data[i].children !== undefined && data[i].children.length > 0) { // 非底级节点\r\n            data[i].isleaf = '0'\r\n            data[i].leaf = false\r\n            this.formatLabel(data[i].children)\r\n          } else { // 底级节点\r\n            data[i].isleaf = '1'\r\n            data[i].leaf = true\r\n          }\r\n          // 节点级别，如果没有则为0\r\n          data[i].levels = data[i].levelno || 0\r\n        }\r\n      }\r\n    },\r\n\r\n    // input框单击，查询树数据，支持关闭\r\n    selectFocus() {\r\n      if (this.selectDisabled) {\r\n        return\r\n      }\r\n\r\n      if (this.reloaddata) {\r\n        this.initTree()\r\n      }\r\n      this.$refs.selectTree && this.$refs.selectTree.filter('') // 每次显示数据清除掉之前的过滤\r\n    },\r\n\r\n    setValue(val) {\r\n      this.valueId = val\r\n      if (!val) {\r\n        this.clearHandle()\r\n      }\r\n      this.setTreeData()\r\n    },\r\n    // 加载完后处理数据\r\n    dealDataAfterLoad() {\r\n      this.$nextTick(() => {\r\n        this.formatLabel(this.data)\r\n        this.setTreeData()\r\n        if (!this.editConfigIn.allowInput && !this.queryByInput) {\r\n          this.selectFilter('')\r\n        }\r\n        this.$nextTick(() => {\r\n          this.afterloadmethod(this.data)\r\n        })\r\n      })\r\n    },\r\n\r\n    // 获取缓存数据\r\n    getCacheData() {\r\n      this.data = this.cacheData\r\n      this.dealDataAfterLoad()\r\n    },\r\n\r\n    // 获取请求数据\r\n    async getHttpData() {\r\n      let self = this\r\n      if (this.treeLoading) {\r\n        return\r\n      }\r\n      this.emptyText = ''\r\n      self.openLoading && (self.treeLoading = true)\r\n      await this.$http[this.ajaxType](this.questUri, this.params)\r\n        .then(res => {\r\n          res.data.map(v => {\r\n            v.label = v.label || v.name\r\n          })\r\n          self.data = (res && Array.isArray(res)) ? res : ((res.rscode === '100000' || res.rscode === '200' || res.code === '100000' || res.code === '200') ? res.data : [])\r\n          this.treeLoading = false\r\n        })\r\n        .catch(err => {\r\n          this.treeLoading = false\r\n          console.log(err)\r\n        })\r\n      this.emptyText = '暂无数据'\r\n      this.dealDataAfterLoad()\r\n      // 缓存数据\r\n      this.setBossTree({\r\n        params: this.treeParams,\r\n        treeData: this.data\r\n      })\r\n    },\r\n    // 初始化值\r\n    async initTree() {\r\n      if (this.isServer) {\r\n        this.getHttpData()\r\n        // this.cacheData = this.cacheTree(this.treeParams)\r\n        // // console.log(55, this.useTreeCache, this.cacheData)\r\n        // if (this.useTreeCache && this.cacheData) {\r\n        //   // console.log('来自树缓存数据')\r\n        //   this.getCacheData()\r\n        // } else {\r\n        //   // console.log('来自树请求数据')\r\n        //   this.getHttpData()\r\n        // }\r\n      } else {\r\n        if (this.data.length) { // 说明是传入的树数据\r\n          this.dealDataAfterLoad()\r\n        }\r\n      }\r\n    },\r\n\r\n    // 下拉框出现/隐藏时触发 出现则为 true，隐藏则为 false\r\n    showSelectBox(isShow) {\r\n      if (!isShow) {\r\n        if (this.checkbox) {\r\n          this.changeSelectBoxMultiSelect()\r\n        } else {\r\n          (this.editConfigIn && this.editConfigIn.allowInput) ? this.changeSelectBoxEditInput() : this.changeSelectBoxNoEditInput()\r\n        }\r\n        this.emitLineData()\r\n      }\r\n    },\r\n\r\n    // 多选时，下拉框改变时处理逻辑\r\n    changeSelectBoxMultiSelect() {\r\n      let nodes = this.$refs.selectTree.getCheckedNodes()\r\n      nodes = this.dealCheckDataByisLeaf(nodes)\r\n      if (nodes.length > 0) {\r\n        let allValueId = ''\r\n        let allValueTitle = ''\r\n        for (let i = 0; i < nodes.length; i++) {\r\n          if (i === nodes.length - 1) {\r\n            allValueId += nodes[i][this.props.value] + ''\r\n            allValueTitle += nodes[i][this.props.label] + ''\r\n          } else {\r\n            allValueId += nodes[i][this.props.value] + ','\r\n            allValueTitle += nodes[i][this.props.label] + ','\r\n          }\r\n        }\r\n        this.valueId = allValueId\r\n        this.valueTitle = allValueTitle\r\n      } else {\r\n        this.valueId = ''\r\n        this.valueTitle = ''\r\n      }\r\n      this.afterNodeChecked(nodes, this.valueId)\r\n    },\r\n\r\n    // 树不支持录入时， 下拉框改变时处理逻辑\r\n    changeSelectBoxNoEditInput() {\r\n      if (!this.strTrim(this.valueId)) {\r\n        // 当前不为空\r\n        let node = this.$refs.selectTree.getCurrentNode()\r\n\r\n        if (this.isleaf) {\r\n          this.changeSelectByisLeaf(node)\r\n        } else {\r\n          if (node) {\r\n            this.valueTitle = node[this.props.label]\r\n            this.valueId = node[this.props.value]\r\n          } else {\r\n            this.$refs.selectTree.setCurrentKey(null)\r\n            this.valueTitle = ''\r\n            this.$refs.selectTree.filter('')\r\n          }\r\n        }\r\n      } else {\r\n        if (typeof this.valueId === 'string' && !String(this.valueId).includes('initId')) {\r\n          this.$refs.selectTree.setCurrentKey(this.valueId)\r\n        }\r\n      }\r\n    },\r\n\r\n    // 改变选择的树节点，当开启级别后，数据处理\r\n    changeSelectByisLeaf(node) {\r\n      // 如果是底级\r\n      if (node && this.levelno === -1) {\r\n        if (node.leaf) {\r\n          // 是底级就显示\r\n          this.valueTitle = node[this.props.label]\r\n          this.valueId = node[this.props.value]\r\n        } else {\r\n          // 不是底级就清楚树的选中\r\n          this.$refs.selectTree.setCurrentKey(null)\r\n          this.valueTitle = ''\r\n          this.$refs.selectTree.filter('')\r\n        }\r\n      }\r\n\r\n      if (node && this.levelno !== -1) {\r\n        if (this.levelno === node.levels) {\r\n          // 是选择的级别就显示\r\n          this.valueTitle = node[this.props.label]\r\n          this.valueId = node[this.props.value]\r\n        } else {\r\n          // 不是选择的级别就清除树的选中\r\n          this.$refs.selectTree.setCurrentKey(null)\r\n          this.valueTitle = ''\r\n          this.$refs.selectTree.filter('')\r\n        }\r\n      }\r\n    },\r\n\r\n    // 树支持录入时，下拉框改变时处理逻辑\r\n    changeSelectBoxEditInput() {\r\n      if (!this.valueId) {\r\n        // 当前不为空\r\n        let node = this.$refs.selectTree.getCurrentNode()\r\n        if (node) {\r\n          if (this.inputval && this.inputval !== '' && this.inputval !== node.label\r\n          ) {\r\n            this.valueTitle = this.inputval\r\n            this.valueId = this.inputval\r\n            this.$refs.selectTree.setCurrentKey(null)\r\n          } else {\r\n            if (this.isleaf) {\r\n              this.changeSelectByisLeaf(node)\r\n            } else {\r\n              if (node) {\r\n                this.valueTitle = node[this.props.label]\r\n                this.valueId = node[this.props.value]\r\n              } else {\r\n                this.$refs.selectTree.setCurrentKey(null)\r\n                this.valueTitle = ''\r\n                this.$refs.selectTree.filter('')\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          if (this.inputval && this.inputval !== '') {\r\n            this.valueTitle = this.inputval\r\n            this.valueId = this.inputval\r\n            this.$refs.selectTree.setCurrentKey(null)\r\n          }\r\n        }\r\n      } else {\r\n        let node = this.$refs.selectTree.getCurrentNode()\r\n        if (!node) {\r\n          this.valueTitle = this.inputval\r\n          this.valueId = this.inputval\r\n          this.$refs.selectTree.setCurrentKey(null)\r\n        } else {\r\n          if (this.inputval && this.inputval !== '' && this.inputval !== node.label) {\r\n            this.valueTitle = this.inputval\r\n            this.valueId = this.inputval\r\n            this.$refs.selectTree.setCurrentKey(null)\r\n          } else {\r\n            if (this.isleaf) {\r\n              this.changeSelectByisLeaf(node)\r\n            } else {\r\n              if (node) {\r\n                this.valueTitle = node[this.props.label]\r\n                this.valueId = node[this.props.value]\r\n              } else {\r\n                this.$refs.selectTree.setCurrentKey(null)\r\n                this.valueTitle = ''\r\n                this.$refs.selectTree.filter('')\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    afterNodeChecked(nodes, values) {\r\n      if (this.aftercheckmethod) {\r\n        this.aftercheckmethod(nodes, values)\r\n      }\r\n    },\r\n\r\n    // 树单击事件\r\n    handleNodeClick($event, node, curndoe, e) {\r\n      // window.event.stopPropagation()\r\n      // window.event.preventDefault()\r\n      if (this.isleaf) {\r\n        if (this.levelno === -1) {\r\n          if (node.leaf) {\r\n            this.curNode = node\r\n          } else {\r\n            this.throwWarn()\r\n          }\r\n        }\r\n\r\n        if (this.levelno !== -1) {\r\n          if (this.levelno === node.levels) {\r\n            this.curNode = node\r\n          } else {\r\n            this.throwErroWarn()\r\n          }\r\n        }\r\n      } else {\r\n        this.curNode = node\r\n      }\r\n    },\r\n\r\n    // 非底级节点提示\r\n    throwWarn() {\r\n      this.$message({ message: '非底级节点不能选中!', type: 'warning' })\r\n    },\r\n    // 非传入的级别节点提示\r\n    throwErroWarn() {\r\n      this.$message({ message: '非期望的节点不能选中!', type: 'warning' })\r\n    },\r\n\r\n    // 树双击事件【只有checkbox为false情况下触发】\r\n    dblNodeClick(event) {\r\n      if (!this.checkbox) {\r\n        const node = this.$refs.selectTree.getCurrentNode()\r\n\r\n        if (this.isleaf) {\r\n          if (this.levelno === -1 && !node.leaf) {\r\n            this.throwWarn()\r\n            return\r\n          }\r\n\r\n          if (this.levelno !== -1 && this.levelno !== node.levels) {\r\n            this.throwErroWarn()\r\n            return\r\n          }\r\n        }\r\n\r\n        this.$refs.selectRef.blur()\r\n        this.onDropdownMenuClosed(node, event)\r\n        this.inputval = ''\r\n        // 值修改监控事件\r\n        this.emitLineData()\r\n      }\r\n    },\r\n\r\n    // 双击选中后触发\r\n    onDropdownMenuClosed(data, event) {\r\n      this.dropdownmethod(data, event, this.queryparams)\r\n    },\r\n\r\n    // 清除选中\r\n    clearHandle() {\r\n      this.valueTitle = ''\r\n      this.valueId = null\r\n      this.inputval = ''\r\n      this.defaultExpandedKey = []\r\n      if (this.checkbox) {\r\n        this.$refs.selectTree.setCheckedKeys([])\r\n      } else {\r\n        this.$refs.selectTree.setCurrentKey(null)\r\n      }\r\n      this.emitClearLineData()\r\n    },\r\n\r\n    dealCss() {\r\n      var uldiv = this.$el.getElementsByClassName(\r\n        'el-select-dropdown__wrap el-scrollbar__wrap'\r\n      )\r\n      var ul = this.$el.getElementsByClassName(\r\n        'el-scrollbar__view el-select-dropdown__list'\r\n      )\r\n      if (uldiv.length) {\r\n        uldiv[0].style.marginBottom = '0px'\r\n        uldiv[0].style.marginRight = '0px'\r\n        uldiv[0].style.overflow = 'auto'\r\n      }\r\n      if (ul.length) {\r\n        ul[0].style.padding = 0\r\n      }\r\n    },\r\n\r\n    // 设置树数据【input显示  默认选中  默认展开】\r\n    setTreeData() {\r\n      if (!this.checkbox) {\r\n        if (this.valueId && !String(this.valueId).includes('initId')) {\r\n          let node = this.$refs.selectTree && this.$refs.selectTree.getNode(this.valueId)\r\n          if (this.editConfigIn.allowInput) {\r\n            const name = this.lineData[this.prefix + 'name']\r\n            if (name) {\r\n              this.inputval = name\r\n            }\r\n            this.valueTitle = (node && node.data[this.props.label]) || this.inputval || name || ''\r\n          } else {\r\n            this.valueTitle = (node && node.data[this.props.label]) || ''// 初始化显示\r\n          }\r\n\r\n          this.$refs.selectTree && this.$refs.selectTree.setCurrentKey(this.valueId) // 设置默认选中\r\n          this.defaultExpandedKey = [this.valueId] // 设置默认展开\r\n        }\r\n      } else {\r\n        if (this.valueId) {\r\n          let valArr = this.valueId.split(',')\r\n          this.valueTitle = ''\r\n          this.defaultExpandedKey = []\r\n          for (let i = 0; i < valArr.length; i++) {\r\n            if (i === valArr.length - 1) {\r\n              if (this.$refs.selectTree.getNode(valArr[i])) {\r\n                this.valueTitle += this.$refs.selectTree.getNode(valArr[i]).data[this.props.label] // 初始化显示\r\n                this.defaultExpandedKey.push(valArr[i])\r\n              }\r\n            } else {\r\n              if (this.$refs.selectTree.getNode(valArr[i])) {\r\n                this.valueTitle +=\r\n                  this.$refs.selectTree.getNode(valArr[i]).data[this.props.label] + ',' // 初始化显示\r\n                this.defaultExpandedKey.push(valArr[i])\r\n              }\r\n            }\r\n            this.$refs.selectTree.setCheckedKeys(this.defaultExpandedKey)\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    // select  双击  清空，影响了lineData改变\r\n    emitLineData() {\r\n      const curVal = this.getData()\r\n      if (this.checkbox) {\r\n        this.emitLineDataChecks(curVal)\r\n        return\r\n      }\r\n      if (this.isObject(this.value)) {\r\n        this.lineData[`${this.treePrefix}id`] = curVal.id\r\n        this.lineData[`${this.treePrefix}code`] = curVal.code\r\n        this.lineData[`${this.treePrefix}name`] = curVal.name\r\n      } else {\r\n        this.lineData = `${curVal.id}##${curVal.code}##${curVal.name}`\r\n      }\r\n      // console.log(77, this.lineData)\r\n      this.$emit('input', this.lineData)\r\n    },\r\n\r\n    // 清空 回调\r\n    emitClearLineData() {\r\n      let timeStamp = +new Date()\r\n      if (this.isObject(this.value)) {\r\n        this.lineData[`${this.treePrefix}id`] = 'initId' + timeStamp\r\n        this.lineData[`${this.treePrefix}code`] = ' '\r\n        this.lineData[`${this.treePrefix}name`] = ' '\r\n      } else {\r\n        this.lineData = `initId${timeStamp}## ## `\r\n      }\r\n\r\n      // console.log(78, this.lineData)\r\n      this.$emit('input', this.lineData)\r\n    },\r\n\r\n    splitLineData() {\r\n      let lineDataObj = Object.create(null)\r\n      if (this.isObject(this.value)) {\r\n        lineDataObj.id = this.lineData[`${this.treePrefix}id`]\r\n        lineDataObj.code = this.lineData[`${this.treePrefix}code`]\r\n        lineDataObj.name = this.lineData[`${this.treePrefix}name`]\r\n      } else {\r\n        [lineDataObj.id, lineDataObj.code, lineDataObj.name] = this.lineData.split('##')\r\n      }\r\n\r\n      return lineDataObj\r\n    },\r\n\r\n    strTrim(str) {\r\n      let strCp = typeof str !== 'string' ? String(str) : str\r\n      return (strCp || '').trim()\r\n    },\r\n\r\n    //= =============================给调用者暴露的方法==============================//\r\n\r\n    // 返回select对象和树对象\r\n    treeInputOptionFn() {\r\n      return {\r\n        selectRef: this.$refs.selectRef,\r\n        selectTree: this.$refs.selectTree\r\n      }\r\n    },\r\n\r\n    // 刷新树\r\n    refreshTree() {\r\n      this.initTree()\r\n    },\r\n\r\n    // 获取树数据\r\n    getData() {\r\n      let rdata\r\n      let timeStamp = +new Date()\r\n      const defaultObj = {\r\n        id: 'initId' + timeStamp,\r\n        code: ' ',\r\n        name: ' '\r\n      }\r\n      if (this.checkbox) {\r\n        rdata = this.$refs.selectTree.getCheckedNodes() || this.splitLineDataChecks()\r\n      } else {\r\n        // console.log(44, this.$refs.selectTree.getCurrentNode())\r\n        rdata = this.$refs.selectTree.getCurrentNode() || this.splitLineData()\r\n      }\r\n      return rdata || defaultObj\r\n    }\r\n\r\n    //= =============================给调用者暴露的方法==============================//\r\n\r\n  },\r\n  mounted() {\r\n    this.initData()\r\n    if (this.editConfigIn.initLoadTree) {\r\n      this.initTree()\r\n    }\r\n    this.initValue()\r\n    this.$nextTick(() => {\r\n      this.dealCss()\r\n    })\r\n  },\r\n  created() {\r\n\r\n  },\r\n  watch: {\r\n    editConfig: {\r\n      handler(newValue, oldValue) {\r\n        this.initEditConfig()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    showcheckbox(val) {\r\n      this.checkbox = val\r\n    },\r\n    disabled(val) {\r\n      this.selectDisabled = val\r\n    },\r\n    prefix(val) {\r\n      this.treePrefix = val\r\n    },\r\n    openTreeCache(val) {\r\n      this.useTreeCache = val\r\n    },\r\n    questUri(val) {\r\n      this.questUri = val\r\n    },\r\n    datas: { // 表格配置监听\r\n      handler(newvalue, oldValue) {\r\n        this.data = newvalue\r\n      },\r\n      immediate: true\r\n    },\r\n    titleConfig: {\r\n      handler(newValue, oldValue) {\r\n        this.title = newValue\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    queryparams: {\r\n      handler(newValue, oldValue) {\r\n        const flag = JSON.stringify(newValue) === JSON.stringify(oldValue)\r\n        if (!flag) {\r\n          this.params = newValue\r\n        }\r\n        if (this.openQuerySeach && !flag && oldValue) {\r\n          this.initTree()\r\n        }\r\n        if (this.queryByInput) {\r\n          this.params = newValue\r\n          this.initTree()\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    value: {\r\n      handler(newValue, oldValue) {\r\n        const val = this.isObject(this.value) ? this.value[`${this.treePrefix}id`] : (this.checkbox ? this.value.split(',').length : this.value.split('##')[0])\r\n        if (this.value && val) {\r\n          this.initValue()\r\n          this.lineData = this.value\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    valueTitle(val) { // 解决from加载树时，只有一个id没有code和name时需要回显名称问题\r\n      if (!this.editConfigIn.allowInput) {\r\n        if (this.checkbox) {\r\n          return\r\n        }\r\n        let data = Object.create(null)\r\n        if (this.isObject(this.value)) {\r\n          data = this.lineData\r\n        } else {\r\n          const arr = this.lineData.split('##')\r\n          data[this.treePrefix + 'id'] = arr[0]\r\n          data[this.treePrefix + 'code'] = arr[1]\r\n          data[this.treePrefix + 'name'] = arr[2]\r\n        }\r\n\r\n        let _id = this.strTrim(data[this.treePrefix + 'id'])\r\n        let _code = this.strTrim(data[this.treePrefix + 'code'])\r\n        let _name = this.strTrim(data[this.treePrefix + 'name'])\r\n        if (_id && !String(_id).includes('initId') && !_code && !_name) {\r\n          let timeStamp = +new Date()\r\n          const defaultObj = {\r\n            id: 'initId' + timeStamp,\r\n            code: ' ',\r\n            name: ' '\r\n          }\r\n          const curVal = this.$refs.selectTree.getCurrentNode() || defaultObj\r\n          if (this.isObject(this.value)) {\r\n            this.lineData[`${this.treePrefix}id`] = curVal.id\r\n            this.lineData[`${this.treePrefix}code`] = curVal.code\r\n            this.lineData[`${this.treePrefix}name`] = curVal.name\r\n          } else {\r\n            this.lineData = `${curVal.id}##${curVal.code}##${curVal.name}`\r\n          }\r\n          this.$emit('input', this.lineData)\r\n        // console.log(99, this.lineData)\r\n        }\r\n      }\r\n    },\r\n    inputval: { // 监听用户输入\r\n      handler(newvalue, oldValue) {\r\n        // 如果配置为true则改变查询条件\r\n        if (this.queryByInput) { // && newvalue !== ''\r\n          // 把用户输入拼接到查询条件上\r\n          this.queryparams.condition[this.treePrefix] = {\r\n            'all': newvalue\r\n          }\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scope>\r\n  .boss-tree__input{\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    .boss-tree__input_title{\r\n      line-height: 40px;\r\n      flex-shrink: 0;\r\n      max-width: 320px;\r\n      text-align: right;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      /* padding-right: .8em; */\r\n      font-size: 14px;\r\n      vertical-align: middle;\r\n      display: inline-block;\r\n    }\r\n    .el-select{\r\n      display:block;\r\n      height: 40px;\r\n      display: inline-block;\r\n      position: relative;\r\n      -webkit-box-flex: 1;\r\n      -ms-flex-positive: 1;\r\n      flex-grow: 1;\r\n    }\r\n  }\r\n  .boss-tree__input_tree{\r\n    min-height: 120px;\r\n    .el-scrollbar .el-scrollbar__view .el-select-dropdown__item {\r\n      height: auto;\r\n      max-height: 274px;\r\n      padding: 0;\r\n      overflow: hidden;\r\n      overflow-y: auto;\r\n    }\r\n    .el-select-dropdown__item.selected{\r\n      font-weight: 400 !important;\r\n    }\r\n  }\r\n</style>\r\n"]}]}