{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\hb\\components\\filePreviewHB.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\hb\\components\\filePreviewHB.vue","mtime":1694505522135},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQXBsYXllciBmcm9tICd2dWUtYXBsYXllcicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0ZpbGVQcmV2aWV3SEInLA0KICBjb21wb25lbnRzOiB7IEFwbGF5ZXIgfSwNCiAgcHJvcHM6IHsNCiAgICB2aXNpYmxlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBmaWxlR3VpZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuICcnDQogICAgICB9DQogICAgfSwNCiAgICBhcHBJZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuICdwYXlfdm91Y2hlcicNCiAgICAgIH0NCiAgICB9LA0KICAgIHRvcFRpdGxlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4gJ+afpeeciycNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHJlc2l6ZTogZmFsc2UsDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIHN0eWxlOiB7DQogICAgICAgIGhlaWdodDogJ2NhbGMoMTAwdmggLSAxcHgpJw0KICAgICAgfSwNCiAgICAgIGVycm9yU2hvdzogZmFsc2UsDQogICAgICBmaWxlU2hvdzogZmFsc2UsDQogICAgICB0aXRsZTogJ+mZhOS7tumihOiniCcsDQogICAgICAvLyDmlofmnKznsbvlnovmlofku7blkI7nvIANCiAgICAgIHRleHRUeXBlOiBbJ3R4dCcsICdzcWwnLCAnamF2YScsICdqcycsICdodG1sJywgJ3htbCcsICdjc3MnLCAneW1sJ10sDQogICAgICAvLyDlm77niYfnsbvlnovmlofku7blkI7nvIANCiAgICAgIGltZ1R5cGU6IFsncG5nJywgJ2pwZycsICdqcGVnJywgJ2JtcCcsICdnaWYnXSwNCiAgICAgIC8vIG9mZmljZeaWh+S7tuexu+Wei+WQjue8gA0KICAgICAgb2ZmaWNlVHlwZTogWydkb2MnLCAnZG9jeCcsICd4bHN4JywgJ3hscycsICdwcHQnLCAncHB0eCddLA0KICAgICAgLy8gcGRm5paH5Lu25ZCO57yADQogICAgICBwZGZUeXBlOiBbJ3BkZiddLA0KICAgICAgLy8g6KeG6aKR57G75Z6L5paH5Lu25ZCO57yADQogICAgICB2aWRlb1R5cGU6IFsnbXA0JywgJ20ydicsICdta3YnXSwNCiAgICAgIC8vIOmfs+S5kOexu+Wei+aWh+S7tuWQjue8gA0KICAgICAgbXVzaWNUeXBlOiBbJ21wMyddLA0KICAgICAgLy8g5Y6L57yp5YyF55u45YWzDQogICAgICBjb21wcmVzc1R5cGU6IFsnemlwJywgJ3RhciddLA0KICAgICAgLy8g5LiN5pSv5oyB55qE5paH5Lu257G75Z6LDQogICAgICBub3RTdXBwb3J0VHlwZTogW10sDQogICAgICBkaWFsb2dWaXNpYmxlOiB0aGlzLnZpc2libGUsDQogICAgICB1cmw6ICcnLA0KICAgICAgZmlsZVR5cGU6ICcnLA0KICAgICAgZmlsZToge30sDQogICAgICBtdXNpY09wdGlvbnM6IHsNCiAgICAgICAgdGl0bGU6ICdQcmVwYXJhdGlvbicsDQogICAgICAgIC8vIGF1dGhvcjogJycsDQogICAgICAgIHVybDogJ2h0dHA6Ly9kZXZ0ZXN0LnFpbml1ZG4uY29tL1ByZXBhcmF0aW9uLm1wMycsDQogICAgICAgIC8vIHBpYzogJ2h0dHA6Ly9kZXZ0ZXN0LnFpbml1ZG4uY29tL1ByZXBhcmF0aW9uLmpwZycsDQogICAgICAgIGxyYzogJ1swMDowMC4wMF1scmMgaGVyZVxuWzAwOjAxLjAwXWFwbGF5ZXInDQogICAgICB9LA0KICAgICAgLy8g5pKt5pS+5Zmo6YWN572uDQogICAgICBwb3NpdGl2ZVBsYXllck9wdGlvbnM6IHsNCiAgICAgICAgcGxheWJhY2tSYXRlczogWzAuNSwgMS4wLCAxLjUsIDIuMF0sIC8vIOaSreaUvumAn+W6pg0KICAgICAgICBhdXRvcGxheTogZmFsc2UsIC8vIOWmguaenHRydWUs5rWP6KeI5Zmo5YeG5aSH5aW95pe25byA5aeL5Zue5pS+44CCDQogICAgICAgIG11dGVkOiBmYWxzZSwgLy8g6buY6K6k5oOF5Ya15LiL5bCG5Lya5raI6Zmk5Lu75L2V6Z+z6aKR44CCDQogICAgICAgIGxvb3A6IGZhbHNlLCAvLyDlr7zoh7Top4bpopHkuIDnu5PmnZ/lsLHph43mlrDlvIDlp4vjgIINCiAgICAgICAgcHJlbG9hZDogJ2F1dG8nLCAvLyDlu7rorq7mtY/op4jlmajlnKg8dmlkZW8+5Yqg6L295YWD57Sg5ZCO5piv5ZCm5bqU6K+l5byA5aeL5LiL6L296KeG6aKR5pWw5o2u44CCYXV0b+a1j+iniOWZqOmAieaLqeacgOS9s+ihjOS4uiznq4vljbPlvIDlp4vliqDovb3op4bpopHvvIjlpoLmnpzmtY/op4jlmajmlK/mjIHvvIkNCiAgICAgICAgbGFuZ3VhZ2U6ICd6aC1DTicsDQogICAgICAgIGFzcGVjdFJhdGlvOiAnMTY6MTMnLCAvLyDlsIbmkq3mlL7lmajnva7kuo7mtYHnlYXmqKHlvI/vvIzlubblnKjorqHnrpfmkq3mlL7lmajnmoTliqjmgIHlpKflsI/ml7bkvb/nlKjor6XlgLzjgILlgLzlupTor6Xku6PooajkuIDkuKrmr5TkvosgLSDnlKjlhpLlj7fliIbpmpTnmoTkuKTkuKrmlbDlrZfvvIjkvovlpoIiMTY6OSLmiJYiNDozIu+8iQ0KICAgICAgICBmbHVpZDogdHJ1ZSwgLy8g5b2TdHJ1ZeaXtu+8jFZpZGVvLmpzIHBsYXllcuWwhuaLpeaciea1geS9k+Wkp+Wwj+OAguaNouWPpeivneivtO+8jOWug+WwhuaMieavlOS+i+e8qeaUvuS7pemAguW6lOWFtuWuueWZqOOAgg0KICAgICAgICBzb3VyY2VzOiBbew0KICAgICAgICAgIHR5cGU6ICcnLA0KICAgICAgICAgIHNyYzogJycgLy8g6KeG6aKRdXJs5Zyw5Z2ADQogICAgICAgIH1dLA0KICAgICAgICBwb3N0ZXI6ICcnLCAvLyDkvaDnmoTlsIHpnaLlnLDlnYANCiAgICAgICAgLy8gd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwNCiAgICAgICAgbm90U3VwcG9ydGVkTWVzc2FnZTogJ+atpOinhumikeaaguaXoOazleaSreaUvu+8jOivt+eojeWQjuWGjeivlScsIC8vIOWFgeiuuOimhuebllZpZGVvLmpz5peg5rOV5pKt5pS+5aqS5L2T5rqQ5pe25pi+56S655qE6buY6K6k5L+h5oGv44CCDQogICAgICAgIGNvbnRyb2xCYXI6IHsNCiAgICAgICAgICB0aW1lRGl2aWRlcjogdHJ1ZSwNCiAgICAgICAgICBkdXJhdGlvbkRpc3BsYXk6IHRydWUsDQogICAgICAgICAgcmVtYWluaW5nVGltZURpc3BsYXk6IGZhbHNlLA0KICAgICAgICAgIGZ1bGxzY3JlZW5Ub2dnbGU6IHRydWUgLy8g5YWo5bGP5oyJ6ZKuDQogICAgICAgIH0sDQogICAgICAgIGNvbW1vbjogJ3Bvc2l0aXZlUGxheWVyJw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG1vdW50ZWRJbml0KCkgew0KICAgICAgdGhpcy50b1BkZigpDQogICAgfSwNCiAgICAvLyByZXNpemXlm57osIPlh73mlbDvvIzorqHnrpfpq5jluqYNCiAgICB6b29tQ2FsbGJhY2sodHlwZSwgJGV2ZW50KSB7DQogICAgICBsZXQgY3VyTW9kYWxIZWlnaHQgPSB0aGlzLiRyZWZzLmZpbGVQcmV2aWV3UmVmLmdldEJveCgpLnN0eWxlLmhlaWdodA0KICAgICAgbGV0IGN1ck1vZGFsSGVpZ2h0TnVtYmVyID0gY3VyTW9kYWxIZWlnaHQuc3Vic3RyaW5nKDAsIGN1ck1vZGFsSGVpZ2h0Lmxlbmd0aCAtIDIpDQogICAgICAvLyB0b2RvIOi/memHjOimgeWHj+WOu+eahOW6lOivpeaYr+WvvOiIquagj+aVoui1jO+8jOeOsOWcqOWFiOWGmeatuw0KICAgICAgY3VyTW9kYWxIZWlnaHROdW1iZXIgPSBjdXJNb2RhbEhlaWdodE51bWJlciAtIDY1DQogICAgICB0aGlzLnN0eWxlID0gew0KICAgICAgICBoZWlnaHQ6IGN1ck1vZGFsSGVpZ2h0TnVtYmVyICsgJ3B4Jw0KICAgICAgfQ0KICAgIH0sDQogICAgaW5BcnJheSh0eXBlLCB0eXBlcykgew0KICAgICAgbGV0IGZsYWcgPSBmYWxzZQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAodHlwZSA9PT0gdHlwZXNbaV0pIHsNCiAgICAgICAgICBmbGFnID0gdHJ1ZQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBmbGFnDQogICAgfSwNCiAgICAvLyDlsIZ3b3Jk562J5paH5Lu26L2s5oiQcGRm6L+b6KGM6aKE6KeIDQogICAgdG9QZGYoKSB7DQogICAgICB3aW5kb3cub3BlbihgJHtwcm9jZXNzLmVudi5CQVNFX1VSTH1maWxlVmlldy5odG1sP2ZpbGVndWlkPWAgKyB0aGlzLmZpbGVHdWlkICsgJyZhcHBpZD0nICsgdGhpcy5hcHBJZCkNCiAgICAgIC8vIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIC8vIGxldCBzZWxmID0gdGhpcw0KICAgICAgLy8gLy8gY29uc3QgdXJsT2JqID0gJ2ZpbGVQcmV2aWV3U2VydmljZS92MS9maWxlX3ByZXZpZXcnDQogICAgICAvLyBjb25zdCB1cmxPYmogPSAnZmlsZXNlcnZpY2UvdjIvZmluZC9maWxlRXhpc3RzJw0KICAgICAgLy8gdGhpcy4kaHR0cC5nZXQodXJsT2JqLCB7DQogICAgICAvLyAgIGFwcGlkOiBzZWxmLmFwcGlkIHx8IHNlbGYuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5hcHBpZCwNCiAgICAgIC8vICAgcHJvdmluY2U6IHNlbGYuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnByb3ZpbmNlLA0KICAgICAgLy8gICB5ZWFyOiBzZWxmLiRzdG9yZS5zdGF0ZS51c2VySW5mby55ZWFyLA0KICAgICAgLy8gICBmaWxlZ3VpZDogc2VsZi5maWxlR3VpZA0KICAgICAgLy8gfSkNCiAgICAgIC8vICAgLnRoZW4ocmVzID0+IHsNCiAgICAgIC8vICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgLy8gICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgLy8gICAgICAgdGhpcy5maWxlID0gcmVzLmRhdGEuZGF0YQ0KICAgICAgLy8gICAgICAgdGhpcy5idWlsZEZpbGVUeXBlKCkNCiAgICAgIC8vICAgICAgIHRoaXMuZmlsZVNob3cgPSB0cnVlDQogICAgICAvLyAgICAgICB0aGlzLmVycm9yU2hvdyA9IGZhbHNlDQogICAgICAvLyAgICAgfSBlbHNlIHsNCiAgICAgIC8vICAgICAgIHRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAnd2FybmluZycsIG1lc3NhZ2U6IHJlcy5tc2cgfSkNCiAgICAgIC8vICAgICAgIHRoaXMuZmlsZVNob3cgPSBmYWxzZQ0KICAgICAgLy8gICAgICAgdGhpcy5lcnJvclNob3cgPSB0cnVlDQogICAgICAvLyAgICAgICB0aGlzLnJlc2l6ZSA9IGZhbHNlDQogICAgICAvLyAgICAgfQ0KICAgICAgLy8gICB9KQ0KICAgICAgLy8gICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAnZXJyb3InLCBtZXNzYWdlOiBlcnJvciB9KQ0KICAgICAgLy8gICAgIHRoaXMuZmlsZVNob3cgPSBmYWxzZQ0KICAgICAgLy8gICAgIHRoaXMuZXJyb3JTaG93ID0gdHJ1ZQ0KICAgICAgLy8gICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAvLyAgICAgdGhpcy5yZXNpemUgPSBmYWxzZQ0KICAgICAgLy8gICB9KQ0KICAgIH0sDQogICAgYnVpbGRGaWxlVHlwZSgpIHsNCiAgICAgIC8vIGxldCBmaWxlU3VmZml4ID0gdGhpcy5maWxlLnN1ZmZpeA0KICAgICAgbGV0IGZpbGVuYW1lID0gdGhpcy5maWxlLmZpbGVuYW1lDQogICAgICB0aGlzLnRpdGxlID0gZmlsZW5hbWUNCiAgICAgIGxldCBzdWZpeCA9IGZpbGVuYW1lLnN1YnN0cihmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpICsgMSwgZmlsZW5hbWUubGVuZ3RoKSB8fCAnJw0KICAgICAgbGV0IGZpbGVTdWZmaXggPSBzdWZpeA0KICAgICAgdGhpcy5maWxlLnN1ZmZpeCA9IHN1Zml4DQogICAgICBsZXQgcGF0aCA9IHRoaXMuZmlsZS5maWxlcGF0aA0KICAgICAgbGV0IGZpbGVQYXRoID0gcGF0aC5zcGxpdCgnLicpWzBdICsgJy4nICsgc3VmaXgNCiAgICAgIGxldCBuZXdVcmwgPSB3aW5kb3cuZ2xvYWJsZVRvb2xGbi5zZXJ2ZXJHYXRld2F5TWFwLmRldmVsb3BtZW50LmZpbGVQcmV2aWV3U2VydmljZSArICcvJyArIGZpbGVQYXRoDQogICAgICB0aGlzLnVybCA9IG5ld1VybA0KICAgICAgY29uc29sZS5sb2cobmV3VXJsKQ0KICAgICAgdGhpcy5wb3NpdGl2ZVBsYXllck9wdGlvbnMuc291cmNlc1swXS5zcmMgPSB0aGlzLnVybA0KICAgICAgaWYgKHRoaXMuaW5BcnJheShmaWxlU3VmZml4LCB0aGlzLmltZ1R5cGUpKSB7DQogICAgICAgIHRoaXMuZmlsZVR5cGUgPSAnaW1nJw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmluQXJyYXkoZmlsZVN1ZmZpeCwgWydwZGYnXSkpIHsNCiAgICAgICAgdGhpcy5maWxlVHlwZSA9ICdwZGYnDQogICAgICB9IGVsc2UgaWYgKHRoaXMuaW5BcnJheShmaWxlU3VmZml4LCB0aGlzLnZpZGVvVHlwZSkpIHsNCiAgICAgICAgdGhpcy5maWxlVHlwZSA9ICd2aWRlbycNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbkFycmF5KGZpbGVTdWZmaXgsIHRoaXMubXVzaWNUeXBlKSkgew0KICAgICAgICB0aGlzLmZpbGVUeXBlID0gJ211c2ljJw0KICAgICAgICB0aGlzLnN0eWxlID0geyBoZWlnaHQ6ICc3MHB4JyB9DQogICAgICAgIHRoaXMubXVzaWNPcHRpb25zLnVybCA9IHRoaXMudXJsDQogICAgICAgIHRoaXMubXVzaWNPcHRpb25zLnRpdGxlID0gdGhpcy50aXRsZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5maWxlVHlwZSA9ICcnDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMubW91bnRlZEluaXQoKQ0KICB9LA0KICB3YXRjaDogew0KICAgIGRpYWxvZ1Zpc2libGU6IHsNCiAgICAgIGhhbmRsZXIobmV3dmFsKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2aXNpYmxlJywgbmV3dmFsKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["filePreviewHB.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"filePreviewHB.vue","sourceRoot":"src/hb/components","sourcesContent":["<template>\r\n  <vxe-modal\r\n    id=\"filePreview\"\r\n    ref=\"filePreviewRef\"\r\n    v-model=\"dialogVisible\"\r\n    width=\"90%\"\r\n    height=\"90%\"\r\n    :resize=\"resize\"\r\n    :dblclick-zoom=\"resize\"\r\n    storage\r\n    transfer\r\n    esc-closable\r\n    :loading=\"loading\"\r\n    @zoom=\"zoomCallback\"\r\n  >\r\n    <template v-slot:title>\r\n      <span>{{ topTitle }}</span>\r\n    </template>\r\n    <template v-slot>\r\n      <div style=\"text-align: center;\">\r\n        <div v-if=\"fileShow\">\r\n          <!-- 图片 -->\r\n          <el-image\r\n            v-if=\"fileType === 'img'\"\r\n            :src=\"url\"\r\n            fit=\"contain\"\r\n          />\r\n          <!-- 视频 -->\r\n          <video-player\r\n            v-if=\"fileType === 'video'\"\r\n            class=\"video-player vjs-custom-skin\"\r\n            :playsinline=\"true\"\r\n            :options=\"positivePlayerOptions\"\r\n          />\r\n          <!-- 音乐 -->\r\n          <Aplayer\r\n            v-if=\"fileType === 'music'\"\r\n            :music=\"musicOptions\"\r\n          />\r\n          <!-- word -->\r\n          <div v-if=\"fileType === 'pdf'\" class=\"dialog-body-content-base-style\">\r\n            <iframe\r\n              frameborder=\"0\"\r\n              :src=\"url\"\r\n              width=\"100%\"\r\n              :style=\"style\"\r\n            >\r\n            </iframe>\r\n          </div>\r\n          <div v-if=\"fileType === ''\" style=\"text-align:left\">\r\n            <span style=\"color: red; font-weight: 700\">\r\n              <i class=\"vxe-icon--warning\"></i>\r\n              {{ file.suffix }}格式的文件不支持预览，请下载之后查看\r\n            </span>\r\n            <span>\r\n              <el-divider content-position=\"left\">支持如下附件类型进行预览</el-divider>\r\n            </span>\r\n            <div style=\"padding-left: 30px\">\r\n              <span>txt</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>sql</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>java</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>js</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>html</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>xml</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>css</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>yml</span>\r\n              <br>\r\n\r\n              <span>png</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>jpg</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>jpeg</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>bmp</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>gif</span>\r\n              <br>\r\n\r\n              <span>doc</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>docx</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>xlsx</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>xls</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>ppt</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>pptx</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>pdf</span>\r\n              <br>\r\n\r\n              <span>mp4</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>m2v</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>mkv</span>\r\n              <br>\r\n\r\n              <span>mp3</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"errorShow\">\r\n          <span style=\"color: red\">\r\n            <i class=\"vxe-icon--warning\"></i>\r\n            附件加载失败\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nimport Aplayer from 'vue-aplayer'\r\nexport default {\r\n  name: 'FilePreviewHB',\r\n  components: { Aplayer },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default() {\r\n        return false\r\n      }\r\n    },\r\n    fileGuid: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    },\r\n    appId: {\r\n      type: String,\r\n      default() {\r\n        return 'pay_voucher'\r\n      }\r\n    },\r\n    topTitle: {\r\n      type: String,\r\n      default() {\r\n        return '查看'\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      resize: false,\r\n      loading: false,\r\n      style: {\r\n        height: 'calc(100vh - 1px)'\r\n      },\r\n      errorShow: false,\r\n      fileShow: false,\r\n      title: '附件预览',\r\n      // 文本类型文件后缀\r\n      textType: ['txt', 'sql', 'java', 'js', 'html', 'xml', 'css', 'yml'],\r\n      // 图片类型文件后缀\r\n      imgType: ['png', 'jpg', 'jpeg', 'bmp', 'gif'],\r\n      // office文件类型后缀\r\n      officeType: ['doc', 'docx', 'xlsx', 'xls', 'ppt', 'pptx'],\r\n      // pdf文件后缀\r\n      pdfType: ['pdf'],\r\n      // 视频类型文件后缀\r\n      videoType: ['mp4', 'm2v', 'mkv'],\r\n      // 音乐类型文件后缀\r\n      musicType: ['mp3'],\r\n      // 压缩包相关\r\n      compressType: ['zip', 'tar'],\r\n      // 不支持的文件类型\r\n      notSupportType: [],\r\n      dialogVisible: this.visible,\r\n      url: '',\r\n      fileType: '',\r\n      file: {},\r\n      musicOptions: {\r\n        title: 'Preparation',\r\n        // author: '',\r\n        url: 'http://devtest.qiniudn.com/Preparation.mp3',\r\n        // pic: 'http://devtest.qiniudn.com/Preparation.jpg',\r\n        lrc: '[00:00.00]lrc here\\n[00:01.00]aplayer'\r\n      },\r\n      // 播放器配置\r\n      positivePlayerOptions: {\r\n        playbackRates: [0.5, 1.0, 1.5, 2.0], // 播放速度\r\n        autoplay: false, // 如果true,浏览器准备好时开始回放。\r\n        muted: false, // 默认情况下将会消除任何音频。\r\n        loop: false, // 导致视频一结束就重新开始。\r\n        preload: 'auto', // 建议浏览器在<video>加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）\r\n        language: 'zh-CN',\r\n        aspectRatio: '16:13', // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\r\n        fluid: true, // 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。\r\n        sources: [{\r\n          type: '',\r\n          src: '' // 视频url地址\r\n        }],\r\n        poster: '', // 你的封面地址\r\n        // width: document.documentElement.clientWidth,\r\n        notSupportedMessage: '此视频暂无法播放，请稍后再试', // 允许覆盖Video.js无法播放媒体源时显示的默认信息。\r\n        controlBar: {\r\n          timeDivider: true,\r\n          durationDisplay: true,\r\n          remainingTimeDisplay: false,\r\n          fullscreenToggle: true // 全屏按钮\r\n        },\r\n        common: 'positivePlayer'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    mountedInit() {\r\n      this.toPdf()\r\n    },\r\n    // resize回调函数，计算高度\r\n    zoomCallback(type, $event) {\r\n      let curModalHeight = this.$refs.filePreviewRef.getBox().style.height\r\n      let curModalHeightNumber = curModalHeight.substring(0, curModalHeight.length - 2)\r\n      // todo 这里要减去的应该是导航栏敢赌，现在先写死\r\n      curModalHeightNumber = curModalHeightNumber - 65\r\n      this.style = {\r\n        height: curModalHeightNumber + 'px'\r\n      }\r\n    },\r\n    inArray(type, types) {\r\n      let flag = false\r\n      for (let i = 0; i < types.length; i++) {\r\n        if (type === types[i]) {\r\n          flag = true\r\n          break\r\n        }\r\n      }\r\n      return flag\r\n    },\r\n    // 将word等文件转成pdf进行预览\r\n    toPdf() {\r\n      window.open(`${process.env.BASE_URL}fileView.html?fileguid=` + this.fileGuid + '&appid=' + this.appId)\r\n      // this.loading = true\r\n      // let self = this\r\n      // // const urlObj = 'filePreviewService/v1/file_preview'\r\n      // const urlObj = 'fileservice/v2/find/fileExists'\r\n      // this.$http.get(urlObj, {\r\n      //   appid: self.appid || self.$store.state.curNavModule.appid,\r\n      //   province: self.$store.state.userInfo.province,\r\n      //   year: self.$store.state.userInfo.year,\r\n      //   fileguid: self.fileGuid\r\n      // })\r\n      //   .then(res => {\r\n      //     this.loading = false\r\n      //     if (res.rscode === '100000') {\r\n      //       this.file = res.data.data\r\n      //       this.buildFileType()\r\n      //       this.fileShow = true\r\n      //       this.errorShow = false\r\n      //     } else {\r\n      //       this.$message({ type: 'warning', message: res.msg })\r\n      //       this.fileShow = false\r\n      //       this.errorShow = true\r\n      //       this.resize = false\r\n      //     }\r\n      //   })\r\n      //   .catch(error => {\r\n      //     console.log(error)\r\n      //     this.$message({ type: 'error', message: error })\r\n      //     this.fileShow = false\r\n      //     this.errorShow = true\r\n      //     this.loading = false\r\n      //     this.resize = false\r\n      //   })\r\n    },\r\n    buildFileType() {\r\n      // let fileSuffix = this.file.suffix\r\n      let filename = this.file.filename\r\n      this.title = filename\r\n      let sufix = filename.substr(filename.lastIndexOf('.') + 1, filename.length) || ''\r\n      let fileSuffix = sufix\r\n      this.file.suffix = sufix\r\n      let path = this.file.filepath\r\n      let filePath = path.split('.')[0] + '.' + sufix\r\n      let newUrl = window.gloableToolFn.serverGatewayMap.development.filePreviewService + '/' + filePath\r\n      this.url = newUrl\r\n      console.log(newUrl)\r\n      this.positivePlayerOptions.sources[0].src = this.url\r\n      if (this.inArray(fileSuffix, this.imgType)) {\r\n        this.fileType = 'img'\r\n      } else if (this.inArray(fileSuffix, ['pdf'])) {\r\n        this.fileType = 'pdf'\r\n      } else if (this.inArray(fileSuffix, this.videoType)) {\r\n        this.fileType = 'video'\r\n      } else if (this.inArray(fileSuffix, this.musicType)) {\r\n        this.fileType = 'music'\r\n        this.style = { height: '70px' }\r\n        this.musicOptions.url = this.url\r\n        this.musicOptions.title = this.title\r\n      } else {\r\n        this.fileType = ''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.mountedInit()\r\n  },\r\n  watch: {\r\n    dialogVisible: {\r\n      handler(newval) {\r\n        this.$emit('update:visible', newval)\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n"]}]}