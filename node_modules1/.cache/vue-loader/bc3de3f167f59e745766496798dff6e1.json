{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\platformReport\\DataReport\\reportSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\platformReport\\DataReport\\reportSearch.vue","mtime":1694576524818},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGF0YXZSZXBvcnRWaWV3IGZyb20gJy4uL3BsYXRmb3JtUmVwb3J0L2luZGV4LnZ1ZScNCmltcG9ydCByZXNvbHZlUmVzdWx0IGZyb20gJ0AvdXRpbHMvcmVzdWx0LmpzJw0KaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQC9hcGkvaHR0cCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0RhdGF2UmVwb3J0U2VhcmNoJywNCiAgY29tcG9uZW50czogew0KICAgIERhdGF2UmVwb3J0Vmlldw0KICB9LA0KICBwcm9wczogew0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwZXJjZW50TnVtOiA1MCwNCiAgICAgIGlzcXVlcnk6IHRydWUsDQogICAgICBxdWVyeUNvbmZpZzogew0KICAgICAgICBzZWFyY2hCdG5UZXh0OiAn5p+l6K+iJywNCiAgICAgICAgcmVzZXRCdG5UZXh0OiBmYWxzZQ0KICAgICAgfSwNCiAgICAgIHVuaXRBcnI6IFtdLCAvLyDlhajpg6jljZXkvY3mlbDmja4NCiAgICAgIGNoZWNrZWRrZXlzOiBbJzEwMDAwJ10sDQogICAgICBzaGZ1bmR0eXBlOiBudWxsLA0KICAgICAgQmF0Y2hubzogbnVsbCwNCiAgICAgIGRhdGF0eXBlOiBudWxsLA0KICAgICAgbGVmdFRyZWVTaG93OiBmYWxzZSwNCiAgICAgIGxlZnRWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGFnZW5jeVRyZWVDb25maWc6IHsNCiAgICAgICAgaXNQcmFtYXM6IGZhbHNlLA0KICAgICAgICBzaG93RmlsdGVyOiBmYWxzZSwgLy8g5piv5ZCm5pi+56S66L+H5rukDQogICAgICAgIGlzSW5pdExvYWREYXRhOiBmYWxzZSwNCiAgICAgICAgc2Nyb2xsTG9hZDogZmFsc2UsIC8vIOaYr+WQpuW8gOWQr+a7muWKqOWKoOi9vQ0KICAgICAgICBpc2xlYWY6IDEsIC8vIOaMh+WumuiKgueCueaYr+WQpuS4uuWPtuWtkOiKgueCue+8jOS7heWcqOaMh+WumuS6hiBsYXp5IOWxnuaAp+eahOaDheWGteS4i+eUn+aViA0KICAgICAgICBsZXZlbG5vOiAtMSwgLy8g5Y+v6YCJ5bGC57qnDQogICAgICAgIHZhbHVlS2V5czogWydjb2RlJywgJ25hbWUnLCAnaWQnXSwNCiAgICAgICAgZm9ybWF0OiAne2NvZGV9LXtuYW1lfScsDQogICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJywNCiAgICAgICAgbXVsdGlwbGVWYWx1ZVR5cGU6ICdTdHJpbmcnLCAvLyDlpJrpgInlgLznsbvlnosgU3RyaW5nW+mAl+WPt+WIhuWJsl3vvIxBcnJheSAvL+W6n+W8gw0KICAgICAgICB0cmVlUHJvcHM6IHsNCiAgICAgICAgICAvLyDmoJHphY3nva7pgInpobkNCiAgICAgICAgICBsYWJlbEZvcm1hdDogJ3tjb2RlfS17bmFtZX0nLCAvLyB7Y29kZX0te25hbWV9DQogICAgICAgICAgbm9kZUtleTogJ2lkJywgLy8g5qCR55qE5Li76ZSuDQogICAgICAgICAgbGFiZWw6ICduYW1lJywgLy8g5qCR55qE5pi+56S6bGFsZWzlrZfmrrUNCiAgICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJyAvLyDmoJHnmoTltYzlpZflrZfmrrUNCiAgICAgICAgfSwNCiAgICAgICAgYXhpb3NDb25maWc6IHsNCiAgICAgICAgICByb290TmFtZTogJ+WFqOmDqCcsDQogICAgICAgICAgc3VjY2Vzc0NvZGU6ICcxMDAwMDAnLCAvLyDmiJDlip9jb2RlDQogICAgICAgICAgc3RhdHVzRmllbGQ6ICdjb2RlJywNCiAgICAgICAgICBtZXRob2Q6ICdnZXQnLCAvLyDor7fmsYLmlrnlvI8NCiAgICAgICAgICB1cmw6ICcnIC8vICdxdWVyeVRyZWVBc3Npc3REYXRhJywgLy8g5piv5ZCm6LCD55So5o6l5Y+j55u05o6l6I635Y+W5pWw5o2u77yM5b2T5q2k6aG55pyJ5YC85pe25bCG5Lya6Ieq5Yqo5a625pWw5o2uDQogICAgICAgIH0sDQogICAgICAgIGRlZmF1bHRTZWxlY3RGaXJzdExlYWZOb2RlOiB0cnVlLA0KICAgICAgICBtdWx0aXBsZTogdHJ1ZSwgLy8g5piv5ZCm5aSa6YCJLA0KICAgICAgICBpc0xhemVMb2FkOiBmYWxzZSwgLy8g5piv5ZCm6LCD55So5o6l5Y+j6L+c56iL5oeS5Yqg6L295pWw5o2uDQogICAgICAgIHJlYWRvbmx5OiB0cnVlLA0KICAgICAgICBjbGVhcmFibGU6IHRydWUNCiAgICAgIH0sDQogICAgICBjdXJyZW50QWdlbmN5VHJlZU5vZGVLZXk6ICcnLA0KICAgICAgY3VycmVudEFnZW5jeU5vZGU6IHt9LA0KICAgICAgYWdlbmN5VHJlZVF1ZXJ5cGFyYW1zOiB7DQogICAgICAgIHJvbGVHdWlkOiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUucm9sZWd1aWQsDQogICAgICAgIC8vIGVsZUNvZGU6ICdWV19CQVNfQUdFTkNZX1BSX1RSRUUnLA0KICAgICAgICAvLyBlbGVDb2RlOiAndndfYmFzX21vZl9kZXBfdHJlZScsDQogICAgICAgIGVsZUNvZGU6ICdWV19CQVNfQUdFTkNZX0lORk9fTEVBRl9UUkVFJywNCiAgICAgICAgcXVlcnlDb25kaXRpb246IHRoaXMudHJhbnNKc29uKHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5wYXJhbTUpLnF1ZXJ5Q29uZGl0aW9uDQogICAgICB9LA0KICAgICAgYWdlbmN5VHJlZUZpbHRlclRleHQ6ICcnLA0KICAgICAgYWdlbmN5VHJlZURhdGE6IFtdLA0KICAgICAgaW5wdXRUYWJsZVRyZWVDb25maWc6IHsNCiAgICAgICAgc2hvd0ZpbHRlcjogZmFsc2UsIC8vIOaYr+WQpuaYvuekuui/h+a7pA0KICAgICAgICBpc0luaXRMb2FkRGF0YTogZmFsc2UsDQogICAgICAgIHNjcm9sbExvYWQ6IGZhbHNlLCAvLyDmmK/lkKblvIDlkK/mu5rliqjliqDovb0NCiAgICAgICAgaXNsZWFmOiAxLCAvLyDmjIflrproioLngrnmmK/lkKbkuLrlj7blrZDoioLngrnvvIzku4XlnKjmjIflrprkuoYgbGF6eSDlsZ7mgKfnmoTmg4XlhrXkuIvnlJ/mlYgNCiAgICAgICAgbGV2ZWxubzogLTEsIC8vIOWPr+mAieWxgue6pw0KICAgICAgICB2YWx1ZUtleXM6IFsnY29kZScsICduYW1lJywgJ2lkJ10sDQogICAgICAgIGZvcm1hdDogJ3tuYW1lfScsDQogICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJywNCiAgICAgICAgbXVsdGlwbGVWYWx1ZVR5cGU6ICdTdHJpbmcnLCAvLyDlpJrpgInlgLznsbvlnosgU3RyaW5nW+mAl+WPt+WIhuWJsl3vvIxBcnJheSAvL+W6n+W8gw0KICAgICAgICB0cmVlUHJvcHM6IHsNCiAgICAgICAgICAvLyDmoJHphY3nva7pgInpobkNCiAgICAgICAgICBsYWJlbEZvcm1hdDogJ3tuYW1lfScsIC8vIHtjb2RlfS17bmFtZX0NCiAgICAgICAgICBub2RlS2V5OiAnaWQnLCAvLyDmoJHnmoTkuLvplK4NCiAgICAgICAgICBsYWJlbDogJ25hbWUnLCAvLyDmoJHnmoTmmL7npLpsYWxlbOWtl+autQ0KICAgICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nIC8vIOagkeeahOW1jOWll+Wtl+autQ0KICAgICAgICB9LA0KICAgICAgICBheGlvc0NvbmZpZzogew0KICAgICAgICAgIHN1Y2Nlc3NDb2RlOiAnMTAwMDAwJywgLy8g5oiQ5YqfY29kZQ0KICAgICAgICAgIHN0YXR1c0ZpZWxkOiAnY29kZScsDQogICAgICAgICAgbWV0aG9kOiAncG9zdCcsIC8vIOivt+axguaWueW8jw0KICAgICAgICAgIHVybDogJycNCiAgICAgICAgICAvLyB1cmw6ICdiaXNCdWRnZXQvY2ZnL2JndENmZ0FnZW5jeVRvUmVwb3J0L3JlcG9ydFRyZWUnIC8vICdxdWVyeVRyZWVBc3Npc3REYXRhJywgLy8g5piv5ZCm6LCD55So5o6l5Y+j55u05o6l6I635Y+W5pWw5o2u77yM5b2T5q2k6aG55pyJ5YC85pe25bCG5Lya6Ieq5Yqo5a625pWw5o2uDQogICAgICAgIH0sDQogICAgICAgIGRlZmF1bHRTZWxlY3RGaXJzdExlYWZOb2RlOiBmYWxzZSwNCiAgICAgICAgbXVsdGlwbGU6IGZhbHNlLCAvLyDmmK/lkKblpJrpgIksDQogICAgICAgIGlzTGF6ZUxvYWQ6IGZhbHNlLCAvLyDmmK/lkKbosIPnlKjmjqXlj6Pov5znqIvmh5LliqDovb3mlbDmja4NCiAgICAgICAgcmVhZG9ubHk6IHRydWUsDQogICAgICAgIGNsZWFyYWJsZTogdHJ1ZQ0KICAgICAgfSwNCiAgICAgIGlucHV0VGFibGVUcmVlUXVlcnlwYXJhbXM6IHsNCiAgICAgICAgdHlwZTogJycNCiAgICAgIH0sDQogICAgICBpbnB1dFRhYmxlVHJlZUZpbHRlclRleHQ6ICcnLA0KICAgICAgaW5wdXRUYWJsZVRyZWVEYXRhOiBbXSwNCiAgICAgIHRhYmxlUGFubHM6IFtdLA0KICAgICAgY3VycmVudFRhYmxlVHJlZU5vZGVLZXk6ICcnLA0KICAgICAgc2hvd0xvYWRpbmc6IGZhbHNlLA0KICAgICAgcmVwb3J0UGFyYW1zOiB7fSwNCiAgICAgIHBhcmFtczU6IHt9LA0KICAgICAgdGFiU2VsZWN0OiB7fSwNCiAgICAgIGRlbGFyTG9hZGluZzogZmFsc2UsDQogICAgICBjaGVja2VkRm9ybXM6IHsNCiAgICAgICAgc3FsX2JhdGNoX25vOiAnJywNCiAgICAgICAgc3FsX2RhdGF0eXBlOiAnJw0KICAgICAgfSwNCiAgICAgIGNoZWNrZWRBZ2VuY3lzOiB7DQogICAgICAgIGFnZW5jeUlkczogJycsDQogICAgICAgIGFnZW5jeUNvZGVzOiAnJywNCiAgICAgICAgYWdlbmN5TmFtZXM6ICcnLA0KICAgICAgICBkZXB0Q29kZXM6ICcnLA0KICAgICAgICBzcWxfZGVwdF9jb2RlOiAnJywNCiAgICAgICAgc3FsX2FnZW5jeV9jb2RlOiAnJw0KICAgICAgfSwNCiAgICAgIGN1cnJlbnRUYWJsZU5vZGU6IHt9LA0KICAgICAgcXVlcnlGb3JtUnVsZXM6IHt9LA0KICAgICAgcXVlcnlGb3JtRGF0YTogew0KICAgICAgICBqenNqOiB0aGlzLmdldE5vd0Zvcm1hdERhdGUoKS8vIOaIquatouaXpeacn+m7mOiupOW9k+WkqQ0KICAgICAgfSwNCiAgICAgIHNoRnVuZFR5cGVfOiAnJywNCiAgICAgIHNoRnVuZFR5cGVfQ29kZTogJycsDQogICAgICBzaEZ1bmRUeXBlX0lkOiAnJywNCiAgICAgIHNoRnVuZFR5cGVfTmFtZTogJycsDQogICAgICBxdWVyeUZvcm1JdGVtQ29uZmlnSW46IFtdLA0KICAgICAgcmVjb3JkTWFwOiBbXSwNCiAgICAgIHVzZXJ0eXBlOiAnJywNCiAgICAgIG5ld0RhdGFBcnI6ICcnLA0KICAgICAgZGVmc2hGdW5kVHlwZTogJycNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgY3VyTmF2TW9kdWxlKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZQ0KICAgIH0sDQogICAgdXNlckluZm8oKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5yZXNvbHZlUmVzdWx0LA0KICAgIGluaXRGaXNjYWxDb25maWcobWVudWd1aWQpIHsNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgbGV0IGRhdGEgPSB0aGlzLiRyZWZzLnF1ZXJ5Rm9ybS5nZXRGb3JtRGF0YSgpDQogICAgICB0aGlzLnF1ZXJ5Rm9ybUl0ZW1Db25maWdJbi5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIGlmIChpdGVtLmZpZWxkID09PSAnYmF0Y2hObycpIHsNCiAgICAgICAgICBkYXRhLmJhdGNoTm8gPSAnMicNCiAgICAgICAgfQ0KICAgICAgICBpZiAoaXRlbS5maWVsZCA9PT0gJ2RhdGF0eXBlJykgew0KICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby5wcm92aW5jZSA9PT0gJzMxMDAwMDAwMCcpIHsNCiAgICAgICAgICAgIGlmIChzZWxmLnVzZXJJbmZvLnVzZXJ0eXBlID09PSAnMCcpIHsNCiAgICAgICAgICAgICAgZGF0YS5kYXRhdHlwZSA9ICcxJw0KICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnVzZXJJbmZvLnVzZXJ0eXBlID09PSAnMScpIHsNCiAgICAgICAgICAgICAgZGF0YS5kYXRhdHlwZSA9ICc1Jw0KICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnVzZXJJbmZvLnVzZXJ0eXBlID09PSAnMicpIHsNCiAgICAgICAgICAgICAgZGF0YS5kYXRhdHlwZSA9ICczJw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgZGF0YS5kYXRhdHlwZSA9ICcwJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoaXRlbS5maWVsZCA9PT0gJ3Fzc2onKSB7DQogICAgICAgICAgZGF0YS5xc3NqID0gbmV3IERhdGUoRGF0ZS5wYXJzZShuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgKyAnLTEtMScpKS5mb3JtYXQoJ1lZWVktTU0tREQnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgdGhpcy5xdWVyeUZvcm1EYXRhID0gZGF0YQ0KICAgICAgZ2V0KCcvYmlzQnVkZ2V0L2FwaS9idWRnZXQvYmlzQnVkZ2V0L2JndEZiQ29uZmlnL2dldEZiUGFnZUNvbmZpZz9tZW51Z3VpZD0nICsgbWVudWd1aWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgLy8gZ2V0KCdodHRwOi8vNDMuMTQzLjU3LjI1MTo2MDE1L2FwaS9idWRnZXQvYmlzQmFzaWNpbmZvL2Jhc2ljaW5mby9iYXNBZ2VuY3lJbmZvR2QvcXVlcnlBZ2VuY3lUcmVlP21lbnVndWlkPScgKyBtZW51Z3VpZCkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzICYmIHJlcy5jb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgICAgIGxldCBvcHRpb25zc3MgPSBbXQ0KICAgICAgICAgIGxldCBvcHRpb25zID0gJycNCiAgICAgICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEucmVwb3J0ZGF0YXR5cGUpIHsNCiAgICAgICAgICAgIG9wdGlvbnMgPSByZXMuZGF0YS5yZXBvcnRkYXRhdHlwZQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zICE9PSAnJykgew0KICAgICAgICAgICAgbGV0IG9wdGlvbnNzID0gb3B0aW9ucy5zcGxpdCgnIycpDQogICAgICAgICAgICBvcHRpb25zcy5mb3JFYWNoKHMgPT4gew0KICAgICAgICAgICAgICBsZXQgc3MgPSBzLnNwbGl0KCc9JykNCiAgICAgICAgICAgICAgbGV0IHZhbHVlID0gc3NbMF0NCiAgICAgICAgICAgICAgbGV0IGxhYmVsID0gc3NbMV0NCiAgICAgICAgICAgICAgb3B0aW9uc3NzLnB1c2goeyB2YWx1ZTogdmFsdWUsIGxhYmVsOiBsYWJlbCB9KQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMucXVlcnlGb3JtSXRlbUNvbmZpZ0luLmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgaWYgKGl0ZW0uZmllbGQgPT09ICdkYXRhdHlwZScpIHsNCiAgICAgICAgICAgICAgICBpdGVtLml0ZW1SZW5kZXIub3B0aW9ucyA9IG9wdGlvbnNzcw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLy8gdGhpcy5xdWVyeUZvcm1JdGVtQ29uZmlnSW5bMl0uaXRlbVJlbmRlci5vcHRpb25zID0gb3B0aW9uc3NzDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0Rmlyc3RJZChkYXRhKSB7DQogICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgbGV0IGZpcnN0RGF0YSA9IGRhdGFbMF0NCiAgICAgICAgbGV0IGdldENoaWxkcmVuSWQgPSAoZGF0YSkgPT4gew0KICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgbGV0IGNoaWxkID0gZGF0YVswXQ0KICAgICAgICAgICAgaWYgKGNoaWxkLmNoaWxkcmVuICYmIGNoaWxkLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgcmV0dXJuIGdldENoaWxkcmVuSWQoY2hpbGQuY2hpbGRyZW4pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuaWQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuICcnDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGxldCBpZCA9IGdldENoaWxkcmVuSWQoZmlyc3REYXRhLmNoaWxkcmVuKQ0KICAgICAgICBpZiAoaWQgPT09ICcnKSB7DQogICAgICAgICAgaWQgPSBmaXJzdERhdGEuaWQNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gaWQNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgc2hvd0RpYWxvZygpIHsNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIG9uVHJlZUxvYWRlZCh7IHRyZWVEYXRhLCB0cmVlLCBjdXJyZW50Tm9kZUtleSwgY3VyU2VsZWN0Tm9kZSB9LCBic3RyZWUpIHsNCiAgICAgIGxldCBpZCA9IHRoaXMuZ2V0Rmlyc3RJZCh0cmVlRGF0YSkNCiAgICAgIGlmIChpZCAmJiBpZCAhPT0gbnVsbCAmJiBpZCAhPT0gJycpIHsNCiAgICAgICAgdHJlZS5zZXRDdXJyZW50S2V5KGlkKQ0KICAgICAgICBic3RyZWUuZGVmYXVsdEV4cGFuZGVkS2V5cyA9IFtpZF0NCiAgICAgIH0NCiAgICAgIGlmIChjdXJTZWxlY3ROb2RlKSB7DQogICAgICAgIHRoaXMuY3VycmVudEFnZW5jeVRyZWVOb2RlS2V5ID0gY3VyU2VsZWN0Tm9kZS5pZA0KICAgICAgICB0aGlzLmN1cnJlbnRBZ2VuY3lOb2RlID0gY3VyU2VsZWN0Tm9kZQ0KICAgICAgfQ0KICAgICAgLy8gdGhpcy5vbkFnZW5jeVRyZWVOb2RlQ2xpY2soeyBub2RlOiBjdXJTZWxlY3ROb2RlIH0pDQogICAgfSwNCiAgICBvbkFnZW5jeVRyZWVOb2RlQ2xpY2soeyBub2RlIH0pIHsNCiAgICB9LA0KICAgIGl0ZW1DaGFuZ2Uob2JqKSB7DQogICAgICBsZXQgRGF0YUFyciA9IFtdDQogICAgICBvYmouJGZvcm0uJGNoaWxkcmVuWzBdLiRjaGlsZHJlblswXS5jdXJDaGVja2Vkbm9kZXMuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBEYXRhQXJyLnB1c2goaXRlbS5jb2RlKQ0KICAgICAgfSkNCiAgICAgIHRoaXMubmV3RGF0YUFyciA9IERhdGFBcnIubWFwKGkgPT4gJ1wnJyArIGkgKyAnXCcnKS5qb2luKCcsJykNCiAgICB9LA0KICAgIG9uU2VhcmNoQ2xpY2soKSB7DQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIGlmICh0aGlzLnNob3dGbGFnICE9PSAnMicpIHsNCiAgICAgICAgaWYgKCF0aGlzLmNoZWNrZWRBZ2VuY3lzLmFnZW5jeUNvZGVzKSB7DQogICAgICAgICAgdGhpcy4kWE1vZGFsLm1lc3NhZ2UoeyBzdGF0dXM6ICdpbmZvJywgbWVzc2FnZTogJ+ivt+WFiOmAieaLqemihOeul+WNleS9jScgfSkNCiAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKCFzZWxmLmN1cnJlbnRUYWJsZU5vZGUpIHsNCiAgICAgICAgdGhpcy4kWE1vZGFsLm1lc3NhZ2UoeyBzdGF0dXM6ICdpbmZvJywgbWVzc2FnZTogJ+ivt+WFiOmAieaLqeafpeivouihqCcgfSkNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICBpZiAoc2VsZi4kcmVmc1sncXVlcnlGb3JtJyArIHNlbGYuY3VycmVudFRhYmxlTm9kZS5pZF1bMF0uZ2V0Rm9ybURhdGEoKS5iYXRjaE5vKSB7DQogICAgICAgIHNlbGYuY2hlY2tlZEZvcm1zLnNxbF9iYXRjaF9ubyA9IHNlbGYuJHJlZnNbJ3F1ZXJ5Rm9ybScgKyBzZWxmLmN1cnJlbnRUYWJsZU5vZGUuaWRdWzBdLmdldEZvcm1EYXRhKCkuYmF0Y2hObw0KICAgICAgfQ0KICAgICAgaWYgKHNlbGYuJHJlZnNbJ3F1ZXJ5Rm9ybScgKyBzZWxmLmN1cnJlbnRUYWJsZU5vZGUuaWRdWzBdLmdldEZvcm1EYXRhKCkuZGF0YXR5cGUpIHsNCiAgICAgICAgc2VsZi5jaGVja2VkRm9ybXMuc3FsX2RhdGF0eXBlID0gc2VsZi4kcmVmc1sncXVlcnlGb3JtJyArIHNlbGYuY3VycmVudFRhYmxlTm9kZS5pZF1bMF0uZ2V0Rm9ybURhdGEoKS5kYXRhdHlwZQ0KICAgICAgfQ0KICAgICAgc2VsZi5zZXRSZXBvcnRhYmxlUGFyYW1zKHNlbGYuY3VycmVudFRhYmxlTm9kZSkNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVwb3J0UGFyYW1zLCA4ODg4ODg4ODgpDQogICAgICB0aGlzLmlucHV0VGFibGVUcmVlRGF0YS5mb3JFYWNoKHYgPT4gew0KICAgICAgICBpZiAodi5pZCA9PT0gc2VsZi5jdXJyZW50VGFibGVOb2RlLmlkKSB7DQogICAgICAgICAgdlsnaXNMb2FkJ10gPSB0cnVlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKCflvZPliY3mn6Xor6LooajkuLrvvJonLCBzZWxmLmN1cnJlbnRUYWJsZU5vZGUubmFtZSkNCiAgICAgICAgc2VsZi4kcmVmc1snZGF0YXZSZXBvcnRWaWV3JyArIHNlbGYuY3VycmVudFRhYmxlTm9kZS5pZF1bMF0ucGFyZW50Q2FsbFNlYXJjaCgpDQogICAgICAgIC8vIHNlbGYuJHJlZnNbYGRhdGF2UmVwb3J0VmlldyR7c2VsZi5jdXJyZW50VGFibGVOb2RlLmlkfWBdWzBdLnBhcmVudENhbGxTZWFyY2goKQ0KICAgICAgfSkNCiAgICAgIHRoaXMuaW5wdXRUYWJsZVRyZWVEYXRhLmZvckVhY2godiA9PiB7DQogICAgICAgIGlmICh2LmlkID09PSBzZWxmLmN1cnJlbnRUYWJsZU5vZGUuaWQpIHsNCiAgICAgICAgICB2Wydpc0xvYWQnXSA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBvbklucHV0VGFibGVUcmVlTm9kZUNsaWNrKG5vZGUpIHsNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgaWYgKHRoaXMuc2hvd0ZsYWcgIT09ICcyJykgew0KICAgICAgICBpZiAoIXRoaXMuY2hlY2tlZEFnZW5jeXMuYWdlbmN5Q29kZXMpIHsNCiAgICAgICAgICB0aGlzLiRYTW9kYWwubWVzc2FnZSh7IHN0YXR1czogJ2luZm8nLCBtZXNzYWdlOiAn6K+35YWI6YCJ5oup6aKE566X5Y2V5L2NJyB9KQ0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAobm9kZSAmJiBub2RlLmlkKSB7DQogICAgICAgIHRoaXMuaXNxdWVyeSA9IGZhbHNlDQogICAgICAgIHRoaXMuY3VycmVudFRhYmxlTm9kZSA9IG5vZGUNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIC8vIOi1hOmHkea4oOmBk+ecn+WunueahOWAvO+8iOWFqOWxgOaQnG5ld0RhdGFBcnLvvIkNCiAgICAgICAgICB0aGlzLm5ld0RhdGFBcnIgPSBzZWxmLmRlZnNoRnVuZFR5cGUuc3BsaXQoJywnKS5tYXAodiA9PiB7DQogICAgICAgICAgICB2ID0gYCcke3Z9J2ANCiAgICAgICAgICAgIHJldHVybiB2DQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLm5ld0RhdGFBcnIgPSB0aGlzLm5ld0RhdGFBcnIuam9pbignLCcpDQogICAgICAgICAgdGhpcy5pbnB1dFRhYmxlVHJlZURhdGEuZm9yRWFjaCh2ID0+IHsNCiAgICAgICAgICAgIGlmICh2LmlkID09PSBub2RlLmlkKSB7DQogICAgICAgICAgICAgIHZbJ2lzTG9hZCddID0gdHJ1ZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdlsnaXNMb2FkJ10gPSBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgaWYgKHNlbGYucmVjb3JkTWFwLmluZGV4T2Yoc2VsZi5jdXJyZW50VGFibGVOb2RlLmlkKSAhPT0gLTEpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvZPliY3ot7Pov4fmn6Xor6LooajkuLrvvJonLCBzZWxmLmN1cnJlbnRUYWJsZU5vZGUubmFtZSkNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgIH0NCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMub25TZWFyY2hDbGljaygpDQogICAgICAgICAgICB0aGlzLnJlY29yZE1hcC5wdXNoKG5vZGUuaWQpIC8vIOacieaXtumXtOaUueaIkOW+l+WIsOWAvOWGjeiusOW9lQ0KICAgICAgICAgIH0sIDEwKQ0KICAgICAgICB9KQ0KICAgICAgICAvLyB0aGlzLiRyZWZzLmJzVGFiLmN1clRhYlNlbGVjdCA9IHRoaXMuZGVlcENvcHkobm9kZSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJFhNb2RhbC5tZXNzYWdlKHsgc3RhdHVzOiAnaW5mbycsIG1lc3NhZ2U6ICfor7flhYjpgInmi6npooTnrpfljZXkvY0nIH0pDQogICAgICB9DQogICAgfSwNCiAgICAvLyBvbk5vZGVDaGVja0NoYW5nZShhKSB7DQogICAgLy8gICAvLyB0aGlzLmRlbGFyTG9hZGluZyA9IHRydWUNCiAgICAvLyAgIGxldCBhZ2VuY2llcyA9IHRoaXMuJHJlZnMuYWdlbmN5VHJlZS5jdXJDaGVja2Vkbm9kZXMNCiAgICAvLyAgIGlmICghYWdlbmNpZXMgfHwgYWdlbmNpZXMubGVuZ3RoID09PSAwIHx8IChhZ2VuY2llcy5sZW5ndGggPT09IDEgJiYgYWdlbmNpZXNbMF0uY29kZSA9PT0gJ3Jvb3QnICYmIGFnZW5jaWVzWzBdLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkpIHsNCiAgICAvLyAgICAgLy8gdGhpcy4kWE1vZGFsLm1lc3NhZ2UoeyBzdGF0dXM6ICdpbmZvJywgbWVzc2FnZTogJ+ivtycgfSkNCiAgICAvLyAgICAgdGhpcy5jaGVja2VkQWdlbmN5cy5hZ2VuY3lDb2RlcyA9ICcnDQogICAgLy8gICAgIHJldHVybg0KICAgIC8vICAgfQ0KICAgIC8vICAgbGV0IGFnZW5jeSA9IGFnZW5jaWVzLmZpbHRlcihpdGVtID0+IGl0ZW0uaXNsZWFmKS5tYXAoaXRlbSA9PiB7IHJldHVybiBpdGVtIH0pDQogICAgLy8gICBsZXQgYWdlbmN5SWRzID0gYWdlbmN5Lm1hcCh2ID0+IHYuaWQpDQogICAgLy8gICBsZXQgYWdlbmN5Q29kZXMgPSBhZ2VuY3kubWFwKHYgPT4gdi5jb2RlKQ0KICAgIC8vICAgbGV0IGFnZW5jeU5hbWVzID0gYWdlbmN5Lm1hcCh2ID0+IHYubmFtZSkNCiAgICAvLyAgIGxldCBkZXB0Q29kZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWdlbmN5Lm1hcCh2ID0+IHYuY29kZS5zdWJzdHIoMCwgMykpKSkNCiAgICAvLyAgIGxldCBzcWxBZ2VuY3lDb2RlID0gYWdlbmN5Q29kZXMubWFwKGkgPT4gJ1wnJyArIGkgKyAnXCcnKS5qb2luKCcsJykNCiAgICAvLyAgIGxldCBzcWxEZXB0Q29kZSA9IGRlcHRDb2Rlcy5tYXAoaSA9PiAnXCcnICsgaSArICdcJycpLmpvaW4oJywnKQ0KICAgIC8vICAgdGhpcy5jaGVja2VkQWdlbmN5cyA9IHsNCiAgICAvLyAgICAgYWdlbmN5SWRzLA0KICAgIC8vICAgICBhZ2VuY3lDb2RlcywNCiAgICAvLyAgICAgYWdlbmN5TmFtZXMsDQogICAgLy8gICAgIGRlcHRDb2RlcywNCiAgICAvLyAgICAgc3FsX2FnZW5jeV9jb2RlOiBzcWxBZ2VuY3lDb2RlLA0KICAgIC8vICAgICBzcWxfZGVwdF9jb2RlOiBzcWxEZXB0Q29kZQ0KICAgIC8vICAgfQ0KICAgIC8vICAgaWYgKHRoaXMuY3VycmVudFRhYmxlTm9kZSkgew0KICAgIC8vICAgICB0aGlzLnNldFJlcG9ydGFibGVQYXJhbXModGhpcy5jdXJyZW50VGFibGVOb2RlKQ0KICAgIC8vICAgfQ0KICAgIC8vICAgLy8gc2V0VGltZW91dCgoKSA9PiB7DQogICAgLy8gICAvLyAgIHRoaXMuZGVsYXJMb2FkaW5nID0gZmFsc2UNCiAgICAvLyAgIC8vIH0sIDUwMCkNCiAgICAvLyB9LA0KICAgIGdldFJlcG9ydERhdGEoKSB7DQogICAgICBsZXQgbWVudUd1aWRWYWx1ZSA9IHRoaXMucGFyYW1zNS5yZXBvcnRNZW51DQogICAgICBpZiAoIXRoaXMucGFyYW1zNS5yZXBvcnRNZW51KSB7DQogICAgICAgIG1lbnVHdWlkVmFsdWUgPSB0aGlzLmN1ck5hdk1vZHVsZS5ndWlkDQogICAgICB9DQogICAgICBsZXQgcGFyYW0gPSB7DQogICAgICAgIHR5cGU6IHRoaXMucGFyYW1zNS5yZXBvcnRUeXBlLA0KICAgICAgICAvLyBhZ2VuY3lJZDogYWdlbmN5SWRzLA0KICAgICAgICAvLyBtZW51R3VpZDogJzMwODI4MzU2QTgyQzQ5RUJBNEVGN0VCQkExRjkwOTg5Jw0KICAgICAgICBtZW51R3VpZDogbWVudUd1aWRWYWx1ZQ0KICAgICAgfQ0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICAvLyAqKioqKioqKioqKioqKioqKioqDQogICAgICBzZWxmLiRodHRwLnBvc3QoJy9iaXNCdWRnZXQvYXBpL2J1ZGdldC9iaXNCdWRnZXQvY2ZnL2JndENmZ0FnZW5jeVRvUmVwb3J0L3F1ZXJ5UmVwb3J0VHJlZScsIHBhcmFtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgLy8gc2VsZi4kaHR0cC5wb3N0KCdodHRwOi8vNDMuMTQzLjU3LjI1MTo2MDE1L2FwaS9idWRnZXQvYmlzQnVkZ2V0L2NmZy9iZ3RDZmdBZ2VuY3lUb1JlcG9ydC9xdWVyeVJlcG9ydFRyZWUnLCBwYXJhbSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHNlbGYucmVzb2x2ZVJlc3VsdChkYXRhID0+IHsNCiAgICAgICAgICBzZWxmLmlucHV0VGFibGVUcmVlRGF0YSA9IGRhdGENCiAgICAgICAgICBzZWxmLmlucHV0VGFibGVUcmVlRGF0YS5mb3JFYWNoKHYgPT4gew0KICAgICAgICAgICAgdlsnaXNMb2FkJ10gPSBmYWxzZQ0KICAgICAgICAgIH0pDQogICAgICAgIH0sIHJlcykNCiAgICAgICAgdGhpcy5vbklucHV0VGFibGVUcmVlTm9kZUNsaWNrKHJlcy5kYXRhWzBdKQ0KICAgICAgfSkuY2F0Y2goKGUpID0+IHsNCiAgICAgICAgc2VsZi4kWE1vZGFsLm1lc3NhZ2UoeyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6ICfojrflj5bliJfooajlpLHotKXvvJonICsgZSB9KQ0KICAgICAgICBzZWxmLnNob3dMb2FkaW5nID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICBBcnJheURhdGEoRGF0YUFycikgew0KICAgICAgLy8gbGV0IERhdGFBcnIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFycmF5KSkNCiAgICAgIERhdGFBcnIuZm9yRWFjaCh2ID0+IHsNCiAgICAgICAgdGhpcy51bml0QXJyLnB1c2godikNCiAgICAgICAgaWYgKHYuY2hpbGRyZW4ubGVuZ3RoID49IDEpIHsNCiAgICAgICAgICB0aGlzLkFycmF5RGF0YSh2LmNoaWxkcmVuKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIHRoaXMudW5pdEFycg0KICAgIH0sDQogICAgZ2V0VHJlZURhdGEoKSB7DQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlDQogICAgICBzZWxmLiRodHRwLmdldCgnL2Jpc0J1ZGdldC9hcGkvYnVkZ2V0L2Jpc0Jhc2ljaW5mby9iYXNpY2luZm8vYmFzQWdlbmN5SW5mb0dkL3F1ZXJ5QWdlbmN5VHJlZScsIHNlbGYuYWdlbmN5VHJlZVF1ZXJ5cGFyYW1zKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgLy8gc2VsZi4kaHR0cC5nZXQoJ2h0dHA6Ly80My4xNDMuNTcuMjUxOjYwMTUvYXBpL2J1ZGdldC9iaXNCYXNpY2luZm8vYmFzaWNpbmZvL2Jhc0FnZW5jeUluZm9HZC9xdWVyeUFnZW5jeVRyZWUnLCBzZWxmLmFnZW5jeVRyZWVRdWVyeXBhcmFtcykudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vIOm7mOiupOaLv+WIsOi/meS4quaVsOeahOWFqOmAieaVsOaNrg0KICAgICAgICB0aGlzLnVuaXRBcnIgPSBbXQ0KICAgICAgICBsZXQgYWdlbmNpZXMgPSB0aGlzLkFycmF5RGF0YShyZXMuZGF0YSkNCiAgICAgICAgbGV0IGFnZW5jeSA9IGFnZW5jaWVzLmZpbHRlcihpdGVtID0+IGl0ZW0uaXNsZWFmKS5tYXAoaXRlbSA9PiB7IHJldHVybiBpdGVtIH0pDQogICAgICAgIGxldCBhZ2VuY3lJZHMgPSBhZ2VuY3kubWFwKHYgPT4gdi5pZCkNCiAgICAgICAgbGV0IGFnZW5jeUNvZGVzID0gYWdlbmN5Lm1hcCh2ID0+IHYuY29kZSkNCiAgICAgICAgbGV0IGFnZW5jeU5hbWVzID0gYWdlbmN5Lm1hcCh2ID0+IHYubmFtZSkNCiAgICAgICAgbGV0IGRlcHRDb2RlcyA9IEFycmF5LmZyb20obmV3IFNldChhZ2VuY3kubWFwKHYgPT4gdi5jb2RlLnN1YnN0cigwLCAzKSkpKQ0KICAgICAgICBsZXQgc3FsQWdlbmN5Q29kZSA9IGFnZW5jeUNvZGVzLm1hcChpID0+ICdcJycgKyBpICsgJ1wnJykuam9pbignLCcpDQogICAgICAgIGxldCBzcWxEZXB0Q29kZSA9IGRlcHRDb2Rlcy5tYXAoaSA9PiAnXCcnICsgaSArICdcJycpLmpvaW4oJywnKQ0KICAgICAgICB0aGlzLmNoZWNrZWRBZ2VuY3lzID0gew0KICAgICAgICAgIGFnZW5jeUlkcywNCiAgICAgICAgICBhZ2VuY3lDb2RlcywNCiAgICAgICAgICBhZ2VuY3lOYW1lcywNCiAgICAgICAgICBkZXB0Q29kZXMsDQogICAgICAgICAgc3FsX2FnZW5jeV9jb2RlOiBzcWxBZ2VuY3lDb2RlLA0KICAgICAgICAgIHNxbF9kZXB0X2NvZGU6IHNxbERlcHRDb2RlDQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2codGhpcy5jaGVja2VkQWdlbmN5cywgJ3RoaXMuY2hlY2tlZEFnZW5jeXMgJykNCiAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlDQogICAgICAgIHRoaXMuZ2V0UmVwb3J0RGF0YSgpDQogICAgICAgIGlmICh0aGlzLmN1cnJlbnRUYWJsZU5vZGUpIHsNCiAgICAgICAgICB0aGlzLnNldFJlcG9ydGFibGVQYXJhbXModGhpcy5jdXJyZW50VGFibGVOb2RlKQ0KICAgICAgICB9DQogICAgICB9KS5jYXRjaCgoZSkgPT4gew0KICAgICAgICBzZWxmLiRYTW9kYWwubWVzc2FnZSh7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogJ+iOt+WPluWIl+ihqOWksei0pe+8micgKyBlIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0UXVlcnlGb3JtRGF0YSgpIHsNCiAgICAgIGxldCBwYXJhbSA9IHsNCiAgICAgICAgZWxlQ29kZTogJ1NIRlVORF9UWVBFJw0KICAgICAgfQ0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBzZWxmLiRodHRwLnBvc3QoJy9iaXNCdWRnZXQvYXBpL2J1ZGdldC9iaXNDb25maWcvY29uZmlnL2NvbW1vbi9xdWVyeVRyZWVBc3Npc3REYXRhJywgcGFyYW0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAvLyBzZWxmLiRodHRwLnBvc3QoJ2h0dHA6Ly80My4xNDMuNTcuMjUxOjYwMTUvYXBpL2J1ZGdldC9iaXNCdWRnZXQvYnVkZ2V0L2Jpc0NvbmZpZy9jb25maWcvY29tbW9uL3F1ZXJ5VHJlZUFzc2lzdERhdGEnLCBwYXJhbSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHNlbGYuc2hvd0xvYWRpbmcgPSBmYWxzZQ0KICAgICAgICBzZWxmLnJlc29sdmVSZXN1bHQoZGF0YSA9PiB7DQogICAgICAgICAgLy8g5Lyg6L6T5pWw5o2uDQogICAgICAgICAgbGV0IGRlZlNvcnQgPSBzZWxmLmdldEFsbERhdGEoZGF0YSkNCiAgICAgICAgICBsZXQgZGVmc2hGdW5kVHlwZSA9IFtdDQogICAgICAgICAgZGVmU29ydC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgZGVmc2hGdW5kVHlwZS5wdXNoKGl0ZW0uY29kZSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHNlbGYuZGVmc2hGdW5kVHlwZSA9IGRlZnNoRnVuZFR5cGUudG9TdHJpbmcoKQ0KICAgICAgICAgIC8vIOaYvuekuuaVsOaNrg0KICAgICAgICAgIGxldCBkYXRhcyA9IHNlbGYuZ2V0QWxsQ2hpbGRyZW4oZGF0YSkNCiAgICAgICAgICBsZXQgZ2V0cXVlcnlGb3JtRGF0YSA9IFtdDQogICAgICAgICAgbGV0IGdldHF1ZXJ5Rm9ybURhdGFDb2RlID0gW10NCiAgICAgICAgICBsZXQgZ2V0cXVlcnlGb3JtRGF0YUlkID0gW10NCiAgICAgICAgICBsZXQgZ2V0cXVlcnlGb3JtRGF0YU5hbWUgPSBbXQ0KICAgICAgICAgIGRhdGFzLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICBnZXRxdWVyeUZvcm1EYXRhLnB1c2goaXRlbS5jb2RlICsgJyMjJyArIGl0ZW0ubmFtZSArICcjIycgKyBpdGVtLmd1aWQpDQogICAgICAgICAgICBnZXRxdWVyeUZvcm1EYXRhQ29kZS5wdXNoKGl0ZW0uY29kZSkNCiAgICAgICAgICAgIGdldHF1ZXJ5Rm9ybURhdGFJZC5wdXNoKGl0ZW0uZ3VpZCkNCiAgICAgICAgICAgIGdldHF1ZXJ5Rm9ybURhdGFOYW1lLnB1c2goaXRlbS5uYW1lKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgbGV0IGRhdGFzcyA9IHRoaXMuJHJlZnMucXVlcnlGb3JtLmdldEZvcm1EYXRhKCkNCiAgICAgICAgICBkYXRhc3Muc2hGdW5kVHlwZSA9IGdldHF1ZXJ5Rm9ybURhdGEuam9pbignLCcpDQogICAgICAgICAgZGF0YXNzLnNoRnVuZFR5cGVDb2RlID0gZ2V0cXVlcnlGb3JtRGF0YUNvZGUuam9pbignLCcpDQogICAgICAgICAgZGF0YXNzLnNoRnVuZFR5cGVJZCA9IGdldHF1ZXJ5Rm9ybURhdGFJZC5qb2luKCcsJykNCiAgICAgICAgICBkYXRhc3Muc2hGdW5kVHlwZU5hbWUgPSBnZXRxdWVyeUZvcm1EYXRhTmFtZS5qb2luKCcsJykNCiAgICAgICAgICB0aGlzLnF1ZXJ5Rm9ybURhdGEgPSBkYXRhc3MNCiAgICAgICAgfSwgcmVzKQ0KICAgICAgfSkuY2F0Y2goKGUpID0+IHsNCiAgICAgICAgc2VsZi4kWE1vZGFsLm1lc3NhZ2UoeyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6ICfojrflj5bliJfooajlpLHotKXvvJonICsgZSB9KQ0KICAgICAgICBzZWxmLnNob3dMb2FkaW5nID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRBbGxDaGlsZHJlbihkYXRhLCBjaGlsZHJlbiA9IFtdKSB7DQogICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgdGhpcy5nZXRBbGxDaGlsZHJlbihpdGVtLmNoaWxkcmVuLCBjaGlsZHJlbikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjaGlsZHJlbi5wdXNoKGl0ZW0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXR1cm4gY2hpbGRyZW4NCiAgICB9LA0KICAgIGdldEFsbERhdGEoZGF0YSwgY2hpbGRyZW4gPSBbXSkgew0KICAgICAgZGF0YS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBjaGlsZHJlbi5wdXNoKGl0ZW0pDQogICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgLy8gY2hpbGRyZW4ucHVzaChpdGVtLmNvZGUpDQogICAgICAgICAgdGhpcy5nZXRBbGxEYXRhKGl0ZW0uY2hpbGRyZW4sIGNoaWxkcmVuKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIGNoaWxkcmVuDQogICAgfSwNCiAgICBzZXRSZXBvcnRhYmxlUGFyYW1zKGlucHV0UmVwb3J0KSB7DQogICAgICB0aGlzLnNob3dMb2FkaW5nID0gZmFsc2UNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgbGV0IGZvcm1EYXRhID0ge30NCiAgICAgIGlmIChzZWxmLiRyZWZzWydxdWVyeUZvcm0nICsgc2VsZi5jdXJyZW50VGFibGVOb2RlLmlkXSkgew0KICAgICAgICBmb3JtRGF0YSA9IHNlbGYuJHJlZnNbJ3F1ZXJ5Rm9ybScgKyBzZWxmLmN1cnJlbnRUYWJsZU5vZGUuaWRdWzBdLmdldEZvcm1EYXRhKCkNCiAgICAgICAgZm9yICh2YXIgdiBpbiBmb3JtRGF0YSkgew0KICAgICAgICAgIGlmICh2LmVuZHNXaXRoKCdDb2RlJykpIHsNCiAgICAgICAgICAgIGxldCBkYXRhID0gZm9ybURhdGFbdl0uc3BsaXQoJywnKS5tYXAodiA9PiB7DQogICAgICAgICAgICAgIHYgPSBgJyR7dn0nYA0KICAgICAgICAgICAgICByZXR1cm4gdg0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGZvcm1EYXRhW3ZdID0gZGF0YS5qb2luKCcsJykNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMucmVwb3J0UGFyYW1zID0gew0KICAgICAgICBjb2RlOiBpbnB1dFJlcG9ydC5pZCwNCiAgICAgICAgcGFyYW1zT2JqOiB7DQogICAgICAgICAgdGl0bGU6IGlucHV0UmVwb3J0Lm5hbWUsDQogICAgICAgICAgY2l0eTogJ+S4iua1t+W4gicsDQogICAgICAgICAgYWdlbmN5Q29kZTogdGhpcy5jaGVja2VkQWdlbmN5cy5hZ2VuY3lDb2RlcywNCiAgICAgICAgICBhZ2VuY3lJZDogdGhpcy5jaGVja2VkQWdlbmN5cy5hZ2VuY3lJZHMsDQogICAgICAgICAgYWdlbmN5TmFtZTogdGhpcy5jaGVja2VkQWdlbmN5cy5hZ2VuY3lOYW1lcywNCiAgICAgICAgICBkZXB0Q29kZTogdGhpcy5jaGVja2VkQWdlbmN5cy5kZXB0Q29kZXMsDQogICAgICAgICAgc3FsX2FnZW5jeV9jb2RlOiB0aGlzLmNoZWNrZWRBZ2VuY3lzLnNxbF9hZ2VuY3lfY29kZSwNCiAgICAgICAgICBzcWxfZGVwdF9jb2RlOiB0aGlzLmNoZWNrZWRBZ2VuY3lzLnNxbF9kZXB0X2NvZGUsDQogICAgICAgICAgbWVudUd1aWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkLA0KICAgICAgICAgIHJvbGVHdWlkOiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUucm9sZWd1aWQsDQogICAgICAgICAgbW9mRGl2Q29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8uYWRtZGl2LA0KICAgICAgICAgIG1vZl9kaXZfY29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8ucHJvdmluY2UsDQogICAgICAgICAgZmlzY2FsWWVhcjogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8ueWVhciwNCiAgICAgICAgICBzcWxfc2hmdW5kdHlwZV9jb2RlOiBzZWxmLm5ld0RhdGFBcnIsDQogICAgICAgICAgc3FsX2RhdGF0eXBlOiB0aGlzLmNoZWNrZWRGb3Jtcy5zcWxfZGF0YXR5cGUsDQogICAgICAgICAgc3FsX2JhdGNoX25vOiB0aGlzLmNoZWNrZWRGb3Jtcy5zcWxfYmF0Y2hfbm8sDQogICAgICAgICAgLi4uZm9ybURhdGENCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgdHJhbnNKc29uKHN0cikgew0KICAgICAgaWYgKCFzdHIpIHJldHVybg0KICAgICAgdmFyIHBhcmFtcyA9IHN0ci5zcGxpdCgnLCcpDQogICAgICB2YXIgcmVzdWx0ID0ge30NCiAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICB2YXIgbWFwID0gcGFyYW1zW2ldLnNwbGl0KCc9JykNCiAgICAgICAgICByZXN1bHRbbWFwWzBdXSA9IG1hcFsxXQ0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gcmVzdWx0DQogICAgfSwNCiAgICBnZXRyZXBvcnRQYXJhbXMoKSB7DQogICAgICAvLyB0aGlzLnBhcmFtczUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1lbnVQYXJhbXM1DQogICAgICB0aGlzLnBhcmFtczUgPSB0aGlzLnRyYW5zSnNvbih0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUucGFyYW01KQ0KICAgIH0sDQogICAgZGVlcENvcHkob2JqKSB7IC8vIOa3seaLt+i0nemAmueUqOaWueazlQ0KICAgICAgLy8gdmFyIG5ld19hcnIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFycikpIC8vIOS4jeS7heWPr+aLt+i0neaVsOe7hOi/mOiDveaLt+i0neWvueixoe+8iCDkvYbkuI3og73mi7fotJ3lh73mlbDvvIkNCiAgICAgIC8vIOWPquaLt+i0neWvueixoQ0KICAgICAgbGV0IG1lID0gdGhpcw0KICAgICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIG9iag0KICAgICAgLy8g5qC55o2ub2Jq55qE57G75Z6L5Yik5pat5piv5paw5bu65LiA5Liq5pWw57uE6L+Y5piv5LiA5Liq5a+56LGhDQogICAgICBsZXQgbmV3T2JqID0gb2JqIGluc3RhbmNlb2YgQXJyYXkgPyBbXSA6IHt9DQogICAgICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7DQogICAgICAgIC8vIOmBjeWOhm9iaizlubbkuJTliKTmlq3mmK9vYmrnmoTlsZ7mgKfmiY3mi7fotJ0NCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgLy8g5Yik5pat5bGe5oCn5YC855qE57G75Z6L77yM5aaC5p6c5piv5a+56LGh6YCS5b2S6LCD55So5rex5ou36LSdDQogICAgICAgICAgbmV3T2JqW2tleV0gPQ0KICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JyA/IG1lLmRlZXBDb3B5KG9ialtrZXldKSA6IG9ialtrZXldDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBuZXdPYmoNCiAgICB9LA0KICAgIHF1ZXJ5Rm9ybUl0ZW0oZGljQ29kZSkgew0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBnZXQoJy9iaXNCdWRnZXQvYXBpL2J1ZGdldC9iaXNDb25maWcvY29uZmlnL3JlcG9ydC9nZXRCb3NzUmVwb3J0Q29uZmlnJywgeyBkaWNDb2RlIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgc2VsZi5yZXNvbHZlUmVzdWx0KGRhdGEgPT4gew0KICAgICAgICAgIHNlbGYucXVlcnlGb3JtSXRlbUNvbmZpZ0luID0gSlNPTi5wYXJzZShkYXRhLmZvcm1JdGVtcykNCiAgICAgICAgICAvLyDkuIvmi4nmlbDpnIDopoHmi7zmjqXvvIh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWXvvIkNCiAgICAgICAgICBzZWxmLnF1ZXJ5Rm9ybUl0ZW1Db25maWdJbi5mb3JFYWNoKHYgPT4gew0KICAgICAgICAgICAgaWYgKHYuaXRlbVJlbmRlci5wcm9wcy5jb25maWcuYXhpb3NDb25maWcudXJsKSB7DQogICAgICAgICAgICAgIC8vIOWbuuWumuWGmeazlSDmiqXooajlm7rlrprnvZHlhbMNCiAgICAgICAgICAgICAgdi5pdGVtUmVuZGVyLnByb3BzLmNvbmZpZy5pc1ByYW1hcyA9IGZhbHNlDQogICAgICAgICAgICAgIHYuaXRlbVJlbmRlci5wcm9wcy5jb25maWcuYXhpb3NDb25maWcudXJsID0gJ2Zpc2NhbC9hcGkvYnVkZ2V0JyArIHYuaXRlbVJlbmRlci5wcm9wcy5jb25maWcuYXhpb3NDb25maWcudXJsDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICBjb25zb2xlLmxvZyhzZWxmLnF1ZXJ5Rm9ybUl0ZW1Db25maWdJbiwgJ3NlbGYucXVlcnlGb3JtSXRlbUNvbmZpZ0luJykNCiAgICAgICAgICB0aGlzLmluaXRGaXNjYWxDb25maWcodGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmd1aWQpDQogICAgICAgIH0sIHJlcykNCiAgICAgIH0pLmNhdGNoKGUgPT4gew0KICAgICAgICBzZWxmLiRYTW9kYWwubWVzc2FnZSh7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogJ+iOt+WPlumFjee9ruWIl+Wksei0pScgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDojrflj5blvZPliY3ml7bpl7QNCiAgICBnZXROb3dGb3JtYXREYXRlKCkgew0KICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpDQogICAgICBsZXQgc2VwZXJhdG9yMSA9ICctJyAvLyDmoLzlvI/liIbpmpTnrKYNCiAgICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpIC8vIOiOt+WPluWujOaVtOeahOW5tOS7vSg05L2NKQ0KICAgICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMSAvLyDojrflj5blvZPliY3mnIjku70oMC0xMSww5Luj6KGoMeaciCkNCiAgICAgIGxldCBzdHJEYXRlID0gZGF0ZS5nZXREYXRlKCkgLy8g6I635Y+W5b2T5YmN5pelKDEtMzEpDQogICAgICBpZiAobW9udGggPj0gMSAmJiBtb250aCA8PSA5KSBtb250aCA9ICcwJyArIG1vbnRoIC8vIOWmguaenOaciOS7veaYr+S4quS9jeaVsO+8jOWcqOWJjemdouihpTANCiAgICAgIGlmIChzdHJEYXRlID49IDAgJiYgc3RyRGF0ZSA8PSA5KSBzdHJEYXRlID0gJzAnICsgc3RyRGF0ZSAvLyDlpoLmnpzml6XmmK/kuKrkvY3mlbDvvIzlnKjliY3pnaLooaUwDQogICAgICBsZXQgY3VycmVudGRhdGUgPSB5ZWFyICsgc2VwZXJhdG9yMSArIG1vbnRoICsgc2VwZXJhdG9yMSArIHN0ckRhdGUNCiAgICAgIHJldHVybiBjdXJyZW50ZGF0ZQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldHJlcG9ydFBhcmFtcygpDQogICAgdGhpcy5hZ2VuY3lUcmVlUXVlcnlwYXJhbXMuZWxlQ29kZSA9IHRoaXMucGFyYW1zNS5lbGVDb2RlDQogICAgLy8gdGhpcy5nZXRSZXBvcnREYXRhKCkNCiAgICB0aGlzLmdldFRyZWVEYXRhKCkNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICAvLyB0aGlzLmdldFRyZWVEYXRhKCkNCiAgICB0aGlzLmdldHJlcG9ydFBhcmFtcygpDQogICAgaWYgKHRoaXMucGFyYW1zNS5zaG93RmxhZyA9PT0gJzInKSB7DQogICAgICB0aGlzLnNob3dGbGFnID0gJzInDQogICAgICB0aGlzLnBlcmNlbnROdW0gPSAwDQogICAgfSBlbHNlIHsNCiAgICAgIC8vIOm7mOiupOWAvCAnMScNCiAgICAgIC8vIHRoaXMuc2hvd0ZsYWcgPSAnMScNCiAgICAgIHRoaXMuc2hvd0ZsYWcgPSAnMScNCiAgICAgIHRoaXMucGVyY2VudE51bSA9IDUwDQogICAgfQ0KICAgIGlmICh0aGlzLnBhcmFtczUuZGljQ29kZSkgew0KICAgICAgdGhpcy5xdWVyeUZvcm1JdGVtKHRoaXMucGFyYW1zNS5kaWNDb2RlKQ0KICAgICAgdGhpcy5nZXRRdWVyeUZvcm1EYXRhKCkNCiAgICB9DQogICAgLy8g5b2T5YmN5pe26Ze0DQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgdGhpcy5xdWVyeUZvcm1EYXRhLmp6c2pfX3ZpZXdTb3J0ID0gdGhpcy5nZXROb3dGb3JtYXREYXRlKCkNCiAgICAgIHRoaXMucXVlcnlGb3JtRGF0YS5qenNqID0gdGhpcy5nZXROb3dGb3JtYXREYXRlKCkNCiAgICAgIHRoaXMuJHJlZnMucXVlcnlGb3JtLmZvcm1EYXRhTGlzdEluID0gdGhpcy5xdWVyeUZvcm1EYXRhDQogICAgfSkNCiAgICBjb25zb2xlLmxvZyh0aGlzLnF1ZXJ5Rm9ybURhdGEsICd0aGlzLnF1ZXJ5Rm9ybURhdGEnKQ0KICB9LA0KICB3YXRjaDogew0KICB9DQp9DQo="},{"version":3,"sources":["reportSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reportSearch.vue","sourceRoot":"src/views/platformReport/DataReport","sourcesContent":["<!--  formList模版   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div v-loading=\"showLoading\" class=\"height-all reportSearchModel\">\r\n    <BsMainFormListLayout :left-visible.sync=\"leftVisible\">\r\n      <template v-slot:mainForm>\r\n        <div class=\"main-query\">\r\n          <BsQuery\r\n            v-if=\"isquery\"\r\n            ref=\"queryForm\"\r\n            :query-form-item-config=\"queryFormItemConfigIn\"\r\n            :query-form-data=\"queryFormData\"\r\n            :query-config=\"queryConfig\"\r\n            @onSearchClick=\"onSearchClick\"\r\n            @onSearchResetClick=\"onresetSearchClick\"\r\n            @itemChange=\"itemChange\"\r\n          />\r\n        </div>\r\n        <div\r\n          v-for=\"(item, index) in inputTableTreeData\"\r\n          :key=\"index\"\r\n          :style=\"{ height: item.id === currentTableNode.id ? '7%' : '0px' }\"\r\n        >\r\n          <div v-show=\"item.id === currentTableNode.id\" :style=\"{ height: item.id === currentTableNode.id ? '100%' : '0px' }\">\r\n            <div class=\"main-query\">\r\n              <BsQuery\r\n                :ref=\"'queryForm' + item.id\"\r\n                :query-form-item-config=\"queryFormItemConfigIn\"\r\n                :query-form-data=\"queryFormData\"\r\n                :query-config=\"queryConfig\"\r\n                :edit-rules=\"queryFormRules\"\r\n                @onSearchClick=\"onSearchClick\"\r\n                @onSearchResetClick=\"onresetSearchClick\"\r\n                @itemChange=\"itemChange\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <template>\r\n          <div style=\"height:95%\">\r\n            <div\r\n              v-for=\"(item, index) in inputTableTreeData\"\r\n              :key=\"index\"\r\n              :style=\"{ height: item.id === currentTableNode.id ? '100%' : '0px' }\"\r\n            >\r\n              <div\r\n                v-show=\"item.id === currentTableNode.id\"\r\n                :style=\"{ height: item.id === currentTableNode.id ? '100%' : '0px' }\"\r\n              >\r\n                <DatavReportView\r\n                  :ref=\"'datavReportView' + item.id\"\r\n                  :isload=\"item.isLoad\"\r\n                  :report-params=\"reportParams\"\r\n                  :style=\"{ height: item.id === currentTableNode.id ? '100%' : '0px' }\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n  </div>\r\n</template>\r\n<script>\r\nimport DatavReportView from '../platformReport/index.vue'\r\nimport resolveResult from '@/utils/result.js'\r\nimport { get } from '@/api/http'\r\nexport default {\r\n  name: 'DatavReportSearch',\r\n  components: {\r\n    DatavReportView\r\n  },\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n      percentNum: 50,\r\n      isquery: true,\r\n      queryConfig: {\r\n        searchBtnText: '查询',\r\n        resetBtnText: false\r\n      },\r\n      unitArr: [], // 全部单位数据\r\n      checkedkeys: ['10000'],\r\n      shfundtype: null,\r\n      Batchno: null,\r\n      datatype: null,\r\n      leftTreeShow: false,\r\n      leftVisible: false,\r\n      agencyTreeConfig: {\r\n        isPramas: false,\r\n        showFilter: false, // 是否显示过滤\r\n        isInitLoadData: false,\r\n        scrollLoad: false, // 是否开启滚动加载\r\n        isleaf: 1, // 指定节点是否为叶子节点，仅在指定了 lazy 属性的情况下生效\r\n        levelno: -1, // 可选层级\r\n        valueKeys: ['code', 'name', 'id'],\r\n        format: '{code}-{name}',\r\n        placeholder: '请选择',\r\n        multipleValueType: 'String', // 多选值类型 String[逗号分割]，Array //废弃\r\n        treeProps: {\r\n          // 树配置选项\r\n          labelFormat: '{code}-{name}', // {code}-{name}\r\n          nodeKey: 'id', // 树的主键\r\n          label: 'name', // 树的显示lalel字段\r\n          children: 'children' // 树的嵌套字段\r\n        },\r\n        axiosConfig: {\r\n          rootName: '全部',\r\n          successCode: '100000', // 成功code\r\n          statusField: 'code',\r\n          method: 'get', // 请求方式\r\n          url: '' // 'queryTreeAssistData', // 是否调用接口直接获取数据，当此项有值时将会自动家数据\r\n        },\r\n        defaultSelectFirstLeafNode: true,\r\n        multiple: true, // 是否多选,\r\n        isLazeLoad: false, // 是否调用接口远程懒加载数据\r\n        readonly: true,\r\n        clearable: true\r\n      },\r\n      currentAgencyTreeNodeKey: '',\r\n      currentAgencyNode: {},\r\n      agencyTreeQueryparams: {\r\n        roleGuid: this.$store.state.curNavModule.roleguid,\r\n        // eleCode: 'VW_BAS_AGENCY_PR_TREE',\r\n        // eleCode: 'vw_bas_mof_dep_tree',\r\n        eleCode: 'VW_BAS_AGENCY_INFO_LEAF_TREE',\r\n        queryCondition: this.transJson(this.$store.state.curNavModule.param5).queryCondition\r\n      },\r\n      agencyTreeFilterText: '',\r\n      agencyTreeData: [],\r\n      inputTableTreeConfig: {\r\n        showFilter: false, // 是否显示过滤\r\n        isInitLoadData: false,\r\n        scrollLoad: false, // 是否开启滚动加载\r\n        isleaf: 1, // 指定节点是否为叶子节点，仅在指定了 lazy 属性的情况下生效\r\n        levelno: -1, // 可选层级\r\n        valueKeys: ['code', 'name', 'id'],\r\n        format: '{name}',\r\n        placeholder: '请选择',\r\n        multipleValueType: 'String', // 多选值类型 String[逗号分割]，Array //废弃\r\n        treeProps: {\r\n          // 树配置选项\r\n          labelFormat: '{name}', // {code}-{name}\r\n          nodeKey: 'id', // 树的主键\r\n          label: 'name', // 树的显示lalel字段\r\n          children: 'children' // 树的嵌套字段\r\n        },\r\n        axiosConfig: {\r\n          successCode: '100000', // 成功code\r\n          statusField: 'code',\r\n          method: 'post', // 请求方式\r\n          url: ''\r\n          // url: 'bisBudget/cfg/bgtCfgAgencyToReport/reportTree' // 'queryTreeAssistData', // 是否调用接口直接获取数据，当此项有值时将会自动家数据\r\n        },\r\n        defaultSelectFirstLeafNode: false,\r\n        multiple: false, // 是否多选,\r\n        isLazeLoad: false, // 是否调用接口远程懒加载数据\r\n        readonly: true,\r\n        clearable: true\r\n      },\r\n      inputTableTreeQueryparams: {\r\n        type: ''\r\n      },\r\n      inputTableTreeFilterText: '',\r\n      inputTableTreeData: [],\r\n      tablePanls: [],\r\n      currentTableTreeNodeKey: '',\r\n      showLoading: false,\r\n      reportParams: {},\r\n      params5: {},\r\n      tabSelect: {},\r\n      delarLoading: false,\r\n      checkedForms: {\r\n        sql_batch_no: '',\r\n        sql_datatype: ''\r\n      },\r\n      checkedAgencys: {\r\n        agencyIds: '',\r\n        agencyCodes: '',\r\n        agencyNames: '',\r\n        deptCodes: '',\r\n        sql_dept_code: '',\r\n        sql_agency_code: ''\r\n      },\r\n      currentTableNode: {},\r\n      queryFormRules: {},\r\n      queryFormData: {\r\n        jzsj: this.getNowFormatDate()// 截止日期默认当天\r\n      },\r\n      shFundType_: '',\r\n      shFundType_Code: '',\r\n      shFundType_Id: '',\r\n      shFundType_Name: '',\r\n      queryFormItemConfigIn: [],\r\n      recordMap: [],\r\n      usertype: '',\r\n      newDataArr: '',\r\n      defshFundType: ''\r\n    }\r\n  },\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.userInfo\r\n    }\r\n  },\r\n  methods: {\r\n    ...resolveResult,\r\n    initFiscalConfig(menuguid) {\r\n      let self = this\r\n      let data = this.$refs.queryForm.getFormData()\r\n      this.queryFormItemConfigIn.forEach((item) => {\r\n        if (item.field === 'batchNo') {\r\n          data.batchNo = '2'\r\n        }\r\n        if (item.field === 'datatype') {\r\n          if (this.$store.state.userInfo.province === '310000000') {\r\n            if (self.userInfo.usertype === '0') {\r\n              data.datatype = '1'\r\n            } else if (self.userInfo.usertype === '1') {\r\n              data.datatype = '5'\r\n            } else if (self.userInfo.usertype === '2') {\r\n              data.datatype = '3'\r\n            } else {\r\n              data.datatype = '0'\r\n            }\r\n          }\r\n        }\r\n        if (item.field === 'qssj') {\r\n          data.qssj = new Date(Date.parse(new Date().getFullYear() + '-1-1')).format('YYYY-MM-DD')\r\n        }\r\n      })\r\n      this.queryFormData = data\r\n      get('/bisBudget/api/budget/bisBudget/bgtFbConfig/getFbPageConfig?menuguid=' + menuguid).then(res => {\r\n        // get('http://43.143.57.251:6015/api/budget/bisBasicinfo/basicinfo/basAgencyInfoGd/queryAgencyTree?menuguid=' + menuguid).then(res => {\r\n        if (res && res.code === '100000') {\r\n          let optionsss = []\r\n          let options = ''\r\n          if (res.data && res.data.reportdatatype) {\r\n            options = res.data.reportdatatype\r\n          }\r\n          if (options && options !== '') {\r\n            let optionss = options.split('#')\r\n            optionss.forEach(s => {\r\n              let ss = s.split('=')\r\n              let value = ss[0]\r\n              let label = ss[1]\r\n              optionsss.push({ value: value, label: label })\r\n            })\r\n            this.queryFormItemConfigIn.forEach((item) => {\r\n              if (item.field === 'datatype') {\r\n                item.itemRender.options = optionsss\r\n              }\r\n            })\r\n            // this.queryFormItemConfigIn[2].itemRender.options = optionsss\r\n          }\r\n        }\r\n      })\r\n    },\r\n    getFirstId(data) {\r\n      if (data && data.length > 0) {\r\n        let firstData = data[0]\r\n        let getChildrenId = (data) => {\r\n          if (data && data.length > 0) {\r\n            let child = data[0]\r\n            if (child.children && child.children.length > 0) {\r\n              return getChildrenId(child.children)\r\n            } else {\r\n              return child.id\r\n            }\r\n          } else {\r\n            return ''\r\n          }\r\n        }\r\n        let id = getChildrenId(firstData.children)\r\n        if (id === '') {\r\n          id = firstData.id\r\n        }\r\n        return id\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    showDialog() {\r\n      this.dialogVisible = true\r\n    },\r\n    onTreeLoaded({ treeData, tree, currentNodeKey, curSelectNode }, bstree) {\r\n      let id = this.getFirstId(treeData)\r\n      if (id && id !== null && id !== '') {\r\n        tree.setCurrentKey(id)\r\n        bstree.defaultExpandedKeys = [id]\r\n      }\r\n      if (curSelectNode) {\r\n        this.currentAgencyTreeNodeKey = curSelectNode.id\r\n        this.currentAgencyNode = curSelectNode\r\n      }\r\n      // this.onAgencyTreeNodeClick({ node: curSelectNode })\r\n    },\r\n    onAgencyTreeNodeClick({ node }) {\r\n    },\r\n    itemChange(obj) {\r\n      let DataArr = []\r\n      obj.$form.$children[0].$children[0].curCheckednodes.forEach((item) => {\r\n        DataArr.push(item.code)\r\n      })\r\n      this.newDataArr = DataArr.map(i => '\\'' + i + '\\'').join(',')\r\n    },\r\n    onSearchClick() {\r\n      let self = this\r\n      if (this.showFlag !== '2') {\r\n        if (!this.checkedAgencys.agencyCodes) {\r\n          this.$XModal.message({ status: 'info', message: '请先选择预算单位' })\r\n          return false\r\n        }\r\n      }\r\n      if (!self.currentTableNode) {\r\n        this.$XModal.message({ status: 'info', message: '请先选择查询表' })\r\n        return false\r\n      }\r\n      if (self.$refs['queryForm' + self.currentTableNode.id][0].getFormData().batchNo) {\r\n        self.checkedForms.sql_batch_no = self.$refs['queryForm' + self.currentTableNode.id][0].getFormData().batchNo\r\n      }\r\n      if (self.$refs['queryForm' + self.currentTableNode.id][0].getFormData().datatype) {\r\n        self.checkedForms.sql_datatype = self.$refs['queryForm' + self.currentTableNode.id][0].getFormData().datatype\r\n      }\r\n      self.setReportableParams(self.currentTableNode)\r\n      console.log(this.reportParams, 888888888)\r\n      this.inputTableTreeData.forEach(v => {\r\n        if (v.id === self.currentTableNode.id) {\r\n          v['isLoad'] = true\r\n        }\r\n      })\r\n      this.$nextTick(() => {\r\n        console.log('当前查询表为：', self.currentTableNode.name)\r\n        self.$refs['datavReportView' + self.currentTableNode.id][0].parentCallSearch()\r\n        // self.$refs[`datavReportView${self.currentTableNode.id}`][0].parentCallSearch()\r\n      })\r\n      this.inputTableTreeData.forEach(v => {\r\n        if (v.id === self.currentTableNode.id) {\r\n          v['isLoad'] = false\r\n        }\r\n      })\r\n    },\r\n    onInputTableTreeNodeClick(node) {\r\n      let self = this\r\n      if (this.showFlag !== '2') {\r\n        if (!this.checkedAgencys.agencyCodes) {\r\n          this.$XModal.message({ status: 'info', message: '请先选择预算单位' })\r\n          return false\r\n        }\r\n      }\r\n      if (node && node.id) {\r\n        this.isquery = false\r\n        this.currentTableNode = node\r\n        this.$nextTick(() => {\r\n          // 资金渠道真实的值（全局搜newDataArr）\r\n          this.newDataArr = self.defshFundType.split(',').map(v => {\r\n            v = `'${v}'`\r\n            return v\r\n          })\r\n          this.newDataArr = this.newDataArr.join(',')\r\n          this.inputTableTreeData.forEach(v => {\r\n            if (v.id === node.id) {\r\n              v['isLoad'] = true\r\n            } else {\r\n              v['isLoad'] = false\r\n            }\r\n          })\r\n          if (self.recordMap.indexOf(self.currentTableNode.id) !== -1) {\r\n            console.log('当前跳过查询表为：', self.currentTableNode.name)\r\n            return\r\n          }\r\n          setTimeout(() => {\r\n            this.onSearchClick()\r\n            this.recordMap.push(node.id) // 有时间改成得到值再记录\r\n          }, 10)\r\n        })\r\n        // this.$refs.bsTab.curTabSelect = this.deepCopy(node)\r\n      } else {\r\n        this.$XModal.message({ status: 'info', message: '请先选择预算单位' })\r\n      }\r\n    },\r\n    // onNodeCheckChange(a) {\r\n    //   // this.delarLoading = true\r\n    //   let agencies = this.$refs.agencyTree.curCheckednodes\r\n    //   if (!agencies || agencies.length === 0 || (agencies.length === 1 && agencies[0].code === 'root' && agencies[0].children.length === 0)) {\r\n    //     // this.$XModal.message({ status: 'info', message: '请' })\r\n    //     this.checkedAgencys.agencyCodes = ''\r\n    //     return\r\n    //   }\r\n    //   let agency = agencies.filter(item => item.isleaf).map(item => { return item })\r\n    //   let agencyIds = agency.map(v => v.id)\r\n    //   let agencyCodes = agency.map(v => v.code)\r\n    //   let agencyNames = agency.map(v => v.name)\r\n    //   let deptCodes = Array.from(new Set(agency.map(v => v.code.substr(0, 3))))\r\n    //   let sqlAgencyCode = agencyCodes.map(i => '\\'' + i + '\\'').join(',')\r\n    //   let sqlDeptCode = deptCodes.map(i => '\\'' + i + '\\'').join(',')\r\n    //   this.checkedAgencys = {\r\n    //     agencyIds,\r\n    //     agencyCodes,\r\n    //     agencyNames,\r\n    //     deptCodes,\r\n    //     sql_agency_code: sqlAgencyCode,\r\n    //     sql_dept_code: sqlDeptCode\r\n    //   }\r\n    //   if (this.currentTableNode) {\r\n    //     this.setReportableParams(this.currentTableNode)\r\n    //   }\r\n    //   // setTimeout(() => {\r\n    //   //   this.delarLoading = false\r\n    //   // }, 500)\r\n    // },\r\n    getReportData() {\r\n      let menuGuidValue = this.params5.reportMenu\r\n      if (!this.params5.reportMenu) {\r\n        menuGuidValue = this.curNavModule.guid\r\n      }\r\n      let param = {\r\n        type: this.params5.reportType,\r\n        // agencyId: agencyIds,\r\n        // menuGuid: '30828356A82C49EBA4EF7EBBA1F90989'\r\n        menuGuid: menuGuidValue\r\n      }\r\n      let self = this\r\n      // *******************\r\n      self.$http.post('/bisBudget/api/budget/bisBudget/cfg/bgtCfgAgencyToReport/queryReportTree', param).then((res) => {\r\n        // self.$http.post('http://43.143.57.251:6015/api/budget/bisBudget/cfg/bgtCfgAgencyToReport/queryReportTree', param).then((res) => {\r\n        self.resolveResult(data => {\r\n          self.inputTableTreeData = data\r\n          self.inputTableTreeData.forEach(v => {\r\n            v['isLoad'] = false\r\n          })\r\n        }, res)\r\n        this.onInputTableTreeNodeClick(res.data[0])\r\n      }).catch((e) => {\r\n        self.$XModal.message({ status: 'error', message: '获取列表失败：' + e })\r\n        self.showLoading = false\r\n      })\r\n    },\r\n    ArrayData(DataArr) {\r\n      // let DataArr = JSON.parse(JSON.stringify(array))\r\n      DataArr.forEach(v => {\r\n        this.unitArr.push(v)\r\n        if (v.children.length >= 1) {\r\n          this.ArrayData(v.children)\r\n        }\r\n      })\r\n      return this.unitArr\r\n    },\r\n    getTreeData() {\r\n      let self = this\r\n      this.showLoading = true\r\n      self.$http.get('/bisBudget/api/budget/bisBasicinfo/basicinfo/basAgencyInfoGd/queryAgencyTree', self.agencyTreeQueryparams).then((res) => {\r\n        // self.$http.get('http://43.143.57.251:6015/api/budget/bisBasicinfo/basicinfo/basAgencyInfoGd/queryAgencyTree', self.agencyTreeQueryparams).then((res) => {\r\n        // 默认拿到这个数的全选数据\r\n        this.unitArr = []\r\n        let agencies = this.ArrayData(res.data)\r\n        let agency = agencies.filter(item => item.isleaf).map(item => { return item })\r\n        let agencyIds = agency.map(v => v.id)\r\n        let agencyCodes = agency.map(v => v.code)\r\n        let agencyNames = agency.map(v => v.name)\r\n        let deptCodes = Array.from(new Set(agency.map(v => v.code.substr(0, 3))))\r\n        let sqlAgencyCode = agencyCodes.map(i => '\\'' + i + '\\'').join(',')\r\n        let sqlDeptCode = deptCodes.map(i => '\\'' + i + '\\'').join(',')\r\n        this.checkedAgencys = {\r\n          agencyIds,\r\n          agencyCodes,\r\n          agencyNames,\r\n          deptCodes,\r\n          sql_agency_code: sqlAgencyCode,\r\n          sql_dept_code: sqlDeptCode\r\n        }\r\n        console.log(this.checkedAgencys, 'this.checkedAgencys ')\r\n        this.showLoading = false\r\n        this.getReportData()\r\n        if (this.currentTableNode) {\r\n          this.setReportableParams(this.currentTableNode)\r\n        }\r\n      }).catch((e) => {\r\n        self.$XModal.message({ status: 'error', message: '获取列表失败：' + e })\r\n      })\r\n    },\r\n    getQueryFormData() {\r\n      let param = {\r\n        eleCode: 'SHFUND_TYPE'\r\n      }\r\n      let self = this\r\n      self.$http.post('/bisBudget/api/budget/bisConfig/config/common/queryTreeAssistData', param).then((res) => {\r\n        // self.$http.post('http://43.143.57.251:6015/api/budget/bisBudget/budget/bisConfig/config/common/queryTreeAssistData', param).then((res) => {\r\n        self.showLoading = false\r\n        self.resolveResult(data => {\r\n          // 传输数据\r\n          let defSort = self.getAllData(data)\r\n          let defshFundType = []\r\n          defSort.forEach(item => {\r\n            defshFundType.push(item.code)\r\n          })\r\n          self.defshFundType = defshFundType.toString()\r\n          // 显示数据\r\n          let datas = self.getAllChildren(data)\r\n          let getqueryFormData = []\r\n          let getqueryFormDataCode = []\r\n          let getqueryFormDataId = []\r\n          let getqueryFormDataName = []\r\n          datas.forEach(item => {\r\n            getqueryFormData.push(item.code + '##' + item.name + '##' + item.guid)\r\n            getqueryFormDataCode.push(item.code)\r\n            getqueryFormDataId.push(item.guid)\r\n            getqueryFormDataName.push(item.name)\r\n          })\r\n          let datass = this.$refs.queryForm.getFormData()\r\n          datass.shFundType = getqueryFormData.join(',')\r\n          datass.shFundTypeCode = getqueryFormDataCode.join(',')\r\n          datass.shFundTypeId = getqueryFormDataId.join(',')\r\n          datass.shFundTypeName = getqueryFormDataName.join(',')\r\n          this.queryFormData = datass\r\n        }, res)\r\n      }).catch((e) => {\r\n        self.$XModal.message({ status: 'error', message: '获取列表失败：' + e })\r\n        self.showLoading = false\r\n      })\r\n    },\r\n    getAllChildren(data, children = []) {\r\n      data.forEach(item => {\r\n        if (item.children && item.children.length) {\r\n          this.getAllChildren(item.children, children)\r\n        } else {\r\n          children.push(item)\r\n        }\r\n      })\r\n      return children\r\n    },\r\n    getAllData(data, children = []) {\r\n      data.forEach(item => {\r\n        children.push(item)\r\n        if (item.children && item.children.length) {\r\n          // children.push(item.code)\r\n          this.getAllData(item.children, children)\r\n        }\r\n      })\r\n      return children\r\n    },\r\n    setReportableParams(inputReport) {\r\n      this.showLoading = false\r\n      let self = this\r\n      let formData = {}\r\n      if (self.$refs['queryForm' + self.currentTableNode.id]) {\r\n        formData = self.$refs['queryForm' + self.currentTableNode.id][0].getFormData()\r\n        for (var v in formData) {\r\n          if (v.endsWith('Code')) {\r\n            let data = formData[v].split(',').map(v => {\r\n              v = `'${v}'`\r\n              return v\r\n            })\r\n            formData[v] = data.join(',')\r\n          }\r\n        }\r\n      }\r\n      this.reportParams = {\r\n        code: inputReport.id,\r\n        paramsObj: {\r\n          title: inputReport.name,\r\n          city: '上海市',\r\n          agencyCode: this.checkedAgencys.agencyCodes,\r\n          agencyId: this.checkedAgencys.agencyIds,\r\n          agencyName: this.checkedAgencys.agencyNames,\r\n          deptCode: this.checkedAgencys.deptCodes,\r\n          sql_agency_code: this.checkedAgencys.sql_agency_code,\r\n          sql_dept_code: this.checkedAgencys.sql_dept_code,\r\n          menuGuid: this.$store.state.curNavModule.guid,\r\n          roleGuid: this.$store.state.curNavModule.roleguid,\r\n          mofDivCode: this.$store.state.userInfo.admdiv,\r\n          mof_div_code: this.$store.state.userInfo.province,\r\n          fiscalYear: this.$store.state.userInfo.year,\r\n          sql_shfundtype_code: self.newDataArr,\r\n          sql_datatype: this.checkedForms.sql_datatype,\r\n          sql_batch_no: this.checkedForms.sql_batch_no,\r\n          ...formData\r\n        }\r\n      }\r\n    },\r\n    transJson(str) {\r\n      if (!str) return\r\n      var params = str.split(',')\r\n      var result = {}\r\n      if (params && params.length > 0) {\r\n        for (var i = 0; i < params.length; i++) {\r\n          var map = params[i].split('=')\r\n          result[map[0]] = map[1]\r\n        }\r\n      }\r\n      return result\r\n    },\r\n    getreportParams() {\r\n      // this.params5 = this.$store.getters.getMenuParams5\r\n      this.params5 = this.transJson(this.$store.state.curNavModule.param5)\r\n    },\r\n    deepCopy(obj) { // 深拷贝通用方法\r\n      // var new_arr = JSON.parse(JSON.stringify(arr)) // 不仅可拷贝数组还能拷贝对象（ 但不能拷贝函数）\r\n      // 只拷贝对象\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      // 根据obj的类型判断是新建一个数组还是一个对象\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        // 遍历obj,并且判断是obj的属性才拷贝\r\n        if (obj.hasOwnProperty(key)) {\r\n          // 判断属性值的类型，如果是对象递归调用深拷贝\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    queryFormItem(dicCode) {\r\n      let self = this\r\n      get('/bisBudget/api/budget/bisConfig/config/report/getBossReportConfig', { dicCode }).then(res => {\r\n        self.resolveResult(data => {\r\n          self.queryFormItemConfigIn = JSON.parse(data.formItems)\r\n          // 下拉数需要拼接（window.location.pathname）\r\n          self.queryFormItemConfigIn.forEach(v => {\r\n            if (v.itemRender.props.config.axiosConfig.url) {\r\n              // 固定写法 报表固定网关\r\n              v.itemRender.props.config.isPramas = false\r\n              v.itemRender.props.config.axiosConfig.url = 'fiscal/api/budget' + v.itemRender.props.config.axiosConfig.url\r\n            }\r\n          })\r\n          console.log(self.queryFormItemConfigIn, 'self.queryFormItemConfigIn')\r\n          this.initFiscalConfig(this.$store.state.curNavModule.guid)\r\n        }, res)\r\n      }).catch(e => {\r\n        self.$XModal.message({ status: 'error', message: '获取配置列失败' })\r\n      })\r\n    },\r\n    // 获取当前时间\r\n    getNowFormatDate() {\r\n      let date = new Date()\r\n      let seperator1 = '-' // 格式分隔符\r\n      let year = date.getFullYear() // 获取完整的年份(4位)\r\n      let month = date.getMonth() + 1 // 获取当前月份(0-11,0代表1月)\r\n      let strDate = date.getDate() // 获取当前日(1-31)\r\n      if (month >= 1 && month <= 9) month = '0' + month // 如果月份是个位数，在前面补0\r\n      if (strDate >= 0 && strDate <= 9) strDate = '0' + strDate // 如果日是个位数，在前面补0\r\n      let currentdate = year + seperator1 + month + seperator1 + strDate\r\n      return currentdate\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getreportParams()\r\n    this.agencyTreeQueryparams.eleCode = this.params5.eleCode\r\n    // this.getReportData()\r\n    this.getTreeData()\r\n  },\r\n  created() {\r\n    // this.getTreeData()\r\n    this.getreportParams()\r\n    if (this.params5.showFlag === '2') {\r\n      this.showFlag = '2'\r\n      this.percentNum = 0\r\n    } else {\r\n      // 默认值 '1'\r\n      // this.showFlag = '1'\r\n      this.showFlag = '1'\r\n      this.percentNum = 50\r\n    }\r\n    if (this.params5.dicCode) {\r\n      this.queryFormItem(this.params5.dicCode)\r\n      this.getQueryFormData()\r\n    }\r\n    // 当前时间\r\n    this.$nextTick(() => {\r\n      this.queryFormData.jzsj__viewSort = this.getNowFormatDate()\r\n      this.queryFormData.jzsj = this.getNowFormatDate()\r\n      this.$refs.queryForm.formDataListIn = this.queryFormData\r\n    })\r\n    console.log(this.queryFormData, 'this.queryFormData')\r\n  },\r\n  watch: {\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n// 横向分割条\r\n.T-mainFormListLayout-modulebox .mmc-formlist .vue-splitter-container .splitter-pane-resizer.horizontal {\r\n  width: 100% !important;\r\n  height: 5px !important;\r\n}\r\n\r\n// .x-spreadsheet .x-spreadsheet-sheet {\r\n// }\r\n// .no-left-tree {\r\n// }\r\n.flex {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n}\r\n\r\n.inner-padding {\r\n  padding: 0 0px;\r\n}\r\n.reportSearchModel {\r\n  .vxe-form--item-title {\r\n      display: inline-block !important;\r\n  }\r\n}\r\n</style>\r\n"]}]}