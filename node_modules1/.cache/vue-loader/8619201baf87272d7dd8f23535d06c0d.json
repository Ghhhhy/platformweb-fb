{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\EnterItemConfigModal.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\EnterItemConfigModal.vue","mtime":1694505522433},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLml0ZW0tY29uZmlnIHsKICAuVC1lZGl0b3ItanNvbiB7CiAgICBoZWlnaHQ6IDkwJTsKCiAgICAuanNvbmVkaXRvci12dWUgewogICAgICBoZWlnaHQ6IDEwMCU7CiAgICB9CiAgfQoKICAuaXRlbS1idG4gewogICAgbWFyZ2luOjIwcHggMCAwIDA7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlOwogIH0KfQo="},{"version":3,"sources":["EnterItemConfigModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EnterItemConfigModal.vue","sourceRoot":"src/views/main/dynamicTableSetting","sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"itemVisible\"\r\n    show-zoom\r\n    resize\r\n    transfer\r\n    width=\"90%\"\r\n    height=\"90%\"\r\n    title=\"录入配置项\"\r\n    class=\"item-config\"\r\n    @close=\"itemClose\"\r\n  >\r\n    <BsJsonEditor v-if=\"editorVisible\" v-model=\"jsonData\" :read-only=\"false\" />\r\n    <div style=\"height:40px\" class=\"item-btn\">\r\n      <vxe-button size=\"medium\" content=\"取消\" style=\"margin-left:10px\" @click=\"onStopItemClick\" />\r\n      <vxe-button size=\"medium\" status=\"primary\" content=\"保存\" @click=\"onSaveItemClick\" />\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'EnterItemConfigModal',\r\n  props: {\r\n    itemVisible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    configParams: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      jsonData: {\r\n        configure: {\r\n          itemsConfig: [],\r\n          globalConfig: {},\r\n          pageConfig: {},\r\n          editConfig: {},\r\n          editRules: {},\r\n          footerConfig: {},\r\n          dataConfig: {\r\n            dataSouceType: ''\r\n          }\r\n        }\r\n      },\r\n      editorVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    onSaveItemClick(tableConfStr) {\r\n      // 保存表格配置\r\n      let self = this\r\n      this.jsonData.configure = JSON.stringify(this.jsonData.configure)\r\n      this.$http[self.configParams.optionType === 'add' ? 'post' : 'put']('mp-b-perm-service/v1/tableconf', this.jsonData)\r\n        .then((res) => {\r\n          if (res.rscode === '100000') {\r\n            self.itemVisible = false\r\n            self.editorVisible = false\r\n            self.$emit('onItemClose')\r\n            self.$message({\r\n              showClose: true,\r\n              message: self.params.optionType === 'add' ? '数据新增成功' : '数据保存成功',\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    },\r\n    onStopItemClick() {\r\n      this.editorVisible = false\r\n      this.itemVisible = false\r\n    },\r\n    itemClose() {\r\n      this.editorVisible = false\r\n      this.itemVisible = false\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  watch: {\r\n    itemVisible: {\r\n      handler(newValue) {\r\n        this.$emit('update:itemVisible', newValue)\r\n        if (newValue === true) {\r\n          this.editorVisible = true\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    configParams: {\r\n      handler(newValue) {\r\n        this.jsonData = newValue\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  .item-config {\r\n    .T-editor-json {\r\n      height: 90%;\r\n\r\n      .jsoneditor-vue {\r\n        height: 100%;\r\n      }\r\n    }\r\n\r\n    .item-btn {\r\n      margin:20px 0 0 0;\r\n      height: 40px;\r\n      display: flex;\r\n      flex-direction: row-reverse;\r\n    }\r\n  }\r\n</style>\r\n"]}]}