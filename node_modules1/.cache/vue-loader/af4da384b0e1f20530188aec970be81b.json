{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\MointoringMatters\\MonitoringRuleTemplateLibraryManagement\\children\\addDialog.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\MointoringMatters\\MonitoringRuleTemplateLibraryManagement\\children\\addDialog.vue","mtime":1694576524382},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBheVZvdWNoZXJJbnB1dCB7CiAgbWFyZ2luOiAxNXB4OwogIC5lbC1jYXJkIHsKICAgIG1hcmdpbi10b3A6IDAKICB9Cn0KLnNldGJ0bnsKICB3aWR0aDoxMDBweDsKICBoZWlnaHQ6NDVweDsKICBmbG9hdDpsZWZ0OwogIG1hcmdpbi1yaWdodDoyMHB4Owp9Ci50YWJvbmV7CiAgd2lkdGg6MTAwcHg7CiAgaGVpZ2h0OjQwcHg7CiAgdGV4dC1hbGlnbjpjZW50ZXI7CiAgbGluZS1oZWlnaHQ6NDBweDsKICBmbG9hdDpsZWZ0OwogIGJvcmRlcjoxcHggc29saWQgI2NjYzsKICBib3JkZXItcmFkaXVzOjRweDsKfQoudGFib25lMXsKICB3aWR0aDoxMDBweDsKICBoZWlnaHQ6NDBweDsKICB0ZXh0LWFsaWduOmNlbnRlcjsKICBsaW5lLWhlaWdodDo0MHB4OwogIGZsb2F0OmxlZnQ7CiAgYm9yZGVyOjFweCBzb2xpZCAjY2NjOwogIGJhY2tncm91bmQtY29sb3I6I2YyZjJmMjsKICBib3JkZXItcmFkaXVzOjRweDsKfQoudnhlLW1vZGFsLS13cmFwcGVyIC52eGUtbW9kYWwtLWJveCB7CiAgei1pbmRleDogMDsKfQojYmlnYm94IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgei1pbmRleDogMTA7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIGJvdHRvbTogMDsKICBvcGFjaXR5OiAuMzsKfQouZWwtcm93LWl0ZW0gLmZvbnQtc2V0LXNtYWxsIC5obGluZXsKICB3aWR0aDo3MnB4Owp9Cg=="},{"version":3,"sources":["addDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+iCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addDialog.vue","sourceRoot":"src/views/main/MointoringMatters/MonitoringRuleTemplateLibraryManagement/children","sourcesContent":["<!--监控规则模板库新增页面弹框-->\r\n<template>\r\n  <div>\r\n    <vxe-modal\r\n      v-model=\"dialogVisible\"\r\n      :title=\"title\"\r\n      width=\"96%\"\r\n      height=\"90%\"\r\n      :show-footer=\"false\"\r\n      @close=\"dialogClose\"\r\n    >\r\n      <div style=\"width:100%;height:45px;float:left;\">\r\n        <div v-for=\"(item,index) in tabbtn\" :key=\"index\" class=\"setbtn\">\r\n          <div :id=\"index\" class=\"tabone\" :class=\"activeIndex === index ? 'tabone1' : ''\" @click=\"tabClick(index)\">\r\n            {{ item }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--监控事项挂接-->\r\n      <div v-show=\"monitorShow\" class=\"payVoucherInput\" style=\"margin-top:50px;\">\r\n        <div v-show=\"isShowButton\" style=\"width:100%;height: 80px;margin:0 15px\">\r\n          <div v-if=\"showbox\" id=\"bigbox\"></div>\r\n          <el-divider style=\"color:#E7EBF0\" />\r\n          <div type=\"flex\" justify=\"end\">\r\n            <div style=\"width:100%\">\r\n              <vxe-button id=\"savebutton\" style=\"float:right;margin-right:20px\" status=\"primary\" @click=\"addOperation\">{{ buttonName }}</vxe-button>\r\n              <vxe-button style=\"float:right;margin-right:20px\" @click=\"deleteOperation\">删除</vxe-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-loading=\"addLoading\" class=\"body\">\r\n          <div class=\"header-table\">\r\n            <BsTable\r\n              ref=\"operationTableRef\"\r\n              height=\"450px\"\r\n              :footer-config=\"{ showFooter: false }\"\r\n              :checkbox-config=\"checkboxConfig\"\r\n              :table-columns-config=\"monitorTableColumnsConfig\"\r\n              :table-data=\"tableData\"\r\n              :table-config=\"tableConfig\"\r\n              :toolbar-config=\"false\"\r\n              :pager-config=\"false\"\r\n              @ajaxData=\"ajaxTableData\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--规则模板新增-->\r\n      <div v-show=\"rulesShow\" class=\"payVoucherInput\" style=\"margin-top:50px;\">\r\n        <div>\r\n          <div>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;规则模板名称</div>\r\n                      <el-input\r\n                        v-model=\"ruleTemplateName\"\r\n                        :disabled=\"disabled\"\r\n                        placeholder=\"请输入规则模板名称\"\r\n                        style=\"width:45%\"\r\n                      />\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;规则类型</div>\r\n                      <BsTreeInput\r\n                        ref=\"tree\"\r\n                        v-model=\"fiRuleTypeValue\"\r\n                        :datas=\"fiRuleTypeList\"\r\n                        :isleaf=\"true\"\r\n                        style=\"width:45%\"\r\n                        formatter=\"#name\"\r\n                        :open-format-label=\"true\"\r\n                        @input=\"setFiRuleType\"\r\n                      />\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;规则依据</div>\r\n                      <el-input\r\n                        v-model=\"ruleAccord\"\r\n                        :disabled=\"disabled\"\r\n                        type=\"textarea\"\r\n                        :rows=\"3\"\r\n                        placeholder=\"请输入规则依据\"\r\n                        style=\" width:45%\"\r\n                      />\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;模板说明</div>\r\n                      <el-input\r\n                        v-model=\"ruleRemark\"\r\n                        :disabled=\"disabled\"\r\n                        type=\"textarea\"\r\n                        :rows=\"3\"\r\n                        placeholder=\"请输入模板说明\"\r\n                        style=\" width:45%\"\r\n                      />\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--添加挂接函数-->\r\n      <div v-show=\"funcShow\" class=\"payVoucherInput\" style=\"margin-top:50px;\">\r\n        <div v-show=\"isShowButton\" style=\"width:100%;height: 80px;margin:0 15px\">\r\n          <div v-if=\"showbox\" id=\"bigbox\"></div>\r\n          <el-divider style=\"color:#E7EBF0\" />\r\n          <div type=\"flex\" justify=\"end\">\r\n            <div style=\"width:100%\">\r\n              <vxe-button id=\"savebutton\" style=\"float:right;margin-right:20px\" status=\"primary\" @click=\"add\">添加</vxe-button>\r\n              <vxe-button style=\"float:right;margin-right:20px\" @click=\"deleteData\">删除</vxe-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-loading=\"addLoading\" class=\"header-table\">\r\n          <BsTable\r\n            ref=\"mountTableRef\"\r\n            height=\"400px\"\r\n            :checkbox-config=\"checkboxConfig\"\r\n            :footer-config=\"{ showFooter: false }\"\r\n            :table-columns-config=\"mountTableColumnsConfig\"\r\n            :table-data=\"mountTableData\"\r\n            :table-config=\"mounttableConfig\"\r\n            :toolbar-config=\"false\"\r\n            :pager-config=\"false\"\r\n            @ajaxData=\"ajaxFunTableData\"\r\n          />\r\n        </div>\r\n        <div slot=\"footer\" style=\"width:100%;height: 80px;margin:0 15px\">\r\n          <div v-if=\"showbox\" id=\"bigbox\"></div>\r\n          <el-divider style=\"color:#E7EBF0\" />\r\n          <div type=\"flex\" justify=\"end\">\r\n            <div style=\"width:100%\">\r\n              <vxe-button v-show=\"isShowButton\" id=\"savebutton\" style=\"float:right;margin-right:20px\" status=\"primary\" @click=\"doInsert\">保存</vxe-button>\r\n              <vxe-button style=\"float:right;margin-right:20px\" @click=\"dialogClose\">取消</vxe-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </vxe-modal>\r\n    <vxe-modal\r\n      v-model=\"functionVisible\"\r\n      v-loading=\"addLoading\"\r\n      title=\"挂接函数\"\r\n      width=\"96%\"\r\n      height=\"90%\"\r\n      :show-footer=\"false\"\r\n      @close=\"functionClose\"\r\n    >\r\n      <div class=\"main-query\">\r\n        <BsQuery\r\n          ref=\"funcqueryFrom\"\r\n          :query-form-item-config=\"funcqueryConfig\"\r\n          :query-form-data=\"funcsearchDataList\"\r\n          @onSearchClick=\"searchFun\"\r\n        />\r\n      </div>\r\n      <div v-loading=\"addLoading\" class=\"header-table\">\r\n        <BsTable\r\n          ref=\"functionTableRef\"\r\n          height=\"400px\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-columns-config=\"mountTableColumnsConfig\"\r\n          :table-data=\"functionTableData\"\r\n          :table-config=\"mounttableConfig\"\r\n          :toolbar-config=\"false\"\r\n          :pager-config=\"false\"\r\n          @ajaxData=\"ajaxFunTableData\"\r\n          @cellClick=\"cellClick\"\r\n        />\r\n      </div>\r\n      <div style=\"width:100%;height: 80px;margin:0 15px\">\r\n        <el-divider style=\"color:#E7EBF0\" />\r\n        <div type=\"flex\" justify=\"end\">\r\n          <div style=\"width:100%\">\r\n            <vxe-button id=\"savebutton\" style=\"float:right;margin-right:20px\" status=\"primary\" @click=\"functionSure\">确定</vxe-button>\r\n            <vxe-button style=\"float:right;margin-right:20px\" @click=\"functionClose\">取消</vxe-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </vxe-modal>\r\n    <vxe-modal\r\n      v-model=\"operationVisible\"\r\n      v-loading=\"addLoading\"\r\n      title=\"事项挂接\"\r\n      width=\"96%\"\r\n      height=\"90%\"\r\n      :show-footer=\"false\"\r\n      @close=\"operationClose\"\r\n    >\r\n      <div class=\"main-query\">\r\n        <BsQuery\r\n          ref=\"declareQueryFrom\"\r\n          :query-form-item-config=\"declareQueryCofig\"\r\n          :query-form-data=\"declareSearchDataList\"\r\n          @onSearchClick=\"searchDeclare\"\r\n        />\r\n      </div>\r\n      <div class=\"header-table\">\r\n        <BsTable\r\n          ref=\"tableRef\"\r\n          height=\"450px\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-columns-config=\"monitorTableColumnsConfig\"\r\n          :table-data=\"operationTableData\"\r\n          :table-config=\"tableConfig\"\r\n          :toolbar-config=\"false\"\r\n          :pager-config=\"mainPagerConfig\"\r\n          @ajaxData=\"ajaxTableData\"\r\n        />\r\n      </div>\r\n      <div style=\"width:100%;height: 80px;margin:0 15px\">\r\n        <el-divider style=\"color:#E7EBF0\" />\r\n        <div type=\"flex\" justify=\"end\">\r\n          <div style=\"width:100%\">\r\n            <vxe-button id=\"savebutton\" style=\"float:right;margin-right:20px\" status=\"primary\" @click=\"operationSure\">确定</vxe-button>\r\n            <vxe-button style=\"float:right;margin-right:20px\" @click=\"operationClose\">取消</vxe-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </vxe-modal>\r\n    <BsDialog\r\n      :visible.sync=\"showDialogView\"\r\n      :show-header=\"true\"\r\n      :show-footer=\"false\"\r\n      :show-close=\"true\"\r\n      :close-destory=\"true\"\r\n      title=\"函数参数\"\r\n      width=\"60%\"\r\n    >\r\n      <div slot=\"context\" v-loading=\"false\">\r\n        {{ functionParameter }}\r\n      </div>\r\n    </BsDialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { proconf } from '../MonitoringRuleTemplateLibraryManagement.js'\r\nimport HttpModule from '@/api/frame/main/Monitoring/MonitoringRule.js'\r\nimport HttpModule1 from '@/api/frame/main/Monitoring/Declaration.js'\r\nimport HttpModule2 from '@/api/frame/main/Monitoring/Monitoring.js'\r\nexport default {\r\n  name: 'AddDialog',\r\n  components: {},\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    }\r\n  },\r\n  watch: {\r\n    declareQueryCofig() {\r\n      this.getDeclareSearchDataList()\r\n    },\r\n    queryConfig() {\r\n      this.getSearchDataList()\r\n    },\r\n    funcqueryConfig() {\r\n      this.getFunSearchDataList()\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    ruleTemplateCode: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    functionCodeList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      checkboxConfig: {\r\n        checkAll: true\r\n      },\r\n      condition: {},\r\n      funcondition: {},\r\n      tabbtn: ['监控事项挂接', '规则模板新增', '添加挂接函数'],\r\n      activeIndex: 0,\r\n      monitorShow: true,\r\n      rulesShow: false,\r\n      funcShow: false,\r\n      mounttableConfig: {\r\n        renderers: {\r\n          // 编辑 附件 操作日志\r\n          $payVoucherInputGloableOptionRow: proconf.gloableOptionRow1\r\n        },\r\n        methods: {\r\n          onOptionRowClick: this.onOptionRowClick\r\n        }\r\n      },\r\n      mountTableColumnsConfig: proconf.mountTableColumnsConfig,\r\n      mountTableData: [],\r\n      // BsQuery 查询栏\r\n      queryConfig: proconf.highQueryConfig,\r\n      searchDataList: proconf.highQueryData,\r\n      declareSearchDataList: proconf.declareQueryData,\r\n      declareQueryCofig: proconf.declareQueryCofig,\r\n      funcqueryConfig: proconf.funchighQueryConfig,\r\n      funcsearchDataList: proconf.funchighQueryData,\r\n      // table 配置\r\n      tableConfig: {\r\n        renderers: {\r\n          // 编辑 附件 操作日志\r\n          $gloableOptionRow: proconf.gloableOptionRow\r\n        },\r\n        methods: {\r\n          onOptionRowClick: this.onOptionRowClick\r\n        }\r\n      },\r\n      monitorTableColumnsConfig: proconf.monitorTableColumnsConfig,\r\n      operationTableData: [],\r\n      declareTarget: '',\r\n      ruleTemplateName: '',\r\n      businessSystemCode: '',\r\n      businessSystemName: '',\r\n      businessSystemCodeoptions: [],\r\n      businessModuleCode: '',\r\n      businessModuleName: '',\r\n      businessModuleCodeoptions: [],\r\n      businessFunctionCode: '',\r\n      businessFunctionName: '',\r\n      businessFunctionCodeoptions: [],\r\n      policiesName: '',\r\n      ruleRemark: '',\r\n      ruleAccord: '',\r\n      dialogVisible: true,\r\n      addLoading: false,\r\n      token: '',\r\n      isContinuity: false,\r\n      // 文件上传相关参数\r\n      fileList: [],\r\n      fileData: [],\r\n      fileDataBakDel: [],\r\n      attachmentId: '',\r\n      showbox: false,\r\n      mainPagerConfig: {\r\n        total: 1,\r\n        currentPage: 1,\r\n        pageSize: 20\r\n      },\r\n      FunmainPagerConfig: {\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 20\r\n      },\r\n      SysparentId: 0,\r\n      ModparentId: 0,\r\n      functionVisible: false,\r\n      functionTableData: [],\r\n      tableData: [],\r\n      operationVisible: false,\r\n      buttonName: '修改',\r\n      isShowButton: true,\r\n      disabled: false,\r\n      showDialogView: false,\r\n      fiRuleTypeList: [\r\n        { id: '1',\r\n          label: '中央监控规则',\r\n          children: [\r\n            { id: '11', label: '中央-通用类监控规则' },\r\n            { id: '12', label: '中央-专项类监控规则' },\r\n            { id: '19', label: '中央-其他监控规则' }\r\n          ]\r\n        },\r\n        { id: '2',\r\n          label: '地方监控规则',\r\n          children: [\r\n            { id: '21', label: '地方-通用类监控规则' },\r\n            { id: '22', label: '地方-专项类监控规则' },\r\n            { id: '29', label: '地方-其他监控规则' }\r\n          ]\r\n        }\r\n      ],\r\n      fiRuleTypeCode: '',\r\n      fiRuleTypeName: '',\r\n      selectVal: '',\r\n      selectName: '',\r\n      fiRuleTypeValue: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // 表格单元行单击\r\n    cellClick(obj, context, e) {\r\n      // console.log('参数', ...arguments)\r\n      let key = obj.column.property\r\n      console.log(key, obj.row)\r\n      switch (key) {\r\n        // 申请编号\r\n        case 'functionParameter':\r\n          this.showParameter(obj.row)\r\n          break\r\n      }\r\n    },\r\n    showParameter(row) {\r\n      this.functionParameter = row.functionParameter\r\n      this.showDialogView = true\r\n    },\r\n    getDeclareSearchDataList() {\r\n    },\r\n    getFunSearchDataList() {\r\n      // 下拉树\r\n      let searchDataObj = {}\r\n      this.funcqueryConfig.forEach(item => {\r\n        if (item.itemRender.name === '$formTreeInput' || item.itemRender.name === '$vxeTree') {\r\n          if (item.field) {\r\n            searchDataObj[item.field + 'code'] = ''\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            searchDataObj[item.field] = ''\r\n          }\r\n        }\r\n      })\r\n      this.funcsearchDataList = searchDataObj\r\n    },\r\n    // 初始化高级查询参数condition\r\n    getFunConditionList() {\r\n      let condition = {}\r\n      this.funcqueryConfig.forEach(item => {\r\n        if (item.itemRender.name === '$formTreeInput' || item.itemRender.name === '$vxeTree') {\r\n          if (item.field) {\r\n            if (item.field === 'cor_bgt_doc_no_') {\r\n              condition[item.field + 'name'] = []\r\n            } else {\r\n              condition[item.field + 'code'] = []\r\n            }\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            condition[item.field] = []\r\n          }\r\n        }\r\n      })\r\n      return condition\r\n    },\r\n    searchDeclare(val) {\r\n      console.log(val)\r\n      this.declareName = val.declareName\r\n      this.createPersonName = val.createPersonName\r\n      this.mofDivName = val.mofDivName\r\n      this.manageMofName = val.manageMofName\r\n      this.loadMonitor()\r\n    },\r\n    // 搜索\r\n    searchFun(val) {\r\n      console.log(val)\r\n      this.funcsearchDataList = val\r\n      let condition = this.getFunConditionList()\r\n      for (let key in condition) {\r\n        if (\r\n          (this.funcsearchDataList[key] !== undefined) &\r\n          (this.funcsearchDataList[key] !== null)\r\n        ) {\r\n          if (Array.isArray(this.funcsearchDataList[key])) {\r\n            condition[key] = this.funcsearchDataList[key]\r\n          } else if (typeof (this.funcsearchDataList[key]) === 'string') {\r\n            if (this.funcsearchDataList[key].trim() !== '') {\r\n              this.funcsearchDataList[key].split(',').forEach(item => {\r\n                condition[key].push(item)\r\n              })\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (this.funcsearchDataList.functionType && this.funcsearchDataList.functionType.trim() !== '') {\r\n        condition.functionType = this.funcsearchDataList.functionType\r\n      }\r\n      if (this.funcsearchDataList.functionName && this.funcsearchDataList.functionName.trim() !== '') {\r\n        condition.functionName = this.funcsearchDataList.functionName\r\n      }\r\n      if (this.funcsearchDataList.functionParameter && this.funcsearchDataList.functionParameter.trim() !== '') {\r\n        condition.functionParameter = this.funcsearchDataList.functionParameter\r\n      }\r\n      this.funcondition = condition\r\n      this.loadFunMonitor()\r\n    },\r\n    // 初始化高级查询data\r\n    getSearchDataList() {\r\n      // 下拉树\r\n      let searchDataObj = {}\r\n      this.queryConfig.forEach(item => {\r\n        if (item.itemRender.name === '$formTreeInput' || item.itemRender.name === '$vxeTree') {\r\n          if (item.field) {\r\n            searchDataObj[item.field + 'code'] = ''\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            searchDataObj[item.field] = ''\r\n          }\r\n        }\r\n      })\r\n      this.searchDataList = searchDataObj\r\n    },\r\n    // 初始化高级查询参数condition\r\n    getConditionList() {\r\n      let condition = {}\r\n      this.queryConfig.forEach(item => {\r\n        if (item.itemRender.name === '$formTreeInput' || item.itemRender.name === '$vxeTree') {\r\n          if (item.field) {\r\n            if (item.field === 'cor_bgt_doc_no_') {\r\n              condition[item.field + 'name'] = []\r\n            } else {\r\n              condition[item.field + 'code'] = []\r\n            }\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            condition[item.field] = []\r\n          }\r\n        }\r\n      })\r\n      return condition\r\n    },\r\n    // 搜索\r\n    search(val) {\r\n      console.log(val)\r\n      this.searchDataList = val\r\n      let condition = this.getConditionList()\r\n      for (let key in condition) {\r\n        if (\r\n          (this.searchDataList[key] !== undefined) &\r\n          (this.searchDataList[key] !== null)\r\n        ) {\r\n          if (Array.isArray(this.searchDataList[key])) {\r\n            condition[key] = this.searchDataList[key]\r\n          } else if (typeof (this.searchDataList[key]) === 'string') {\r\n            if (this.searchDataList[key].trim() !== '') {\r\n              this.searchDataList[key].split(',').forEach(item => {\r\n                condition[key].push(item)\r\n              })\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (this.searchDataList.declareName && this.searchDataList.declareName.trim() !== '') {\r\n        condition.declareName = this.searchDataList.declareName\r\n      }\r\n      if (this.searchDataList.createPersonName && this.searchDataList.createPersonName.trim() !== '') {\r\n        condition.createPersonName = this.searchDataList.createPersonName\r\n      }\r\n      this.condition = condition\r\n      console.log(this.condition)\r\n      this.loadMonitor()\r\n    },\r\n    // tab切换\r\n    tabClick(index) {\r\n      this.activeIndex = index\r\n      if (this.activeIndex === 0) {\r\n        this.monitorShow = true\r\n        this.rulesShow = false\r\n        this.funcShow = false\r\n      } else if (this.activeIndex === 1) {\r\n        this.monitorShow = false\r\n        this.rulesShow = true\r\n        this.funcShow = false\r\n      } else if (this.activeIndex === 2) {\r\n        this.monitorShow = false\r\n        this.rulesShow = false\r\n        this.funcShow = true\r\n      }\r\n    },\r\n    ajaxFunTableData({ params, currentPage, pageSize }) {\r\n      this.FunmainPagerConfig.currentPage = currentPage\r\n      this.FunmainPagerConfig.pageSize = pageSize\r\n      this.loadFunMonitor()\r\n    },\r\n    // 挂接函数列表\r\n    loadFunMonitor() {\r\n      const param = {\r\n        page: this.FunmainPagerConfig.currentPage, // 页码\r\n        pageSize: 1000,\r\n        functionName: this.funcondition.functionName ? this.funcondition.functionName.toString() : '',\r\n        functionType: this.funcondition.functionType ? this.funcondition.functionType.toString() : '',\r\n        functionParameter: this.funcondition.functionParameter ? this.funcondition.functionParameter.toString() : ''\r\n      }\r\n      this.addLoading = true\r\n      HttpModule2.queryTableDatas(param).then(res => {\r\n        this.addLoading = false\r\n        if (res.code === '000000') {\r\n          // this.mountTableData = res.data.results\r\n          this.functionTableData = res.data.results\r\n          this.FunmainPagerConfig.total = res.data.totalCount\r\n          if (this.title === '修改' || this.title === '复制') {\r\n            this.functionTableData.forEach(item => {\r\n              console.log(item.functionCode)\r\n              for (let i = 0; i < this.functionCodeList.length; i++) {\r\n                if (item.functionCode === this.functionCodeList[i]) {\r\n                  this.mountTableData.push(item)\r\n                }\r\n              }\r\n            })\r\n            console.log(this.functionCodeList)\r\n          }\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    ajaxTableData({ params, currentPage, pageSize }) {\r\n      this.mainPagerConfig.currentPage = currentPage\r\n      this.mainPagerConfig.pageSize = pageSize\r\n      this.loadMonitor()\r\n    },\r\n    // 监控事项挂接\r\n    loadMonitor() {\r\n      const param = {\r\n        page: this.mainPagerConfig.currentPage, // 页码\r\n        pageSize: this.mainPagerConfig.pageSize, // 每页条数\r\n        declareName: this.declareName,\r\n        mofDivName: this.mofDivName,\r\n        manageMofName: this.manageMofName,\r\n        createPersonName: this.createPersonName ? this.createPersonName.toString() : '',\r\n        agencyCodes: [],\r\n        manageMofCodes: this.manageMofCodes,\r\n        mofDivCodes: [],\r\n        menuId: this.$store.state.curNavModule.guid,\r\n        flowStatus: ''\r\n      }\r\n      this.addLoading = true\r\n      HttpModule1.queryTableDatas(param).then(res => {\r\n        this.addLoading = false\r\n        if (res.code === '000000') {\r\n          this.operationTableData = res.data.results\r\n          this.mainPagerConfig.total = res.data.totalCount\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 选择业务系统\r\n    changeSysCode(val) {\r\n      console.log(val)\r\n      this.SysparentId = val\r\n      this.businessModuleCode = ''\r\n      let busName = this.businessSystemCodeoptions.find(item => {\r\n        return item.id === val\r\n      })\r\n      this.businessSystemName = busName.businessName\r\n      this.getModLists()\r\n    },\r\n    // 选择业务模块\r\n    changeModCode(val) {\r\n      console.log(val)\r\n      this.ModparentId = val\r\n      this.businessFunctionCode = ''\r\n      let busName = this.businessModuleCodeoptions.find(item => {\r\n        return item.id === val\r\n      })\r\n      this.businessModuleName = busName.businessName\r\n      this.getFunLists()\r\n    },\r\n    changeFunCode(val) {\r\n      console.log(val)\r\n      this.businessFunctionCode = val\r\n      let busName = this.businessFunctionCodeoptions.find(item => {\r\n        return item.id === val\r\n      })\r\n      this.businessFunctionName = busName.businessName\r\n    },\r\n    // 业务系统下拉树\r\n    getSysLists() {\r\n      const param = {\r\n        businessType: 1,\r\n        parentId: 0\r\n      }\r\n      this.addLoading = true\r\n      HttpModule.getbusLists(param).then(res => {\r\n        this.addLoading = false\r\n        if (res.code === '000000') {\r\n          this.businessSystemCodeoptions = res.data.results\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 业务模块下拉树\r\n    getModLists() {\r\n      const param = {\r\n        businessType: 2,\r\n        parentId: this.SysparentId\r\n      }\r\n      this.addLoading = true\r\n      HttpModule.getbusLists(param).then(res => {\r\n        this.addLoading = false\r\n        if (res.code === '000000') {\r\n          this.businessModuleCodeoptions = res.data.results\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 业务功能下拉树\r\n    getFunLists() {\r\n      const param = {\r\n        businessType: 3,\r\n        parentId: this.ModparentId\r\n      }\r\n      this.addLoading = true\r\n      HttpModule.getbusLists(param).then(res => {\r\n        this.addLoading = false\r\n        if (res.code === '000000') {\r\n          this.businessFunctionCodeoptions = res.data.results\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // table 右侧操作按钮\r\n    onOptionRowClick({ row, optionType }, context) {\r\n      // console.log(context.$parent.$parent.$parent)\r\n      console.log(row.attachment_id)\r\n      switch (optionType) {\r\n        // 删除\r\n        case 'delMount':\r\n          this.clickAddBtn(row)\r\n          break\r\n        default:\r\n      }\r\n    },\r\n    dialogClose() {\r\n      this.$parent.dialogVisible = false\r\n      this.$parent.queryTableDatas()\r\n    },\r\n    // 修改回显\r\n    showInfo() {\r\n      if (this.title === '新增') {\r\n        this.attachmentId = this.$ToolFn.utilFn.getUuid()\r\n        return\r\n      }\r\n      // this.loadMonitor()\r\n      let params = {\r\n        ruleTemplateCode: this.ruleTemplateCode\r\n      }\r\n      HttpModule.getDetail(params).then(res => {\r\n        if (res.code === '000000') {\r\n          this.ruleTemplateName = res.data.ruleTemplateName\r\n          this.ruleRemark = res.data.ruleRemark\r\n          this.ruleAccord = res.data.ruleAccord\r\n          this.fiRuleTypeValue = String(res.data.fiRuleTypeCode)\r\n          this.fiRuleTypeCode = res.data.fiRuleTypeCode\r\n          this.fiRuleTypeName = res.data.fiRuleTypeName\r\n          this.$nextTick(() => {\r\n            this.$refs.tree.setTreeData()\r\n          })\r\n          if (res.data.declareInfo.declareCode) {\r\n            this.tableData = [res.data.declareInfo]\r\n            console.log(this.$refs.operationTableRef)\r\n            this.$refs.operationTableRef.handleCheckboxChange(this.tableData)\r\n          }\r\n          this.functionCodeList = res.data.functionCodeList\r\n          this.loadFunMonitor()\r\n          this.getModLists()\r\n          this.getFunLists()\r\n          this.mountTableData = res.data.functionInfoList// 详情得时候取functionInfoList\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    add() {\r\n      this.functionVisible = true\r\n    },\r\n    addOperation() {\r\n      this.operationVisible = true\r\n    },\r\n    functionClose() {\r\n      this.functionVisible = false\r\n    },\r\n    operationClose() {\r\n      this.operationVisible = false\r\n    },\r\n    functionSure() {\r\n      let selection = this.$refs.functionTableRef.getSelectionData()\r\n      if (selection.length === 0) {\r\n        this.$message.warning('请选择数据')\r\n        return\r\n      }\r\n      this.functionVisible = false\r\n      if (this.mountTableData.length > 0) {\r\n        selection.forEach(item => {\r\n          let bool = true\r\n          this.mountTableData.forEach(it => {\r\n            if (item.functionCode === it.functionCode) {\r\n              bool = false\r\n            }\r\n          })\r\n          if (bool) {\r\n            this.mountTableData.push(item)\r\n          }\r\n        })\r\n      } else {\r\n        this.mountTableData = selection\r\n      }\r\n    },\r\n    operationSure() {\r\n      let selection = this.$refs.tableRef.getSelectionData()\r\n      if (selection.length === 0) {\r\n        this.$message.warning('请选择数据')\r\n        return\r\n      }\r\n      if (selection.length > 1) {\r\n        this.$message.warning('只能选择一条数据')\r\n        return\r\n      }\r\n      this.operationClose()\r\n      this.tableData = selection\r\n      this.ruleAccord = selection[0].ruleAccord\r\n    },\r\n    deleteData() {\r\n      let selection = this.$refs.mountTableRef.getSelectionData()\r\n      if (selection.length === 0) {\r\n        this.$message.warning('请选择数据')\r\n        return\r\n      }\r\n      this.$confirm('是否删除选中数据？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        selection.forEach(item => {\r\n          this.mountTableData.forEach((it, index) => {\r\n            if (item.functionCode === it.functionCode) {\r\n              this.$refs.mountTableRef.$refs.xGrid.removeCheckboxRow(item)\r\n              this.mountTableData.splice(index, 1)\r\n            }\r\n          })\r\n        })\r\n        console.log(this.$refs.mountTableRef)\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消'\r\n        })\r\n      })\r\n    },\r\n    deleteOperation() {\r\n      let selection = this.$refs.operationTableRef.getSelectionData()\r\n      if (selection.length === 0) {\r\n        this.$message.warning('请选择数据')\r\n        return\r\n      }\r\n      this.$confirm('是否确定删除选中数据 ?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.tableData = []\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消'\r\n        })\r\n      })\r\n    },\r\n    // 保存\r\n    doInsert() {\r\n      let selection = this.$refs.operationTableRef.getSelectionData()\r\n      // if (this.title === '修改') {\r\n      //   selection = this.operationTableData\r\n      // }\r\n      if (selection.length > 1) {\r\n        this.$message.warning('请选择一条监控事项')\r\n        return\r\n      }\r\n      if (this.ruleTemplateName === '') {\r\n        this.$message.warning('请输入规则模板名称')\r\n        return\r\n      }\r\n      if (this.fiRuleTypeCode === undefined) {\r\n        this.$message.warning('请选择规则类型')\r\n        return\r\n      }\r\n      // if (this.businessSystemCode === undefined) {\r\n      //   this.$message.warning('请选择业务系统')\r\n      //   return\r\n      // }\r\n      // if (this.businessSystemName === null) {\r\n      //   this.$message.warning('请选择业务系统')\r\n      //   return\r\n      // }\r\n      // if (this.businessModuleCode === undefined) {\r\n      //   this.$message.warning('请选择业务模块')\r\n      //   return\r\n      // }\r\n      // if (this.businessModuleName === null) {\r\n      //   this.$message.warning('请选择业务模块')\r\n      //   return\r\n      // }\r\n      // if (this.businessFunctionCode === undefined) {\r\n      //   this.$message.warning('请选择业务功能')\r\n      //   return\r\n      // }\r\n      // if (this.businessFunctionName === null) {\r\n      //   this.$message.warning('请选择业务功能')\r\n      //   return\r\n      // }\r\n      if (this.ruleRemark === '') {\r\n        this.$message.warning('请输入规则说明')\r\n        return\r\n      }\r\n      if (this.ruleAccord === '') {\r\n        this.$message.warning('请输入规则依据')\r\n        return\r\n      }\r\n      let funSelection = this.$refs.mountTableRef.getSelectionData()\r\n      if (this.title === '修改') {\r\n        funSelection = this.mountTableData\r\n      }\r\n      if (funSelection.length < 1) {\r\n        this.$message.warning('请选择挂接函数')\r\n        return\r\n      }\r\n      if (this.ruleTemplateName.length > 20) {\r\n        this.$message.warning('规则模板名称长度应小于等于20位')\r\n        return\r\n      }\r\n      if (this.ruleRemark.length > 100) {\r\n        this.$message.warning('规则说明长度应小于等于100位')\r\n        return\r\n      }\r\n      let functionCodes = []\r\n      let businessSystemNames = []\r\n      let businessModuleNames = []\r\n      let businessSystemCodes = []\r\n      let businessModuleCodes = []\r\n      funSelection.forEach(item => {\r\n        functionCodes.push(item.functionCode)\r\n        businessSystemNames.push(item.businessSystemName)\r\n        businessModuleNames.push(item.businessModuleName)\r\n        businessSystemCodes.push(item.businessSystemCode)\r\n        businessModuleCodes.push(item.businessModuleCode)\r\n      })\r\n      let replaceStr = ''\r\n      if (this.fiRuleTypeName.indexOf('中央-') !== -1) {\r\n        replaceStr = '中央-'\r\n      } else if (this.fiRuleTypeName.indexOf('地方-') !== -1) {\r\n        replaceStr = '地方-'\r\n      }\r\n      if (this.title === '新增' || this.title === '复制') {\r\n        let params = {}\r\n        if (selection.length === 0) {\r\n          params = {\r\n            'ruleTemplateName': this.ruleTemplateName,\r\n            'ruleRemark': this.ruleRemark,\r\n            'ruleAccord': this.ruleAccord,\r\n            'functionCodeList': functionCodes,\r\n            'businessSystemName': businessSystemNames[0],\r\n            'businessModuleName': businessModuleNames[0],\r\n            'businessSystemCode': businessSystemCodes[0],\r\n            'businessModuleCode': businessModuleCodes[0],\r\n            'fiRuleTypeCode': this.fiRuleTypeCode,\r\n            'fiRuleTypeName': this.fiRuleTypeName.replace(replaceStr, '')\r\n          }\r\n        } else {\r\n          params = {\r\n            'declareCode': selection[0].declareCode,\r\n            'ruleTemplateName': this.ruleTemplateName,\r\n            'ruleRemark': this.ruleRemark,\r\n            'ruleAccord': this.ruleAccord,\r\n            'functionCodeList': functionCodes,\r\n            'businessSystemName': businessSystemNames[0],\r\n            'businessModuleName': businessModuleNames[0],\r\n            'businessSystemCode': businessSystemCodes[0],\r\n            'businessModuleCode': businessModuleCodes[0],\r\n            menuName: this.$store.state.curNavModule.name,\r\n            'fiRuleTypeCode': this.fiRuleTypeCode,\r\n            'fiRuleTypeName': this.fiRuleTypeName.replace(replaceStr, '')\r\n          }\r\n        }\r\n        HttpModule.addTemplate(params).then(res => {\r\n          if (res.code === '000000') {\r\n            this.$message.success('新增成功')\r\n            this.$parent.dialogVisible = false\r\n            this.$parent.queryTableDatas()\r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n      } else {\r\n        let params = {}\r\n        if (selection.length === 0) {\r\n          params = {\r\n            ruleTemplateCode: this.ruleTemplateCode,\r\n            'ruleTemplateName': this.ruleTemplateName,\r\n            'ruleRemark': this.ruleRemark,\r\n            'ruleAccord': this.ruleAccord,\r\n            'functionCodeList': functionCodes,\r\n            'fiRuleTypeCode': this.fiRuleTypeCode,\r\n            'fiRuleTypeName': this.fiRuleTypeName.replace(replaceStr, '')\r\n\r\n          }\r\n        } else {\r\n          params = {\r\n            ruleTemplateCode: this.ruleTemplateCode,\r\n            'declareCode': selection[0].declareCode,\r\n            'ruleTemplateName': this.ruleTemplateName,\r\n            'ruleRemark': this.ruleRemark,\r\n            'ruleAccord': this.ruleAccord,\r\n            'functionCodeList': functionCodes,\r\n            'fiRuleTypeCode': this.fiRuleTypeCode,\r\n            'fiRuleTypeName': this.fiRuleTypeName.replace(replaceStr, '')\r\n          }\r\n        }\r\n        HttpModule.changeTemplate(params).then(res => {\r\n          if (res.code === '000000') {\r\n            this.$message.success('修改成功')\r\n            this.$parent.dialogVisible = false\r\n            this.$parent.queryTableDatas()\r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    setFiRuleType(val) {\r\n      let valArr = val.split('##')\r\n      this.fiRuleTypeName = valArr[2]\r\n      this.fiRuleTypeCode = Number(valArr[0])\r\n    }\r\n  },\r\n  created() {\r\n    this.showInfo()\r\n    if (this.title === '新增') {\r\n      // this.checkboxConfig.checkAll = false\r\n      this.buttonName = '添加'\r\n      this.loadFunMonitor()\r\n    }\r\n    if (this.title === '查看详情') {\r\n      this.tabbtn = ['监控事项信息', '规则模板信息', '挂接函数信息']\r\n      this.isShowButton = false\r\n      this.disabled = true\r\n    }\r\n    this.loadMonitor()\r\n    this.getSysLists()\r\n    // this.getModLists()\r\n    // this.getFunLists()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  .payVoucherInput {\r\n    margin: 15px;\r\n    .el-card {\r\n      margin-top: 0\r\n    }\r\n  }\r\n  .setbtn{\r\n    width:100px;\r\n    height:45px;\r\n    float:left;\r\n    margin-right:20px;\r\n  }\r\n  .tabone{\r\n    width:100px;\r\n    height:40px;\r\n    text-align:center;\r\n    line-height:40px;\r\n    float:left;\r\n    border:1px solid #ccc;\r\n    border-radius:4px;\r\n  }\r\n  .tabone1{\r\n    width:100px;\r\n    height:40px;\r\n    text-align:center;\r\n    line-height:40px;\r\n    float:left;\r\n    border:1px solid #ccc;\r\n    background-color:#f2f2f2;\r\n    border-radius:4px;\r\n  }\r\n  .vxe-modal--wrapper .vxe-modal--box {\r\n    z-index: 0;\r\n  }\r\n  #bigbox {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: white;\r\n    z-index: 10;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    opacity: .3;\r\n  }\r\n  .el-row-item .font-set-small .hline{\r\n    width:72px;\r\n  }\r\n</style>\r\n"]}]}