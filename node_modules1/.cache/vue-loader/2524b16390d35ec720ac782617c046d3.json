{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\cardMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\cardMenu.vue","mtime":1694505521316},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ2FyZCBmcm9tICcuL2NhcmQvY2FyZCcNCmltcG9ydCBDYXJkTWVudVRyZWUgZnJvbSAnLi9vdGhlci9tZW51VHJlZS9pbmRleC52dWUnDQppbXBvcnQgQ2FyZFZpZGVvIGZyb20gJy4vb3RoZXIvdmlkZW8nDQppbXBvcnQgUG9wZXJFeHRlbmQgZnJvbSAnLi9wb3Blci9wb3BlcicNCmltcG9ydCBNZW51VG9kbyBmcm9tICcuL290aGVyL21lbnVUb2RvJw0KaW1wb3J0IGRhdGEgZnJvbSAnLi9jb25maWcvZGF0YScNCmltcG9ydCBNZW51TW9kdWxlIGZyb20gJ0AvYXBpL2ZyYW1lL2NvbW1vbi9tZW51LmpzJw0KDQovLyBpbXBvcnQgZGF0YWJmIGZyb20gJy4vY29uZmlnL2RhdGFiZicNCg0KaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi91dGlscycNCi8vIGNvbnN0IENBUkRXSURUSCA9IDQ3Ng0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdDYXJkTWVudScsDQogIC8vIG1peGluczogW2RhdGFiZl0sDQogIG1peGluczogW2RhdGFdLA0KICBjb21wb25lbnRzOiB7DQogICAgQ2FyZCwNCiAgICBDYXJkTWVudVRyZWUsDQogICAgQ2FyZFZpZGVvLA0KICAgIE1lbnVUb2RvLA0KICAgIFBvcGVyRXh0ZW5kDQogIH0sDQogIHByb3BzOiB7DQoNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYWRMb2FkaW5nOiBmYWxzZSwNCiAgICAgIHVpQ2FyZE1lbnU6IHt9LA0KICAgICAgbWVudVRyZWU6IHt9LA0KICAgICAgY3VyRXh0ZW5kOiBmYWxzZSwgLy8g5b2T5YmN5bGV5byA55qE6KGMDQogICAgICBjdXJyZW50QnRuOiAnJywgLy8g5b2T5YmNY2FyZOS4iueCueWHu+eahOaMiemSrg0KICAgICAgY3VycmVudENhcmQ6ICcnLCAvLyDlvZPliY1jYXJk5qih5Z2XDQogICAgICBhY3RpdmVCdG46ICcnLA0KICAgICAgZXh0ZW5kV2lkdGg6ICcwcHgnLA0KICAgICAgY2FyZFdpZHRoOiAnMHB4JywNCiAgICAgIG1hcmdpbldpZHRoOiAnNTBweCcsDQogICAgICBhbGxvd051bUluOiAwLA0KICAgICAgYXJyb3dEaXJlY3RDbGFzczogJ2Fycm93LWxlZnQnDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGN1cigpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGN1cnJlbnRCdG46IHRoaXMuY3VycmVudEJ0biwNCiAgICAgICAgY3VycmVudENhcmQ6IHRoaXMuY3VycmVudENhcmQsDQogICAgICAgIGFsbG93TnVtOiB0aGlzLmFsbG93TnVtSW4sDQogICAgICAgIGFycm93RGlyZWN0Q2xhc3M6IHRoaXMuYXJyb3dEaXJlY3RDbGFzcw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOeUn+WtmOmFjee9rumhuQ0KICAgIGdlbmVyYXRlQ29uZmlnKCkgew0KICAgICAgLy8gMS4g5Yqo5oCB55Sf5oiQ6YWN572u5pWw5o2uDQogICAgICB0aGlzLmdlbmVyYXRlQ2FyZE1lbnUoKQ0KICAgICAgLy8g5b6F5Yqe5bey5YqeDQogICAgICAvLyB0aGlzLmdlbmVyYXRlQ2FyZEJ0bnMoKQ0KICAgICAgLy8gMS4g5Yqg6L295pys5Zyw5Zu+54mHDQogICAgICB0aGlzLmdldEltYWdlVXJsKCkNCiAgICAgIC8vIDMuIOiHqumAguW6lOe8qeaUvg0KICAgICAgdGhpcy5yZXNpemUoKQ0KICAgIH0sDQogICAgcHJlR2VuZXJhdGVDYXJkQnRucyhzdGF0dXMsIG1lbnVzKSB7DQogICAgICB0aGlzLmFkTG9hZGluZyA9IHRydWUNCiAgICAgIHRoaXMuZ2VuZXJhdGVDYXJkQnRucyhzdGF0dXMsIG1lbnVzKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5hZExvYWRpbmcgPSBmYWxzZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIGNhcmTkuIrmjInpkq7vvIzkuovku7blm57osIMNCiAgICBic0NhcmRDbGlja0V2ZW50KG9iaiwgJHRoaXMpIHsNCiAgICAgIHRoaXMubWVudVRyZWUgPSB7fQ0KICAgICAgLy8g5ZCM5LiA6KGM55qE77yM5ZCM5LiA5Liq5qih5Z2X77yM5ZCM5LiA5oyJ6ZKu54K55Ye75aaC5p6c5bey57uP5bGV5byA77yM56ys5LqM5qyh54K55Ye75YiZ5pS2DQogICAgICBjb25zdCBzeXNNZW51ID0gdGhpcy4kc3RvcmUuc3RhdGUuc3lzdGVtTWVudSB8fCBbXQ0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBzeXNNZW51LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGlmIChvYmoudHlwZSA9PT0gaXRlbS5ndWlkKSB7DQogICAgICAgICAgc2VsZi5tZW51VHJlZSA9IGl0ZW0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIC8vIHRoaXMuY2FyZEJ0bnNbb2JqLnR5cGVdLmZ1bk1lbnUgPSBzeXNNZW51Lm1lbnUNCiAgICAgIGlmICh0aGlzLmN1ckV4dGVuZCA9PT0gb2JqLnJvd05vICYmIHRoaXMuY3VycmVudENhcmQgPT09IG9iai50eXBlICYmIHRoaXMuY3VycmVudEJ0biA9PT0gb2JqLmNvZGUgJiYgdGhpcy5jdXJFeHRlbmQpIHsNCiAgICAgICAgdGhpcy5jdXJFeHRlbmQgPSBmYWxzZQ0KICAgICAgICB0aGlzLmFjdGl2ZUJ0biA9ICcnDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgc3dpdGNoIChvYmouc2VxKSB7DQogICAgICAgIGNhc2UgJ2ZpcnN0JzoNCiAgICAgICAgICB0aGlzLmFycm93RGlyZWN0Q2xhc3MgPSAnYXJyb3ctbGVmdCcNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICdtaWRkbGUnOg0KICAgICAgICAgIHRoaXMuYXJyb3dEaXJlY3RDbGFzcyA9ICdhcnJvdy1taWRkbGUnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnZW5kJzoNCiAgICAgICAgICB0aGlzLmFycm93RGlyZWN0Q2xhc3MgPSAnYXJyb3ctcmlnaHQnDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICB0aGlzLmFycm93RGlyZWN0Q2xhc3MgPSAnYXJyb3ctbGVmdCcNCiAgICAgIH0NCiAgICAgIHRoaXMuYWN0aXZlQnRuID0gYCR7b2JqLnR5cGV9LSR7b2JqLmNvZGV9YCAvLyDmv4DmtLvnmoTmjInpkq7vvIzlhajlsYDlj6rmnInkuIDkuKoNCiAgICAgIHRoaXMuY3VyRXh0ZW5kID0gb2JqLnJvd05vDQogICAgICB0aGlzLmN1cnJlbnRCdG4gPSBvYmouY29kZQ0KICAgICAgdGhpcy5jdXJyZW50Q2FyZCA9IG9iai50eXBlDQogICAgfSwNCg0KICAgIC8vIOWxleW8gOmdouadv++8jOaMiemSruWbnuiwgw0KICAgIGJzQ2FyZFBvcGVyQ2xpY2tFdmVudChvYmosICR0aGlzKSB7DQogICAgICBjb25zb2xlLmxvZyg1NiwgJ+Wbnuiwg+aWueW8jzQ0NCcsIG9iaiwgJHRoaXMuJG9wdGlvbnMpDQogICAgICB0aGlzLmdldFJvdXRlcihvYmopDQogICAgfSwNCg0KICAgIGdldFJvdXRlcih2YWx1ZSkgew0KICAgICAgbGV0IGFyciA9IFtdDQogICAgICBhcnIucHVzaCh2YWx1ZSkNCiAgICAgIGxldCB2YWx1ZU51bSA9IGFyci5zbGljZSgwLCBhcnIubGVuZ3RoICsgMSkNCiAgICAgIGlmICh2YWx1ZU51bVswXS5uYW1lID09PSB2YWx1ZU51bVswXS5mX0Z1bGxOYW1lKSB7DQogICAgICAgIHRoaXMub25NZW51U2VsZWN0Q2hhbmdlKHZhbHVlKQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25NZW51U2VsZWN0Q2hhbmdlKG9iaikgew0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBpZiAob2JqLnBhcmFtNSAmJiBvYmoucGFyYW01LmluZGV4T2YoJ25lZWRjaGVjaz10cnVlJykgPj0gMCkgeyAvLyDpnIDopoHmoKHpqoznvJbmiqXmmK/lkKblt7LlhbPpl60NCiAgICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgICBtZW51Z3VpZDogb2JqLmd1aWQsDQogICAgICAgICAgYXBwZ3VpZDogb2JqLmFwcGlkLA0KICAgICAgICAgIGFwcGlkOiBvYmouYXBwc3lzaWQsDQogICAgICAgICAgc3BlY3JvbGVndWlkOiAnJywNCiAgICAgICAgICByb2xlZ3VpZDogb2JqLnJvbGVndWlkIH0NCiAgICAgICAgTWVudU1vZHVsZS5nZXRGYlBhZ2VDb25maWcocGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgT2JqZWN0LmFzc2lnbihvYmosIHJlcykNCiAgICAgICAgICBpZiAocmVzLmRhdGEuaXNidWRnZXRiZWdpbiA9PT0gMCAmJiByZXMuZGF0YS5kYXRhdHlwZSAhPT0gOCkgew0KICAgICAgICAgICAgc2VsZi4kbWVzc2FnZSgn6aKE566X57yW5oql5bey5YWz6ZetJykNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJNZW51T2JqJywgb2JqKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VyTWVudU9iaicsIG9iaikNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOe8qeaUvg0KICAgIHJlc2l6ZSgpIHsNCiAgICAgIGxldCBhbGxvd051bSA9IDANCiAgICAgIGlmICh0aGlzLiRyZWZzLmNhcmRDb250ZW50Lm9mZnNldFdpZHRoID49ICcxNDQwJykgew0KICAgICAgICBhbGxvd051bSA9IDQNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGFsbG93TnVtID0gMw0KICAgICAgfQ0KICAgICAgbGV0IHJvd3MgPSBbXQ0KICAgICAgbGV0IG1lbnVzID0ge30NCiAgICAgIGlmIChhbGxvd051bSA+IDApIHsNCiAgICAgICAgLy8g5bCG5LiA5Liq5pWw57uE77yM5oyJ54Wn5Yeg5Liq5YWD57Sg5LiA6LW35YiG5a+45aSa5Liq5a2Q5pWw57uEDQogICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNhcmRNZW51Lmxlbmd0aDsgaSA8IGxlbjsgaSArPSBhbGxvd051bSkgew0KICAgICAgICAgIHJvd3MucHVzaCh0aGlzLmNhcmRNZW51LnNsaWNlKGksIGkgKyBhbGxvd051bSkpDQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmV4dGVuZFdpZHRoID0gKHRoaXMuJHJlZnMuY2FyZENvbnRlbnQub2Zmc2V0V2lkdGggLSAxMDApICsgJ3B4Jw0KICAgICAgICB0aGlzLmNhcmRXaWR0aCA9ICh0aGlzLiRyZWZzLmNhcmRDb250ZW50Lm9mZnNldFdpZHRoIC0gMTAwKSArICdweCcNCiAgICAgICAgdGhpcy5hbGxvd051bUluID0gYWxsb3dOdW0NCiAgICAgIH0NCg0KICAgICAgcm93cy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgIG1lbnVzW2Byb3cke2luZGV4ICsgMX1gXSA9IHsNCiAgICAgICAgICByb3dObzogYHJvdyR7aW5kZXggKyAxfWAsDQogICAgICAgICAgY2FyZE1lbnU6IGl0ZW0NCiAgICAgICAgfQ0KICAgICAgfSkNCg0KICAgICAgdGhpcy51aUNhcmRNZW51ID0gZXh0ZW5kKHRydWUsIHt9LCBtZW51cykNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQoNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpDQogICAgdGhpcy5nZW5lcmF0ZUNvbmZpZygpDQogIH0sDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKQ0KICB9LA0KICB3YXRjaDogew0KDQogIH0NCn0NCg=="},{"version":3,"sources":["cardMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"cardMenu.vue","sourceRoot":"src/components/CardMenu","sourcesContent":["<!-- 卡片菜单 -->\r\n<template>\r\n  <div ref=\"cardContent\" class=\"card-menu__content\">\r\n    <div v-for=\"(item, index) in uiCardMenu\" :key=\"index\" class=\"menu-panel\">\r\n      <div ref=\"cardMenu\" class=\"card-menu__card\" :style=\"{ width: cardWidth, 'margin-left': marginWidth, 'margin-right': marginWidth, '--top-item-nums': allowNumIn }\">\r\n        <Card\r\n          v-for=\"(card, idx) in item.cardMenu\"\r\n          :key=\"idx\"\r\n          :card-global=\"cardGlobal\"\r\n          :card-menu=\"card\"\r\n          :row-no=\"item.rowNo\"\r\n          :active-btn=\"activeBtn\"\r\n          :seq=\"item.cardMenu.length === allowNumIn ? (idx === 0 ? 'first' : ((idx + 1) === item.cardMenu.length ? 'end' : 'middle')) : 'first'\"\r\n          :class=\"(idx === item.cardMenu.length - 1 ) ? 'row-last-card' : ''\"\r\n          @generateCardBtns=\"preGenerateCardBtns\"\r\n        />\r\n      </div>\r\n      <div v-show=\"curExtend === item.rowNo\" ref=\"cardExtend\" class=\"card-menu__extend\" :style=\"{ width: extendWidth, 'margin-left': marginWidth, 'margin-right': marginWidth }\">\r\n        <div class=\"arrow\" :class=\"arrowDirectClass\"></div>\r\n        <div class=\"extend-child\">\r\n          <!--自定义待办-->\r\n          <MenuTodo v-if=\"currentBtn === 'agentItem'\" :card=\"cur\" />\r\n          <PoperExtend v-if=\"currentBtn === 'doneItem'\" v-loading=\"adLoading\" :card-btns=\"cardBtns\" :cur=\"cur\" :allow-num=\"allowNumIn\" />\r\n          <CardMenuTree v-if=\"currentBtn === 'funMenu'\" :data=\"menuTree\" />\r\n          <CardVideo v-if=\"currentBtn === 'oprateGuide'\" :card-btns=\"cardBtns\" :cur=\"cur\" :allow-num=\"allowNumIn\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Card from './card/card'\r\nimport CardMenuTree from './other/menuTree/index.vue'\r\nimport CardVideo from './other/video'\r\nimport PoperExtend from './poper/poper'\r\nimport MenuTodo from './other/menuTodo'\r\nimport data from './config/data'\r\nimport MenuModule from '@/api/frame/common/menu.js'\r\n\r\n// import databf from './config/databf'\r\n\r\nimport { extend } from './utils'\r\n// const CARDWIDTH = 476\r\n\r\nexport default {\r\n  name: 'CardMenu',\r\n  // mixins: [databf],\r\n  mixins: [data],\r\n  components: {\r\n    Card,\r\n    CardMenuTree,\r\n    CardVideo,\r\n    MenuTodo,\r\n    PoperExtend\r\n  },\r\n  props: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      adLoading: false,\r\n      uiCardMenu: {},\r\n      menuTree: {},\r\n      curExtend: false, // 当前展开的行\r\n      currentBtn: '', // 当前card上点击的按钮\r\n      currentCard: '', // 当前card模块\r\n      activeBtn: '',\r\n      extendWidth: '0px',\r\n      cardWidth: '0px',\r\n      marginWidth: '50px',\r\n      allowNumIn: 0,\r\n      arrowDirectClass: 'arrow-left'\r\n    }\r\n  },\r\n  computed: {\r\n    cur() {\r\n      return {\r\n        currentBtn: this.currentBtn,\r\n        currentCard: this.currentCard,\r\n        allowNum: this.allowNumIn,\r\n        arrowDirectClass: this.arrowDirectClass\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 生存配置项\r\n    generateConfig() {\r\n      // 1. 动态生成配置数据\r\n      this.generateCardMenu()\r\n      // 待办已办\r\n      // this.generateCardBtns()\r\n      // 1. 加载本地图片\r\n      this.getImageUrl()\r\n      // 3. 自适应缩放\r\n      this.resize()\r\n    },\r\n    preGenerateCardBtns(status, menus) {\r\n      this.adLoading = true\r\n      this.generateCardBtns(status, menus).then(() => {\r\n        this.adLoading = false\r\n      })\r\n    },\r\n    // card上按钮，事件回调\r\n    bsCardClickEvent(obj, $this) {\r\n      this.menuTree = {}\r\n      // 同一行的，同一个模块，同一按钮点击如果已经展开，第二次点击则收\r\n      const sysMenu = this.$store.state.systemMenu || []\r\n      let self = this\r\n      sysMenu.forEach(item => {\r\n        if (obj.type === item.guid) {\r\n          self.menuTree = item\r\n        }\r\n      })\r\n      // this.cardBtns[obj.type].funMenu = sysMenu.menu\r\n      if (this.curExtend === obj.rowNo && this.currentCard === obj.type && this.currentBtn === obj.code && this.curExtend) {\r\n        this.curExtend = false\r\n        this.activeBtn = ''\r\n        return\r\n      }\r\n      switch (obj.seq) {\r\n        case 'first':\r\n          this.arrowDirectClass = 'arrow-left'\r\n          break\r\n        case 'middle':\r\n          this.arrowDirectClass = 'arrow-middle'\r\n          break\r\n        case 'end':\r\n          this.arrowDirectClass = 'arrow-right'\r\n          break\r\n        default:\r\n          this.arrowDirectClass = 'arrow-left'\r\n      }\r\n      this.activeBtn = `${obj.type}-${obj.code}` // 激活的按钮，全局只有一个\r\n      this.curExtend = obj.rowNo\r\n      this.currentBtn = obj.code\r\n      this.currentCard = obj.type\r\n    },\r\n\r\n    // 展开面板，按钮回调\r\n    bsCardPoperClickEvent(obj, $this) {\r\n      console.log(56, '回调方式444', obj, $this.$options)\r\n      this.getRouter(obj)\r\n    },\r\n\r\n    getRouter(value) {\r\n      let arr = []\r\n      arr.push(value)\r\n      let valueNum = arr.slice(0, arr.length + 1)\r\n      if (valueNum[0].name === valueNum[0].f_FullName) {\r\n        this.onMenuSelectChange(value)\r\n      }\r\n    },\r\n    onMenuSelectChange(obj) {\r\n      let self = this\r\n      if (obj.param5 && obj.param5.indexOf('needcheck=true') >= 0) { // 需要校验编报是否已关闭\r\n        let params = {\r\n          menuguid: obj.guid,\r\n          appguid: obj.appid,\r\n          appid: obj.appsysid,\r\n          specroleguid: '',\r\n          roleguid: obj.roleguid }\r\n        MenuModule.getFbPageConfig(params).then(res => {\r\n          Object.assign(obj, res)\r\n          if (res.data.isbudgetbegin === 0 && res.data.datatype !== 8) {\r\n            self.$message('预算编报已关闭')\r\n          } else {\r\n            this.$store.commit('setCurMenuObj', obj)\r\n          }\r\n        })\r\n      } else {\r\n        this.$store.commit('setCurMenuObj', obj)\r\n      }\r\n    },\r\n    // 缩放\r\n    resize() {\r\n      let allowNum = 0\r\n      if (this.$refs.cardContent.offsetWidth >= '1440') {\r\n        allowNum = 4\r\n      } else {\r\n        allowNum = 3\r\n      }\r\n      let rows = []\r\n      let menus = {}\r\n      if (allowNum > 0) {\r\n        // 将一个数组，按照几个元素一起分寸多个子数组\r\n        for (let i = 0, len = this.cardMenu.length; i < len; i += allowNum) {\r\n          rows.push(this.cardMenu.slice(i, i + allowNum))\r\n        }\r\n\r\n        this.extendWidth = (this.$refs.cardContent.offsetWidth - 100) + 'px'\r\n        this.cardWidth = (this.$refs.cardContent.offsetWidth - 100) + 'px'\r\n        this.allowNumIn = allowNum\r\n      }\r\n\r\n      rows.map((item, index) => {\r\n        menus[`row${index + 1}`] = {\r\n          rowNo: `row${index + 1}`,\r\n          cardMenu: item\r\n        }\r\n      })\r\n\r\n      this.uiCardMenu = extend(true, {}, menus)\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    window.addEventListener('resize', this.resize)\r\n    this.generateConfig()\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.resize)\r\n  },\r\n  watch: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.maskbox{\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\n.contextClass{\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 90px;\r\n  bottom: 0;\r\n}\r\n  .card-menu__content{\r\n    // text-align: left;\r\n    .card-menu__card{\r\n      display: grid;\r\n      grid-template-columns: repeat(var(--top-item-nums), 1fr);\r\n      grid-column-gap: 24px;\r\n      .row-last-card{\r\n        margin-right: 0px;\r\n      }\r\n    }\r\n    .card-menu__extend{\r\n      // position: relative;\r\n      // min-height: 139px;\r\n      max-height: 400px;\r\n      margin: 16px 10px 0 10px;\r\n      background: #ffffff;\r\n      border-radius: 2px;\r\n      display: grid;\r\n      grid-template-columns: 1fr;\r\n      .arrow{\r\n        position: absolute;\r\n        width: 0px;\r\n        height: 0px;\r\n        border: 12px solid transparent;\r\n        border-bottom-color: #fff;\r\n        top: -23px;\r\n        left: 36px;\r\n      }\r\n      .arrow-middle{\r\n        left: 48%;\r\n        right: unset;\r\n      }\r\n      .arrow-left{\r\n        left: 36px;\r\n        right: unset;\r\n      }\r\n      .arrow-right{\r\n        right: 36px;\r\n        left: unset;\r\n      }\r\n      .extend-child{\r\n        width: 100%;\r\n        // min-height: 139px;\r\n        max-height: 400px;\r\n        overflow: auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}