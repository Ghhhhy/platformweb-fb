{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\PrintDrawer\\PrintDrawer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\PrintDrawer\\PrintDrawer.vue","mtime":1694505521442},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdCc1ByaW50RHJhd2VyJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaXNWaXNpYmxlOiBmYWxzZSwNCiAgICAgIHVzZXJJbmZvOiB7fSwNCiAgICAgIG1lbnVJZDogJycsDQogICAgICB0b2tlbmlkOiAnJywNCiAgICAgIHJvbGVndWlkOiAnJw0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICB0aXRsZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ+WHreivgeaJk+WNsCcNCiAgICB9LA0KICAgIHZpc2libGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgZ3VpZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIC8vIGNwdOWQjeWtlw0KICAgIGNwdDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ3p6enAnDQogICAgfSwNCiAgICAvLyDmmK/lkKbotbDlt6XkvZzmtYHvvIzpmZXopb/otbDvvIzlkInmnpfkuI3otbANCiAgICBpc1dvcmtGbG93OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNsb3NlKCkgew0KICAgICAgdGhpcy4kZW1pdCgnb25DbG9zZScpDQogICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlDQogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIHRoaXMuaXNWaXNpYmxlKQ0KICAgIH0sDQogICAgY2hlY2tSZXBvcnQoKSB7DQogICAgICBsZXQgdXJsID0gdGhpcy4kZ2xvYWJsZVRvb2xGbi5nZXRSZXBvcnRVcmwoKSArICcvZmluZS1yZXBvcnQvYm9zcy9SZXBvcnRTZXJ2ZXI/cmVwb3J0bGV0PScgKyB0aGlzLmNwdCArICcuY3B0JmlkPScgKyB0aGlzLmd1aWQgKyAnJng9MScgKyAnJm1lbnVndWlkPScgKyB0aGlzLm1lbnVJZCArDQogICAgICAgICcmcm9sZWd1aWQ9JyArIHRoaXMucm9sZWd1aWQgKyAnJnRva2VuaWQ9JyArIHRoaXMudG9rZW5pZCArICcmdXNlcmd1aWQ9JyArIHRoaXMudXNlckluZm8uZ3VpZCArICcmZmlzY2FsX3llYXI9JyArIHRoaXMudXNlckluZm8ueWVhciArICcmbW9mX2Rpdl9jb2RlPScgKyB0aGlzLnVzZXJJbmZvLnByb3ZpbmNlDQogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUmVwb3J0Q3B0SWQnKS5pbm5lckhUTUwgPSAnPGlmcmFtZSBmcmFtZWJvcmRlcj1ubyB3aWR0aD0xMDAlIGhlaWdodD0xMDAlIHNyYz0iJyArIHVybCArICciJyArICc+PC9pZnJhbWU+Jw0KICAgIH0sDQogICAgZG9QcmludCgpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuaJk+WNsOWHreivgScsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuJGVtaXQoJ3ByaW50JykNCiAgICAgICAgdGhpcy5jbG9zZSgpDQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5omT5Y2wJw0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQoNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2aXNpYmxlOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlKSB7DQogICAgICAgIHRoaXMuaXNWaXNpYmxlID0gbmV3VmFsdWUNCiAgICAgICAgdGhpcy50b2tlbmlkID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRMb2dpbkF1dGhlbnRpY2F0aW9uLnRva2VuaWQNCiAgICAgICAgdGhpcy5yb2xlZ3VpZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5yb2xlZ3VpZA0KICAgICAgICB0aGlzLm1lbnVJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkDQogICAgICAgIHRoaXMudXNlckluZm8gPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbw0KICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIG5ld1ZhbHVlKQ0KICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUpIHsNCiAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY2hlY2tSZXBvcnQsIDEwKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9DQoNCg=="},{"version":3,"sources":["PrintDrawer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PrintDrawer.vue","sourceRoot":"src/components/PrintDrawer","sourcesContent":["<template>\r\n  <el-drawer\r\n    size=\"50%\"\r\n    :visible.sync=\"isVisible\"\r\n    class=\"print\"\r\n    @close=\"close\"\r\n  >\r\n    <div slot=\"title\">{{ title }}</div>\r\n    <div id=\"ReportCptId\"></div>\r\n    <div v-if=\"isWorkFlow\" style=\"float:right;margin:10px 10px 0 0\">\r\n      <vxe-button @click=\"doPrint\">打印(到下一岗)</vxe-button>\r\n      <vxe-button @click=\"close\">取消</vxe-button>\r\n    </div>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BsPrintDrawer',\r\n  data() {\r\n    return {\r\n      isVisible: false,\r\n      userInfo: {},\r\n      menuId: '',\r\n      tokenid: '',\r\n      roleguid: ''\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: '凭证打印'\r\n    },\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    guid: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // cpt名字\r\n    cpt: {\r\n      type: String,\r\n      default: 'zzzp'\r\n    },\r\n    // 是否走工作流，陕西走，吉林不走\r\n    isWorkFlow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('onClose')\r\n      this.isVisible = false\r\n      this.$emit('update:visible', this.isVisible)\r\n    },\r\n    checkReport() {\r\n      let url = this.$gloableToolFn.getReportUrl() + '/fine-report/boss/ReportServer?reportlet=' + this.cpt + '.cpt&id=' + this.guid + '&x=1' + '&menuguid=' + this.menuId +\r\n        '&roleguid=' + this.roleguid + '&tokenid=' + this.tokenid + '&userguid=' + this.userInfo.guid + '&fiscal_year=' + this.userInfo.year + '&mof_div_code=' + this.userInfo.province\r\n      document.getElementById('ReportCptId').innerHTML = '<iframe frameborder=no width=100% height=100% src=\"' + url + '\"' + '></iframe>'\r\n    },\r\n    doPrint() {\r\n      this.$confirm('此操作将打印凭证', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$emit('print')\r\n        this.close()\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消打印'\r\n        })\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  watch: {\r\n    visible: {\r\n      handler(newValue) {\r\n        this.isVisible = newValue\r\n        this.tokenid = this.$store.getters.getLoginAuthentication.tokenid\r\n        this.roleguid = this.$store.state.curNavModule.roleguid\r\n        this.menuId = this.$store.state.curNavModule.guid\r\n        this.userInfo = this.$store.state.userInfo\r\n        this.$emit('update:visible', newValue)\r\n        if (newValue === true) {\r\n          setTimeout(this.checkReport, 10)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n.print{\r\n  #ReportCptId{\r\n    height: 500px;\r\n  }\r\n}\r\n</style>\r\n"]}]}