{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\InvoiceTable\\InvoiceTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\InvoiceTable\\InvoiceTable.vue","mtime":1694505521442},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdXRpbCBmcm9tICdAL2NvbXBvbmVudHMvdG9vbC91dGlsLmpzJw0KaW1wb3J0IHsgY29tbW9uRm4gfSBmcm9tICcuL2NvbW1vbi5qcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0ludm9pY1RhYmxlJywNCiAgcHJvcHM6IHsNCiAgICBpdGVtQ29uZmlnOiB7DQogICAgICB0eXBlOiBbQXJyYXksIE9iamVjdF0sDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4gWw0KICAgICAgICAgIHsNCg0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH0sDQogICAgZGF0YUxpc3Q6IHsNCiAgICAgIHR5cGU6IFtBcnJheSwgT2JqZWN0XSwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiBbXQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY3VycmVudFJlcXVlc3RJdGVtOiAnJywNCiAgICAgIGl0ZW1Db25maWdJbjogWy4uLnRoaXMuaXRlbUNvbmZpZ10sDQogICAgICByZUZyZXNoOiB0cnVlLA0KICAgICAgaW5kZXg6IDENCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvKioNCiAgICAgKiDmiorph5Hpop3ljYPliIbkvY3moLzlvI/mmL7npLoNCiAgICAgKi8NCiAgICBjaGFuZ2VGb3JtYXQoaXRlbSkgew0KICAgICAgdGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsXSA9IGNvbW1vbkZuLmZvcm1hdChOdW1iZXIodGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsXSkudG9GaXhlZCgyKSkNCiAgICB9LA0KICAgIHNldFRyZWVEYXRhKHZhbCwgZSwgeyBlbGVtZW50Q29kZSB9KSB7DQogICAgICAvLyDmiYvliqjkuLp0cmVlaW5wdXTnmoRpZCxjb2RlLG5hbWXotYvlgLwNCiAgICAgIGVsZW1lbnRDb2RlID0gZWxlbWVudENvZGUudG9Mb3dlckNhc2UoKQ0KICAgICAgbGV0IGRhdGEgPSB7fQ0KICAgICAgT2JqZWN0LmFzc2lnbihkYXRhLCB0aGlzLmRhdGFMaXN0KQ0KICAgICAgZGF0YVtlbGVtZW50Q29kZSArICdfaWQnXSA9IHZhbC5pZA0KICAgICAgZGF0YVtlbGVtZW50Q29kZSArICdfY29kZSddID0gdmFsLmNvZGUNCiAgICAgIGRhdGFbZWxlbWVudENvZGUgKyAnX25hbWUnXSA9IHZhbC5uYW1lDQogICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YQ0KICAgICAgdGhpcy5kb1ZhbGlkYXRlKHsgZmllbGQ6IGVsZW1lbnRDb2RlIH0sIGZhbHNlKQ0KICAgIH0sDQogICAgY2xlYXJWYWxpZGF0ZSh7IHZhbHVlLCAkZXZlbnQgfSkgew0KICAgICAgbGV0IGVsZW1lbnQgPSAkZXZlbnQucGF0aFsyXQ0KICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgI0RDREZFNicNCiAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZhbGlkLXRpcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICB9LA0KICAgIC8vIOagoemqjOa3u+WKoOaPkOekuuS/oeaBrw0KICAgIGRvVmFsaWRhdGUoaXRlbSwgdmFsaWRhdGVzKSB7DQogICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgaXRlbS5maWVsZCkNCiAgICAgIGlmICh2YWxpZGF0ZXMgPT09IHRydWUpIHsNCiAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnN0eWxlLmJvcmRlciA9ICcxcHggcmVkIHNvbGlkJw0KICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy52YWxpZC10aXAnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJw0KICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy52YWxpZC10aXAnKS5pbm5lckhUTUwgPSBpdGVtLm1lc3NhZ2UgfHwgJ+ivt+i+k+WFpScgKyBpdGVtLm5hbWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKS5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICNEQ0RGRTYnDQogICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZhbGlkLXRpcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOW9k+eUqOaIt+i+k+WFpeaXtg0KICAgICAqIOWvueWNleS4qkl0ZW3ov5vooYzmoKHpqowNCiAgICAgKi8NCiAgICB2YWxpZGF0ZUl0ZW0oaXRlbSkgew0KICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQnICYmIGl0ZW0ucmVxdWlyZWQpIHsNCiAgICAgICAgaWYgKCFzZWxmLmRhdGFMaXN0W2l0ZW0uZmllbGRdIHx8IChzZWxmLmRhdGFMaXN0W2l0ZW0uZmllbGRdICsgJycpLmluY2x1ZGVzKCdpbml0SWQnKSkgew0KICAgICAgICAgIHRoaXMuZG9WYWxpZGF0ZShpdGVtLCB0cnVlKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZG9WYWxpZGF0ZShpdGVtLCBmYWxzZSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5o+Q5Lqk5pe2IOmqjOivgemdnuepug0KICAgIHZhbGlkYXRlKCkgew0KICAgICAgLy8g5qCh6aqM6Z2e56m6DQogICAgICB2YXIgc2VsZiA9IHRoaXMNCiAgICAgIHZhciB2YWxpZGF0ZXMgPSBmYWxzZQ0KICAgICAgdGhpcy5pdGVtQ29uZmlnLm1hcChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQnICYmIGl0ZW0ucmVxdWlyZWQpIHsNCiAgICAgICAgICBpZiAoIXNlbGYuZGF0YUxpc3RbaXRlbS5maWVsZF0gfHwgKHNlbGYuZGF0YUxpc3RbaXRlbS5maWVsZF0gKyAnJykuaW5jbHVkZXMoJ2luaXRJZCcpKSB7DQogICAgICAgICAgICB2YWxpZGF0ZXMgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmRvVmFsaWRhdGUoaXRlbSwgdHJ1ZSkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5kb1ZhbGlkYXRlKGl0ZW0sIGZhbHNlKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIGlmICghdmFsaWRhdGVzKSB7DQogICAgICAgIHRoaXMuaXRlbUNvbmZpZy5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgLy8g5Y2D5YiG5L2N6L2s5pWw5a2XDQogICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21vbmV5Jykgew0KICAgICAgICAgICAgdGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsXSA9IGNvbW1vbkZuLnRob3VzYW5kVG9OdW0odGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsXSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgICByZXR1cm4gdmFsaWRhdGVzDQogICAgfSwNCiAgICBhcHBlbmRNZXRob2QoY29kZSkgew0KICAgICAgdGhpcy4kZW1pdCgnYXBwZW5kTWV0aG9kJywgY29kZSkNCiAgICB9LA0KICAgIHJlZnJlc2goKSB7DQogICAgICB0aGlzLmluZGV4KysNCiAgICB9LA0KICAgIC8vIOi9rOaNoumHkemineWkp+Wwj+WGmQ0KICAgIHRyYW5zZmVyVXBwZXIoKSB7DQogICAgICB0aGlzLml0ZW1Db25maWcubWFwKGl0ZW0gPT4gew0KICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbW9uZXknKSB7DQogICAgICAgICAgdGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsICsgJ19iaWcnXSA9IHV0aWwudHJhbnNmb3JtRm4uZGlnaXRVcHBlcmNhc2UodGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsXSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOW9k+aVsOaNruWPkeeUn+aUueWPmOaXtuinpuWPkeS6i+S7tg0KICAgICAqIFRvZG8NCiAgICAgKiDlhYjmiorpnZ7nqbrmoKHpqozorr7kuLrnqbog5Lul5ZCO5pyJ5q2j5YiZ5qCh6aqM5pe25YaN5pS55Li66YeN5paw5qCh6aqMDQogICAgICog5YaN6Kem5Y+RaXRlbmNoYW5nZeS6i+S7tiAg5L6b5Lia5Yqh5aSE55CG5pWw5o2uDQogICAgICovDQogICAgaXRlbUNoYW5nZSgkZXZlbnQsIGl0ZW0pIHsNCiAgICAgIHRoaXMudmFsaWRhdGVJdGVtKGl0ZW0pDQogICAgICB0aGlzLiRlbWl0KCdpdGVtQ2hhbmdlJywgaXRlbS5tb2RlbCwgdGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsXSwgdGhpcy5kYXRhTGlzdCwgdGhpcy5pdGVtQ29uZmlnKQ0KICAgIH0sDQogICAgLyoqDQogICAgICog5riF6Zmk5Y2D5YiG5L2N5qih5byPDQogICAgICovDQogICAgY2xlYXJGb3JtYXQoaXRlbSkgew0KICAgICAgaWYgKHRoaXMuZGF0YUxpc3RbaXRlbS5tb2RlbF0gIT09ICcnKSB7DQogICAgICAgIHRoaXMuZGF0YUxpc3RbaXRlbS5tb2RlbF0gPSBjb21tb25Gbi50aG91c2FuZFRvTnVtKHRoaXMuZGF0YUxpc3RbaXRlbS5tb2RlbF0pDQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGRhdGFMaXN0OiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZGF0YUxpc3QnLCB0aGlzLmRhdGFMaXN0KQ0KICAgICAgICB0aGlzLnRyYW5zZmVyVXBwZXIoKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["InvoiceTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InvoiceTable.vue","sourceRoot":"src/components/InvoiceTable","sourcesContent":["<template>\r\n  <div>\r\n    <el-card\r\n      shadow=\"always\"\r\n      style=\"padding:20px 0\"\r\n    >\r\n      <div class=\"invoic\">\r\n        <!-- 左侧发票装饰 -->\r\n        <div class=\"vouLDiv-left\">\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n        </div>\r\n        <!-- 发票区 -->\r\n        <div v-if=\"reFresh\" :key=\"index\" class=\"invoic-table\">\r\n          <div v-for=\"item in itemConfig\" :key=\"item.name\" class=\"invoic-table-item\" :style=\"{ gridColumnStart: 'span ' + item.col,gridRowStart: 'span ' + item.row }\">\r\n            <!-- 遍历渲染组件 -->\r\n            <div v-if=\"item.type === 'text'\" :class=\"item.row > 1 ? 'invoic-table-item-multiple-text' : 'invoic-table-item-text'\">\r\n              <span v-if=\"item.required === true\" style=\"color:red;\">*</span>\r\n              {{ item.name }}\r\n            </div>\r\n            <div v-else-if=\"item.type === 'input'\" :id=\"item.model\" class=\"invoic-table-item-input\">\r\n              <vxe-input\r\n                v-model=\"dataList[item.model]\"\r\n                :placeholder=\"item.placeholder\"\r\n                :disabled=\"item.disabled\"\r\n                @suffix-click=\"appendMethod(item.appendMethod)\"\r\n                @change=\"clearValidate\"\r\n                @input=\"itemChange($event,item)\"\r\n              >\r\n                <template v-if=\"item.append\" v-slot:suffix>\r\n                  <i><img src=\"~@/assets/img/basic/person.svg\"></i>\r\n                </template>\r\n              </vxe-input>\r\n              <div class=\"valid-tip\"></div>\r\n            </div>\r\n            <!-- 若果是金额类型,则只允许输入数字 -->\r\n            <div v-else-if=\"item.type === 'money'\" :id=\"item.model\" class=\"invoic-table-item-input\">\r\n              <vxe-input\r\n                v-model=\"dataList[item.model]\"\r\n                align=\"right\"\r\n                :disabled=\"item.disabled\"\r\n                @blur=\"changeFormat(item)\"\r\n                @focus=\"clearFormat(item)\"\r\n                @input=\"itemChange($event,item)\"\r\n              />\r\n              <div class=\"valid-tip\"></div>\r\n            </div>\r\n            <div v-else-if=\"item.type === 'treeInput'\" :id=\"item.model\" class=\"invoic-table-item-treeInput\">\r\n              <BsTreeInput\r\n                ref=\"testTreeInput\"\r\n                v-model=\"dataList[item.model]\"\r\n                :is-server=\"true\"\r\n                :edit-config=\"item.editConfig\"\r\n                :elecode=\"item.elecode\"\r\n                :server-uri=\"item.serverUri\"\r\n                :disabled=\"item.disabled\"\r\n                :queryparams=\"item.queryparams\"\r\n                :isleaf=\"item.isleaf\"\r\n                :dropdownmethod=\"setTreeData\"\r\n                @input=\"itemChange($event,item)\"\r\n              />\r\n              <div class=\"valid-tip\"></div>\r\n            </div>\r\n            <div v-else-if=\"item.type === 'vxe-select'\" :id=\"item.model\" class=\"invoic-table-item-select\">\r\n              <vxe-select v-model=\"dataList[item.model]\" :placeholder=\"item.placeholder\" @input=\"itemChange($event,item)\">\r\n                <vxe-option\r\n                  v-for=\"option in item.options\"\r\n                  :key=\"option.value\"\r\n                  :value=\"option.value\"\r\n                  :label=\"option.label\"\r\n                />\r\n              </vxe-select>\r\n              <div class=\"valid-tip\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 右侧发票装饰 -->\r\n        <div class=\"vouLDiv-right\">\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport util from '@/components/tool/util.js'\r\nimport { commonFn } from './common.js'\r\nexport default {\r\n  name: 'InvoicTable',\r\n  props: {\r\n    itemConfig: {\r\n      type: [Array, Object],\r\n      default() {\r\n        return [\r\n          {\r\n\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    dataList: {\r\n      type: [Array, Object],\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentRequestItem: '',\r\n      itemConfigIn: [...this.itemConfig],\r\n      reFresh: true,\r\n      index: 1\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 把金额千分位格式显示\r\n     */\r\n    changeFormat(item) {\r\n      this.dataList[item.model] = commonFn.format(Number(this.dataList[item.model]).toFixed(2))\r\n    },\r\n    setTreeData(val, e, { elementCode }) {\r\n      // 手动为treeinput的id,code,name赋值\r\n      elementCode = elementCode.toLowerCase()\r\n      let data = {}\r\n      Object.assign(data, this.dataList)\r\n      data[elementCode + '_id'] = val.id\r\n      data[elementCode + '_code'] = val.code\r\n      data[elementCode + '_name'] = val.name\r\n      this.dataList = data\r\n      this.doValidate({ field: elementCode }, false)\r\n    },\r\n    clearValidate({ value, $event }) {\r\n      let element = $event.path[2]\r\n      element.querySelector('input').style.border = '1px solid #DCDFE6'\r\n      element.querySelector('.valid-tip').style.display = 'none'\r\n    },\r\n    // 校验添加提示信息\r\n    doValidate(item, validates) {\r\n      let element = document.querySelector('#' + item.field)\r\n      if (validates === true) {\r\n        element.querySelector('input').style.border = '1px red solid'\r\n        element.querySelector('.valid-tip').style.display = 'block'\r\n        element.querySelector('.valid-tip').innerHTML = item.message || '请输入' + item.name\r\n      } else {\r\n        element.querySelector('input').style.border = '1px solid #DCDFE6'\r\n        element.querySelector('.valid-tip').style.display = 'none'\r\n      }\r\n    },\r\n    /**\r\n     * 当用户输入时\r\n     * 对单个Item进行校验\r\n     */\r\n    validateItem(item) {\r\n      if (item.type === 'text' && item.required) {\r\n        if (!self.dataList[item.field] || (self.dataList[item.field] + '').includes('initId')) {\r\n          this.doValidate(item, true)\r\n        } else {\r\n          this.doValidate(item, false)\r\n        }\r\n      }\r\n    },\r\n    // 提交时 验证非空\r\n    validate() {\r\n      // 校验非空\r\n      var self = this\r\n      var validates = false\r\n      this.itemConfig.map(item => {\r\n        if (item.type === 'text' && item.required) {\r\n          if (!self.dataList[item.field] || (self.dataList[item.field] + '').includes('initId')) {\r\n            validates = true\r\n            this.doValidate(item, true)\r\n          } else {\r\n            this.doValidate(item, false)\r\n          }\r\n        }\r\n      })\r\n      if (!validates) {\r\n        this.itemConfig.map(item => {\r\n          // 千分位转数字\r\n          if (item.type === 'money') {\r\n            this.dataList[item.model] = commonFn.thousandToNum(this.dataList[item.model])\r\n          }\r\n        })\r\n      }\r\n      return validates\r\n    },\r\n    appendMethod(code) {\r\n      this.$emit('appendMethod', code)\r\n    },\r\n    refresh() {\r\n      this.index++\r\n    },\r\n    // 转换金额大小写\r\n    transferUpper() {\r\n      this.itemConfig.map(item => {\r\n        if (item.type === 'money') {\r\n          this.dataList[item.model + '_big'] = util.transformFn.digitUppercase(this.dataList[item.model])\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 当数据发生改变时触发事件\r\n     * Todo\r\n     * 先把非空校验设为空 以后有正则校验时再改为重新校验\r\n     * 再触发itenchange事件  供业务处理数据\r\n     */\r\n    itemChange($event, item) {\r\n      this.validateItem(item)\r\n      this.$emit('itemChange', item.model, this.dataList[item.model], this.dataList, this.itemConfig)\r\n    },\r\n    /**\r\n     * 清除千分位模式\r\n     */\r\n    clearFormat(item) {\r\n      if (this.dataList[item.model] !== '') {\r\n        this.dataList[item.model] = commonFn.thousandToNum(this.dataList[item.model])\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    dataList: {\r\n      handler(newValue, oldValue) {\r\n        this.$emit('update:dataList', this.dataList)\r\n        this.transferUpper()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.invoic{\r\n  display: grid;\r\n  width: 100%;\r\n  grid-template-columns: 4fr 92fr 4fr;\r\n  align-items: center;\r\n  /*发票表格样式*/\r\n  .invoic-table{\r\n    display: grid;\r\n    grid-template-columns: repeat(10,1fr);\r\n    grid-auto-rows: 58px;\r\n    border: 1px solid #0c9fe3;\r\n    border-bottom: 2px solid #0c9fe3;\r\n    border-left: 2px solid #0c9fe3;\r\n    width: 100%;\r\n  }\r\n  .invoic-table-item{\r\n    border-right: 0.5px solid #0c9fe3;\r\n    border-top: 0.5px solid #0c9fe3;\r\n    color: #0c9fe3;\r\n    .valid-tip{\r\n      color: red;\r\n      font-size: 8px;\r\n      text-align: right;\r\n    }\r\n  }\r\n  // 标题\r\n  .invoic-table-item-text{\r\n    width: 100%;\r\n    height: 100%;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    overflow:hidden;\r\n  }\r\n  //跨越多行的标题\r\n  .invoic-table-item-multiple-text{\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n    letter-spacing: 5px;\r\n    width: 60%;\r\n    writing-mode: tb-rl;\r\n  }\r\n  //输入框\r\n  .invoic-table-item-input{\r\n    width: calc(100% - 16px);\r\n    height: calc(100% - 16px);\r\n    padding: 10px;\r\n    .vxe-input {\r\n      font-size: 14px;\r\n      height: 38px;\r\n      width: 100%;\r\n    }\r\n    .vxe-input--inner[disabled] {\r\n      color: #000;\r\n      font-weight: 700;\r\n    }\r\n  }\r\n  .borderCircle{\r\n    width: 16px;\r\n    height: 16px;\r\n    border-radius: 50%;\r\n    background-color: #f3f8ff;\r\n    margin-bottom: 23px;\r\n  }\r\n  .vouLDiv-right .borderCircle{\r\n  margin-left: calc(100% - 14px);\r\n  }\r\n  .invoic-table-item-treeInput{\r\n    width: calc(100% - 16px);\r\n    padding:8px\r\n  }\r\n  /**\r\n   select框的样式\r\n  */\r\n  .invoic-table-item-select{\r\n    width: calc(100% - 16px);\r\n    height: calc(100% - 16px);\r\n    padding: 10px;\r\n    .vxe-select{\r\n      width: 100%;\r\n      height: 38px;\r\n    }\r\n    .vxe-input {\r\n      font-size: 14px;\r\n      height: 38px;\r\n      width: 100%;\r\n    }\r\n\r\n  }\r\n}\r\n\r\n</style>\r\n"]}]}