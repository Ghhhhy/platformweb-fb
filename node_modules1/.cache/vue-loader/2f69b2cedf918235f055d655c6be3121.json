{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\PrintDrawer\\MutipleReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\PrintDrawer\\MutipleReport.vue","mtime":1694505521442},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBwcm9jb25mIH0gZnJvbSAnLi9NdXRpcGxlUmVwb3J0LmpzJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQnNNdXRpcGxlUmVwb3J0JywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaXNWaXNpYmxlOiBmYWxzZSwNCiAgICAgIHRvb2xCYXJTdGF0dXNCdG5Db25maWc6IHsNCiAgICAgICAgY2hhbmdlQnRuczogdHJ1ZSwNCiAgICAgICAgYnV0dG9uczogcHJvY29uZi50b29sQmFyU3RhdHVzQnV0dG9uLA0KICAgICAgICBjdXJCdXR0b246IHsNCiAgICAgICAgICB0eXBlOiAnYnV0dG9uJywNCiAgICAgICAgICBpY29uTmFtZTogJ2Jhc2UtemhpYmFpby5wbmcnLA0KICAgICAgICAgIGljb25OYW1lQWN0aXZlOiAnYmFzZS16aGliYWlvLWFjdGl2ZS5wbmcnLA0KICAgICAgICAgIGljb25Vcmw6ICcnLA0KICAgICAgICAgIGxhYmVsOiAn6aKd5bqm6YCa55+l5Y2VJywNCiAgICAgICAgICBjb2RlOiAnMScsDQogICAgICAgICAgY3VyVmFsdWU6ICcxJw0KICAgICAgICB9LA0KICAgICAgICBtZXRob2RzOiB7DQogICAgICAgICAgYnNUb29sYmFyQ2xpY2tFdmVudDogdGhpcy5vblN0YXR1c1RhYkNsaWNrDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICB0b29sQmFyU3RhdHVzU2VsZWN0OiB7DQogICAgICAgIHR5cGU6ICdidXR0b24nLA0KICAgICAgICBpY29uTmFtZTogJ2Jhc2UtemhpYmFpby5wbmcnLA0KICAgICAgICBpY29uTmFtZUFjdGl2ZTogJ2Jhc2UtemhpYmFpby1hY3RpdmUucG5nJywNCiAgICAgICAgaWNvblVybDogJycsDQogICAgICAgIGxhYmVsOiAn6aKd5bqm6YCa55+l5Y2VJywNCiAgICAgICAgY29kZTogJzEnLA0KICAgICAgICBjdXJWYWx1ZTogJzEnDQogICAgICB9LA0KICAgICAgdXNlckluZm86IHt9LA0KICAgICAgbWVudUlkOiAnJywNCiAgICAgIHRvZWtuaWQ6ICcnLA0KICAgICAgcm9sZWd1aWQ6ICcnDQogICAgfQ0KICB9LA0KICBwcm9wczogew0KICAgIHRpdGxlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAn5Yet6K+B5omT5Y2wJw0KICAgIH0sDQogICAgdmlzaWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBndWlkczogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIGNwdOWQjeWtlw0KICAgIGNwdDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ3p6enAnDQogICAgfSwNCiAgICAvLyDmmK/lkKbotbDlt6XkvZzmtYHvvIzpmZXopb/otbDvvIzlkInmnpfkuI3otbANCiAgICBpc1dvcmtGbG93OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgLy8gQ1BU57G75Z6LIOmineW6pumAmuefpeWNlSAg5riF566X6aKd5bqm6YCa55+l5Y2VDQogICAgY3B0VHlwZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ3p6enAnDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2xvc2UoKSB7DQogICAgICB0aGlzLiRlbWl0KCdvbkNsb3NlJykNCiAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2aXNpYmxlJywgdGhpcy5pc1Zpc2libGUpDQogICAgfSwNCiAgICAvLyDliIfmjaLnirbmgIHmoI8NCiAgICBvblN0YXR1c1RhYkNsaWNrKG9iaikgew0KICAgICAgaWYgKCFvYmoudHlwZSkgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMudG9vbEJhclN0YXR1c1NlbGVjdCA9IG9iag0KICAgICAgaWYgKHRoaXMuY3B0VHlwZSA9PT0gJ2N6c3F6ZmVkdHpkJykgew0KICAgICAgICBzd2l0Y2ggKG9iai5jdXJWYWx1ZSkgew0KICAgICAgICAgIGNhc2UgJzEnOiAvLyDpop3luqbpgJrnn6XljZXmiqXooagNCiAgICAgICAgICAgIHRoaXMuY2hlY2tSZXBvcnQoJ2N6c3F6ZmVkdHpkJykNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgY2FzZSAnMic6IC8vIOmineW6pumAmuefpeWNleaYjue7huaKpeihqA0KICAgICAgICAgICAgdGhpcy5jaGVja1JlcG9ydCgnY3pzcXpmZWRteHR6ZCcpDQogICAgICAgICAgICBicmVhaw0KICAgICAgICAgIGNhc2UgJzMnOiAvLyDpop3luqbliJfooajmiqXooagNCiAgICAgICAgICAgIHRoaXMuY2hlY2tSZXBvcnQoJ3NxemZlZGxiJykNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHN3aXRjaCAob2JqLmN1clZhbHVlKSB7DQogICAgICAgICAgY2FzZSAnMSc6IC8vIOmineW6pumAmuefpeWNleaKpeihqA0KICAgICAgICAgICAgdGhpcy5jaGVja1JlcG9ydCgnY3pzcXpmaHpxc2VkdHpkJykNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgY2FzZSAnMic6IC8vIOmineW6pumAmuefpeWNleaYjue7huaKpeihqA0KICAgICAgICAgICAgdGhpcy5jaGVja1JlcG9ydCgnY3pzcXpmZWRteHR6ZCcpDQogICAgICAgICAgICBicmVhaw0KICAgICAgICAgIGNhc2UgJzMnOiAvLyDpop3luqbliJfooajmiqXooagNCiAgICAgICAgICAgIHRoaXMuY2hlY2tSZXBvcnQoJ3NxcXNlZGxiJykNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGNoZWNrUmVwb3J0KGNwdCkgew0KICAgICAgbGV0IHNxbEluID0gJycNCiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmd1aWRzLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICBzd2l0Y2ggKGluZGV4KSB7DQogICAgICAgICAgY2FzZSAwOg0KICAgICAgICAgICAgc3FsSW4gPSB0aGlzLmd1aWRzW2luZGV4XSArICdcJywnDQogICAgICAgICAgICBicmVhaw0KICAgICAgICAgIGNhc2UgdGhpcy5ndWlkcy5sZW5ndGggLSAxOg0KICAgICAgICAgICAgc3FsSW4gPSBzcWxJbiArICdcJycgKyB0aGlzLmd1aWRzW2luZGV4XQ0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgc3FsSW4gPSBzcWxJbiArICdcJycgKyB0aGlzLmd1aWRzW2luZGV4XSArICdcJywnDQogICAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAodGhpcy5ndWlkcy5sZW5ndGggPT09IDEpIHsNCiAgICAgICAgc3FsSW4gPSB0aGlzLmd1aWRzWzBdDQogICAgICB9DQogICAgICBsZXQgdXJsID0gdGhpcy4kZ2xvYWJsZVRvb2xGbi5nZXRSZXBvcnRVcmwoKSArICcvZmluZS1yZXBvcnQvYm9zcy9SZXBvcnRTZXJ2ZXI/cmVwb3J0bGV0PScgKyBjcHQgKyAnLmNwdCZpZD0nICsgc3FsSW4gKyAnJng9MScgKyAnJm1lbnVndWlkPScgKyB0aGlzLm1lbnVJZCArDQogICAgICAgICcmcm9sZWd1aWQ9JyArIHRoaXMucm9sZWd1aWQgKyAnJnRva2VuaWQ9JyArIHRoaXMudG9rZW5pZCArICcmdXNlcmd1aWQ9JyArIHRoaXMudXNlckluZm8uZ3VpZCArICcmZmlzY2FsX3llYXI9JyArIHRoaXMudXNlckluZm8ueWVhciArICcmbW9mX2Rpdl9jb2RlPScgKyB0aGlzLnVzZXJJbmZvLnByb3ZpbmNlDQogICAgICBsZXQgc3JjID0gJzxpZnJhbWUgZnJhbWVib3JkZXI9bm8gd2lkdGg9MTAwJSBoZWlnaHQ9MTAwJSBzcmM9JyArIHVybCArICc+PC9pZnJhbWU+Jw0KICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ011dGlwbGVDcHRJZCcpLmlubmVySFRNTCA9IHNyYw0KICAgIH0sDQogICAgZG9QcmludCgpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuaJk+WNsOWHreivgScsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuJGVtaXQoJ3ByaW50JykNCiAgICAgICAgdGhpcy5jbG9zZSgpDQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5omT5Y2wJw0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQoNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2aXNpYmxlOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlKSB7DQogICAgICAgIHRoaXMudG9rZW5pZCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TG9naW5BdXRoZW50aWNhdGlvbi50b2tlbmlkDQogICAgICAgIHRoaXMucm9sZWd1aWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUucm9sZWd1aWQNCiAgICAgICAgdGhpcy5tZW51SWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUuZ3VpZA0KICAgICAgICB0aGlzLnVzZXJJbmZvID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8NCiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBuZXdWYWx1ZQ0KICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIG5ld1ZhbHVlKQ0KICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUpIHsNCiAgICAgICAgICB0aGlzLiRyZWZzLnRhYlBhbmVsLmluaXRUYWJTdGF0dXNCdG5Db25maWcoKQ0KICAgICAgICAgIGlmICh0aGlzLmNwdFR5cGUgPT09ICdjenNxemZlZHR6ZCcpIHsNCiAgICAgICAgICAgIHRoaXMudG9vbEJhclN0YXR1c0J0bkNvbmZpZy5idXR0b25zID0gcHJvY29uZi50b29sQmFyU3RhdHVzQnV0dG9uDQogICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY2hlY2tSZXBvcnQoJ2N6c3F6ZmVkdHpkJyksIDEwKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnRvb2xCYXJTdGF0dXNCdG5Db25maWcuYnV0dG9ucyA9IHByb2NvbmYudG9vbEJhclN0YXR1c0J1dHRvbnMNCiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jaGVja1JlcG9ydCgnY3pzcXpmaHpxc2VkdHpkJyksIDEwKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["MutipleReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MutipleReport.vue","sourceRoot":"src/components/PrintDrawer","sourcesContent":["<template>\r\n  <el-drawer size=\"50%\" :visible.sync=\"isVisible\" class=\"print\" @close=\"close\">\r\n    <div slot=\"title\">{{ title }}</div>\r\n    <BsTabPanel\r\n      ref=\"tabPanel\"\r\n      :show-zero=\"false\"\r\n      :tab-status-btn-config=\"toolBarStatusBtnConfig\"\r\n      :is-open=\"false\"\r\n      :is-hide-query=\"true\"\r\n    />\r\n    <div id=\"MutipleCptId\"></div>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { proconf } from './MutipleReport.js'\r\nexport default {\r\n  name: 'BsMutipleReport',\r\n  data() {\r\n    return {\r\n      isVisible: false,\r\n      toolBarStatusBtnConfig: {\r\n        changeBtns: true,\r\n        buttons: proconf.toolBarStatusButton,\r\n        curButton: {\r\n          type: 'button',\r\n          iconName: 'base-zhibaio.png',\r\n          iconNameActive: 'base-zhibaio-active.png',\r\n          iconUrl: '',\r\n          label: '额度通知单',\r\n          code: '1',\r\n          curValue: '1'\r\n        },\r\n        methods: {\r\n          bsToolbarClickEvent: this.onStatusTabClick\r\n        }\r\n      },\r\n      toolBarStatusSelect: {\r\n        type: 'button',\r\n        iconName: 'base-zhibaio.png',\r\n        iconNameActive: 'base-zhibaio-active.png',\r\n        iconUrl: '',\r\n        label: '额度通知单',\r\n        code: '1',\r\n        curValue: '1'\r\n      },\r\n      userInfo: {},\r\n      menuId: '',\r\n      toeknid: '',\r\n      roleguid: ''\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: '凭证打印'\r\n    },\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    guids: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    // cpt名字\r\n    cpt: {\r\n      type: String,\r\n      default: 'zzzp'\r\n    },\r\n    // 是否走工作流，陕西走，吉林不走\r\n    isWorkFlow: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // CPT类型 额度通知单  清算额度通知单\r\n    cptType: {\r\n      type: String,\r\n      default: 'zzzp'\r\n    }\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('onClose')\r\n      this.isVisible = false\r\n      this.$emit('update:visible', this.isVisible)\r\n    },\r\n    // 切换状态栏\r\n    onStatusTabClick(obj) {\r\n      if (!obj.type) {\r\n        return\r\n      }\r\n      this.toolBarStatusSelect = obj\r\n      if (this.cptType === 'czsqzfedtzd') {\r\n        switch (obj.curValue) {\r\n          case '1': // 额度通知单报表\r\n            this.checkReport('czsqzfedtzd')\r\n            break\r\n          case '2': // 额度通知单明细报表\r\n            this.checkReport('czsqzfedmxtzd')\r\n            break\r\n          case '3': // 额度列表报表\r\n            this.checkReport('sqzfedlb')\r\n            break\r\n        }\r\n      } else {\r\n        switch (obj.curValue) {\r\n          case '1': // 额度通知单报表\r\n            this.checkReport('czsqzfhzqsedtzd')\r\n            break\r\n          case '2': // 额度通知单明细报表\r\n            this.checkReport('czsqzfedmxtzd')\r\n            break\r\n          case '3': // 额度列表报表\r\n            this.checkReport('sqqsedlb')\r\n            break\r\n        }\r\n      }\r\n    },\r\n    checkReport(cpt) {\r\n      let sqlIn = ''\r\n      for (let index = 0; index < this.guids.length; index++) {\r\n        switch (index) {\r\n          case 0:\r\n            sqlIn = this.guids[index] + '\\','\r\n            break\r\n          case this.guids.length - 1:\r\n            sqlIn = sqlIn + '\\'' + this.guids[index]\r\n            break\r\n          default:\r\n            sqlIn = sqlIn + '\\'' + this.guids[index] + '\\','\r\n            break\r\n        }\r\n      }\r\n      if (this.guids.length === 1) {\r\n        sqlIn = this.guids[0]\r\n      }\r\n      let url = this.$gloableToolFn.getReportUrl() + '/fine-report/boss/ReportServer?reportlet=' + cpt + '.cpt&id=' + sqlIn + '&x=1' + '&menuguid=' + this.menuId +\r\n        '&roleguid=' + this.roleguid + '&tokenid=' + this.tokenid + '&userguid=' + this.userInfo.guid + '&fiscal_year=' + this.userInfo.year + '&mof_div_code=' + this.userInfo.province\r\n      let src = '<iframe frameborder=no width=100% height=100% src=' + url + '></iframe>'\r\n      document.getElementById('MutipleCptId').innerHTML = src\r\n    },\r\n    doPrint() {\r\n      this.$confirm('此操作将打印凭证', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$emit('print')\r\n        this.close()\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消打印'\r\n        })\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  watch: {\r\n    visible: {\r\n      handler(newValue) {\r\n        this.tokenid = this.$store.getters.getLoginAuthentication.tokenid\r\n        this.roleguid = this.$store.state.curNavModule.roleguid\r\n        this.menuId = this.$store.state.curNavModule.guid\r\n        this.userInfo = this.$store.state.userInfo\r\n        this.isVisible = newValue\r\n        this.$emit('update:visible', newValue)\r\n        if (newValue === true) {\r\n          this.$refs.tabPanel.initTabStatusBtnConfig()\r\n          if (this.cptType === 'czsqzfedtzd') {\r\n            this.toolBarStatusBtnConfig.buttons = proconf.toolBarStatusButton\r\n            setTimeout(this.checkReport('czsqzfedtzd'), 10)\r\n          } else {\r\n            this.toolBarStatusBtnConfig.buttons = proconf.toolBarStatusButtons\r\n            setTimeout(this.checkReport('czsqzfhzqsedtzd'), 10)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  .print {\r\n    #MutipleCptId {\r\n      height: 500px;\r\n    }\r\n  }\r\n</style>\r\n"]}]}