{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\statisticAnalysis\\common\\components\\PreviewDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\statisticAnalysis\\common\\components\\PreviewDetail.vue","mtime":1695716045791},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiwgdW5yZWYsIHByb3ZpZGUsIGluamVjdCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJw0KaW1wb3J0IEhhbmRsaW5nT2ZWaW9sYXRpb25zTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9IYW5kbGluZ09mVmlvbGF0aW9uc01vZGFsJw0KaW1wb3J0IHVzZVRhYmxlIGZyb20gJ0AvaG9va3MvdXNlVGFibGUnDQppbXBvcnQgeyB1c2VNb2RhbCwgdXNlTW9kYWxJbm5lciB9IGZyb20gJ0AvaG9va3MvdXNlTW9kYWwvaW5kZXgnDQppbXBvcnQgeyBnZXRXYXJuQ291bnRDb2x1bW5zLCBjZWxsQ3Vyc29yVW5kZXJsaW5lQ2xhc3NOYW1lIH0gZnJvbSAnQC92aWV3cy9tYWluL3N0YXRpc3RpY0FuYWx5c2lzL2NvbW1vbi9tb2RlbC9kYXRhLmpzJw0KaW1wb3J0IHsNCiAgZ2V0UnVsZU5hbWVDb2x1bW4sDQogIGdldElzRGlyQ29sdW1uLA0KICBnZXRBZ2VuY3lOYW1lQ29sdW1uLA0KICBnZXRXYXJuTGV2ZWxDb2x1bW4sDQogIGdldENvbnRyb2xUeXBlQ29sdW1uLA0KICBnZXRXYXJuVHlwZUNvbHVtbiwNCiAgZ2V0TW9mRGl2Q29kZUNvbHVtbg0KfSBmcm9tICdAL3ZpZXdzL21haW4vaGFuZGxpbmdPZlZpb2xhdGlvbnMvbW9kZWwvZGF0YS5qcycNCmltcG9ydCB7IHF1ZXJ5UnVsZURhdGEgfSBmcm9tICdAL2FwaS9mcmFtZS9tYWluL3N0YXRpc3RpY0FuYWx5c2lzL3J1bGVzU3RhdGlzdGljLmpzJw0KaW1wb3J0IHsgcXVlcnlEZXBEYXRhIH0gZnJvbSAnQC9hcGkvZnJhbWUvbWFpbi9zdGF0aXN0aWNBbmFseXNpcy91bml0U3RhdGlzdGljLmpzJw0KaW1wb3J0IHsgUm91dGVyUGF0aEVudW0gfSBmcm9tICcuLi9tb2RlbC9lbnVtJw0KaW1wb3J0IHsgdXNlRm9vdGVyIH0gZnJvbSAnLi4vaG9va3MvdXNlRm9vdGVyJw0KaW1wb3J0IHsgdHJhbnNKc29uMSwgdHJhbnNKc29uMyB9IGZyb20gJ0AvdXRpbHMvcGFyYW1zLmpzJw0KaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnDQoNCmNvbnN0IG1vZGVsID0gew0KICBwcm9wOiAndmFsdWUnLA0KICBldmVudDogJ2NoYW5nZVByZXZpZXdEZXRhaWxWaXNpYmxlJw0KfQ0KZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsNCiAgY29tcG9uZW50czogew0KICAgIEhhbmRsaW5nT2ZWaW9sYXRpb25zTW9kYWwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICAvLyDmmL7pmpANCiAgICBbbW9kZWwucHJvcF06IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgcXVlcnlEYXRhOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgIHJldHVybiB7fQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5Yu+6YCJ6KGMDQogICAgY3VycmVudFJvdzogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KQ0KICAgIH0NCiAgfSwNCiAgbW9kZWwsDQogIHNldHVwKHByb3BzLCB7IGVtaXQgfSkgew0KICAgIGxldCB0eXBlID0gJycNCiAgICAvKioNCiAgICAgKiDlvLnnqpflhoXpg6jnirbmgIENCiAgICAgKiAqLw0KICAgIGNvbnN0IHsgcXVlcnlEYXRhIH0gPSBwcm9wcw0KICAgIGNvbnN0IHsgdmlzaWJsZSB9ID0gdXNlTW9kYWxJbm5lcihwcm9wcywgZW1pdCwgbW9kZWwpDQoNCiAgICAvLyDlpITnkIbljZXmn6XnnIvlvLnnqpcNCiAgICBjb25zdCBbaGFuZGxpbmdPZlZpb2xhdGlvbnNNb2RlbCwgY2hhbmdlSE9WTW9kZWxWaXNpYmxlXSA9IHVzZU1vZGFsKCkNCg0KICAgIC8vIOmhtemdoui3r+eUsQ0KICAgIGNvbnN0IHBhZ2VQYXRoID0gaW5qZWN0KCdwYWdlUGF0aCcpDQogICAgLy8g5qC557uE5Lu25pa55rOVIGxvYWRCc0NvbmZpZyjliqjmgIHooajmoLzphY3nva7or7fmsYLmlrnms5UpDQogICAgY29uc3QgbG9hZEJzQ29uZmlnID0gaW5qZWN0KCdsb2FkQnNDb25maWcnKQ0KICAgIHByb3ZpZGUoJ2xvYWRCc0NvbmZpZycsIGxvYWRCc0NvbmZpZykNCiAgICAvLyDor6bmg4Xlj4zlh7vooYwNCiAgICBjb25zdCBkZXRhaWxDdXJyZW50Um93ID0gcmVmKG51bGwpDQoNCiAgICBjb25zdCBkaWZmZXJlbnRDb2x1bW5zID0gWw0KICAgICAgZ2V0QWdlbmN5TmFtZUNvbHVtbigpLA0KICAgICAgZ2V0TW9mRGl2Q29kZUNvbHVtbigpLA0KICAgICAgZ2V0UnVsZU5hbWVDb2x1bW4oew0KICAgICAgICB0aXRsZTogJ+inhOWImeWQjeensCcsDQogICAgICAgIHdpZHRoOiAxNDANCiAgICAgIH0pDQogICAgXQ0KDQogICAgY29uc3QgeyBmb290ZXJDb25maWcgfSA9IHVzZUZvb3RlcigpDQogICAgLyoqDQogICAgICog5Yqo5oCB6KGo5qC86YWN572uDQogICAgICogKi8NCiAgICBsZXQgY29sdW1uc1NTID0gcmVmKFtdKQ0KICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRDb25maWcoaWQpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIHRhYmxlSWQ6IHsNCiAgICAgICAgICBpZDogaWQsDQogICAgICAgICAgZmlzY2FseWVhcjogc3RvcmUuc3RhdGUudXNlckluZm8ueWVhciwNCiAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHN0b3JlLnN0YXRlLnVzZXJJbmZvLnByb3ZpbmNlLA0KICAgICAgICAgIG1lbnVndWlkOiBzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUuZ3VpZA0KICAgICAgICB9DQogICAgICB9DQogICAgICBsZXQgY29uZmlnRGF0YSA9IGF3YWl0IGxvYWRCc0NvbmZpZyhwYXJhbXMpDQogICAgICByZXR1cm4gY29uZmlnRGF0YS5pdGVtc0NvbmZpZw0KICAgIH0NCiAgICAvKioNCiAgICAgKuWIpOaWreS9v+eUqOacrOWcsOmFjee9rnx85Yqo5oCB6YWN572uDQogICAgICogKi8NCiAgICBpZiAodHJhbnNKc29uMyhzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUucGFyYW01KSAmJiB0cmFuc0pzb24zKHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5wYXJhbTUpLmlzQ29uZmlnVGFibGUgPT09ICcxJykgew0KICAgICAgbG9hZENvbmZpZygnVGFibGUyMDEnKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGNvbHVtbnNTUy52YWx1ZSA9IHJlcw0KICAgICAgfSkNCiAgICB9IGVsc2Ugew0KICAgICAgY29sdW1uc1NTLnZhbHVlID0gWw0KICAgICAgICAuLi4odW5yZWYocGFnZVBhdGgpID09PSBSb3V0ZXJQYXRoRW51bS5SVUxFX1NUQVRJU1RJQyA/IGRpZmZlcmVudENvbHVtbnMgOiBkaWZmZXJlbnRDb2x1bW5zLnJldmVyc2UoKSksDQogICAgICAgIGdldFdhcm5MZXZlbENvbHVtbigpLA0KICAgICAgICBnZXRDb250cm9sVHlwZUNvbHVtbigpLA0KICAgICAgICBnZXRXYXJuVHlwZUNvbHVtbigpLA0KICAgICAgICAuLi5nZXRXYXJuQ291bnRDb2x1bW5zKCksDQogICAgICAgIGdldElzRGlyQ29sdW1uKCkNCiAgICAgIF0NCiAgICB9DQogICAgLyoqDQogICAgICog6KGo5qC8DQogICAgICogKi8NCiAgICBjb25zdCBbDQogICAgICB7DQogICAgICAgIGNvbHVtbnMsDQogICAgICAgIHRhYmxlVG9vbGJhckNvbmZpZywNCiAgICAgICAgdGFibGVDb25maWcsDQogICAgICAgIHRhYmxlRGF0YSwNCiAgICAgICAgcmVzZXRGZXRjaFRhYmxlRGF0YSwNCiAgICAgICAgdGFibGVMb2FkaW5nU3RhdGUsDQogICAgICAgIHBhZ2VyQ2hhbmdlLA0KICAgICAgICBwYWdlckNvbmZpZywNCiAgICAgICAgb25Ub29sYmFyQnRuQ2xpY2sNCiAgICAgIH0sDQogICAgICByZWdpc3RlclRhYmxlDQogICAgXSA9IHVzZVRhYmxlKHsNCiAgICAgIGZldGNoOiB1bnJlZihwYWdlUGF0aCkgPT09IFJvdXRlclBhdGhFbnVtLlVOSVRfU1RBVElTVElDID8gcXVlcnlEZXBEYXRhIDogcXVlcnlSdWxlRGF0YSwNCiAgICAgIGJlZm9yZUZldGNoOiBwYXJhbXMgPT4gew0KICAgICAgICBjb25zdCB7IGZpUnVsZUNvZGVzLCBhZ2VuY3lDb2RlIH0gPSBwcm9wcy5jdXJyZW50Um93DQogICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdW5yZWYocGFnZVBhdGgpID09PSBSb3V0ZXJQYXRoRW51bS5VTklUX1NUQVRJU1RJQyA/ICdhZ2VuY3lDb2RlJyA6ICdmaVJ1bGVDb2RlcycNCiAgICAgICAgY29uc3QgdmFsdWUgPSB1bnJlZihwYWdlUGF0aCkgPT09IFJvdXRlclBhdGhFbnVtLlVOSVRfU1RBVElTVElDID8gYWdlbmN5Q29kZSA6IGZpUnVsZUNvZGVzDQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgLi4ucGFyYW1zLA0KICAgICAgICAgIHBhcmFtQ29kZTogdHJhbnNKc29uMShzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUucGFyYW01IHx8ICcnKT8ucGFyYW1Db2RlLA0KICAgICAgICAgIGlzRmlsdGVyQnlQZXJtOiB0cmFuc0pzb24xKHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5wYXJhbTUgfHwgJycpPy5pc0ZpbHRlckJ5UGVybSwNCiAgICAgICAgICBmaVJ1bGVOYW1lOiBwcm9wcy5jdXJyZW50Um93LnJ1bGVOYW1lLA0KICAgICAgICAgIC4uLnF1ZXJ5RGF0YSwNCiAgICAgICAgICBbcHJvcGVydHldOiB2YWx1ZQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgZmluYWxseUZldGNoOiBkYXRhID0+IHsNCiAgICAgICAgZm9vdGVyQ29uZmlnLnZhbHVlLnRvdGFsT2JqID0gZGF0YT8ud2FybkhKVk8gfHwge30NCiAgICAgIH0sDQogICAgICBjb2x1bW5zOiBjb2x1bW5zU1MsDQogICAgICBkYXRhS2V5OiAnZGF0YS5yZXN1bHRzJw0KICAgIH0pDQogICAgLyoqDQogICAgICog5Y+M5Ye75Y2V5YWD5qC8DQogICAgICogKi8NCiAgICAvLyBmdW5jdGlvbiBjZWxsRGJsY2xpY2soYSwgYiwgZSkgew0KICAgIGZ1bmN0aW9uIGNlbGxEYmxjbGljayh7IHJvdyB9KSB7DQogICAgICAvLyBkZXRhaWxDdXJyZW50Um93LnZhbHVlID0gcm93DQogICAgICAvLyAvLyBjb25zb2xlLmxvZygnbG9nLS0tLS0tLScsIGEsIGIsIGUpDQogICAgICAvLyBjaGFuZ2VIT1ZNb2RlbFZpc2libGUodHJ1ZSkNCiAgICB9DQogICAgZnVuY3Rpb24gY2VsbENsaWNrKG9iaiwgY29udGV4dCwgZSkgew0KICAgICAgbGV0IGtleSA9IG9iai5jb2x1bW4ucHJvcGVydHkNCiAgICAgIGlmIChrZXkgPT09ICdvbldheScpIHsNCiAgICAgICAgdGhpcy50eXBlID0gJzMnDQogICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3Byb2hpYml0Jykgew0KICAgICAgICB0aGlzLnR5cGUgPSAnMicNCiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmVsZWFzZScpIHsNCiAgICAgICAgdGhpcy50eXBlID0gJzEnDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnR5cGUgPSAnJw0KICAgICAgfQ0KICAgICAgb2JqLnJvdy50eXBlID0gdGhpcy50eXBlDQogICAgICBkZXRhaWxDdXJyZW50Um93LnZhbHVlID0gb2JqLnJvdw0KICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLScsIG9iai5yb3cudHlwZSkNCiAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0nLCBvYmoucm93KQ0KICAgICAgY2hhbmdlSE9WTW9kZWxWaXNpYmxlKHRydWUpDQogICAgfQ0KDQogICAgcmV0dXJuIHsNCiAgICAgIHZpc2libGUsDQogICAgICBoYW5kbGluZ09mVmlvbGF0aW9uc01vZGVsLA0KICAgICAgZGV0YWlsQ3VycmVudFJvdywNCiAgICAgIHR5cGUsDQogICAgICBjZWxsQ3Vyc29yVW5kZXJsaW5lQ2xhc3NOYW1lLA0KICAgICAgY2VsbERibGNsaWNrLA0KICAgICAgY2VsbENsaWNrLA0KICAgICAgZm9vdGVyQ29uZmlnLA0KICAgICAgY29sdW1ucywNCiAgICAgIHJlZ2lzdGVyVGFibGUsDQogICAgICB0YWJsZUNvbmZpZywNCiAgICAgIHRhYmxlRGF0YSwNCiAgICAgIHRhYmxlTG9hZGluZ1N0YXRlLA0KICAgICAgcGFnZXJDb25maWcsDQogICAgICB0YWJsZVRvb2xiYXJDb25maWcsDQogICAgICBvblRvb2xiYXJCdG5DbGljaywNCiAgICAgIHBhZ2VyQ2hhbmdlLA0KICAgICAgcmVzZXRGZXRjaFRhYmxlRGF0YQ0KICAgIH0NCiAgfQ0KfSkNCg=="},{"version":3,"sources":["PreviewDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PreviewDetail.vue","sourceRoot":"src/views/main/statisticAnalysis/common/components","sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"visible\"\r\n    :destroy-on-close=\"true\"\r\n    title=\"查看详情\"\r\n    class=\"PreviewDetail\"\r\n    width=\"90%\"\r\n    height=\"90%\"\r\n    resize\r\n    show-footer\r\n  >\r\n    <template #footer>\r\n      <!--查看-->\r\n      <el-button size=\"small\" @click=\"visible = false\">关闭</el-button>\r\n    </template>\r\n    <div style=\"height: calc(100% - 4px)\">\r\n      <div style=\"height: 100%\">\r\n        <BsTable\r\n          :loading=\"tableLoadingState\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"columns\"\r\n          :table-data=\"tableData\"\r\n          :footer-config=\"footerConfig\"\r\n          :toolbar-config=\"tableToolbarConfig\"\r\n          :pager-config=\"pagerConfig\"\r\n          size=\"medium\"\r\n          :cell-class-name=\"cellCursorUnderlineClassName\"\r\n          @register=\"registerTable\"\r\n          @ajaxData=\"pagerChange\"\r\n          @onToolbarBtnClick=\"onToolbarBtnClick\"\r\n          @cellDblclick=\"cellDblclick\"\r\n          @cellClick=\"cellClick\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <bs-table-title title=\"按规则查看\" />\r\n          </template>\r\n        </BsTable>\r\n      </div>\r\n    </div>\r\n    <HandlingOfViolationsModal\r\n      v-if=\"handlingOfViolationsModel\"\r\n      v-model=\"handlingOfViolationsModel\"\r\n      :current-row=\"detailCurrentRow\"\r\n      v-on=\"$listeners\"\r\n    />\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, unref, provide, inject } from '@vue/composition-api'\r\nimport HandlingOfViolationsModal from '../components/HandlingOfViolationsModal'\r\nimport useTable from '@/hooks/useTable'\r\nimport { useModal, useModalInner } from '@/hooks/useModal/index'\r\nimport { getWarnCountColumns, cellCursorUnderlineClassName } from '@/views/main/statisticAnalysis/common/model/data.js'\r\nimport {\r\n  getRuleNameColumn,\r\n  getIsDirColumn,\r\n  getAgencyNameColumn,\r\n  getWarnLevelColumn,\r\n  getControlTypeColumn,\r\n  getWarnTypeColumn,\r\n  getMofDivCodeColumn\r\n} from '@/views/main/handlingOfViolations/model/data.js'\r\nimport { queryRuleData } from '@/api/frame/main/statisticAnalysis/rulesStatistic.js'\r\nimport { queryDepData } from '@/api/frame/main/statisticAnalysis/unitStatistic.js'\r\nimport { RouterPathEnum } from '../model/enum'\r\nimport { useFooter } from '../hooks/useFooter'\r\nimport { transJson1, transJson3 } from '@/utils/params.js'\r\nimport store from '@/store'\r\n\r\nconst model = {\r\n  prop: 'value',\r\n  event: 'changePreviewDetailVisible'\r\n}\r\nexport default defineComponent({\r\n  components: {\r\n    HandlingOfViolationsModal\r\n  },\r\n  props: {\r\n    // 显隐\r\n    [model.prop]: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    queryData: {\r\n      type: Object,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    },\r\n    // 勾选行\r\n    currentRow: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  model,\r\n  setup(props, { emit }) {\r\n    let type = ''\r\n    /**\r\n     * 弹窗内部状态\r\n     * */\r\n    const { queryData } = props\r\n    const { visible } = useModalInner(props, emit, model)\r\n\r\n    // 处理单查看弹窗\r\n    const [handlingOfViolationsModel, changeHOVModelVisible] = useModal()\r\n\r\n    // 页面路由\r\n    const pagePath = inject('pagePath')\r\n    // 根组件方法 loadBsConfig(动态表格配置请求方法)\r\n    const loadBsConfig = inject('loadBsConfig')\r\n    provide('loadBsConfig', loadBsConfig)\r\n    // 详情双击行\r\n    const detailCurrentRow = ref(null)\r\n\r\n    const differentColumns = [\r\n      getAgencyNameColumn(),\r\n      getMofDivCodeColumn(),\r\n      getRuleNameColumn({\r\n        title: '规则名称',\r\n        width: 140\r\n      })\r\n    ]\r\n\r\n    const { footerConfig } = useFooter()\r\n    /**\r\n     * 动态表格配置\r\n     * */\r\n    let columnsSS = ref([])\r\n    async function loadConfig(id) {\r\n      let params = {\r\n        tableId: {\r\n          id: id,\r\n          fiscalyear: store.state.userInfo.year,\r\n          mof_div_code: store.state.userInfo.province,\r\n          menuguid: store.state.curNavModule.guid\r\n        }\r\n      }\r\n      let configData = await loadBsConfig(params)\r\n      return configData.itemsConfig\r\n    }\r\n    /**\r\n     *判断使用本地配置||动态配置\r\n     * */\r\n    if (transJson3(store.state.curNavModule.param5) && transJson3(store.state.curNavModule.param5).isConfigTable === '1') {\r\n      loadConfig('Table201').then(res => {\r\n        columnsSS.value = res\r\n      })\r\n    } else {\r\n      columnsSS.value = [\r\n        ...(unref(pagePath) === RouterPathEnum.RULE_STATISTIC ? differentColumns : differentColumns.reverse()),\r\n        getWarnLevelColumn(),\r\n        getControlTypeColumn(),\r\n        getWarnTypeColumn(),\r\n        ...getWarnCountColumns(),\r\n        getIsDirColumn()\r\n      ]\r\n    }\r\n    /**\r\n     * 表格\r\n     * */\r\n    const [\r\n      {\r\n        columns,\r\n        tableToolbarConfig,\r\n        tableConfig,\r\n        tableData,\r\n        resetFetchTableData,\r\n        tableLoadingState,\r\n        pagerChange,\r\n        pagerConfig,\r\n        onToolbarBtnClick\r\n      },\r\n      registerTable\r\n    ] = useTable({\r\n      fetch: unref(pagePath) === RouterPathEnum.UNIT_STATISTIC ? queryDepData : queryRuleData,\r\n      beforeFetch: params => {\r\n        const { fiRuleCodes, agencyCode } = props.currentRow\r\n        const property = unref(pagePath) === RouterPathEnum.UNIT_STATISTIC ? 'agencyCode' : 'fiRuleCodes'\r\n        const value = unref(pagePath) === RouterPathEnum.UNIT_STATISTIC ? agencyCode : fiRuleCodes\r\n        return {\r\n          ...params,\r\n          paramCode: transJson1(store.state.curNavModule.param5 || '')?.paramCode,\r\n          isFilterByPerm: transJson1(store.state.curNavModule.param5 || '')?.isFilterByPerm,\r\n          fiRuleName: props.currentRow.ruleName,\r\n          ...queryData,\r\n          [property]: value\r\n        }\r\n      },\r\n      finallyFetch: data => {\r\n        footerConfig.value.totalObj = data?.warnHJVO || {}\r\n      },\r\n      columns: columnsSS,\r\n      dataKey: 'data.results'\r\n    })\r\n    /**\r\n     * 双击单元格\r\n     * */\r\n    // function cellDblclick(a, b, e) {\r\n    function cellDblclick({ row }) {\r\n      // detailCurrentRow.value = row\r\n      // // console.log('log-------', a, b, e)\r\n      // changeHOVModelVisible(true)\r\n    }\r\n    function cellClick(obj, context, e) {\r\n      let key = obj.column.property\r\n      if (key === 'onWay') {\r\n        this.type = '3'\r\n      } else if (key === 'prohibit') {\r\n        this.type = '2'\r\n      } else if (key === 'release') {\r\n        this.type = '1'\r\n      } else {\r\n        this.type = ''\r\n      }\r\n      obj.row.type = this.type\r\n      detailCurrentRow.value = obj.row\r\n      console.log('---------------', obj.row.type)\r\n      console.log('---------------', obj.row)\r\n      changeHOVModelVisible(true)\r\n    }\r\n\r\n    return {\r\n      visible,\r\n      handlingOfViolationsModel,\r\n      detailCurrentRow,\r\n      type,\r\n      cellCursorUnderlineClassName,\r\n      cellDblclick,\r\n      cellClick,\r\n      footerConfig,\r\n      columns,\r\n      registerTable,\r\n      tableConfig,\r\n      tableData,\r\n      tableLoadingState,\r\n      pagerConfig,\r\n      tableToolbarConfig,\r\n      onToolbarBtnClick,\r\n      pagerChange,\r\n      resetFetchTableData\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.PreviewDetail{\r\n  /deep/ .vxe-pager--total{\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n"]}]}