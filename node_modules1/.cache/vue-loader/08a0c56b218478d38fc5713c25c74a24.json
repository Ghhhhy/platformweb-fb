{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\components\\AuditModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\components\\AuditModal.vue","mtime":1694576524768},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGNvbXB1dGVkLCByZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknDQppbXBvcnQgUnVsZUluZm8gZnJvbSAnLi9SdWxlSW5mbycNCmltcG9ydCBBdWRpdFByb2dyZXNzIGZyb20gJy4vQXVkaXRQcm9ncmVzcycNCmltcG9ydCBBdHRhY2htZW50SW5mbyBmcm9tICcuL0F0dGFjaG1lbnRJbmZvJw0KaW1wb3J0IEF1ZGl0Rm9ybSBmcm9tICcuL0F1ZGl0Rm9ybScNCmltcG9ydCBQcmV2aWV3UmVjZWlwdHMgZnJvbSAnLi9QcmV2aWV3UmVjZWlwdHMnDQppbXBvcnQgUHJpbnRIdG1sTm9kZSBmcm9tICcuL1ByaW50SHRtbE5vZGUnDQppbXBvcnQgUnVsZVByZXZpZXcgZnJvbSAnQC92aWV3cy9tYWluL01vaW50b3JpbmdNYXR0ZXJzL1N5c3RlbUxldmVsUnVsZXMvY2hpbGRyZW4vYWRkRGlhbG9nLnZ1ZScNCg0KaW1wb3J0IHVzZUxvYWRpbmdTdGF0ZSBmcm9tICdAL2hvb2tzL3VzZUxvYWRpbmdTdGF0ZScNCmltcG9ydCB1c2VBdHRhY2hGaWxlcyBmcm9tICcuLi9ob29rcy91c2VBdHRhY2hGaWxlcycNCmltcG9ydCB1c2VJcyBmcm9tICcuLi9ob29rcy91c2VJcycNCmltcG9ydCB1c2VJbmplY3RTdGF0ZSBmcm9tICcuLi9ob29rcy91c2VJbmplY3RTdGF0ZScNCmltcG9ydCB1c2VQcmludCBmcm9tICcuLi9ob29rcy91c2VQcmludCcNCmltcG9ydCB1c2VXYXJuSW5mbyBmcm9tICcuLi9ob29rcy91c2VXYXJuSW5mbycNCmltcG9ydCB1c2VSdWxlUHJldmlld01vZGFsIGZyb20gJy4uL2hvb2tzL3VzZVJ1bGVQcmV2aWV3TW9kYWwnDQppbXBvcnQgeyB1c2VNb2RhbCwgdXNlTW9kYWxJbm5lciB9IGZyb20gJ0AvaG9va3MvdXNlTW9kYWwvaW5kZXgnDQppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScNCg0KaW1wb3J0IHsgTWVzc2FnZSwgTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtdWknDQppbXBvcnQgeyBNb2RhbFR5cGVFbnVtLCBSb3V0ZXJQYXRoRW51bSwgQWN0aW9uVHlwZUVudW0gfSBmcm9tICcuLi9tb2RlbC9lbnVtJw0KaW1wb3J0IHsgY2hlY2tSc2NvZGUgfSBmcm9tICdAL3V0aWxzL2NoZWNrUnNjb2RlJw0KaW1wb3J0IHsgYnBtRmxvdyB9IGZyb20gJ0AvYXBpL2ZyYW1lL21haW4vaGFuZGxpbmdPZlZpb2xhdGlvbnMvaW5kZXguanMnDQppbXBvcnQgeyBwYWdlUGF0aE1hcE5vZGVUeXBlLCB3YXJuTGV2ZWxPcHRpb25zIH0gZnJvbSAnLi4vbW9kZWwvZGF0YScNCg0KLy8g6Ieq5a6a5LmJ5Y+M5ZCR57uR5a6aDQpjb25zdCBtb2RlbCA9IHsNCiAgcHJvcDogJ3ZhbHVlJywNCiAgZXZlbnQ6ICdjaGFuZ2VWYWx1ZScNCn0NCmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7DQogIGNvbXBvbmVudHM6IHsNCiAgICBSdWxlSW5mbywNCiAgICBBdWRpdFByb2dyZXNzLA0KICAgIEF0dGFjaG1lbnRJbmZvLA0KICAgIEF1ZGl0Rm9ybSwNCiAgICBQcmV2aWV3UmVjZWlwdHMsDQogICAgUHJpbnRIdG1sTm9kZSwNCiAgICBSdWxlUHJldmlldw0KICB9LA0KICBwcm9wczogew0KICAgIC8vIOW8ueeql+aYvumakA0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIC8vIOWLvumAieihjA0KICAgIGNoZWNrZWRSZWNvcmRzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IChbXSkNCiAgICB9LA0KICAgIG1lbnVOYW1lOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0NCiAgfSwNCiAgbW9kZWwsDQogIHNldHVwKHByb3BzLCB7IGVtaXQgfSkgew0KICAgIGNvbnN0IHsgbWVudU5hbWUgfSA9IHByb3BzDQogICAgY29uc3QgaXNOZWVkUmVmcmVzaEluZGV4TGlzdCA9IHJlZihmYWxzZSkNCiAgICAvKioNCiAgICAgKiDlvLnnqpflhoXpg6jnirbmgIENCiAgICAgKiAqLw0KICAgIGNvbnN0IHsgdmlzaWJsZSB9ID0gdXNlTW9kYWxJbm5lcihwcm9wcywgZW1pdCwgew0KICAgICAgLi4ubW9kZWwsDQogICAgICBzZXRDYWxsYmFjazogdmFsID0+IHsNCiAgICAgICAgLy8g5YWz6Zet5by556qXICYmIOmcgOimgeWIt+aWsOeItue7hOS7tuWIl+ihqA0KICAgICAgICBpZiAoIXZhbCAmJiB1bnJlZihpc05lZWRSZWZyZXNoSW5kZXhMaXN0KSkgZW1pdCgnc3VjY2VzcycpDQogICAgICB9DQogICAgfSkNCg0KICAgIC8qKg0KICAgICAqIOWkhOeQhuWNleebuOWFsw0KICAgICAqICovDQogICAgY29uc3Qgew0KICAgICAgY2xvbmVSZWNvcmRzLA0KICAgICAgY3VycmVudE5vZGUsDQogICAgICBjaGVja2VkSXRlbXNLZXksDQogICAgICBjaGVja2VkSXRlbXNPYmosDQogICAgICBjaGVja2VkQWxsLA0KICAgICAgaXNJbmRldGVybWluYXRlLA0KICAgICAgaGFuZGxlQ2hlY2tBbGxDaGFuZ2UsDQogICAgICBoYW5kbGVDaGVja2VkSXRlbXNLZXlDaGFuZ2UsDQogICAgICBub2RlQ2xpY2ssDQogICAgICBjdXJyZW50V2FybkRldGFpbCwNCiAgICAgIGdldERldGFpbEhhbmRsZQ0KICAgIH0gPSB1c2VXYXJuSW5mbyhwcm9wcykNCg0KICAgIC8qKg0KICAgICAqIOS+nei1luazqOWFpeebuOWFsw0KICAgICAqICovDQogICAgY29uc3Qgew0KICAgICAgbW9kYWxUeXBlLA0KICAgICAgcGFnZVBhdGgNCiAgICB9ID0gdXNlSW5qZWN0U3RhdGUoKQ0KDQogICAgLy8g5Y2V5o2u5by556qX5pi+6ZqQDQogICAgY29uc3QgW3JlY2VpcHRzTW9kYWxWaXNpYmxlLCBjaGFuZ2VSZWNlaXB0c01vZGFsVmlzaWJsZV0gPSB1c2VNb2RhbCgpDQoNCiAgICAvKioNCiAgICAgKiDop4TliJnor6bmg4XlvLnnqpfmqKHlnZcNCiAgICAgKiAqLw0KICAgIGNvbnN0IHsNCiAgICAgIGRpYWxvZ1RpdGxlLA0KICAgICAgZGlhbG9nVmlzaWJsZSwNCiAgICAgIGNoYW5nZURpYWxvZ1Zpc2libGUsDQogICAgICBEZXRhaWxEYXRhDQogICAgfSA9IHVzZVJ1bGVQcmV2aWV3TW9kYWwoY3VycmVudE5vZGUpDQoNCiAgICAvKioNCiAgICAgKiDliKTmlq3nm7jlhbMNCiAgICAgKiAqLw0KICAgIGNvbnN0IHsNCiAgICAgIGlzQWxsb3dEaXNhYmxlZCwNCiAgICAgIGlzVW5pdEZlZWRiYWNrUGFnZSwNCiAgICAgIGlzQmx1ZVdhcm5MZXZlbCwNCiAgICAgIGlzRGl2aXNpb25QYWdlDQogICAgfSA9IHVzZUlzKGN1cnJlbnROb2RlLCBwYWdlUGF0aCwgY2hlY2tlZEl0ZW1zT2JqKQ0KDQogICAgLy8gLy8g5piv5ZCm5pi+56S66KGo5Y2VDQogICAgLy8gY29uc3QgaXNTaG93Rm9ybUNvbXBvbmVudCA9IGNvbXB1dGVkKCgpID0+IHsNCiAgICAvLyAgIGlmICh1bnJlZihjaGVja2VkSXRlbXNPYmopLmxlbmd0aCkgew0KICAgIC8vICAgICByZXR1cm4gdW5yZWYoY2hlY2tlZEl0ZW1zT2JqKQ0KICAgIC8vICAgfQ0KICAgIC8vIH0pDQoNCiAgICAvLyDlvLnnqpd0aXRsZQ0KICAgIGNvbnN0IG1vZGFsVGl0bGUgPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICByZXR1cm4gdW5yZWYobW9kYWxUeXBlKSA9PT0gTW9kYWxUeXBlRW51bS5BVURJVCA/ICfnm5HmjqflpITnkIYnIDogJ+WkhOeQhuWNleafpeeciycNCiAgICB9KQ0KDQogICAgLy8g56Gu6K6k44CB6YCB5a6h5oyJ6ZKu5paH5qGIDQogICAgY29uc3QgYnRuVGl0bGUgPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICAvLyDpnZ7ljZXkvY3lj43ppoggJiYg6Z2e6JOd6Imy6aKE6K2mICB8fCB1bnJlZihpc0JsdWVXYXJuTGV2ZWwpDQogICAgICByZXR1cm4gdW5yZWYocGFnZVBhdGgpICE9PSBSb3V0ZXJQYXRoRW51bSgpLlVOSVRfRkVFREJBQ0sNCiAgICAgICAgPyAn56Gu6K6kJw0KICAgICAgICA6ICfpgIHlrqEnDQogICAgfSkNCg0KICAgIC8vIOiOt+WPlumihOitpue6p+WIqw0KICAgIGNvbnN0IGdldFdhcm5MZXZlbE9wdGlvbiA9ICh3YXJuTGV2ZWwpID0+IHsNCiAgICAgIHJldHVybiB3YXJuTGV2ZWxPcHRpb25zLmZpbmQoaXRlbSA9PiBTdHJpbmcoaXRlbS52YWx1ZSkgPT09IFN0cmluZyh3YXJuTGV2ZWwpKSB8fCB7fQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOmZhOS7tuebuOWFsw0KICAgICAqICovDQogICAgY29uc3Qgew0KICAgICAgZmlsZUxvYWRpbmcsDQogICAgICB1cGxvYWRBZnRlciwNCiAgICAgIGRlbGV0ZUZpbGVIYW5kbGUsDQogICAgICBpbml0V2FybmluZ0NvZGVzQXR0YWNoRmlsZXMsDQogICAgICBpc1VwbG9hZEZpbGVzDQogICAgfSA9IHVzZUF0dGFjaEZpbGVzKGN1cnJlbnROb2RlLCBjbG9uZVJlY29yZHMsIGNoZWNrZWRJdGVtc09iaikNCg0KICAgIFByb21pc2UuYWxsKFsNCiAgICAgIGluaXRXYXJuaW5nQ29kZXNBdHRhY2hGaWxlcygpLA0KICAgICAgZ2V0RGV0YWlsSGFuZGxlKHsNCiAgICAgICAgd2FybmluZ0NvZGU6IHVucmVmKGN1cnJlbnROb2RlKS53YXJuaW5nQ29kZSwNCiAgICAgICAgaWQ6IHVucmVmKGN1cnJlbnROb2RlKS5pZA0KICAgICAgfSkNCiAgICBdKQ0KDQogICAgLyoqDQogICAgICog5omT5Y2w55u45YWzDQogICAgICogKi8NCiAgICBjb25zdCB7DQogICAgICBwcmludExvYWRpbmcsDQogICAgICBwcmludEh0bWxOb2RlUmVmLA0KICAgICAgcHJpbnREYXRhLA0KICAgICAgcHJpbnRIYW5kbGUsDQogICAgICBvcGVuUHJpbnRDYWxsYmFjaw0KICAgIH0gPSB1c2VQcmludChjaGVja2VkSXRlbXNLZXksIGN1cnJlbnRXYXJuRGV0YWlsLCBjbG9uZVJlY29yZHMpDQoNCiAgICAvLyDlpITnkIbmhI/op4HjgIHor7TmmI7nu4Tku7ZyZWblrp7kvosNCiAgICBjb25zdCBhdWRpdEZvcm1SZWYgPSByZWYobnVsbCkNCiAgICBjb25zdCBbIGF1ZGl0QnV0TG9hZGluZywgc2V0QXVkaXRCdXRMb2FkaW5nIF0gPSB1c2VMb2FkaW5nU3RhdGUoKQ0KDQogICAgLyoqDQogICAgICog5o+Q5Lqk5YmN5qCh6aqMDQogICAgICovDQogICAgZnVuY3Rpb24gc3VibWl0QmVmb3JlVmFsaWRhdGUoKSB7DQogICAgICAvLyDpooTorabnuqfliKvkuIDoh7TmgKfmoKHpqowNCiAgICAgIGlmIChoYXNEaWZmZXJlbnRXYXJuTGV2ZWwoKSkgew0KICAgICAgICBjb25zdCBtc2cgPSAn6aKE6K2m57qn5Yir5LiN5LiA6Ie077yM5LiN5Y+v5om56YeP5pON5L2cJw0KICAgICAgICBNZXNzYWdlLndhcm5pbmcobXNnKQ0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKQ0KICAgICAgfQ0KDQogICAgICAvLyDpmYTku7bmoKHpqozvvJrlj6rmnInljZXkvY3lj43ppoggJiYg5ZCO56uv6K+l5aSE55CG5Y2V6ZyA6KaB5Lyg6ZmE5Lu2DQogICAgICBpZiAodW5yZWYoaXNVbml0RmVlZGJhY2tQYWdlKSAmJiAhaXNVcGxvYWRGaWxlcygpKSB7DQogICAgICAgIHRocm93IG5ldyBFcnJvcign6ZmE5Lu25b+F5LygJykNCiAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDlhbPpl63lvLnnqpcg5Yi35paw54i257uE5Lu2DQogICAgICogKi8NCiAgICBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgew0KICAgICAgaXNOZWVkUmVmcmVzaEluZGV4TGlzdC52YWx1ZSA9IHRydWUNCiAgICAgIHZpc2libGUudmFsdWUgPSBmYWxzZQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOWFseeUqOaPkOS6pA0KICAgICAqIEBwYXJhbSBhY3Rpb25UeXBlIHtzdHJpbmd9IOaTjeS9nOexu+Wei++8mumAgeWuoeOAgeehruiupOOAgemAgOWbnuOAgeemgeatog0KICAgICAqICovDQogICAgYXN5bmMgZnVuY3Rpb24gc3VibWl0RmV0Y2goYWN0aW9uVHlwZSwgZm9yYmlkU3RhdHVzKSB7DQogICAgICB0cnkgew0KICAgICAgICBzZXRBdWRpdEJ1dExvYWRpbmcodHJ1ZSkNCiAgICAgICAgc3VibWl0QmVmb3JlVmFsaWRhdGUoKQ0KDQogICAgICAgIGNvbnN0IGF1ZGl0Rm9ybURhdGEgPSBhdWRpdEZvcm1SZWYudmFsdWU/LmZvcm1EYXRhDQogICAgICAgIGNvbnN0IHdhcm5pbmdDb2RlQW5kRmlsZXNMaXN0ID0gdW5yZWYoY2hlY2tlZEl0ZW1zT2JqKT8ubGVuZ3RoID8gdW5yZWYoY2hlY2tlZEl0ZW1zT2JqKSA6IFt1bnJlZihjdXJyZW50Tm9kZSldDQoNCiAgICAgICAgLy8g6JOd6Imy6aKE6K2m5LiN5qCh6aqM6KGo5Y2VDQogICAgICAgIGlmICh3YXJuaW5nQ29kZUFuZEZpbGVzTGlzdD8uWzBdLndhcm5MZXZlbCAhPT0gdW5yZWYoaXNCbHVlV2FybkxldmVsKSkgew0KICAgICAgICAgIGF3YWl0IGF1ZGl0Rm9ybVJlZi52YWx1ZT8udmFsaWRhdGU/LigpDQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCBtZW51SWQgPSBzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGU/Lmd1aWQgfHwgJycNCiAgICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICAgIC4uLmF1ZGl0Rm9ybURhdGEsDQogICAgICAgICAgYWN0aW9uVHlwZSwNCiAgICAgICAgICBub2RlVHlwZTogcGFnZVBhdGhNYXBOb2RlVHlwZVt1bnJlZihwYWdlUGF0aCldLA0KICAgICAgICAgIHdhcm5pbmdDb2RlQW5kRmlsZXNMaXN0OiB3YXJuaW5nQ29kZUFuZEZpbGVzTGlzdC5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICBjb25zdCB7IHdhcm5pbmdDb2RlLCB3YXJuTGV2ZWwsIGF0dGFjaEZpbGVzLCBpZCB9ID0gaXRlbQ0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgd2FybmluZ0NvZGUsDQogICAgICAgICAgICAgIHdhcm5MZXZlbCwNCiAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgIGF0dGFjaEZpbGVzOiBhdHRhY2hGaWxlcy5tYXAoaXRlbSA9PiBpdGVtLmZpbGVndWlkKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pLA0KICAgICAgICAgIG1lbnVOYW1lOiBtZW51TmFtZSwNCiAgICAgICAgICBzdGF0dXNDb2RlOiB3YXJuaW5nQ29kZUFuZEZpbGVzTGlzdFswXT8uc3RhdHVzQ29kZSwNCiAgICAgICAgICBtZW51SWQNCiAgICAgICAgfQ0KICAgICAgICAvLyDnpoHmraLpop3lpJblj4LmlbDmoIfor4YNCiAgICAgICAgaWYgKGZvcmJpZFN0YXR1cykgew0KICAgICAgICAgIHBhcmFtcy5mb3JiaWRTdGF0dXMgPSBmb3JiaWRTdGF0dXMNCiAgICAgICAgfQ0KICAgICAgICAvLyDotbDor7fmsYLpgLvovpENCiAgICAgICAgY2hlY2tSc2NvZGUoYXdhaXQgYnBtRmxvdyhwYXJhbXMpKQ0KICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MoJ+aTjeS9nOaIkOWKn++8gScpDQogICAgICAgIC8vIGNsb3NlTW9kYWwoKQ0KICAgICAgICAvLyDlhajpg6jlpITnkIbljZXpg73lt7LlpITnkIYgLT4g55u05o6l5YWz6Zet5by556qXDQogICAgICAgIGlmICh3YXJuaW5nQ29kZUFuZEZpbGVzTGlzdC5sZW5ndGggPT09IHVucmVmKGNsb25lUmVjb3Jkcyk/Lmxlbmd0aCkgew0KICAgICAgICAgIGNsb3NlTW9kYWwoKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICAgIE1lc3NhZ2VCb3guY29uZmlybSgn5a2Y5Zyo5pyq5aSE55CG55qE5aSE55CG5Y2V77yM5piv5ZCm57un57ut5aSE55CGPycsICfmk43kvZzmiJDlip8nLCB7DQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnu6fnu60nLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflhbPpl60nLA0KICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHdhcm5pbmdDb2RlQW5kRmlsZXNMaXN0LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2xvbmVSZWNvcmRzLnZhbHVlLmZpbmRJbmRleChyZWNvcmQgPT4gaXRlbS53YXJuaW5nQ29kZSA9PT0gcmVjb3JkLndhcm5pbmdDb2RlKQ0KICAgICAgICAgICAgICBpbmRleCA+IC0xICYmIGNsb25lUmVjb3Jkcy52YWx1ZS5zcGxpY2UoaW5kZXgsIDEpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgaWYgKCFjbG9uZVJlY29yZHMudmFsdWUuZmluZChpdGVtID0+IGl0ZW0ud2FybmluZ0NvZGUgPT09IHVucmVmKGN1cnJlbnROb2RlKS53YXJuaW5nQ29kZSkpIHsNCiAgICAgICAgICAgICAgY3VycmVudE5vZGUudmFsdWUgPSBjbG9uZVJlY29yZHMudmFsdWVbMF0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIOWLvumAiee9ruepug0KICAgICAgICAgICAgY2hlY2tlZEl0ZW1zS2V5LnZhbHVlID0gW10NCiAgICAgICAgICAgIC8vIOWkhOeQhuaEj+ingee9ruepug0KICAgICAgICAgICAgYXVkaXRGb3JtUmVmLnZhbHVlPy5yZXNldCgpDQogICAgICAgICAgICAvLyDpnIDopoHlnKjlkI7nu63lhbPpl63lvLnnqpflkI7miafooYzliLfmlrDkuLvliJfooajmk43kvZwNCiAgICAgICAgICAgIGlzTmVlZFJlZnJlc2hJbmRleExpc3QudmFsdWUgPSB0cnVlDQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgY2xvc2VNb2RhbCgpDQogICAgICAgICAgfSkNCiAgICAgIH0gZmluYWxseSB7DQogICAgICAgIHNldEF1ZGl0QnV0TG9hZGluZyhmYWxzZSkNCiAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDmmK/lkKbmnInkuI3lkIzpooTorabnuqfliKsNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBoYXNEaWZmZXJlbnRXYXJuTGV2ZWwoKSB7DQogICAgICBjb25zdCB3YXJuTGV2ZWxMaXN0ID0gKHVucmVmKGNoZWNrZWRJdGVtc09iaik/Lmxlbmd0aCA/IHVucmVmKGNoZWNrZWRJdGVtc09iaikgOiBbdW5yZWYoY3VycmVudE5vZGUpXSkNCiAgICAgICAgLm1hcChpdGVtID0+IGl0ZW0ud2FybkxldmVsKQ0KDQogICAgICBjb25zdCBsZXZlbFNldCA9IG5ldyBTZXQod2FybkxldmVsTGlzdCkNCiAgICAgIHJldHVybiBsZXZlbFNldC5zaXplID4gMQ0KICAgIH0NCg0KICAgIHJldHVybiB7DQogICAgICBNb2RhbFR5cGVFbnVtLA0KICAgICAgUm91dGVyUGF0aEVudW0sDQogICAgICBBY3Rpb25UeXBlRW51bSwNCg0KICAgICAgdmlzaWJsZSwNCiAgICAgIG1vZGFsVGl0bGUsDQogICAgICBtb2RhbFR5cGUsDQogICAgICBwYWdlUGF0aCwNCiAgICAgIGF1ZGl0Rm9ybVJlZiwNCg0KICAgICAgY2xvbmVSZWNvcmRzLA0KICAgICAgZ2V0V2FybkxldmVsT3B0aW9uLA0KDQogICAgICBpc0FsbG93RGlzYWJsZWQsDQogICAgICBpc1VuaXRGZWVkYmFja1BhZ2UsDQogICAgICBpc0RpdmlzaW9uUGFnZSwNCg0KICAgICAgcHJpbnRMb2FkaW5nLA0KICAgICAgcHJpbnREYXRhLA0KICAgICAgcHJpbnRIdG1sTm9kZVJlZiwNCiAgICAgIHByaW50SGFuZGxlLA0KICAgICAgb3BlblByaW50Q2FsbGJhY2ssDQoNCiAgICAgIGF1ZGl0QnV0TG9hZGluZywNCiAgICAgIHN1Ym1pdEZldGNoLA0KDQogICAgICBmaWxlTG9hZGluZywNCiAgICAgIHVwbG9hZEFmdGVyLA0KICAgICAgZGVsZXRlRmlsZUhhbmRsZSwNCg0KICAgICAgYnRuVGl0bGUsDQogICAgICBpc0JsdWVXYXJuTGV2ZWwsDQoNCiAgICAgIGN1cnJlbnRXYXJuRGV0YWlsLA0KDQogICAgICBub2RlQ2xpY2ssDQogICAgICBjdXJyZW50Tm9kZSwNCiAgICAgIGNoZWNrZWRJdGVtc0tleSwNCiAgICAgIGlzSW5kZXRlcm1pbmF0ZSwNCiAgICAgIGNoZWNrZWRBbGwsDQogICAgICBoYW5kbGVDaGVja0FsbENoYW5nZSwNCiAgICAgIGhhbmRsZUNoZWNrZWRJdGVtc0tleUNoYW5nZSwNCiAgICAgIHJlY2VpcHRzTW9kYWxWaXNpYmxlLA0KICAgICAgY2hhbmdlUmVjZWlwdHNNb2RhbFZpc2libGUsDQoNCiAgICAgIGNoYW5nZURpYWxvZ1Zpc2libGUsDQogICAgICBkaWFsb2dWaXNpYmxlLA0KICAgICAgRGV0YWlsRGF0YSwNCiAgICAgIGRpYWxvZ1RpdGxlDQogICAgfQ0KICB9DQp9KQ0K"},{"version":3,"sources":["AuditModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AuditModal.vue","sourceRoot":"src/views/main/handlingOfViolations/components","sourcesContent":["<template>\r\n  <div>\r\n    <vxe-modal\r\n      v-model=\"visible\"\r\n      :destroy-on-close=\"true\"\r\n      :title=\"modalTitle\"\r\n      width=\"80%\"\r\n      height=\"80%\"\r\n      resize\r\n      show-footer\r\n    >\r\n      <template #footer>\r\n        <!--查看-->\r\n        <div v-if=\"modalType === ModalTypeEnum.PREVIEW\">\r\n          <vxe-button size=\"small\" @click=\"visible = false\">取消</vxe-button>\r\n          <vxe-button :loading=\"printLoading\" type=\"primary\" size=\"small\" @click=\"printHandle\">打印</vxe-button>\r\n        </div>\r\n        <!--处理-->\r\n        <div v-if=\"modalType === ModalTypeEnum.AUDIT\">\r\n          <vxe-button\r\n            size=\"small\"\r\n            @click=\"visible = false\"\r\n          >\r\n            取消\r\n          </vxe-button>\r\n          <vxe-button\r\n            v-if=\"!isUnitFeedbackPage\"\r\n            :disabled=\"auditButLoading\"\r\n            size=\"small\"\r\n            @click=\"submitFetch(ActionTypeEnum.ACTION_RETURN)\"\r\n          >\r\n            退回\r\n          </vxe-button>\r\n          <vxe-button\r\n            v-if=\"isAllowDisabled\"\r\n            :disabled=\"auditButLoading\"\r\n            size=\"small\"\r\n            @click=\"submitFetch(ActionTypeEnum.ACTION_DISABLED, 1)\"\r\n          >\r\n            禁止\r\n          </vxe-button>\r\n          <vxe-button\r\n            :disabled=\"auditButLoading\"\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click=\"submitFetch(ActionTypeEnum.ACTION_AUDIT)\"\r\n          >\r\n            <!-- 需求变动 蓝色警告也是 送审按钮 2023 06 14-->\r\n            {{ btnTitle }}\r\n          </vxe-button>\r\n        </div>\r\n      </template>\r\n      <div class=\"modal-content\" :style=\"{ height: `calc(100% - ${modalType === ModalTypeEnum.AUDIT ? 6 : 20}px)` }\">\r\n        <BsSplitPane\r\n          :default-percent=\"20\"\r\n          split=\"vertical\"\r\n          :style=\"{\r\n            height: `calc(100% - ${modalType !== ModalTypeEnum.PREVIEW ? 110 : 0}px)`,\r\n          }\"\r\n        >\r\n          <!--左侧处理单信息-->\r\n          <template #paneL>\r\n            <div class=\"left-items\">\r\n              <el-checkbox\r\n                v-model=\"checkedAll\"\r\n                :indeterminate=\"isIndeterminate\"\r\n                class=\"dfr-custom-check-all\"\r\n                @change=\"handleCheckAllChange\"\r\n              >\r\n                全部监控处理单（{{ cloneRecords.length }}）\r\n              </el-checkbox>\r\n              <div class=\"items-detail\">\r\n                <el-checkbox-group\r\n                  v-model=\"checkedItemsKey\"\r\n                  @change=\"handleCheckedItemsKeyChange\"\r\n                >\r\n                  <div\r\n                    v-for=\"item in cloneRecords\"\r\n                    :key=\"item.warningCode\"\r\n                    :class=\"['dfr-custom-checkbox', (currentNode && item.warningCode === currentNode.warningCode) && 'is-active']\"\r\n                    data-valid=\"true\"\r\n                    @click=\"nodeClick(item, $event)\"\r\n                  >\r\n                    <el-checkbox\r\n                      :label=\"item.warningCode\"\r\n                    />\r\n                    <span\r\n                      data-valid=\"true\"\r\n                      class=\"dfr-custom-checkbox-label\"\r\n                    >\r\n                      <i :class=\"['warning-icon',...getWarnLevelOption(item.warnLevel).iconClass]\" :style=\"{ ...getWarnLevelOption(item.warnLevel).iconStyle }\"></i>\r\n                      {{ item.warningCode }}\r\n                    </span>\r\n                  </div>\r\n                </el-checkbox-group>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <!--右侧当前选中的处理单信息-->\r\n          <template #paneR>\r\n            <div class=\"right-info\" style=\"height: 100%; overflow-y: auto\">\r\n              <!--规则信息-->\r\n              <RuleInfo :rule-info=\"currentWarnDetail.ruleResVO\">\r\n                <template #header>\r\n                  <bs-table-title title=\"违规单信息\">\r\n                    <div>\r\n                      <!--2023-04-21提出暂时隐藏-->\r\n                      <!--<vxe-button-->\r\n                      <!--  v-if=\"isDivisionPage\"-->\r\n                      <!--  size=\"mini\"-->\r\n                      <!--  @click=\"changeDialogVisible(true)\"-->\r\n                      <!--&gt;-->\r\n                      <!--  规则查看-->\r\n                      <!--</vxe-button>-->\r\n                      <vxe-button\r\n                        size=\"mini\"\r\n                        @click=\"changeReceiptsModalVisible(true)\"\r\n                      >\r\n                        业务单据查看\r\n                      </vxe-button>\r\n                    </div>\r\n                  </bs-table-title>\r\n                </template>\r\n              </RuleInfo>\r\n              <!--处理进度-->\r\n              <AuditProgress\r\n                v-if=\"currentWarnDetail.processResultList\"\r\n                :table-data=\"currentWarnDetail.processResultList\"\r\n              />\r\n              <!--附件信息-->\r\n              <AttachmentInfo\r\n                v-if=\"true\"\r\n                :loading=\"fileLoading\"\r\n                :required=\"currentNode.uploadFile\"\r\n                :file-list=\"currentNode.attachFiles\"\r\n                :billguid=\"currentNode.warningCode\"\r\n                @uploadAfter=\"uploadAfter\"\r\n                @deleteFile=\"deleteFileHandle\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </BsSplitPane>\r\n        <!--处理表单：非处理单查看 | 非蓝色预警 => 显示--> <!-- 需求变动 都需要显示input框 2023 06 14-->\r\n        <AuditForm\r\n          v-if=\"modalType !== ModalTypeEnum.PREVIEW \"\r\n          ref=\"auditFormRef\"\r\n        />\r\n      </div>\r\n      <!--业务单据查看弹窗-->\r\n      <PreviewReceipts\r\n        v-if=\"receiptsModalVisible\"\r\n        v-model=\"receiptsModalVisible\"\r\n        :current-node=\"currentNode\"\r\n      />\r\n      <!--打印组件-->\r\n      <div class=\"dfr-print-page-wrapper\">\r\n        <PrintHtmlNode\r\n          ref=\"printHtmlNodeRef\"\r\n          :list=\"printData\"\r\n          @open=\"openPrintCallback\"\r\n        />\r\n      </div>\r\n    </vxe-modal>\r\n    <!--规则查看-->\r\n    <RulePreview\r\n      v-if=\"dialogVisible\"\r\n      :title=\"dialogTitle\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, computed, ref, unref } from '@vue/composition-api'\r\nimport RuleInfo from './RuleInfo'\r\nimport AuditProgress from './AuditProgress'\r\nimport AttachmentInfo from './AttachmentInfo'\r\nimport AuditForm from './AuditForm'\r\nimport PreviewReceipts from './PreviewReceipts'\r\nimport PrintHtmlNode from './PrintHtmlNode'\r\nimport RulePreview from '@/views/main/MointoringMatters/SystemLevelRules/children/addDialog.vue'\r\n\r\nimport useLoadingState from '@/hooks/useLoadingState'\r\nimport useAttachFiles from '../hooks/useAttachFiles'\r\nimport useIs from '../hooks/useIs'\r\nimport useInjectState from '../hooks/useInjectState'\r\nimport usePrint from '../hooks/usePrint'\r\nimport useWarnInfo from '../hooks/useWarnInfo'\r\nimport useRulePreviewModal from '../hooks/useRulePreviewModal'\r\nimport { useModal, useModalInner } from '@/hooks/useModal/index'\r\nimport store from '@/store'\r\n\r\nimport { Message, MessageBox } from 'element-ui'\r\nimport { ModalTypeEnum, RouterPathEnum, ActionTypeEnum } from '../model/enum'\r\nimport { checkRscode } from '@/utils/checkRscode'\r\nimport { bpmFlow } from '@/api/frame/main/handlingOfViolations/index.js'\r\nimport { pagePathMapNodeType, warnLevelOptions } from '../model/data'\r\n\r\n// 自定义双向绑定\r\nconst model = {\r\n  prop: 'value',\r\n  event: 'changeValue'\r\n}\r\nexport default defineComponent({\r\n  components: {\r\n    RuleInfo,\r\n    AuditProgress,\r\n    AttachmentInfo,\r\n    AuditForm,\r\n    PreviewReceipts,\r\n    PrintHtmlNode,\r\n    RulePreview\r\n  },\r\n  props: {\r\n    // 弹窗显隐\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 勾选行\r\n    checkedRecords: {\r\n      type: Array,\r\n      default: () => ([])\r\n    },\r\n    menuName: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  model,\r\n  setup(props, { emit }) {\r\n    const { menuName } = props\r\n    const isNeedRefreshIndexList = ref(false)\r\n    /**\r\n     * 弹窗内部状态\r\n     * */\r\n    const { visible } = useModalInner(props, emit, {\r\n      ...model,\r\n      setCallback: val => {\r\n        // 关闭弹窗 && 需要刷新父组件列表\r\n        if (!val && unref(isNeedRefreshIndexList)) emit('success')\r\n      }\r\n    })\r\n\r\n    /**\r\n     * 处理单相关\r\n     * */\r\n    const {\r\n      cloneRecords,\r\n      currentNode,\r\n      checkedItemsKey,\r\n      checkedItemsObj,\r\n      checkedAll,\r\n      isIndeterminate,\r\n      handleCheckAllChange,\r\n      handleCheckedItemsKeyChange,\r\n      nodeClick,\r\n      currentWarnDetail,\r\n      getDetailHandle\r\n    } = useWarnInfo(props)\r\n\r\n    /**\r\n     * 依赖注入相关\r\n     * */\r\n    const {\r\n      modalType,\r\n      pagePath\r\n    } = useInjectState()\r\n\r\n    // 单据弹窗显隐\r\n    const [receiptsModalVisible, changeReceiptsModalVisible] = useModal()\r\n\r\n    /**\r\n     * 规则详情弹窗模块\r\n     * */\r\n    const {\r\n      dialogTitle,\r\n      dialogVisible,\r\n      changeDialogVisible,\r\n      DetailData\r\n    } = useRulePreviewModal(currentNode)\r\n\r\n    /**\r\n     * 判断相关\r\n     * */\r\n    const {\r\n      isAllowDisabled,\r\n      isUnitFeedbackPage,\r\n      isBlueWarnLevel,\r\n      isDivisionPage\r\n    } = useIs(currentNode, pagePath, checkedItemsObj)\r\n\r\n    // // 是否显示表单\r\n    // const isShowFormComponent = computed(() => {\r\n    //   if (unref(checkedItemsObj).length) {\r\n    //     return unref(checkedItemsObj)\r\n    //   }\r\n    // })\r\n\r\n    // 弹窗title\r\n    const modalTitle = computed(() => {\r\n      return unref(modalType) === ModalTypeEnum.AUDIT ? '监控处理' : '处理单查看'\r\n    })\r\n\r\n    // 确认、送审按钮文案\r\n    const btnTitle = computed(() => {\r\n      // 非单位反馈 && 非蓝色预警  || unref(isBlueWarnLevel)\r\n      return unref(pagePath) !== RouterPathEnum().UNIT_FEEDBACK\r\n        ? '确认'\r\n        : '送审'\r\n    })\r\n\r\n    // 获取预警级别\r\n    const getWarnLevelOption = (warnLevel) => {\r\n      return warnLevelOptions.find(item => String(item.value) === String(warnLevel)) || {}\r\n    }\r\n\r\n    /**\r\n     * 附件相关\r\n     * */\r\n    const {\r\n      fileLoading,\r\n      uploadAfter,\r\n      deleteFileHandle,\r\n      initWarningCodesAttachFiles,\r\n      isUploadFiles\r\n    } = useAttachFiles(currentNode, cloneRecords, checkedItemsObj)\r\n\r\n    Promise.all([\r\n      initWarningCodesAttachFiles(),\r\n      getDetailHandle({\r\n        warningCode: unref(currentNode).warningCode,\r\n        id: unref(currentNode).id\r\n      })\r\n    ])\r\n\r\n    /**\r\n     * 打印相关\r\n     * */\r\n    const {\r\n      printLoading,\r\n      printHtmlNodeRef,\r\n      printData,\r\n      printHandle,\r\n      openPrintCallback\r\n    } = usePrint(checkedItemsKey, currentWarnDetail, cloneRecords)\r\n\r\n    // 处理意见、说明组件ref实例\r\n    const auditFormRef = ref(null)\r\n    const [ auditButLoading, setAuditButLoading ] = useLoadingState()\r\n\r\n    /**\r\n     * 提交前校验\r\n     */\r\n    function submitBeforeValidate() {\r\n      // 预警级别一致性校验\r\n      if (hasDifferentWarnLevel()) {\r\n        const msg = '预警级别不一致，不可批量操作'\r\n        Message.warning(msg)\r\n        throw new Error(msg)\r\n      }\r\n\r\n      // 附件校验：只有单位反馈 && 后端该处理单需要传附件\r\n      if (unref(isUnitFeedbackPage) && !isUploadFiles()) {\r\n        throw new Error('附件必传')\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 关闭弹窗 刷新父组件\r\n     * */\r\n    function closeModal() {\r\n      isNeedRefreshIndexList.value = true\r\n      visible.value = false\r\n    }\r\n\r\n    /**\r\n     * 共用提交\r\n     * @param actionType {string} 操作类型：送审、确认、退回、禁止\r\n     * */\r\n    async function submitFetch(actionType, forbidStatus) {\r\n      try {\r\n        setAuditButLoading(true)\r\n        submitBeforeValidate()\r\n\r\n        const auditFormData = auditFormRef.value?.formData\r\n        const warningCodeAndFilesList = unref(checkedItemsObj)?.length ? unref(checkedItemsObj) : [unref(currentNode)]\r\n\r\n        // 蓝色预警不校验表单\r\n        if (warningCodeAndFilesList?.[0].warnLevel !== unref(isBlueWarnLevel)) {\r\n          await auditFormRef.value?.validate?.()\r\n        }\r\n\r\n        const menuId = store.state.curNavModule?.guid || ''\r\n        const params = {\r\n          ...auditFormData,\r\n          actionType,\r\n          nodeType: pagePathMapNodeType[unref(pagePath)],\r\n          warningCodeAndFilesList: warningCodeAndFilesList.map(item => {\r\n            const { warningCode, warnLevel, attachFiles, id } = item\r\n            return {\r\n              warningCode,\r\n              warnLevel,\r\n              id,\r\n              attachFiles: attachFiles.map(item => item.fileguid)\r\n            }\r\n          }),\r\n          menuName: menuName,\r\n          statusCode: warningCodeAndFilesList[0]?.statusCode,\r\n          menuId\r\n        }\r\n        // 禁止额外参数标识\r\n        if (forbidStatus) {\r\n          params.forbidStatus = forbidStatus\r\n        }\r\n        // 走请求逻辑\r\n        checkRscode(await bpmFlow(params))\r\n        Message.success('操作成功！')\r\n        // closeModal()\r\n        // 全部处理单都已处理 -> 直接关闭弹窗\r\n        if (warningCodeAndFilesList.length === unref(cloneRecords)?.length) {\r\n          closeModal()\r\n          return\r\n        }\r\n        MessageBox.confirm('存在未处理的处理单，是否继续处理?', '操作成功', {\r\n          confirmButtonText: '继续',\r\n          cancelButtonText: '关闭',\r\n          type: 'success'\r\n        })\r\n          .then(() => {\r\n            warningCodeAndFilesList.forEach(item => {\r\n              const index = cloneRecords.value.findIndex(record => item.warningCode === record.warningCode)\r\n              index > -1 && cloneRecords.value.splice(index, 1)\r\n            })\r\n            if (!cloneRecords.value.find(item => item.warningCode === unref(currentNode).warningCode)) {\r\n              currentNode.value = cloneRecords.value[0]\r\n            }\r\n            // 勾选置空\r\n            checkedItemsKey.value = []\r\n            // 处理意见置空\r\n            auditFormRef.value?.reset()\r\n            // 需要在后续关闭弹窗后执行刷新主列表操作\r\n            isNeedRefreshIndexList.value = true\r\n          })\r\n          .catch(() => {\r\n            closeModal()\r\n          })\r\n      } finally {\r\n        setAuditButLoading(false)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 是否有不同预警级别\r\n     */\r\n    function hasDifferentWarnLevel() {\r\n      const warnLevelList = (unref(checkedItemsObj)?.length ? unref(checkedItemsObj) : [unref(currentNode)])\r\n        .map(item => item.warnLevel)\r\n\r\n      const levelSet = new Set(warnLevelList)\r\n      return levelSet.size > 1\r\n    }\r\n\r\n    return {\r\n      ModalTypeEnum,\r\n      RouterPathEnum,\r\n      ActionTypeEnum,\r\n\r\n      visible,\r\n      modalTitle,\r\n      modalType,\r\n      pagePath,\r\n      auditFormRef,\r\n\r\n      cloneRecords,\r\n      getWarnLevelOption,\r\n\r\n      isAllowDisabled,\r\n      isUnitFeedbackPage,\r\n      isDivisionPage,\r\n\r\n      printLoading,\r\n      printData,\r\n      printHtmlNodeRef,\r\n      printHandle,\r\n      openPrintCallback,\r\n\r\n      auditButLoading,\r\n      submitFetch,\r\n\r\n      fileLoading,\r\n      uploadAfter,\r\n      deleteFileHandle,\r\n\r\n      btnTitle,\r\n      isBlueWarnLevel,\r\n\r\n      currentWarnDetail,\r\n\r\n      nodeClick,\r\n      currentNode,\r\n      checkedItemsKey,\r\n      isIndeterminate,\r\n      checkedAll,\r\n      handleCheckAllChange,\r\n      handleCheckedItemsKeyChange,\r\n      receiptsModalVisible,\r\n      changeReceiptsModalVisible,\r\n\r\n      changeDialogVisible,\r\n      dialogVisible,\r\n      DetailData,\r\n      dialogTitle\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.left-items {\r\n  height: 100%;\r\n  padding: 4px 8px;\r\n  box-sizing: border-box;\r\n  background-color: #fff;\r\n\r\n  .items-detail {\r\n    height: calc(100% - 20px);\r\n    box-sizing: border-box;\r\n    overflow: auto;\r\n  }\r\n}\r\n\r\n.right-info {\r\n  padding: 0 8px 16px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.dfr-custom-check-all {\r\n  padding: 0 0 2px 4px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  overflow: hidden;\r\n}\r\n.dfr-custom-checkbox {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: 2px 4px;\r\n  cursor: pointer;\r\n  &.is-active {\r\n    background-color: var(--hightlight-color);\r\n  }\r\n  /deep/.el-checkbox__label {\r\n    display: none;\r\n  }\r\n  /deep/.dfr-custom-checkbox-label {\r\n    margin-left: 10px;\r\n    font-size: 16px;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n.dfr-print-page-wrapper {\r\n  position: fixed;\r\n  top: 0;\r\n  // 将dom移出到可视范围外\r\n  left: -100%;\r\n  //left: 0;\r\n  width: 100%;\r\n  height: auto;\r\n  z-index: 10;\r\n  background-color: #fff;\r\n}\r\n</style>\r\n"]}]}