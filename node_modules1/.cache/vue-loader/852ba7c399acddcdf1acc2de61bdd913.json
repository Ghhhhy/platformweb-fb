{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\statisticAnalysis\\common\\components\\HandlingOfViolationsDetailModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\statisticAnalysis\\common\\components\\HandlingOfViolationsDetailModal.vue","mtime":1694505522826},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHVucmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknDQppbXBvcnQgUnVsZUluZm8gZnJvbSAnQC92aWV3cy9tYWluL2hhbmRsaW5nT2ZWaW9sYXRpb25zL2NvbXBvbmVudHMvUnVsZUluZm8nDQppbXBvcnQgQXVkaXRQcm9ncmVzcyBmcm9tICdAL3ZpZXdzL21haW4vaGFuZGxpbmdPZlZpb2xhdGlvbnMvY29tcG9uZW50cy9BdWRpdFByb2dyZXNzJw0KaW1wb3J0IEF0dGFjaG1lbnRJbmZvIGZyb20gJ0Avdmlld3MvbWFpbi9oYW5kbGluZ09mVmlvbGF0aW9ucy9jb21wb25lbnRzL0F0dGFjaG1lbnRJbmZvJw0KaW1wb3J0IFByZXZpZXdSZWNlaXB0cyBmcm9tICdAL3ZpZXdzL21haW4vaGFuZGxpbmdPZlZpb2xhdGlvbnMvY29tcG9uZW50cy9QcmV2aWV3UmVjZWlwdHMnDQppbXBvcnQgUHJpbnRIdG1sTm9kZSBmcm9tICdAL3ZpZXdzL21haW4vaGFuZGxpbmdPZlZpb2xhdGlvbnMvY29tcG9uZW50cy9QcmludEh0bWxOb2RlJw0KDQppbXBvcnQgeyB1c2VNb2RhbCwgdXNlTW9kYWxJbm5lciB9IGZyb20gJ0AvaG9va3MvdXNlTW9kYWwvaW5kZXgnDQoNCmltcG9ydCB7IE1vZGFsVHlwZUVudW0sIFJvdXRlclBhdGhFbnVtIH0gZnJvbSAnQC92aWV3cy9tYWluL2hhbmRsaW5nT2ZWaW9sYXRpb25zL21vZGVsL2VudW0uanMnDQoNCmltcG9ydCB1c2VXYXJuSW5mbyBmcm9tICdAL3ZpZXdzL21haW4vaGFuZGxpbmdPZlZpb2xhdGlvbnMvaG9va3MvdXNlV2FybkluZm8nDQppbXBvcnQgdXNlQXR0YWNoRmlsZXMgZnJvbSAnQC92aWV3cy9tYWluL2hhbmRsaW5nT2ZWaW9sYXRpb25zL2hvb2tzL3VzZUF0dGFjaEZpbGVzJw0KaW1wb3J0IHVzZUlzIGZyb20gJ0Avdmlld3MvbWFpbi9oYW5kbGluZ09mVmlvbGF0aW9ucy9ob29rcy91c2VJcycNCmltcG9ydCB1c2VQcmludCBmcm9tICdAL3ZpZXdzL21haW4vaGFuZGxpbmdPZlZpb2xhdGlvbnMvaG9va3MvdXNlUHJpbnQnDQoNCi8vIOiHquWumuS5ieWPjOWQkee7keWumg0KY29uc3QgbW9kZWwgPSB7DQogIHByb3A6ICd2YWx1ZScsDQogIGV2ZW50OiAnY2hhbmdlVmFsdWUnDQp9DQpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoew0KICBjb21wb25lbnRzOiB7DQogICAgUnVsZUluZm8sDQogICAgQXVkaXRQcm9ncmVzcywNCiAgICBBdHRhY2htZW50SW5mbywNCiAgICBQcmV2aWV3UmVjZWlwdHMsDQogICAgUHJpbnRIdG1sTm9kZQ0KICB9LA0KICBwcm9wczogew0KICAgIC8vIOW8ueeql+aYvumakA0KICAgIFttb2RlbC5wcm9wXTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICAvLyDli77pgInooYwNCiAgICBjaGVja2VkUmVjb3Jkczogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiAoKSA9PiAoW10pDQogICAgfQ0KICB9LA0KICBtb2RlbCwNCiAgc2V0dXAocHJvcHMsIHsgZW1pdCB9KSB7DQogICAgLyoqDQogICAgICog5by556qX5YaF6YOo54q25oCBDQogICAgICogKi8NCiAgICBjb25zdCB7IHZpc2libGUgfSA9IHVzZU1vZGFsSW5uZXIocHJvcHMsIGVtaXQsIG1vZGVsKQ0KDQogICAgLy8g5Y2V5o2u5by556qX5pi+6ZqQDQogICAgY29uc3QgW3JlY2VpcHRzTW9kYWxWaXNpYmxlLCBjaGFuZ2VSZWNlaXB0c01vZGFsVmlzaWJsZV0gPSB1c2VNb2RhbCgpDQoNCiAgICAvKioNCiAgICAgKiDlpITnkIbljZXnm7jlhbMNCiAgICAgKiAqLw0KICAgIGNvbnN0IHsNCiAgICAgIGNsb25lUmVjb3JkcywNCiAgICAgIGN1cnJlbnROb2RlLA0KICAgICAgY2hlY2tlZEl0ZW1zS2V5LA0KICAgICAgY3VycmVudFdhcm5EZXRhaWwsDQogICAgICBnZXREZXRhaWxIYW5kbGUNCiAgICB9ID0gdXNlV2FybkluZm8ocHJvcHMpDQoNCiAgICAvKioNCiAgICAgKiDpmYTku7bnm7jlhbMNCiAgICAgKiAqLw0KICAgIGNvbnN0IHsNCiAgICAgIGZpbGVMb2FkaW5nLA0KICAgICAgaW5pdFdhcm5pbmdDb2Rlc0F0dGFjaEZpbGVzDQogICAgfSA9IHVzZUF0dGFjaEZpbGVzKGN1cnJlbnROb2RlLCBjbG9uZVJlY29yZHMsIGN1cnJlbnROb2RlLCBmYWxzZSkNCg0KICAgIFByb21pc2UuYWxsKFsNCiAgICAgIGluaXRXYXJuaW5nQ29kZXNBdHRhY2hGaWxlcygpLA0KICAgICAgZ2V0RGV0YWlsSGFuZGxlKHsNCiAgICAgICAgd2FybmluZ0NvZGU6IHVucmVmKGN1cnJlbnROb2RlKS53YXJuaW5nQ29kZSwNCiAgICAgICAgaWQ6IHVucmVmKGN1cnJlbnROb2RlKS5pZA0KICAgICAgfSkNCiAgICBdKQ0KDQogICAgLyoqDQogICAgICog5Yik5pat55u45YWzDQogICAgICogKi8NCiAgICBjb25zdCB7DQogICAgICBpc0JsdWVXYXJuTGV2ZWwNCiAgICB9ID0gdXNlSXMoY3VycmVudE5vZGUpDQoNCiAgICAvKioNCiAgICAgKiDmiZPljbDnm7jlhbMNCiAgICAgKiAqLw0KICAgIGNvbnN0IHsNCiAgICAgIHByaW50TG9hZGluZywNCiAgICAgIHByaW50SHRtbE5vZGVSZWYsDQogICAgICBwcmludERhdGEsDQogICAgICBwcmludEhhbmRsZSwNCiAgICAgIG9wZW5QcmludENhbGxiYWNrDQogICAgfSA9IHVzZVByaW50KGNoZWNrZWRJdGVtc0tleSwgY3VycmVudFdhcm5EZXRhaWwsIFtdKQ0KDQogICAgcmV0dXJuIHsNCiAgICAgIE1vZGFsVHlwZUVudW0sDQogICAgICBSb3V0ZXJQYXRoRW51bSwNCg0KICAgICAgdmlzaWJsZSwNCiAgICAgIGNsb25lUmVjb3JkcywNCiAgICAgIGlzQmx1ZVdhcm5MZXZlbCwNCg0KICAgICAgcHJpbnRMb2FkaW5nLA0KICAgICAgcHJpbnREYXRhLA0KICAgICAgcHJpbnRIdG1sTm9kZVJlZiwNCiAgICAgIHByaW50SGFuZGxlLA0KICAgICAgb3BlblByaW50Q2FsbGJhY2ssDQoNCiAgICAgIGZpbGVMb2FkaW5nLA0KDQogICAgICBjdXJyZW50V2FybkRldGFpbCwNCiAgICAgIGN1cnJlbnROb2RlLA0KICAgICAgY2hlY2tlZEl0ZW1zS2V5LA0KICAgICAgcmVjZWlwdHNNb2RhbFZpc2libGUsDQogICAgICBjaGFuZ2VSZWNlaXB0c01vZGFsVmlzaWJsZQ0KICAgIH0NCiAgfQ0KfSkNCg=="},{"version":3,"sources":["HandlingOfViolationsDetailModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HandlingOfViolationsDetailModal.vue","sourceRoot":"src/views/main/statisticAnalysis/common/components","sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"visible\"\r\n    :destroy-on-close=\"true\"\r\n    title=\"处理单查看\"\r\n    width=\"80%\"\r\n    height=\"80%\"\r\n    resize\r\n    show-footer\r\n  >\r\n    <template #footer>\r\n      <vxe-button size=\"small\" @click=\"visible = false\">返回</vxe-button>\r\n      <vxe-button size=\"small\" @click=\"$emit('closeAll')\">关闭</vxe-button>\r\n      <vxe-button :loading=\"printLoading\" type=\"primary\" size=\"small\" @click=\"printHandle\">打印</vxe-button>\r\n    </template>\r\n    <div class=\"modal-content\" style=\"height: calc(100% - 4px)\">\r\n      <!--规则信息-->\r\n      <RuleInfo :rule-info=\"currentWarnDetail.ruleResVO\">\r\n        <template #header>\r\n          <bs-table-title title=\"规则信息\">\r\n            <div class=\"f-c-c\">\r\n              <span v-if=\"currentWarnDetail.ruleResVO\" style=\"font-size: 16px; margin-right: 14px;\">处理单编号：{{ currentWarnDetail.ruleResVO.warningCode }}</span>\r\n              <vxe-button size=\"mini\" @click=\"changeReceiptsModalVisible(true)\">业务单据查看</vxe-button>\r\n            </div>\r\n          </bs-table-title>\r\n        </template>\r\n      </RuleInfo>\r\n      <!--处理进度-->\r\n      <AuditProgress\r\n        v-if=\"currentWarnDetail.processResultList && currentWarnDetail.processResultList.length\"\r\n        :table-data=\"currentWarnDetail.processResultList\"\r\n      />\r\n      <!--附件信息-->\r\n      <AttachmentInfo\r\n        v-if=\"!isBlueWarnLevel && currentNode\"\r\n        :loading=\"fileLoading\"\r\n        :required=\"currentNode.uploadFile\"\r\n        :file-list=\"currentNode.attachFiles\"\r\n        :billguid=\"currentNode.warningCode\"\r\n      />\r\n    </div>\r\n    <!--业务单据查看弹窗-->\r\n    <PreviewReceipts\r\n      v-if=\"receiptsModalVisible\"\r\n      v-model=\"receiptsModalVisible\"\r\n      :current-node=\"currentNode\"\r\n      v-on=\"$listeners\"\r\n    />\r\n    <!--打印组件-->\r\n    <div class=\"dfr-print-page-wrapper\">\r\n      <PrintHtmlNode\r\n        ref=\"printHtmlNodeRef\"\r\n        :list=\"printData\"\r\n        @open=\"openPrintCallback\"\r\n      />\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, unref } from '@vue/composition-api'\r\nimport RuleInfo from '@/views/main/handlingOfViolations/components/RuleInfo'\r\nimport AuditProgress from '@/views/main/handlingOfViolations/components/AuditProgress'\r\nimport AttachmentInfo from '@/views/main/handlingOfViolations/components/AttachmentInfo'\r\nimport PreviewReceipts from '@/views/main/handlingOfViolations/components/PreviewReceipts'\r\nimport PrintHtmlNode from '@/views/main/handlingOfViolations/components/PrintHtmlNode'\r\n\r\nimport { useModal, useModalInner } from '@/hooks/useModal/index'\r\n\r\nimport { ModalTypeEnum, RouterPathEnum } from '@/views/main/handlingOfViolations/model/enum.js'\r\n\r\nimport useWarnInfo from '@/views/main/handlingOfViolations/hooks/useWarnInfo'\r\nimport useAttachFiles from '@/views/main/handlingOfViolations/hooks/useAttachFiles'\r\nimport useIs from '@/views/main/handlingOfViolations/hooks/useIs'\r\nimport usePrint from '@/views/main/handlingOfViolations/hooks/usePrint'\r\n\r\n// 自定义双向绑定\r\nconst model = {\r\n  prop: 'value',\r\n  event: 'changeValue'\r\n}\r\nexport default defineComponent({\r\n  components: {\r\n    RuleInfo,\r\n    AuditProgress,\r\n    AttachmentInfo,\r\n    PreviewReceipts,\r\n    PrintHtmlNode\r\n  },\r\n  props: {\r\n    // 弹窗显隐\r\n    [model.prop]: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 勾选行\r\n    checkedRecords: {\r\n      type: Array,\r\n      default: () => ([])\r\n    }\r\n  },\r\n  model,\r\n  setup(props, { emit }) {\r\n    /**\r\n     * 弹窗内部状态\r\n     * */\r\n    const { visible } = useModalInner(props, emit, model)\r\n\r\n    // 单据弹窗显隐\r\n    const [receiptsModalVisible, changeReceiptsModalVisible] = useModal()\r\n\r\n    /**\r\n     * 处理单相关\r\n     * */\r\n    const {\r\n      cloneRecords,\r\n      currentNode,\r\n      checkedItemsKey,\r\n      currentWarnDetail,\r\n      getDetailHandle\r\n    } = useWarnInfo(props)\r\n\r\n    /**\r\n     * 附件相关\r\n     * */\r\n    const {\r\n      fileLoading,\r\n      initWarningCodesAttachFiles\r\n    } = useAttachFiles(currentNode, cloneRecords, currentNode, false)\r\n\r\n    Promise.all([\r\n      initWarningCodesAttachFiles(),\r\n      getDetailHandle({\r\n        warningCode: unref(currentNode).warningCode,\r\n        id: unref(currentNode).id\r\n      })\r\n    ])\r\n\r\n    /**\r\n     * 判断相关\r\n     * */\r\n    const {\r\n      isBlueWarnLevel\r\n    } = useIs(currentNode)\r\n\r\n    /**\r\n     * 打印相关\r\n     * */\r\n    const {\r\n      printLoading,\r\n      printHtmlNodeRef,\r\n      printData,\r\n      printHandle,\r\n      openPrintCallback\r\n    } = usePrint(checkedItemsKey, currentWarnDetail, [])\r\n\r\n    return {\r\n      ModalTypeEnum,\r\n      RouterPathEnum,\r\n\r\n      visible,\r\n      cloneRecords,\r\n      isBlueWarnLevel,\r\n\r\n      printLoading,\r\n      printData,\r\n      printHtmlNodeRef,\r\n      printHandle,\r\n      openPrintCallback,\r\n\r\n      fileLoading,\r\n\r\n      currentWarnDetail,\r\n      currentNode,\r\n      checkedItemsKey,\r\n      receiptsModalVisible,\r\n      changeReceiptsModalVisible\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.left-items {\r\n  height: 100%;\r\n  padding: 4px 8px;\r\n  box-sizing: border-box;\r\n  background-color: #fff;\r\n\r\n  .items-detail {\r\n    height: calc(100% - 20px);\r\n    box-sizing: border-box;\r\n    overflow: auto;\r\n  }\r\n}\r\n\r\n.right-info {\r\n  padding: 0 8px 16px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.dfr-custom-check-all {\r\n  padding: 0 0 2px 4px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n}\r\n.dfr-custom-checkbox {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: 2px 4px;\r\n  cursor: pointer;\r\n  &.is-active {\r\n    background-color: var(--hightlight-color);\r\n  }\r\n  /deep/.el-checkbox__label {\r\n    display: none;\r\n  }\r\n  /deep/.dfr-custom-checkbox-label {\r\n    margin-left: 10px;\r\n    font-size: 16px;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n.dfr-print-page-wrapper {\r\n  position: fixed;\r\n  top: 0;\r\n  // 将dom移出到可视范围外\r\n  left: -100%;\r\n  //left: 0;\r\n  width: 100%;\r\n  height: auto;\r\n  z-index: 10;\r\n  background-color: #fff;\r\n}\r\n</style>\r\n"]}]}