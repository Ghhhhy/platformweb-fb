{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\index.vue","mtime":1694576524770},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiwgdW5yZWYsIGNvbXB1dGVkLCBwcm92aWRlLCByZWFkb25seSwgdG9SYXcgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaScNCmltcG9ydCBBdWRpdE1vZGFsIGZyb20gJy4vY29tcG9uZW50cy9BdWRpdE1vZGFsJw0KaW1wb3J0IHVzZVRhYmxlIGZyb20gJ0AvaG9va3MvdXNlVGFibGUnDQppbXBvcnQgdXNlRm9ybSBmcm9tICdAL2hvb2tzL3VzZUZvcm0nDQppbXBvcnQgdXNlVHJlZSBmcm9tICdAL2hvb2tzL3VzZVRyZWUnDQppbXBvcnQgdXNlVGFiUGxhbmVsIGZyb20gJy4vaG9va3MvdXNlVGFiUGxhbmVsJw0KaW1wb3J0IHVzZUlzIGZyb20gJy4vaG9va3MvdXNlSXMnDQppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScNCmltcG9ydCB7IHRyYW5zSnNvbjIgfSBmcm9tICdAL3V0aWxzL3BhcmFtcycNCmltcG9ydCBlbGVtZW50VHJlZUFwaSBmcm9tICdAL2FwaS9mcmFtZS9jb21tb24vdHJlZS91bml0VHJlZS5qcycNCmltcG9ydCB7IHBhZ2VRdWVyeUluZGV4IH0gZnJvbSAnQC9hcGkvZnJhbWUvbWFpbi9oYW5kbGluZ09mVmlvbGF0aW9ucy9pbmRleC5qcycNCg0KaW1wb3J0IHsNCiAgc2VhcmNoRm9ybUNvbW1vblNjaGVtYXMsDQogIGdldENvbW1vbkNvbHVtbnMsDQogIGdldEF1ZGl0RGVzY3JpcHRpb25Db2x1bW4sDQogIGdldFN0YXR1c0NvZGVDb2x1bW4sDQogIHNlbmRBdWRpdFRhYnMsDQogIGRvQXVkaXRUYWJzLA0KICBwYWdlUGF0aE1hcE5vZGVUeXBlLA0KICBzZWFyY2hGb3JtQWxsVGFiU2NoZW1hLA0KICBnZXRTdGF0dXNDb2RlT3B0aW9ucywNCiAgZmpBZGRDb2x1bW5zDQp9IGZyb20gJy4vbW9kZWwvZGF0YScNCmltcG9ydCB7IFRhYkVudW0sIFJvdXRlclBhdGhFbnVtIH0gZnJvbSAnLi9tb2RlbC9lbnVtJw0KaW1wb3J0IHRyYW5zSnNvbiBmcm9tICdAL3V0aWxzL3RyYW5zZm9ybU1lbnVRdWVyeS5qcycNCg0KZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsNCiAgY29tcG9uZW50czogew0KICAgIEF1ZGl0TW9kYWwNCiAgfSwNCiAgc2V0dXAoXywgeyByb290IH0pIHsNCiAgICBjb25zdCBtZW51TmFtZSA9IHJlZihzdG9yZS5nZXR0ZXJzLmdldEN1ck5hdk1vZHVsZS5uYW1lKQ0KICAgIGNvbnN0IHJvdXRlID0gcm9vdC4kcm91dGUNCg0KICAgIC8vIOmhtemdoui3r+eUsQ0KICAgIGNvbnN0IHBhZ2VQYXRoID0gcmVmKHJvdXRlLnBhdGgpDQoNCiAgICBjb25zdCB7IGlzRGl2aXNpb25QYWdlIH0gPSB1c2VJcyh7fSwgcGFnZVBhdGgpDQoNCiAgICAvLyDmmK/lkKbmmK/ljZXkvY3pobXpnaLvvIjljZXkvY3lj43ppojjgIHljZXkvY3lrqHmoLjvvIkNCiAgICAvLyBjb25zdCBpc1VuaXRNZW51ID0gY29tcHV0ZWQoKCkgPT4gew0KICAgIC8vICAgcmV0dXJuIFtSb3V0ZXJQYXRoRW51bSgpLlVOSVRfRkVFREJBQ0ssIFJvdXRlclBhdGhFbnVtKCkuVU5JVF9BVURJVF0uaW5jbHVkZXMocGFnZVBhdGgudmFsdWUpDQogICAgLy8gfSkNCiAgICBjb25zdCBpc1VuaXRNZW51ID0gcmVmKGZhbHNlKQ0KDQogICAgLy8g5piv5ZCm5piv5Y2V5L2N5Y+N6aaIDQogICAgY29uc3QgaXNVbml0RmVlZGJhY2tNZW51ID0gY29tcHV0ZWQoKCkgPT4gew0KICAgICAgcmV0dXJuIHBhZ2VQYXRoLnZhbHVlID09PSBSb3V0ZXJQYXRoRW51bSgpLlVOSVRfRkVFREJBQ0sNCiAgICB9KQ0KICAgIC8vIOaYr+WQpuaYr+S4k+mhueWNleS9jeWPjemmiA0KICAgIGNvbnN0IGlzVW5pdEZlZWRiYWNrQnlTcGUgPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICByZXR1cm4gcGFnZVBhdGgudmFsdWUgPT09ICd1bml0RmVlZGJhY2tCeVNwZScNCiAgICB9KQ0KDQogICAgLy8g5bem5L6n5Yy65YiS5qCR5pi+6ZqQDQogICAgY29uc3QgbGVmdFZpc2libGUgPSByZWYodHJ1ZSkNCg0KICAgIC8vIOWkhOeQhuWNleW8ueeql+aYvumakA0KICAgIGNvbnN0IGF1ZGl0VmlzaWJsZSA9IHJlZihmYWxzZSkNCg0KICAgIC8qKg0KICAgICAqIOaQnOe0ouihqOWNlQ0KICAgICAqLw0KICAgIGNvbnN0IFsNCiAgICAgIHsNCiAgICAgICAgZm9ybURhdGEsDQogICAgICAgIGZvcm1TY2hlbWFzLA0KICAgICAgICBzZXRTdWJtaXRGb3JtRGF0YSwNCiAgICAgICAgZ2V0U3VibWl0Rm9ybURhdGEsDQogICAgICAgIHVwZGF0ZUZvcm1TY2hlbWFzDQogICAgICAgIC8vIGdldEZvcm0NCiAgICAgIH0sDQogICAgICByZWdpc3RlckZvcm0NCiAgICBdID0gdXNlRm9ybShzZWFyY2hGb3JtQ29tbW9uU2NoZW1hcykNCg0KICAgIC8qKg0KICAgICAqIOaQnOe0oibph43nva4NCiAgICAgKiAqLw0KICAgIGZ1bmN0aW9uIHNlYXJjaChvYmopIHsNCiAgICAgIE9iamVjdC5hc3NpZ24oZm9ybURhdGEsIG9iaikNCiAgICAgIHNldFN1Ym1pdEZvcm1EYXRhKHRvUmF3KGZvcm1EYXRhKSkNCg0KICAgICAgcmVzZXRGZXRjaFRhYmxlRGF0YSgpDQogICAgfQ0KDQogICAgLyoqDQogICAgICog5Yy65YiS5qCR55u45YWzDQogICAgICovDQogICAgY29uc3Qgew0KICAgICAgdHJlZVByb3BzLA0KICAgICAgdHJlZURhdGEsDQogICAgICB0cmVlRmlsdGVyVGV4dCwNCiAgICAgIHRyZWVMb2FkaW5nDQogICAgfSA9IHVzZVRyZWUoDQogICAgICB7DQogICAgICAgIHRyZWVQcm9wczogew0KICAgICAgICAgIGxhYmVsRm9ybWF0OiAne2NvZGV9LXtuYW1lfScsDQogICAgICAgICAgaWQ6ICdjb2RlJywNCiAgICAgICAgICBub2RlS2V5OiAnY29kZScsIC8vIOagkeeahOS4u+mUrg0KICAgICAgICAgIGxhYmVsOiAnbmFtZScsIC8vIOagkeeahOaYvuekumxhbGVs5a2X5q61DQogICAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicNCiAgICAgICAgfSwNCiAgICAgICAgZmV0Y2g6IGVsZW1lbnRUcmVlQXBpLmdldEFnZW5jeVRyZWUsDQogICAgICAgIGJlZm9yZUZldGNoOiBwYXJhbXMgPT4gew0KICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAuLi5wYXJhbXMsDQogICAgICAgICAgICBpc1VuaXQ6IHVucmVmKGlzRGl2aXNpb25QYWdlKSA/ICdkZXBhcnRtZW50JyA6ICdjb21wYW55Jw0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYWZ0ZXJGZXRjaDogZGF0YSA9PiB7DQogICAgICAgICAgcmV0dXJuIFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgaWQ6ICdBTEwnLA0KICAgICAgICAgICAgICBuYW1lOiAn5YWo6YOoJywNCiAgICAgICAgICAgICAgY3VzdG9tQ29kZTogJ0FMTCcsDQogICAgICAgICAgICAgIGNoaWxkcmVuOiBkYXRhIHx8IFtdLA0KICAgICAgICAgICAgICBjb2RlOiAnQUxMJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIC8vIOWNleS9jeWPjemmiOS4jeivt+axgg0KICAgICAgIXVucmVmKGlzVW5pdE1lbnUpDQogICAgKQ0KICAgIGNvbnN0IGN1cnJlbnRUcmVlTm9kZSA9IHJlZihudWxsKQ0KICAgIC8qKg0KICAgICAqIOaMh+agh+aVsOiKgueCueeCueWHuw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIG5vZGVDbGljayh7IG5vZGUgfSkgew0KICAgICAgY3VycmVudFRyZWVOb2RlLnZhbHVlID0gbm9kZQ0KICAgICAgcmVzZXRGZXRjaFRhYmxlRGF0YSgpDQogICAgfQ0KDQogICAgLy8g5b2T5YmN6YCJ5Lit55qEdGFiDQogICAgY29uc3QgY3VycmVudFRhYiA9IHJlZigNCiAgICAgIHVucmVmKHBhZ2VQYXRoKSA9PT0gUm91dGVyUGF0aEVudW0oKS5VTklUX0ZFRURCQUNLDQogICAgICAgID8gc2VuZEF1ZGl0VGFic1swXQ0KICAgICAgICA6IGRvQXVkaXRUYWJzWzBdDQogICAgKQ0KDQogICAgLyoqDQogICAgICog6KGo5qC8DQogICAgICogKi8NCiAgICBjb25zdCBbDQogICAgICB7DQogICAgICAgIGNvbHVtbnMsDQogICAgICAgIHRhYmxlVG9vbGJhckNvbmZpZywNCiAgICAgICAgdGFibGVDb25maWcsDQogICAgICAgIHRhYmxlRGF0YSwNCiAgICAgICAgcmVzZXRGZXRjaFRhYmxlRGF0YSwNCiAgICAgICAgdGFibGVMb2FkaW5nU3RhdGUsDQogICAgICAgIHBhZ2VyQ2hhbmdlLA0KICAgICAgICBwYWdlckNvbmZpZywNCiAgICAgICAgb25Ub29sYmFyQnRuQ2xpY2ssDQogICAgICAgIGdldFRhYmxlDQogICAgICB9LA0KICAgICAgcmVnaXN0ZXJUYWJsZQ0KICAgIF0gPSB1c2VUYWJsZSh7DQogICAgICBmZXRjaDogcGFnZVF1ZXJ5SW5kZXgsDQogICAgICBiZWZvcmVGZXRjaDogcGFyYW1zID0+IHsNCiAgICAgICAgaWYgKHVucmVmKGN1cnJlbnRUYWIpPy5jb2RlICE9PSBUYWJFbnVtLkFMTCkgew0KICAgICAgICAgIC8vIOmdnuWFqOmDqOmhteetvueahHN0YXR1c0NvZGXlrZfmrrXlj5blgLzmmKDlsIR0YWLlr7nlupTnmoTlgLwNCiAgICAgICAgICBwYXJhbXMuc3RhdHVzQ29kZSA9IHVucmVmKGN1cnJlbnRUYWIpLnZhbHVlDQogICAgICAgIH0gZWxzZSBpZiAodW5yZWYoY3VycmVudFRhYik/LmNvZGUgPT09IFRhYkVudW0uQUxMKSB7DQogICAgICAgICAgLy8g5YWo6YOo6aG1562+DQogICAgICAgICAgcGFyYW1zLmlzQWxsID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICAgIGNvbnN0IG1lbnVJZCA9IHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZT8uZ3VpZCB8fCAnJw0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIC4uLnBhcmFtcywNCiAgICAgICAgICByZWd1bGF0aW9uQ2xhc3M6IHRyYW5zSnNvbihzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUucGFyYW01KT8ucmVndWxhdGlvbkNsYXNzLA0KICAgICAgICAgIG5vZGVUeXBlOiBwYWdlUGF0aE1hcE5vZGVUeXBlW3VucmVmKHBhZ2VQYXRoKV0sDQogICAgICAgICAgZWxlbWVudENvZGU6IHVucmVmKGN1cnJlbnRUcmVlTm9kZSk/LmNvZGUsDQogICAgICAgICAgbWVudUlkDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAvLyDor7fmsYLlkI7nva7pkqnlrZANCiAgICAgIGFmdGVyRmV0Y2goZGF0YSkgew0KICAgICAgICAvLyDmnKrmj5DkuqTpobXljaENCiAgICAgICAgLy8g5aSE55CG5Lia5Yqh57yW5Y+3DQogICAgICAgIGxldCBudWxsTnVtID0gMA0KICAgICAgICBkYXRhLnJlc3VsdHMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS5idXNpbmVzc05vID09PSBudWxsKSB7DQogICAgICAgICAgICBudWxsTnVtKysNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIGlmIChudWxsTnVtID09PSBkYXRhLnJlc3VsdHMubGVuZ3RoKSB7DQogICAgICAgICAgbGV0IGluZGV4ID0gY29sdW1ucy52YWx1ZS5maW5kSW5kZXgoaXRlbSA9PiB7DQogICAgICAgICAgICByZXR1cm4gaXRlbS5maWVsZCA9PT0gJ2J1c2luZXNzTm8nDQogICAgICAgICAgfSkNCiAgICAgICAgICBjb2x1bW5zLnZhbHVlLnNwbGljZShpbmRleCwgMSkNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZGF0YQ0KICAgICAgfSwNCiAgICAgIGNvbHVtbnM6IFtdLA0KICAgICAgZ2V0U3VibWl0Rm9ybURhdGEsDQogICAgICBkYXRhS2V5OiAnZGF0YS5yZXN1bHRzJywNCiAgICAgIHJvdXRlQ29uZmlnOiB7DQogICAgICAgIGlzVW5pdEZlZWRiYWNrTWVudQ0KICAgICAgfQ0KICAgIH0pDQogICAgdGFibGVDb25maWcuc2hvd092ZXJmbG93ID0gZmFsc2UNCiAgICAvLyDpgInkuK3ooYwNCiAgICBjb25zdCBjaGVja2VkUmVjb3JkcyA9IHJlZihbXSkNCg0KICAgIC8qKg0KICAgICAqIOiuvue9rmNvbHVtbnMNCiAgICAgKiAqLw0KICAgIGZ1bmN0aW9uIGNvbXB1dGVkQ29sdW1ucygpIHsNCiAgICAgIC8vIOacqumAgeWuoQ0KICAgICAgbGV0IGluaXRDb2x1bW5zID0gZ2V0Q29tbW9uQ29sdW1ucygpDQoNCiAgICAgIGlmICh1bnJlZihjdXJyZW50VGFiKS5jb2RlID09PSBUYWJFbnVtLlNFTkRFRCkgew0KICAgICAgICAvLyDlt7LpgIHlrqENCiAgICAgICAgaW5pdENvbHVtbnMuc3BsaWNlKGluaXRDb2x1bW5zLmxlbmd0aCAtIDEsIDAsIGdldEF1ZGl0RGVzY3JpcHRpb25Db2x1bW4oeyB0aXRsZTogJ+WkhOeQhuivtOaYjicgfSkpDQogICAgICB9IGVsc2UgaWYgKFtUYWJFbnVtLlJFVFVSTiwgVGFiRW51bS5ESVNBQkxFRF0uaW5jbHVkZXModW5yZWYoY3VycmVudFRhYikuY29kZSkpIHsNCiAgICAgICAgLy8g6YCA5ZueIHx8IOemgeatog0KICAgICAgICBpbml0Q29sdW1ucy5zcGxpY2UoDQogICAgICAgICAgMiwNCiAgICAgICAgICAwLA0KICAgICAgICAgIGdldEF1ZGl0RGVzY3JpcHRpb25Db2x1bW4oeyB0aXRsZTogJ+WkhOeQhuaEj+ingScgfSkNCiAgICAgICAgKQ0KICAgICAgfSBlbHNlIGlmICh1bnJlZihjdXJyZW50VGFiKS5jb2RlID09PSBUYWJFbnVtLkFMTCkgew0KICAgICAgICAvLyDlhajpg6gNCiAgICAgICAgaW5pdENvbHVtbnMuc3BsaWNlKDIsIDAsIGdldFN0YXR1c0NvZGVDb2x1bW4odW5yZWYoaXNVbml0TWVudSkpKQ0KICAgICAgICBpZiAodW5yZWYocGFnZVBhdGgpID09PSBSb3V0ZXJQYXRoRW51bSgpLlVOSVRfRkVFREJBQ0spIHsNCiAgICAgICAgICBpbml0Q29sdW1ucy5zcGxpY2UoDQogICAgICAgICAgICBpbml0Q29sdW1ucy5sZW5ndGggLSAyLA0KICAgICAgICAgICAgMCwNCiAgICAgICAgICAgIGdldEF1ZGl0RGVzY3JpcHRpb25Db2x1bW4oeyB0aXRsZTogJ+WkhOeQhuivtOaYjicgfSkNCiAgICAgICAgICApDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaW5pdENvbHVtbnMuc3BsaWNlKA0KICAgICAgICAgICAgaW5pdENvbHVtbnMubGVuZ3RoIC0gMiwNCiAgICAgICAgICAgIDAsDQogICAgICAgICAgICBnZXRBdWRpdERlc2NyaXB0aW9uQ29sdW1uKHsgdGl0bGU6ICflpITnkIbmhI/op4EnIH0pDQogICAgICAgICAgKQ0KICAgICAgICB9DQogICAgICB9IGVsc2UgaWYgKHVucmVmKGN1cnJlbnRUYWIpLmNvZGUgPT09IFRhYkVudW0uTk9fQVVESVQpIHsNCiAgICAgICAgLy8g5pyq5a6h5qC4DQogICAgICAgIGluaXRDb2x1bW5zLnNwbGljZSgNCiAgICAgICAgICBpbml0Q29sdW1ucy5sZW5ndGggLSAxLA0KICAgICAgICAgIDAsDQogICAgICAgICAgZ2V0QXVkaXREZXNjcmlwdGlvbkNvbHVtbih7IHRpdGxlOiAn5aSE55CG6K+05piOJyB9KQ0KICAgICAgICApDQogICAgICB9IGVsc2UgaWYgKHVucmVmKGN1cnJlbnRUYWIpLmNvZGUgPT09IFRhYkVudW0uQVVESVRFRCkgew0KICAgICAgICAvLyDlt7LlrqHmoLgNCiAgICAgICAgaW5pdENvbHVtbnMuc3BsaWNlKA0KICAgICAgICAgIGluaXRDb2x1bW5zLmxlbmd0aCAtIDEsDQogICAgICAgICAgMCwNCiAgICAgICAgICBnZXRBdWRpdERlc2NyaXB0aW9uQ29sdW1uKHsgdGl0bGU6ICflpITnkIbmhI/op4EnIH0pDQogICAgICAgICkNCiAgICAgIH0NCiAgICAgIC8vIOemj+W7uuS4jeimgeS4muWKoee8lueggSDku6XljLrliJLljLrliIYNCiAgICAgIGlmIChzdG9yZS5zdGF0ZS51c2VySW5mby5wcm92aW5jZS5zdGFydHNXaXRoKCczNScpKSB7DQogICAgICAgIGluaXRDb2x1bW5zID0gaW5pdENvbHVtbnMuZmlsdGVyKGl0ZW0gPT4gew0KICAgICAgICAgIHJldHVybiBpdGVtLmZpZWxkICE9PSAnYnVzaW5lc3NObycNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIGNvbnN0IHByb2plY3RDb2RlID0gdHJhbnNKc29uMihzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUucGFyYW01IHx8ICcnKS5wcm9qZWN0Q29kZQ0KICAgICAgaWYgKHByb2plY3RDb2RlICE9PSAnU0gnKSB7DQogICAgICAgIGluaXRDb2x1bW5zID0gaW5pdENvbHVtbnMuY29uY2F0KGZqQWRkQ29sdW1ucykNCiAgICAgIH0NCiAgICAgIGlmIChpc1VuaXRGZWVkYmFja0J5U3BlKSB7DQogICAgICAgIGluaXRDb2x1bW5zID0gaW5pdENvbHVtbnMuZmlsdGVyKGl0ZW0gPT4gew0KICAgICAgICAgIHJldHVybiBpdGVtLmZpZWxkICE9PSAnaXNEaXInDQogICAgICAgIH0pDQogICAgICB9DQogICAgICBjb2x1bW5zLnZhbHVlID0gaW5pdENvbHVtbnMNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDpobbpg6h0YWLmqKHlnZcNCiAgICAgKi8NCiAgICBjb25zdCB7DQogICAgICB0YWJTdGF0dXNCdG5Db25maWcsDQogICAgICBpc1Nob3dTZWFyY2hGb3JtLA0KICAgICAgbW9kYWxUeXBlLA0KICAgICAgb25RdWVyeUNvbmRpdGlvbnNDbGljaw0KICAgIH0gPSB1c2VUYWJQbGFuZWwoYXVkaXRWaXNpYmxlLCBnZXRUYWJsZSwgcGFnZVBhdGgsIGNoZWNrZWRSZWNvcmRzLCBjdXJyZW50VGFiLCByZXNldEZldGNoVGFibGVEYXRhKQ0KICAgIC8qKg0KICAgICAqIHRhYuWIh+aNog0KICAgICAqIEBwYXJhbSB0YWINCiAgICAgKi8NCiAgICBmdW5jdGlvbiBvblRhYkNsaWNrKHRhYikgew0KICAgICAgY3VycmVudFRhYi52YWx1ZSA9IHRhYg0KICAgICAgcmVzZXRDb25maWcoKQ0KDQogICAgICByZXNldEZldGNoVGFibGVEYXRhKCkNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDorr7nva7mkJzntKLooajljZUNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBjb21wdXRlZFNjaGVtYXMoKSB7DQogICAgICBmb3JtU2NoZW1hcy52YWx1ZSA9IHNlYXJjaEZvcm1Db21tb25TY2hlbWFzDQoNCiAgICAgIC8vIOWFqOmDqHRhYuaXtua3u+WKoOeKtuaAgeetm+mAiQ0KICAgICAgaWYgKHVucmVmKGN1cnJlbnRUYWIpLmNvZGUgPT09IFRhYkVudW0uQUxMKSB7DQogICAgICAgIGZvcm1TY2hlbWFzLnZhbHVlID0gWy4uLnNlYXJjaEZvcm1Db21tb25TY2hlbWFzLCAuLi5zZWFyY2hGb3JtQWxsVGFiU2NoZW1hXQ0KICAgICAgICB1bnJlZihmb3JtU2NoZW1hcykuZm9yRWFjaChzY2hlbWEgPT4gew0KICAgICAgICAgIGlmICghUmVmbGVjdC5oYXMoZm9ybURhdGEsIHNjaGVtYS5maWVsZCkpIHsNCiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZm9ybURhdGEsIHsgW3NjaGVtYS5maWVsZF06ICcnIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KDQogICAgICAgIHVwZGF0ZUZvcm1TY2hlbWFzKHsNCiAgICAgICAgICBmaWVsZDogJ3N0YXR1c0NvZGUnLA0KICAgICAgICAgIGl0ZW1SZW5kZXI6IHsNCiAgICAgICAgICAgIG9wdGlvbnM6IFsNCiAgICAgICAgICAgICAgLy8g5qC55o2u5b2T5YmN6aG16Z2i55qEdGFi6I635Y+W5YWo6YOodGFi6YeM6Z2i55qE54q25oCB562b6YCJDQogICAgICAgICAgICAgIC4uLnVucmVmKHRhYlN0YXR1c0J0bkNvbmZpZykuYnV0dG9ucy5zbGljZSgwLCB1bnJlZih0YWJTdGF0dXNCdG5Db25maWcpLmJ1dHRvbnM/Lmxlbmd0aCAtIDEpLA0KICAgICAgICAgICAgICAvLyAyMDIzLjMuNuWNleS9jeWPjemmiOa3u+WKoOW3suS9nOW6n+eKtuaAgQ0KICAgICAgICAgICAgICAuLi51bnJlZihpc1VuaXRGZWVkYmFja01lbnUpDQogICAgICAgICAgICAgICAgPyBbeyB2YWx1ZTogVGFiRW51bS5WT0lERUQsIGxhYmVsOiAn5bey5L2c5bqfJyB9XQ0KICAgICAgICAgICAgICAgIDogZ2V0U3RhdHVzQ29kZU9wdGlvbnMoKQ0KICAgICAgICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IFtUYWJFbnVtLlJFVFVSTl9TRUxGLCBUYWJFbnVtLkRJU0FCTEVEX1NFTEZdLmluY2x1ZGVzKGl0ZW0udmFsdWUpKQ0KICAgICAgICAgICAgXQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGZvcm1TY2hlbWFzLnZhbHVlID0gc2VhcmNoRm9ybUNvbW1vblNjaGVtYXMNCiAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDph43mlrDorqHnrpfphY3nva7kv6Hmga8NCiAgICAgKi8NCiAgICBmdW5jdGlvbiByZXNldENvbmZpZygpIHsNCiAgICAgIGNvbXB1dGVkU2NoZW1hcygpDQogICAgICBjb21wdXRlZENvbHVtbnMoKQ0KICAgIH0NCiAgICByZXNldENvbmZpZygpDQoNCiAgICAvKioNCiAgICAgKiBtb2RhbFR5cGU65by556qX5omT5byA5pON5L2cDQogICAgICogcGFnZVBhdGg66aG16Z2i6Lev55SxDQogICAgICovDQogICAgcHJvdmlkZSgnbW9kYWxUeXBlJywgcmVhZG9ubHkobW9kYWxUeXBlKSkNCiAgICBwcm92aWRlKCdwYWdlUGF0aCcsIHJlYWRvbmx5KHBhZ2VQYXRoKSkNCiAgICByZXR1cm4gew0KICAgICAgbGVmdFZpc2libGUsDQogICAgICBpc1VuaXRNZW51LA0KICAgICAgYXVkaXRWaXNpYmxlLA0KICAgICAgbWVudU5hbWUsDQoNCiAgICAgIHRyZWVMb2FkaW5nLA0KICAgICAgdHJlZVByb3BzLA0KICAgICAgdHJlZURhdGEsDQogICAgICB0cmVlRmlsdGVyVGV4dCwNCiAgICAgIG5vZGVDbGljaywNCg0KICAgICAgY29sdW1ucywNCiAgICAgIHJlZ2lzdGVyVGFibGUsDQogICAgICB0YWJsZUNvbmZpZywNCiAgICAgIHRhYmxlRGF0YSwNCiAgICAgIHRhYmxlTG9hZGluZ1N0YXRlLA0KICAgICAgcGFnZXJDb25maWcsDQogICAgICB0YWJsZVRvb2xiYXJDb25maWcsDQogICAgICBvblRvb2xiYXJCdG5DbGljaywNCiAgICAgIHBhZ2VyQ2hhbmdlLA0KICAgICAgcmVzZXRGZXRjaFRhYmxlRGF0YSwNCiAgICAgIGNoZWNrZWRSZWNvcmRzLA0KDQogICAgICB0YWJTdGF0dXNCdG5Db25maWcsDQogICAgICBpc1Nob3dTZWFyY2hGb3JtLA0KICAgICAgb25UYWJDbGljaywNCiAgICAgIG1vZGFsVHlwZSwNCiAgICAgIG9uUXVlcnlDb25kaXRpb25zQ2xpY2ssDQoNCiAgICAgIHJlZ2lzdGVyRm9ybSwNCiAgICAgIGZvcm1EYXRhLA0KICAgICAgZm9ybVNjaGVtYXMsDQogICAgICBzZWFyY2gNCiAgICB9DQogIH0NCn0pDQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/main/handlingOfViolations","sourcesContent":["<template>\r\n  <div style=\"height: 100%\">\r\n    <BsMainFormListLayout :left-visible=\"isUnitMenu ? false : leftVisible\">\r\n      <template v-slot:topTabPane>\r\n        <BsTabPanel\r\n          :tab-status-btn-config=\"tabStatusBtnConfig\"\r\n          :is-open=\"isShowSearchForm\"\r\n          @tabClick=\"onTabClick\"\r\n          @onQueryConditionsClick=\"onQueryConditionsClick\"\r\n        />\r\n      </template>\r\n      <template v-slot:query>\r\n        <div v-show=\"isShowSearchForm\" class=\"main-query\">\r\n          <BsQuery\r\n            :query-form-item-config=\"formSchemas\"\r\n            :query-form-data=\"formData\"\r\n            @onSearchClick=\"search\"\r\n            @register=\"registerForm\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template v-if=\"!isUnitMenu\" v-slot:mainTree>\r\n        <div style=\"height: 100%;\">\r\n          <BsTreeTitle\r\n            :visiable.sync=\"leftVisible\"\r\n            :input-value.sync=\"treeFilterText\"\r\n            label=\"导航\"\r\n          />\r\n          <div class=\"mmc-left-tree-body\" style=\"height: calc(100% - 8px); overflow-y: auto\">\r\n            <BsTree\r\n              ref=\"mofDivTree\"\r\n              v-loading=\"treeLoading\"\r\n              :filter-text=\"treeFilterText\"\r\n              :config=\"{ showFilter: false, expandOnClickNode: false, treeProps }\"\r\n              :tree-data=\"treeData\"\r\n              @onNodeClick=\"nodeClick\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template v-slot:mainForm>\r\n        <div style=\"height: 100%\">\r\n          <BsTable\r\n            v-loading=\"tableLoadingState\"\r\n            :table-config=\"tableConfig\"\r\n            :table-columns-config=\"columns\"\r\n            :table-data=\"tableData\"\r\n            :toolbar-config=\"tableToolbarConfig\"\r\n            :pager-config=\"pagerConfig\"\r\n            size=\"medium\"\r\n            @register=\"registerTable\"\r\n            @ajaxData=\"pagerChange\"\r\n            @onToolbarBtnClick=\"onToolbarBtnClick\"\r\n          >\r\n            <template v-slot:toolbarSlots>\r\n              <div class=\"table-toolbar-left\">\r\n                <div v-if=\"!leftVisible\" class=\"table-toolbar-contro-leftvisible\" @click=\"leftVisible = true\"></div>\r\n                <BsTableTitle title=\"违规处理单\" />\r\n              </div>\r\n            </template>\r\n          </BsTable>\r\n        </div>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <AuditModal\r\n      v-if=\"auditVisible\"\r\n      v-model=\"auditVisible\"\r\n      :checked-records=\"checkedRecords\"\r\n      :menu-name=\"menuName\"\r\n      @success=\"resetFetchTableData\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, unref, computed, provide, readonly, toRaw } from '@vue/composition-api'\r\nimport AuditModal from './components/AuditModal'\r\nimport useTable from '@/hooks/useTable'\r\nimport useForm from '@/hooks/useForm'\r\nimport useTree from '@/hooks/useTree'\r\nimport useTabPlanel from './hooks/useTabPlanel'\r\nimport useIs from './hooks/useIs'\r\nimport store from '@/store'\r\nimport { transJson2 } from '@/utils/params'\r\nimport elementTreeApi from '@/api/frame/common/tree/unitTree.js'\r\nimport { pageQueryIndex } from '@/api/frame/main/handlingOfViolations/index.js'\r\n\r\nimport {\r\n  searchFormCommonSchemas,\r\n  getCommonColumns,\r\n  getAuditDescriptionColumn,\r\n  getStatusCodeColumn,\r\n  sendAuditTabs,\r\n  doAuditTabs,\r\n  pagePathMapNodeType,\r\n  searchFormAllTabSchema,\r\n  getStatusCodeOptions,\r\n  fjAddColumns\r\n} from './model/data'\r\nimport { TabEnum, RouterPathEnum } from './model/enum'\r\nimport transJson from '@/utils/transformMenuQuery.js'\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    AuditModal\r\n  },\r\n  setup(_, { root }) {\r\n    const menuName = ref(store.getters.getCurNavModule.name)\r\n    const route = root.$route\r\n\r\n    // 页面路由\r\n    const pagePath = ref(route.path)\r\n\r\n    const { isDivisionPage } = useIs({}, pagePath)\r\n\r\n    // 是否是单位页面（单位反馈、单位审核）\r\n    // const isUnitMenu = computed(() => {\r\n    //   return [RouterPathEnum().UNIT_FEEDBACK, RouterPathEnum().UNIT_AUDIT].includes(pagePath.value)\r\n    // })\r\n    const isUnitMenu = ref(false)\r\n\r\n    // 是否是单位反馈\r\n    const isUnitFeedbackMenu = computed(() => {\r\n      return pagePath.value === RouterPathEnum().UNIT_FEEDBACK\r\n    })\r\n    // 是否是专项单位反馈\r\n    const isUnitFeedbackBySpe = computed(() => {\r\n      return pagePath.value === 'unitFeedbackBySpe'\r\n    })\r\n\r\n    // 左侧区划树显隐\r\n    const leftVisible = ref(true)\r\n\r\n    // 处理单弹窗显隐\r\n    const auditVisible = ref(false)\r\n\r\n    /**\r\n     * 搜索表单\r\n     */\r\n    const [\r\n      {\r\n        formData,\r\n        formSchemas,\r\n        setSubmitFormData,\r\n        getSubmitFormData,\r\n        updateFormSchemas\r\n        // getForm\r\n      },\r\n      registerForm\r\n    ] = useForm(searchFormCommonSchemas)\r\n\r\n    /**\r\n     * 搜索&重置\r\n     * */\r\n    function search(obj) {\r\n      Object.assign(formData, obj)\r\n      setSubmitFormData(toRaw(formData))\r\n\r\n      resetFetchTableData()\r\n    }\r\n\r\n    /**\r\n     * 区划树相关\r\n     */\r\n    const {\r\n      treeProps,\r\n      treeData,\r\n      treeFilterText,\r\n      treeLoading\r\n    } = useTree(\r\n      {\r\n        treeProps: {\r\n          labelFormat: '{code}-{name}',\r\n          id: 'code',\r\n          nodeKey: 'code', // 树的主键\r\n          label: 'name', // 树的显示lalel字段\r\n          children: 'children'\r\n        },\r\n        fetch: elementTreeApi.getAgencyTree,\r\n        beforeFetch: params => {\r\n          return {\r\n            ...params,\r\n            isUnit: unref(isDivisionPage) ? 'department' : 'company'\r\n          }\r\n        },\r\n        afterFetch: data => {\r\n          return [\r\n            {\r\n              id: 'ALL',\r\n              name: '全部',\r\n              customCode: 'ALL',\r\n              children: data || [],\r\n              code: 'ALL'\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      // 单位反馈不请求\r\n      !unref(isUnitMenu)\r\n    )\r\n    const currentTreeNode = ref(null)\r\n    /**\r\n     * 指标数节点点击\r\n     */\r\n    function nodeClick({ node }) {\r\n      currentTreeNode.value = node\r\n      resetFetchTableData()\r\n    }\r\n\r\n    // 当前选中的tab\r\n    const currentTab = ref(\r\n      unref(pagePath) === RouterPathEnum().UNIT_FEEDBACK\r\n        ? sendAuditTabs[0]\r\n        : doAuditTabs[0]\r\n    )\r\n\r\n    /**\r\n     * 表格\r\n     * */\r\n    const [\r\n      {\r\n        columns,\r\n        tableToolbarConfig,\r\n        tableConfig,\r\n        tableData,\r\n        resetFetchTableData,\r\n        tableLoadingState,\r\n        pagerChange,\r\n        pagerConfig,\r\n        onToolbarBtnClick,\r\n        getTable\r\n      },\r\n      registerTable\r\n    ] = useTable({\r\n      fetch: pageQueryIndex,\r\n      beforeFetch: params => {\r\n        if (unref(currentTab)?.code !== TabEnum.ALL) {\r\n          // 非全部页签的statusCode字段取值映射tab对应的值\r\n          params.statusCode = unref(currentTab).value\r\n        } else if (unref(currentTab)?.code === TabEnum.ALL) {\r\n          // 全部页签\r\n          params.isAll = true\r\n        }\r\n        const menuId = store.state.curNavModule?.guid || ''\r\n        return {\r\n          ...params,\r\n          regulationClass: transJson(store.state.curNavModule.param5)?.regulationClass,\r\n          nodeType: pagePathMapNodeType[unref(pagePath)],\r\n          elementCode: unref(currentTreeNode)?.code,\r\n          menuId\r\n        }\r\n      },\r\n      // 请求后置钩子\r\n      afterFetch(data) {\r\n        // 未提交页卡\r\n        // 处理业务编号\r\n        let nullNum = 0\r\n        data.results.forEach(item => {\r\n          if (item.businessNo === null) {\r\n            nullNum++\r\n          }\r\n        })\r\n        if (nullNum === data.results.length) {\r\n          let index = columns.value.findIndex(item => {\r\n            return item.field === 'businessNo'\r\n          })\r\n          columns.value.splice(index, 1)\r\n        }\r\n        return data\r\n      },\r\n      columns: [],\r\n      getSubmitFormData,\r\n      dataKey: 'data.results',\r\n      routeConfig: {\r\n        isUnitFeedbackMenu\r\n      }\r\n    })\r\n    tableConfig.showOverflow = false\r\n    // 选中行\r\n    const checkedRecords = ref([])\r\n\r\n    /**\r\n     * 设置columns\r\n     * */\r\n    function computedColumns() {\r\n      // 未送审\r\n      let initColumns = getCommonColumns()\r\n\r\n      if (unref(currentTab).code === TabEnum.SENDED) {\r\n        // 已送审\r\n        initColumns.splice(initColumns.length - 1, 0, getAuditDescriptionColumn({ title: '处理说明' }))\r\n      } else if ([TabEnum.RETURN, TabEnum.DISABLED].includes(unref(currentTab).code)) {\r\n        // 退回 || 禁止\r\n        initColumns.splice(\r\n          2,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理意见' })\r\n        )\r\n      } else if (unref(currentTab).code === TabEnum.ALL) {\r\n        // 全部\r\n        initColumns.splice(2, 0, getStatusCodeColumn(unref(isUnitMenu)))\r\n        if (unref(pagePath) === RouterPathEnum().UNIT_FEEDBACK) {\r\n          initColumns.splice(\r\n            initColumns.length - 2,\r\n            0,\r\n            getAuditDescriptionColumn({ title: '处理说明' })\r\n          )\r\n        } else {\r\n          initColumns.splice(\r\n            initColumns.length - 2,\r\n            0,\r\n            getAuditDescriptionColumn({ title: '处理意见' })\r\n          )\r\n        }\r\n      } else if (unref(currentTab).code === TabEnum.NO_AUDIT) {\r\n        // 未审核\r\n        initColumns.splice(\r\n          initColumns.length - 1,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理说明' })\r\n        )\r\n      } else if (unref(currentTab).code === TabEnum.AUDITED) {\r\n        // 已审核\r\n        initColumns.splice(\r\n          initColumns.length - 1,\r\n          0,\r\n          getAuditDescriptionColumn({ title: '处理意见' })\r\n        )\r\n      }\r\n      // 福建不要业务编码 以区划区分\r\n      if (store.state.userInfo.province.startsWith('35')) {\r\n        initColumns = initColumns.filter(item => {\r\n          return item.field !== 'businessNo'\r\n        })\r\n      }\r\n      const projectCode = transJson2(store.state.curNavModule.param5 || '').projectCode\r\n      if (projectCode !== 'SH') {\r\n        initColumns = initColumns.concat(fjAddColumns)\r\n      }\r\n      if (isUnitFeedbackBySpe) {\r\n        initColumns = initColumns.filter(item => {\r\n          return item.field !== 'isDir'\r\n        })\r\n      }\r\n      columns.value = initColumns\r\n    }\r\n\r\n    /**\r\n     * 顶部tab模块\r\n     */\r\n    const {\r\n      tabStatusBtnConfig,\r\n      isShowSearchForm,\r\n      modalType,\r\n      onQueryConditionsClick\r\n    } = useTabPlanel(auditVisible, getTable, pagePath, checkedRecords, currentTab, resetFetchTableData)\r\n    /**\r\n     * tab切换\r\n     * @param tab\r\n     */\r\n    function onTabClick(tab) {\r\n      currentTab.value = tab\r\n      resetConfig()\r\n\r\n      resetFetchTableData()\r\n    }\r\n\r\n    /**\r\n     * 设置搜索表单\r\n     */\r\n    function computedSchemas() {\r\n      formSchemas.value = searchFormCommonSchemas\r\n\r\n      // 全部tab时添加状态筛选\r\n      if (unref(currentTab).code === TabEnum.ALL) {\r\n        formSchemas.value = [...searchFormCommonSchemas, ...searchFormAllTabSchema]\r\n        unref(formSchemas).forEach(schema => {\r\n          if (!Reflect.has(formData, schema.field)) {\r\n            Object.assign(formData, { [schema.field]: '' })\r\n          }\r\n        })\r\n\r\n        updateFormSchemas({\r\n          field: 'statusCode',\r\n          itemRender: {\r\n            options: [\r\n              // 根据当前页面的tab获取全部tab里面的状态筛选\r\n              ...unref(tabStatusBtnConfig).buttons.slice(0, unref(tabStatusBtnConfig).buttons?.length - 1),\r\n              // 2023.3.6单位反馈添加已作废状态\r\n              ...unref(isUnitFeedbackMenu)\r\n                ? [{ value: TabEnum.VOIDED, label: '已作废' }]\r\n                : getStatusCodeOptions()\r\n                  .filter(item => [TabEnum.RETURN_SELF, TabEnum.DISABLED_SELF].includes(item.value))\r\n            ]\r\n          }\r\n        })\r\n      } else {\r\n        formSchemas.value = searchFormCommonSchemas\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 重新计算配置信息\r\n     */\r\n    function resetConfig() {\r\n      computedSchemas()\r\n      computedColumns()\r\n    }\r\n    resetConfig()\r\n\r\n    /**\r\n     * modalType:弹窗打开操作\r\n     * pagePath:页面路由\r\n     */\r\n    provide('modalType', readonly(modalType))\r\n    provide('pagePath', readonly(pagePath))\r\n    return {\r\n      leftVisible,\r\n      isUnitMenu,\r\n      auditVisible,\r\n      menuName,\r\n\r\n      treeLoading,\r\n      treeProps,\r\n      treeData,\r\n      treeFilterText,\r\n      nodeClick,\r\n\r\n      columns,\r\n      registerTable,\r\n      tableConfig,\r\n      tableData,\r\n      tableLoadingState,\r\n      pagerConfig,\r\n      tableToolbarConfig,\r\n      onToolbarBtnClick,\r\n      pagerChange,\r\n      resetFetchTableData,\r\n      checkedRecords,\r\n\r\n      tabStatusBtnConfig,\r\n      isShowSearchForm,\r\n      onTabClick,\r\n      modalType,\r\n      onQueryConditionsClick,\r\n\r\n      registerForm,\r\n      formData,\r\n      formSchemas,\r\n      search\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n//执行 单位零余额跳转到该页面 导致css样式丢失\r\nbutton.el-button.el-button--default.el-button--small.el-button--primary{\r\n  color: #fff !important;\r\n  background-color:  #4d77e7 !important;\r\n}\r\n</style>\r\n"]}]}