{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\formulaEditor\\children\\jsEditor\\JsEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\formulaEditor\\children\\jsEditor\\JsEditor.vue","mtime":1694505521726},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyDlvJXlhaXlhajlsYDlrp7kvosNCmltcG9ydCBDb2RlTWlycm9yIGZyb20gJ2NvZGVtaXJyb3InDQppbXBvcnQgJ2NvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3IuY3NzJw0KaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2hpbnQvc2hvdy1oaW50LmNzcycNCmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9oaW50L3Nob3ctaGludC5qcycNCmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9oaW50L2phdmFzY3JpcHQtaGludC5qcycNCmltcG9ydCAnY29kZW1pcnJvci9tb2RlL2phdmFzY3JpcHQvamF2YXNjcmlwdC5qcycNCmltcG9ydCAnY29kZW1pcnJvci90aGVtZS9hYmNkZWYuY3NzJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnJywNCiAgcHJvcHM6IHsNCiAgICB2YWx1ZTogew0KICAgICAgLy8g6YCJ5Lit55qE5YC8IG5vZGUs5YW25Lit5b2T5Li65pmu6YCa5qCR5pe25b+F6aG75Li6bm9kZeiKgueCueWvueixoeiAjOmdnmlkDQogICAgICB0eXBlOiBbU3RyaW5nXSwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiAnJw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29uZmlnOiB7DQogICAgdHlwZTogT2JqZWN0LA0KICAgIGRlZmF1bHQoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW9kZWw6IHsNCiAgICBwcm9wOiAndmFsdWUnLA0KICAgIGV2ZW50OiAnaW5wdXQnDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZWRpdG9yOiAnJywNCiAgICAgIGNvZGU6ICcnDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdCgpIHsNCiAgICAgIHRoaXMuZWRpdG9yID0gQ29kZU1pcnJvcih0aGlzLiRyZWZzLmZvcm1hbGFJbnB1dEJveCwgT2JqZWN0LmFzc2lnbih7DQogICAgICAgIGtleXdvcmRzOiBbXSwNCiAgICAgICAgdGV4dFdyYXBwaW5nOiB0cnVlLA0KICAgICAgICBsaW5lV3JhcHBpbmc6IHRydWUsDQogICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLA0KICAgICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLA0KICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleA0KICAgICAgICBzcGVjaWFsQ2hhcnM6IC9bXHUwMDAwLVx1MDAxZlx1MDA3Zlx1MDBhZFx1MjAwYy1cdTIwMGZcdTIwMjhcdTIwMjlcdWZlZmZdLywNCiAgICAgICAgbW9kZTogJ3RleHQvamF2YXNjcmlwdCcsIC8vIOivhuWIq+eahOivreiogGphdmFzY3JpcHQNCiAgICAgICAgdGhlbWU6ICdsZWUnLCAvLyDorr7nva7kuLvpopgNCiAgICAgICAgZm9sZEd1dHRlcjogdHJ1ZSwNCiAgICAgICAgcGFyc2VyZmlsZTogWyd0b2tlbml6ZWphdmFzY3JpcHQuanMnLCAncGFyc2VqYXZhc2NyaXB0LmpzJ10sDQogICAgICAgIHN0eWxlc2hlZXQ6ICdjc3MvanNjb2xvcnMuY3NzJywNCiAgICAgICAgZ3V0dGVyczogWydDb2RlTWlycm9yLWxpbmVudW1iZXJzJywgJ0NvZGVNaXJyb3ItZm9sZGd1dHRlciddDQogICAgICB9LCB0aGlzLmNvbmZpZykpDQogICAgICB0aGlzLmVkaXRvci5zZXRWYWx1ZSh0aGlzLnZhbHVlIHx8IHRoaXMuY29kZSkNCiAgICAgIHRoaXMuJGVtaXQoJ29uSnNFZGl0b3JSZWFkeScsIHRoaXMuZWRpdG9yLCB0aGlzKQ0KICAgIH0sDQogICAgZ2V0VmFsdWUoKSB7IC8vIOiOt+WPluWAvA0KICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLmdldFZhbHVlKCkNCiAgICB9LA0KICAgIHNldFZhbHVlKHZhbHVlKSB7IC8vIOiuvue9ruWAvA0KICAgICAgdGhpcy5lZGl0b3Iuc2V0VmFsdWUodmFsdWUgfHwgdGhpcy5jb2RlKQ0KICAgIH0sDQogICAgcmVwbGFjZVNlbGVjdGlvbih2YWx1ZSkgew0KICAgICAgdGhpcy5lZGl0b3IucmVwbGFjZVNlbGVjdGlvbih2YWx1ZSkNCiAgICAgIHRoaXMuZWRpdG9yLmZvY3VzKCkNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQoNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXQoKQ0KICB9LA0KICB3YXRjaDogew0KICAgIGNvbmZpZzogew0KICAgICAgaGFuZGxlcigpIHsNCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICB2YWx1ZTogew0KICAgICAgaGFuZGxlcigpIHsNCiAgICAgIH0sDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["JsEditor.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JsEditor.vue","sourceRoot":"src/components/formulaEditor/children/jsEditor","sourcesContent":["<!--  js-editble   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div class=\"T-formale-editble\">\r\n    <div ref=\"formalaInputBox\" class=\"formala-input-box\" :contentEditble=\"true\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入全局实例\r\nimport CodeMirror from 'codemirror'\r\nimport 'codemirror/lib/codemirror.css'\r\nimport 'codemirror/addon/hint/show-hint.css'\r\nimport 'codemirror/addon/hint/show-hint.js'\r\nimport 'codemirror/addon/hint/javascript-hint.js'\r\nimport 'codemirror/mode/javascript/javascript.js'\r\nimport 'codemirror/theme/abcdef.css'\r\nexport default {\r\n  name: '',\r\n  props: {\r\n    value: {\r\n      // 选中的值 node,其中当为普通树时必须为node节点对象而非id\r\n      type: [String],\r\n      default() {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  config: {\r\n    type: Object,\r\n    default() {\r\n      return {\r\n      }\r\n    }\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'input'\r\n  },\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      editor: '',\r\n      code: ''\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.editor = CodeMirror(this.$refs.formalaInputBox, Object.assign({\r\n        keywords: [],\r\n        textWrapping: true,\r\n        lineWrapping: true,\r\n        lineNumbers: true,\r\n        matchBrackets: true,\r\n        // eslint-disable-next-line no-control-regex\r\n        specialChars: /[\\u0000-\\u001f\\u007f\\u00ad\\u200c-\\u200f\\u2028\\u2029\\ufeff]/,\r\n        mode: 'text/javascript', // 识别的语言javascript\r\n        theme: 'lee', // 设置主题\r\n        foldGutter: true,\r\n        parserfile: ['tokenizejavascript.js', 'parsejavascript.js'],\r\n        stylesheet: 'css/jscolors.css',\r\n        gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter']\r\n      }, this.config))\r\n      this.editor.setValue(this.value || this.code)\r\n      this.$emit('onJsEditorReady', this.editor, this)\r\n    },\r\n    getValue() { // 获取值\r\n      return this.editor.getValue()\r\n    },\r\n    setValue(value) { // 设置值\r\n      this.editor.setValue(value || this.code)\r\n    },\r\n    replaceSelection(value) {\r\n      this.editor.replaceSelection(value)\r\n      this.editor.focus()\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  watch: {\r\n    config: {\r\n      handler() {\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    value: {\r\n      handler() {\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.T-formale-editble{\r\n  height: 100%;\r\n  .formala-input-box {\r\n     font-size: 20px;\r\n     height: 100%;\r\n     .cm-s-lee.CodeMirror {\r\n       background: #0f0f0f;\r\n       color: #defdef;\r\n       z-index: 10;\r\n       height: 100%;\r\n       div.CodeMirror-selected {\r\n         background: #525252;\r\n       }\r\n\r\n       .CodeMirror-line::selection,\r\n       .CodeMirror-line > span::selection,\r\n       .CodeMirror-line > span > span::selection {\r\n          background: rgba(56, 56, 56, 0.99);\r\n       }\r\n       .CodeMirror-line::-moz-selection,\r\n       .CodeMirror-line > span::-moz-selection,\r\n       .CodeMirror-line > span > span::-moz-selection {\r\n         background: rgba(56, 56, 56, 0.99);\r\n       }\r\n       span.cm-def{\r\n          color: #2fd061;\r\n       }\r\n       span.cm-variable{\r\n          color: #07f9ef\r\n       }\r\n       span.cm-variable-2{\r\n         color: #5ed9ff;\r\n       }\r\n       span.cm-variable-3 {\r\n          color: #d2e85b;\r\n       }\r\n       .CodeMirror-gutters {\r\n         background: #3e3d3d;\r\n         border-right: 2px solid #ababab;\r\n       }\r\n       .CodeMirror-guttermarker {\r\n         color: #222;\r\n       }\r\n       .CodeMirror-guttermarker-subtle {\r\n         color: azure;\r\n       }\r\n       .CodeMirror-linenumber {\r\n         color:  #eee;\r\n       }\r\n       .CodeMirror-cursor {\r\n         border: 1px solid #ded7dc;\r\n       }\r\n       span.cm-keyword {\r\n         color:  #f34444;\r\n         font-weight: bold;\r\n       }\r\n       span.cm-atom {\r\n         color: #77F;\r\n       }\r\n       span.cm-number {\r\n         color: violet;\r\n       }\r\n       span.cm-comment {\r\n        color: #545454;\r\n       }\r\n       span.cm-property {\r\n         color: #fdb03b;\r\n       }\r\n       span.cm-operator {\r\n         color: #faff00;\r\n       }\r\n       span.cm-string {\r\n         color: #2b4;\r\n       }\r\n       span.cm-meta {\r\n         color: #C9F;\r\n       }\r\n       span.cm-qualifier {\r\n         color: #FFF700;\r\n       }\r\n       span.cm-builtin {\r\n         color: #30aabc;\r\n       }\r\n       span.cm-bracket {\r\n         color: #8a8a8a;\r\n       }\r\n       span.cm-tag {\r\n         color: #FFDD44;\r\n       }\r\n       span.cm-attribute {\r\n         color: #DDFF00;\r\n       }\r\n       span.cm-error {\r\n         color: #FF0000;\r\n       }\r\n       span.cm-header {\r\n         color: aquamarine;\r\n         font-weight: bold;\r\n       }\r\n       span.cm-link {\r\n         color: blueviolet;\r\n       }\r\n     }\r\n  }\r\n}\r\n\r\n</style>\r\n"]}]}