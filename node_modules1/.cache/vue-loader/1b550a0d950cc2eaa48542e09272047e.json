{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\fundMonitoring\\violationHandle\\warningCreate\\children\\wdetailDialog.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\fundMonitoring\\violationHandle\\warningCreate\\children\\wdetailDialog.vue","mtime":1695716045685},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":1696752946978},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoucGF5Vm91Y2hlcklucHV0IHsNCiAgbWFyZ2luOiAxNXB4Ow0KICAuZWwtY2FyZCB7DQogICAgbWFyZ2luLXRvcDogMDsNCiAgfQ0KfQ0KLnZ4ZS1tb2RhbC0td3JhcHBlciAudnhlLW1vZGFsLS1ib3ggew0KICB6LWluZGV4OiAwOw0KfQ0KI2JpZ2JveCB7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDEwMCU7DQogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOw0KICB6LWluZGV4OiAxMDsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDA7DQogIGxlZnQ6IDA7DQogIHJpZ2h0OiAwOw0KICBib3R0b206IDA7DQogIG9wYWNpdHk6IDAuMzsNCn0NCi5lbC1yb3ctaXRlbSAuZm9udC1zZXQtc21hbGwgLmhsaW5lIHsNCiAgd2lkdGg6IDcycHg7DQp9DQoud2RldGFpbERpYWxvcCAuVC1tYWluRm9ybUxpc3RMYXlvdXQtbW9kdWxlYm94IC5tbWMtZm9ybWxpc3QgLm1tYy1yaWdodHsNCiAgcGFkZGluZzogMDsNCn0NCi53ZGV0YWlsRGlhbG9wIC5ULW1haW5Gb3JtTGlzdExheW91dC1tb2R1bGVib3h7DQogIHBhZGRpbmctdG9wOiAwICFpbXBvcnRhbnQ7DQp9DQoud2RldGFpbERpYWxvcCAudW5pdC10cmVlLW1haW4gLmVsLXRyZWUtbm9kZV9fY29udGVudCAuY3VzdG9tLW5vZGUtYmd7DQogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KfQ0K"},{"version":3,"sources":["wdetailDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAo9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wdetailDialog.vue","sourceRoot":"src/views/main/fundMonitoring/violationHandle/warningCreate/children","sourcesContent":["<template v-loading=\"tableLoading\">\r\n  <vxe-modal\r\n    v-model=\"detailVisible\"\r\n    :title=\"title\"\r\n    width=\"96%\"\r\n    class=\"wdetailDialop\"\r\n    height=\"90%\"\r\n    :show-footer=\"false\"\r\n    @close=\"dialogClose\"\r\n  >\r\n    <BsMainFormListLayout :left-visible.sync=\"leftTreeVisible\">\r\n\r\n      <template v-slot:topTabPane>\r\n        <BsTabPanel\r\n          is-open\r\n          is-hide-query\r\n          :tab-status-btn-config=\"tabStatusBtnConfig\"\r\n          :tab-status-num-config=\"tabStatusNumConfig\"\r\n          @onQueryConditionsClick=\"onQueryConditionsClick1\"\r\n        >\r\n          <template v-if=\"(tabSelect === '3' || tabSelect === '4' || tabSelect === '2') && (transJson($store.state.curNavModule.param5).isQuery !== 'true') && transJson($store.state.curNavModule.param5).isShowBack !== 'false'\" v-slot:preBtns>\r\n            <vxe-button\r\n              size=\"medium\"\r\n              @click=\"doBack\"\r\n            >退回</vxe-button>\r\n          </template>\r\n        </BsTabPanel>\r\n      </template>\r\n      <template v-slot:query>\r\n        <div class=\"main-query\">\r\n          <BsQuery\r\n            ref=\"queryFrom\"\r\n            :query-form-item-config=\"queryConfig\"\r\n            :query-form-data=\"searchDataList\"\r\n            @onSearchClick=\"search\"\r\n            @onSearchResetClick=\"reset\"\r\n            @itemChange=\"itemChange\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template v-if=\"showBuinessTree\" v-slot:mainTree>\r\n        <BsTreeSet\r\n          ref=\"treeSet\"\r\n          v-model=\"leftTreeVisible\"\r\n          :tree-config=\"treeTypeConfig\"\r\n          @onChangeInput=\"(val) => { leftTreeFilterText = val }\"\r\n          @onAsideChange=\"asideChange\"\r\n          @onConfrimData=\"treeSetConfrimData\"\r\n        />\r\n        <BsTree\r\n          ref=\"leftTree\"\r\n          open-loading\r\n          :filter-text=\"leftTreeFilterText\"\r\n          :tree-data=\"treeData\"\r\n          :current-node-key=\"currentNodeKey\"\r\n          :config=\"{ showFilter: false, treeProps: { nodeKey: 'code', label: 'label',children: 'children' } }\"\r\n          @onNodeClick=\"onClickmethod\"\r\n        />\r\n      </template>\r\n      <template v-slot:mainForm>\r\n        <BsTable\r\n          ref=\"mainTableRef\"\r\n          v-loading=\"tableLoadingState\"\r\n          :footer-config=\"tableFooterConfig\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"tableColumnsConfigComputed.arr\"\r\n          :table-data=\"tableData\"\r\n          :toolbar-config=\"tableToolbarConfig\"\r\n          :cell-style=\"cellStyle\"\r\n          :pager-config=\"pagerConfig\"\r\n          highlight-current-row\r\n          @ajaxData=\"ajaxTableData\"\r\n          @cellClick=\"cellClick\"\r\n          @onToolbarBtnClick=\"onToolbarBtnClick\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left\">\r\n              <div v-if=\"leftTreeVisible === false && showBuinessTree === true\" class=\"table-toolbar-contro-leftvisible\" @click=\"leftTreeVisible = true\"></div>\r\n              <div class=\"table-toolbar-left-title\">\r\n                <span class=\"fn-inline\">{{ title }}</span>\r\n                <i class=\"fn-inline\"></i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </BsTable>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <ShowDialog\r\n      v-if=\"showDialogVisible\"\r\n      :title=\"showDialogTitle\"\r\n      :warning-code=\"warningCode\"\r\n      :fi-rule-code=\"detailFiRuleCode\"\r\n      :is-create=\"isCreate\"\r\n      :is-done=\"isDone\"\r\n      :detail-data=\"showDetailData\"\r\n      :bussness-id=\"bussnessId\"\r\n      :regulation-class=\"regulationClass\"\r\n      :param5=\"param5\"\r\n      @close=\"closeHandle\"\r\n    />\r\n    <GlAttachment\r\n      v-if=\"showGlAttachmentDialog\"\r\n      :user-info=\"userInfo\"\r\n      :billguid=\"billguid\"\r\n      :billguid-list=\"billguidList\"\r\n      @close=\"closeAttachment\"\r\n    />\r\n    <BsOperationLog :logs-data=\"logData\" :show-log-view.sync=\"showLogView\" />\r\n  </vxe-modal>\r\n</template>\r\n<script>\r\nimport HttpModule from '@/api/frame/main/fundMonitoring/createProcessing.js'\r\nimport proconf, {\r\n  statusButtons,\r\n  curStatusButton,\r\n  curStatusButton1,\r\n  curStatusButton2,\r\n  curStatusButton3,\r\n  buttons1,\r\n  buttons2\r\n} from './column.js'\r\nimport GlAttachment from './common/GlAttachment'\r\nimport ShowDialog from './addDialog.vue'\r\nimport transJson from '@/utils/transformMenuQuery'\r\nimport { filterText } from '@/utils/customerUtils'\r\n// import BsTable1 from '@/components/Table/Table.vue'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'DetailDialogs',\r\n  components: {\r\n    GlAttachment,\r\n    ShowDialog\r\n    // BsTable1\r\n  },\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    },\r\n    tableColumnsConfigComputed() {\r\n      let detailColumns = this.getDetailFormItem()\r\n      let detailAddArr = []\r\n      let arr = Object.assign([], this.tableColumnsConfig)\r\n      if (this.$store.state.userInfo.province.slice(0, 2) === '15') {\r\n        detailColumns.forEach(item => {\r\n          let arr2 = arr.map(item => item.field)\r\n          if (!arr2.includes(item.field)) {\r\n            arr.push(item)\r\n            detailAddArr.push(item)\r\n          }\r\n        })\r\n      }\r\n      return { arr, detailAddArr }\r\n    }\r\n  },\r\n  props: {\r\n    colourType: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    detailData: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    selectBid: {\r\n      type: String,\r\n      default: '7'\r\n    },\r\n    regulationClass: {\r\n      type: String,\r\n      default: '0201'\r\n    },\r\n    queryData: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 操作日志\r\n      isFlow: false,\r\n      logData: [],\r\n      showLogView: false,\r\n      title: '',\r\n      tableLoadingState: false,\r\n      showDialogVisible: false,\r\n      showDialogTitle: '',\r\n      showDetailData: [],\r\n      isCreate: false,\r\n      isDone: false,\r\n      warnLevel: '',\r\n      status: null,\r\n      isHandle: false,\r\n      isNormal: false,\r\n      isProcessed: false,\r\n      isSign: '',\r\n      userInfo: {},\r\n      billguid: '',\r\n      billguidList: [],\r\n      showLog: false,\r\n      showGlAttachmentDialog: false,\r\n      tabStatusBtnConfig: {\r\n        // changeBtns: true,\r\n        buttons: statusButtons,\r\n        curButton: curStatusButton,\r\n        // buttonsInfo: buttons1,\r\n        buttonsInfo: this.transJson(this.$store.state.curNavModule.param5)?.isQuery === 'true' ? buttons2 : buttons1,\r\n        methods: {\r\n          bsToolbarClickEvent: this.bsToolbarClickEvent\r\n        }\r\n      },\r\n      tabStatusNumConfig: {\r\n        '1': 0,\r\n        '2': 0,\r\n        '3': 0,\r\n        '4': 0\r\n      },\r\n      onQueryConditionsClick1(isOpen) {\r\n        this.isShowQueryConditions = isOpen\r\n      },\r\n      agencyCodeList: [],\r\n      isShowQueryConditions: true,\r\n      queryConfig: proconf.highQueryConfig,\r\n      searchDataList: proconf.highQueryData,\r\n      detailVisible: true,\r\n      // 表格尾部合计配置\r\n      tableFooterConfig: {\r\n        totalObj: {\r\n          paymentAmount: 0\r\n        },\r\n        combinedType: ['switchTotal'],\r\n        showFooter: false\r\n      },\r\n      tableColumnsConfig: [\r\n      ],\r\n      pagerConfig: {\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 20\r\n      },\r\n      tableData: [],\r\n      tableToolbarConfig: {\r\n        // table工具栏配置\r\n        disabledMoneyConversion: false,\r\n        moneyConversion: true, // 是否有金额转换\r\n        search: false, // 是否有search\r\n        import: false, // 导入\r\n        export: true, // 导出\r\n        print: false, // 打印\r\n        zoom: false, // 缩放\r\n        custom: false, // 选配展示列\r\n        slots: {\r\n          tools: 'toolbarTools',\r\n          buttons: 'toolbarSlots'\r\n        }\r\n      },\r\n      tableConfig: {\r\n        renderers: {\r\n          // 编辑 附件 操作日志\r\n          $payVoucherInputGloableOptionRow: {\r\n            renderDefault: (h, cellRender, params, context) => {\r\n              let { row, column } = params\r\n              return [\r\n                <el-tooltip content=\"附件\" placement=\"top\" effect=\"light\">\r\n                  <a class=\"gloable-option-row-attachment gloable-option-row  fn-inline\" onClick={() => this.onOptionRowClick({ row, column, optionType: 'attachment' })}>附件</a>,\r\n                </el-tooltip>\r\n              ]\r\n            }\r\n          },\r\n          $ReportTaskGloableOptionRow: {\r\n            renderDefault: (h, cellRender, params, context) => {\r\n              let { row, column } = params\r\n              return [\r\n                <el-tooltip content=\"\" placement=\"\" effect=\"light\">\r\n                  <span style=\"color: #4293F4; text-decoration: underline\" onClick={() => this.onOptionRowClick({ row, column, optionType: 'show' })}>查看</span>\r\n                </el-tooltip>\r\n              ]\r\n            }\r\n          },\r\n          $gloableOptionRowLog1: {\r\n            renderDefault: (h, cellRender, params, context) => {\r\n              let { row, column } = params\r\n              return [\r\n                <el-tooltip content=\"\" placement=\"\" effect=\"light\">\r\n                  <span style=\"color: #4293F4; text-decoration: underline\" onClick={() => this.onOptionRowClick({ row, column, optionType: 'viewLog' })}>查看</span>\r\n                </el-tooltip>\r\n              ]\r\n            }\r\n          }\r\n        },\r\n        methods: {\r\n          onOptionRowClick: this.onOptionRowClick\r\n        },\r\n        globalConfig: {\r\n          // 全局配置\r\n          checkType: 'checkbox',\r\n          seq: true, // 序号列\r\n          useMoneyFilter: true\r\n        }\r\n      },\r\n      params: {},\r\n      condition: {},\r\n      sDetailTitle: '',\r\n      sDetailVisible: false,\r\n      sDetailData: [],\r\n      detailType: '',\r\n      fiRuleCode: '',\r\n      mofDivCode: '',\r\n      warningCode: '',\r\n      tableLoading: false,\r\n      dialogVisibles: false,\r\n      affirmDialogVisibles: false,\r\n      dialogTitle1: '整改意见',\r\n      fiscalYear: '',\r\n      tabSelect: '',\r\n      selectData: {},\r\n      showBuinessTree: false,\r\n      leftTreeVisible: false,\r\n      leftTreeFilterText: '',\r\n      treeData: [],\r\n      bussnessId: '7',\r\n      clickRowBussnessId: '',\r\n      treeTypeConfig: {},\r\n      currentNodeKey: '7',\r\n      detailFiRuleCode: '' // 查看详情单独定义fiRuleCode 不影响查询\r\n      // {\r\n      //   children: [],\r\n      //   code: '0',\r\n      //   id: '0',\r\n      //   label: '预算执行',\r\n      //   name: '预算执行',\r\n      //   parentId: null,\r\n      //   parentRuleName: null,\r\n      //   ruleLevel: 0,\r\n      //   ruleName: '预算执行'\r\n      // }, {\r\n      //   children: [],\r\n      //   code: '1',\r\n      //   id: '1',\r\n      //   label: '预算管理',\r\n      //   name: '预算管理',\r\n      //   parentId: null,\r\n      //   parentRuleName: null,\r\n      //   ruleLevel: 0,\r\n      //   ruleName: '预算管理'\r\n      // }\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     *动态控制左侧树的显示  只有特定的路由才显示\r\n     */\r\n    setShowBusinesTree() {\r\n      this.showLog = true\r\n      // 可显示是左侧业务树的路由\r\n      const showRouters = ['WarnRegionBySpecial']\r\n      if (showRouters.includes(this.$route.name)) {\r\n        this.showBuinessTree = true\r\n        this.leftTreeVisible = true\r\n        // 去发请求获取左侧数据\r\n        this.getLeftTreeData()\r\n      }\r\n    },\r\n    // table 右侧操作按钮\r\n    asideChange() {\r\n      this.leftTreeVisible = false\r\n    },\r\n    treeSetConfrimData(curTree) {\r\n      this.treeQueryparams.elementCode = curTree.code\r\n      this.$refs.leftTree.refreshTree()\r\n    },\r\n    onClickmethod({ node }) {\r\n      if (node.code) {\r\n        this.$refs.queryFrom.reset()\r\n        this.condition = {}\r\n        this.currentNodeKey = node.code\r\n        // 根据业务渲染列表\r\n        this.bussnessId = node.code.toString()\r\n        this.tableColumnsConfig = proconf.getColumns(this.detailType, this.bussnessId, this.showLog, this.regulationClass, this.isFlow)\r\n        this.queryTableDatas()\r\n      }\r\n    },\r\n    /**\r\n     * 获取左侧树\r\n     */\r\n    getLeftTreeData() {\r\n      let that = this\r\n      const param = {\r\n        businessType: 2,\r\n        parentId: '1'// 预算管理一体化系统\r\n      }\r\n      HttpModule.getbusLists(param).then(res => {\r\n        if (res.rscode === '100000') {\r\n          let resData = res.data.results.filter(item => item.id !== '8')\r\n          let treeResdata = that.getChildrenData(resData)\r\n          that.treeData = treeResdata\r\n          console.log(that.treeData)\r\n        } else {\r\n          this.$message.error('左侧树加载失败')\r\n        }\r\n      })\r\n    },\r\n    getChildrenData(datas) {\r\n      let that = this\r\n      datas.forEach(item => {\r\n        item.code = item.id\r\n        item.label = item.businessName\r\n        item.children = item.children || []\r\n        if (item.children && item.children.length > 0) {\r\n          that.getChildrenData(item.children)\r\n        }\r\n      })\r\n      return datas\r\n    },\r\n    onOptionRowClick({ row, optionType }, context) {\r\n      switch (optionType) {\r\n        // 附件\r\n        case 'attachment':\r\n          this.showAttachment(row)\r\n          break\r\n        case 'show':\r\n          this.show(row)\r\n          break\r\n        case 'viewLog':\r\n          this.showLogModel(row)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    showLogModel(row) {\r\n      this.queryActionLog(row)\r\n    },\r\n    // 操作日志\r\n    queryActionLog(row) {\r\n      HttpModule.getLogs(row.dealNo).then(res => {\r\n        if (res.code === '000000') {\r\n          let tempData = res.data.map(item => {\r\n            return {\r\n              logid: item['operationTypeCode'],\r\n              nodeName: item['operationTypeName'],\r\n              actionUser: item['operationUser'],\r\n              actionName: item['operationTypeName'],\r\n              actionTime: item['createdTime'] == null ? '' : item['createdTime'],\r\n              message: item['operationComment']\r\n            }\r\n          })\r\n          this.logData = tempData\r\n          console.log(this.logData)\r\n          this.showLogView = true\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 查看附件\r\n    showAttachment(row) {\r\n      console.log('查看附件', row)\r\n      if (!row.attachmentids.length) {\r\n        this.$message.warning('该数据无附件')\r\n        return\r\n      }\r\n      // this.billguid = row.attachmentid1 === null ? row.attachmentid3 : row.attachmentid1\r\n      // let billguidList = []\r\n      // row.attachmentid1 && billguidList.push(row.attachmentid1)\r\n      // row.attachmentid3 && billguidList.push(row.attachmentid3)\r\n      this.billguidList = row.attachmentids.filter(item => { return Boolean(item) })\r\n      this.showGlAttachmentDialog = true\r\n    },\r\n    // 查看详情\r\n    show(val) {\r\n      this.detailFiRuleCode = val.fiRuleCode || ''\r\n      this.warningCode = val.warningCode || ''\r\n      this.showDialogVisible = true\r\n      this.showDialogTitle = '查看详情信息'\r\n      // this.clickRowBussnessId = val.businessModuleCode\r\n    },\r\n    ajaxTableData({ params, currentPage, pageSize }) {\r\n      this.pagerConfig.currentPage = currentPage\r\n      this.pagerConfig.pageSize = pageSize\r\n      this.refresh()\r\n    },\r\n    refresh() {\r\n      this.queryTableDatas()\r\n      // this.queryTableDatasCount()\r\n    },\r\n    // 搜索\r\n    search(val) {\r\n      this.searchDataList = { ...val, ...this.searchDataList }\r\n      let condition = this.getConditionList()\r\n      for (let key in condition) {\r\n        if (\r\n          (this.searchDataList[key] !== undefined) &\r\n          (this.searchDataList[key] !== null)\r\n        ) {\r\n          if (Array.isArray(this.searchDataList[key])) {\r\n            condition[key] = this.searchDataList[key]\r\n          } else if (typeof this.searchDataList[key] === 'string') {\r\n            if (this.searchDataList[key].trim() !== '') {\r\n              this.searchDataList[key].split(',').forEach((item) => {\r\n                condition[key].push(item)\r\n              })\r\n            }\r\n          }\r\n        }\r\n      }\r\n      console.log(val, '-------------')\r\n      // this.agencyCodeList = val.agencyCodeList_code__multiple\r\n      this.condition = condition\r\n      this.queryTableDatas()\r\n    },\r\n    closeHandle(titleName) {\r\n      titleName !== '查看详情信息' && this.queryTableDatas()\r\n      this.showDialogVisible = false\r\n    },\r\n    closeAttachment() {\r\n      this.showGlAttachmentDialog = false\r\n    },\r\n    bsToolbarClickEvent(obj, $this) {\r\n      if (!obj.type) {\r\n        this.operationToolbarButtonClickEvent(obj)\r\n        return\r\n      }\r\n      this.tabSelect = obj.curValue\r\n      if (this.tabSelect === '1') {\r\n        // this.tableColumnsConfig = proconf.undoNum\r\n        this.tabStatusBtnConfig.curButton = curStatusButton\r\n        switch (this.colourType) {\r\n          case '3':\r\n            this.detailType = 'yellowUndoNum'\r\n            break\r\n          case '2':\r\n            this.detailType = 'orangeUndoNum'\r\n            break\r\n          case '1':\r\n            this.detailType = 'redUndoNum'\r\n            break\r\n          case '5':\r\n            this.detailType = 'greyUndoNum'\r\n            break\r\n          case '4':\r\n            this.detailType = 'blueUndoNum'\r\n            break\r\n          default :\r\n            break\r\n        }\r\n      } else if (this.tabSelect === '2') {\r\n        // this.tableColumnsConfig = proconf.undoNum\r\n        this.tabStatusBtnConfig.curButton = curStatusButton1\r\n        switch (this.colourType) {\r\n          case '3':\r\n            this.detailType = 'yellowNormalNum'\r\n            break\r\n          case '2':\r\n            this.detailType = 'orangeNormalNum'\r\n            break\r\n          case '1':\r\n            this.detailType = 'redNormalNum'\r\n            break\r\n          case '5':\r\n            this.detailType = 'greyNormalNum'\r\n            break\r\n          case '4':\r\n            this.detailType = 'blueNormalNum'\r\n            break\r\n          default :\r\n            break\r\n        }\r\n      } else if (this.tabSelect === '4') {\r\n        // this.tableColumnsConfig = proconf.notRectifiedNum\r\n        this.tabStatusBtnConfig.curButton = curStatusButton2\r\n        switch (this.colourType) {\r\n          case '3':\r\n            this.detailType = 'yellowNotRectifiedNum'\r\n            break\r\n          case '2':\r\n            this.detailType = 'orangeNotRectifiedNum'\r\n            break\r\n          case '1':\r\n            this.detailType = 'redNotRectifiedNum'\r\n            break\r\n          case '5':\r\n            this.detailType = 'greyNotRectifiedNum'\r\n            break\r\n          case '4':\r\n            this.detailType = 'blueNotRectifiedNum'\r\n            break\r\n          default :\r\n            break\r\n        }\r\n      } else if (this.tabSelect === '3') {\r\n        // this.tableColumnsConfig = proconf.doneNum\r\n        this.tabStatusBtnConfig.curButton = curStatusButton3\r\n        switch (this.colourType) {\r\n          case '3':\r\n            this.detailType = 'yellowDoneNum'\r\n            break\r\n          case '2':\r\n            this.detailType = 'orangeDoneNum'\r\n            break\r\n          case '1':\r\n            this.detailType = 'redDoneNum'\r\n            break\r\n          case '5':\r\n            this.detailType = 'greyDoneNum'\r\n            break\r\n          case '4':\r\n            this.detailType = 'blueDoneNum'\r\n            break\r\n          default :\r\n            break\r\n        }\r\n      }\r\n      this.condition = {}\r\n      this.pagerConfig.currentPage = 1\r\n      this.$refs.mainTableRef.$refs.xGrid.clearScroll()\r\n      this.showInfo()\r\n      this.queryTableDatas()\r\n      // this.params.status = this.tabSelect === '1' ? '0' : '1'\r\n    },\r\n    // 切换操作按钮\r\n    operationToolbarButtonClickEvent(obj, context, e) {\r\n      let self = this\r\n      switch (obj.code) {\r\n        case 'create': // 生成\r\n          self.handleCreate(obj)\r\n          break\r\n        case 'normal': //\r\n          self.handleNormal(obj)\r\n          break\r\n        // 查看详情\r\n        case 'show_detail':\r\n          this.showDetail()\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    itemChange(obj, formRef) {\r\n      let timeFiledList = ['warnStartDate', 'warnEndDate', 'dealWarnStartDate', 'dealWarnEndDate', 'recStartTime', 'recEndTime', 'xPayDateStart', 'xPayDateEnd']\r\n      if (timeFiledList.includes(obj.property)) {\r\n        obj.renderOpts.props.value = moment(obj.itemValue).format('YYYY-MM-DD')\r\n        this.searchDataList[obj.property] = obj.itemValue\r\n      } else {\r\n        this.searchDataList[obj.property] = obj.itemValue\r\n      }\r\n      if (obj.property === 'agencyCodeList') {\r\n        let arr = []\r\n        obj.itemValue && obj.itemValue.split(',')?.map(v => {\r\n          if (v?.length > 0) {\r\n            arr.push(v.split('#')[0])\r\n          }\r\n        })\r\n        this.agencyCodeList = arr\r\n      }\r\n    },\r\n    showDetail() {\r\n      let selection = this.$refs.mainTableRef.selection\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择一条数据')\r\n        return\r\n      }\r\n      this.isDone = true\r\n      this.isCreate = false\r\n      this.showDetailData = selection\r\n      this.showDialogVisible = true\r\n      this.showDialogTitle = '监控问询单信息'\r\n    },\r\n    // 生成\r\n    handleCreate() {\r\n      let selection = this.$refs.mainTableRef.selection\r\n      if (selection.length === 0) {\r\n        this.$message.warning('请选择数据')\r\n        return\r\n      }\r\n      let mofDivCodeList = {}\r\n      let agencyCodeList = {}\r\n      let fiRuleCodeList = {}\r\n      selection.forEach(item => {\r\n        mofDivCodeList[item.mofDivCode] = item.mofDivName\r\n        agencyCodeList[item.agencyCode] = item.agencyCode\r\n        fiRuleCodeList[item.fiRuleCode] = item.fiRuleCode\r\n      })\r\n      if (Object.keys(mofDivCodeList).length > 1) {\r\n        this.$message.warning('请选择同一区划')\r\n        return\r\n      }\r\n      if (Object.keys(agencyCodeList).length > 1 || Object.keys(fiRuleCodeList).length > 1) {\r\n        this.$message.warning('请选择同一单位编码和同一规则编码')\r\n        return\r\n      }\r\n      this.isDone = false\r\n      this.isCreate = true\r\n      this.showDetailData = selection\r\n      this.showDialogVisible = true\r\n      this.showDialogTitle = '监控问询单信息'\r\n    },\r\n    handleNormal() {\r\n      let selection = this.$refs.mainTableRef.selection\r\n      if (selection.length === 0) {\r\n        this.$message.success('请选择数据')\r\n        return\r\n      }\r\n      var warnIds = []\r\n      selection.forEach(function(item, index) {\r\n        warnIds.push(item.warnid)\r\n      })\r\n      this.$confirm('此操作将标记选中数据为正常, 是否继续?', '提示', {\r\n        confirmButtonText: '标记',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.tableLoading = true\r\n        HttpModule\r\n          .handleNormal(warnIds)\r\n          .then(res => {\r\n            this.tableLoading = false\r\n            if (res.code === '000000') {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '标记成功!'\r\n              })\r\n              this.queryTableDatas()\r\n            }\r\n          })\r\n          .finally(() => {\r\n            this.tableLoading = false\r\n          })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消标记'\r\n        })\r\n      })\r\n    },\r\n    updateRectifyAsk() {\r\n      this.dialogVisibles = true\r\n      this.dialogTitle1 = '整改处理单'\r\n    },\r\n    updateRectifyAskup() {\r\n      this.dialogVisibles = true\r\n      this.dialogTitle1 = '修改整改处理单'\r\n    },\r\n    affirm() {\r\n      this.affirmDialogVisibles = true\r\n      this.dialogTitle1 = '认定处理单'\r\n    },\r\n    affirmUpdate() {\r\n      this.affirmDialogVisibles = true\r\n      this.dialogTitle1 = '修改认定处理单'\r\n    },\r\n    // 展开折叠查询框\r\n    onQueryConditionsClick(isOpen) {\r\n      this.isShowQueryConditions = isOpen\r\n    },\r\n    // 初始化高级查询data\r\n    getSearchDataList() {\r\n      // 下拉树\r\n      let searchDataObj = {}\r\n      this.queryConfig.forEach((item) => {\r\n        if (\r\n          item.itemRender.name === '$formTreeInput' ||\r\n          item.itemRender.name === '$vxeTree'\r\n        ) {\r\n          if (item.field) {\r\n            searchDataObj[item.field + 'code'] = ''\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            searchDataObj[item.field] = ''\r\n          }\r\n        }\r\n      })\r\n      this.searchDataList = searchDataObj\r\n    },\r\n    // 初始化高级查询参数condition\r\n    getConditionList() {\r\n      let condition = {}\r\n      this.queryConfig.forEach((item) => {\r\n        if (\r\n          item.itemRender.name === '$formTreeInput' ||\r\n          item.itemRender.name === '$vxeTree'\r\n        ) {\r\n          if (item.field) {\r\n            if (item.field === 'cor_bgt_doc_no_') {\r\n              condition[item.field + 'name'] = []\r\n            } else {\r\n              condition[item.field + 'code'] = []\r\n            }\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            condition[item.field] = []\r\n          }\r\n        }\r\n      })\r\n      return condition\r\n    },\r\n    dialogClose() {\r\n      this.$parent.detailVisible = false\r\n      if (this.transJson(this.$store.state.curNavModule.param5)?.isQuery === 'true') {\r\n        return\r\n      }\r\n      this.$parent.queryTableDatas()\r\n    },\r\n    onToolbarBtnClick({ context, table, code }) {\r\n      switch (code) {\r\n        // 刷新\r\n        case 'refresh':\r\n          this.refresh()\r\n          break\r\n      }\r\n    },\r\n    showInfo() {\r\n      this.fiRuleCode = this.detailData[1]\r\n      this.mofDivCode = this.detailData[2]\r\n      this.fiscalYear = this.detailData[3]\r\n      // 这里在获取一个业务类型 然后依据业务类型和具体的状态去动态构造表头数据\r\n      switch (this.detailType) {\r\n        case 'redUndoNum':\r\n          this.tableColumnsConfig = proconf.getColumns('redUndoNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '3'\r\n          this.isSign = 0\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '疑点信息明细'\r\n          break\r\n        case 'redNormalNum':\r\n          this.tableColumnsConfig = proconf.getColumns('redNormalNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton1\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '3'\r\n          this.isSign = '1'\r\n          this.status = ''\r\n          this.isNormal = true\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '认定正常明细'\r\n          break\r\n        case 'redNotRectifiedNum':\r\n          // this.tableColumnsConfig = proconf.notRectifiedNum\r\n          this.tableColumnsConfig = proconf.getColumns('redNotRectifiedNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton3\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.warnLevel = '3'\r\n          this.isSign = '2'\r\n          this.status = 7\r\n          this.title = '认定违规-待整改明细'\r\n          break\r\n        case 'redDoneNum':\r\n          // this.tableColumnsConfig = proconf.doneNum\r\n          this.tableColumnsConfig = proconf.getColumns('redDoneNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton2\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '3'\r\n          this.isSign = '2'\r\n          this.status = null\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = 7\r\n          this.title = '认定违规-已整改明细'\r\n          break\r\n        case 'orangeUndoNum':\r\n          //  this.tableColumnsConfig = proconf.undoNum\r\n          this.tableColumnsConfig = proconf.getColumns('orangeUndoNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '2'\r\n          this.isSign = 0\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '预警数据明细'\r\n          break\r\n        case 'orangeNormalNum':\r\n          // this.tableColumnsConfig = proconf.normalNum\r\n          this.tableColumnsConfig = proconf.getColumns('orangeNormalNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton1\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '2'\r\n          this.isSign = 2\r\n          this.isNormal = true\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '认定正常明细'\r\n          break\r\n        case 'orangeNotRectifiedNum':\r\n          // this.tableColumnsConfig = proconf.notRectifiedNum\r\n          this.tableColumnsConfig = proconf.getColumns('orangeNotRectifiedNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton3\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '2'\r\n          this.isSign = '2'\r\n          this.isNormal = false\r\n          this.isHandle = true\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '未完成明细'\r\n          break\r\n        case 'orangeDoneNum':\r\n          // this.tableColumnsConfig = proconf.doneNum\r\n          this.tableColumnsConfig = proconf.getColumns('orangeDoneNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton2\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '2'\r\n          this.isSign = '2'\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = 7\r\n          this.title = '已整改明细'\r\n          break\r\n        case 'yellowUndoNum':\r\n          // this.tableColumnsConfig = proconf.undoNum\r\n          this.tableColumnsConfig = proconf.getColumns('yellowUndoNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '1'\r\n          this.isSign = '0'\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '预警数据明细'\r\n          break\r\n        case 'yellowNormalNum':\r\n          // this.tableColumnsConfig = proconf.normalNum\r\n          this.tableColumnsConfig = proconf.getColumns('yellowNormalNum', this.bussnessId, this.showLog)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton1\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '1'\r\n          this.isSign = '2'\r\n          this.isNormal = true\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '认定正常明细'\r\n          break\r\n        case 'yellowNotRectifiedNum':\r\n          // this.tableColumnsConfig = proconf.notRectifiedNum\r\n          this.tableColumnsConfig = proconf.getColumns('yellowNotRectifiedNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton3\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '1'\r\n          this.isSign = '2'\r\n          this.isNormal = false\r\n          this.isHandle = true\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '未完成明细'\r\n          break\r\n        case 'yellowDoneNum':\r\n          // this.tableColumnsConfig = proconf.doneNum\r\n          this.tableColumnsConfig = proconf.getColumns('yellowDoneNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton2\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '1'\r\n          this.isSign = '2'\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = 7\r\n          this.title = '已整改明细'\r\n          break\r\n        case 'blueUndoNum':\r\n          // this.tableColumnsConfig = proconf.undoNum\r\n          this.tableColumnsConfig = proconf.getColumns('blueUndoNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '5'\r\n          this.isSign = '0'\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '预警数据明细'\r\n          break\r\n        case 'blueNormalNum':\r\n          // this.tableColumnsConfig = proconf.normalNum\r\n          this.tableColumnsConfig = proconf.getColumns('blueNormalNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton1\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '5'\r\n          this.isSign = '2'\r\n          this.isNormal = true\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '认定正常明细'\r\n          break\r\n        case 'blueNotRectifiedNum':// 未完成\r\n          // this.tableColumnsConfig = proconf.notRectifiedNum\r\n          this.tableColumnsConfig = proconf.getColumns('blueNotRectifiedNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton3\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '5'\r\n          this.isSign = '2'\r\n          this.isNormal = false\r\n          this.isHandle = true\r\n          this.isProcessed = false\r\n          this.status = null\r\n          this.title = '未完成明细'\r\n          break\r\n        case 'blueDoneNum':\r\n          // this.tableColumnsConfig = proconf.doneNum\r\n          this.tableColumnsConfig = proconf.getColumns('blueDoneNum', this.bussnessId, this.showLog, '', this.isFlow)\r\n          this.tabStatusBtnConfig.curButton = curStatusButton2\r\n          this.tabStatusBtnConfig.buttons = statusButtons\r\n          this.warnLevel = '5'\r\n          this.isSign = '2'\r\n          this.isNormal = false\r\n          this.isHandle = false\r\n          this.isProcessed = false\r\n          this.status = 7\r\n          this.title = '已整改明细'\r\n          break\r\n        default:\r\n          break\r\n        // case 'greyUndoNum':\r\n        //   this.tableColumnsConfig = proconf.undoNum\r\n        //   this.tabStatusBtnConfig.curButton = curStatusButton\r\n        //   this.tabStatusBtnConfig.buttons = statusButtons\r\n        //   this.warnLevel = '4'\r\n        //   this.isSign = '0'\r\n        //   this.status = ''\r\n        //   this.title = '疑点信息明细'\r\n        //   break\r\n        // case 'greyNormalNum':\r\n        //   this.tableColumnsConfig = proconf.undoNum\r\n        //   this.tabStatusBtnConfig.curButton = curStatusButton1\r\n        //   this.tabStatusBtnConfig.buttons = statusButtons\r\n        //   this.warnLevel = '4'\r\n        //   this.isSign = '1'\r\n        //   this.status = ''\r\n        //   this.title = '认定正常明细'\r\n        //   break\r\n        // case 'greyNotRectifiedNum':\r\n        //   this.tableColumnsConfig = proconf.notRectifiedNum\r\n        //   this.tabStatusBtnConfig.curButton = curStatusButton2\r\n        //   this.tabStatusBtnConfig.buttons = statusButtons\r\n        //   this.warnLevel = '4'\r\n        //   this.isSign = '2'\r\n        //   this.status = '1'\r\n        //   this.title = '认定违规-待整改明细'\r\n        //   break\r\n        // case 'greyDoneNum':\r\n        //   this.tableColumnsConfig = proconf.doneNum\r\n        //   this.tabStatusBtnConfig.curButton = curStatusButton3\r\n        //   this.tabStatusBtnConfig.buttons = statusButtons\r\n        //   this.warnLevel = '4'\r\n        //   this.isSign = '2'\r\n        //   this.status = '2'\r\n        //   this.title = '认定违规-已整改明细'\r\n        //   break\r\n      }\r\n      this.tabSelect = this.tabStatusBtnConfig.curButton.code\r\n      switch (this.warnLevel) {\r\n        case '1':\r\n          this.title = '红色预警-' + this.title\r\n          break\r\n        case '2':\r\n          this.title = '橙色预警-' + this.title\r\n          break\r\n        case '3':\r\n          this.title = '黄色预警-' + this.title\r\n          break\r\n        // case '4':\r\n        //   this.title = '灰色预警-' + this.title\r\n        //   break\r\n        case '4':\r\n          this.title = '蓝色预警-' + this.title\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    queryTableDatas() {\r\n      let params = {\r\n        page: this.pagerConfig.currentPage, // 页码\r\n        pageSize: this.pagerConfig.pageSize, // 每页条数\r\n        warnLevel: this.warnLevel,\r\n        isSign: this.isSign,\r\n        agencyCodeList: this.agencyCodeList,\r\n        status: this.status,\r\n        isNormal: this.isNormal,\r\n        isHandle: this.isHandle,\r\n        regulationClassName: this.condition.regulationClassName ? this.condition.regulationClassName[0] : '',\r\n        warnTime: this.condition.warnTime ? this.condition.warnTime[0] : '',\r\n        triggerClass: this.condition.triggerClass ? this.condition.triggerClass[0] : '',\r\n        fiRuleName: this.condition.fiRuleName ? this.condition.fiRuleName[0] : '',\r\n        businessNo: this.condition.businessNo ? this.condition.businessNo[0] : '',\r\n        isFilterByPerm: transJson(this.$store.state.curNavModule.param5)?.isFilterByPerm,\r\n        businessModuleCode: this.bussnessId || undefined,\r\n        trackProName: this.condition.trackProName ? this.condition.trackProName[0] : '',\r\n        roleguid: this.$store.state.curNavModule.roleguid,\r\n        warnStartDate: this.searchDataList.warnStartDate && moment(this.searchDataList.warnStartDate).format('YYYY-MM-DD'),\r\n        warnEndDate: this.searchDataList.warnEndDate && moment(this.searchDataList.warnEndDate).format('YYYY-MM-DD'),\r\n        dealWarnStartDate: this.searchDataList.dealWarnStartDate && moment(this.searchDataList.dealWarnStartDate).format('YYYY-MM-DD'),\r\n        dealWarnEndDate: this.searchDataList.dealWarnEndDate && moment(this.searchDataList.dealWarnEndDate).format('YYYY-MM-DD'),\r\n        recStartTime: this.searchDataList.recStartTime,\r\n        recEndTime: this.searchDataList.recEndTime,\r\n        xPayDateStart: this.searchDataList.xPayDateStart,\r\n        xPayDateEnd: this.searchDataList.xPayDateEnd,\r\n        roleId: this.$store.state.curNavModule.roleguid,\r\n        menuId: this.$store.state.curNavModule.guid\r\n      }\r\n\r\n      // 有菜单有主题参数则 则用主题参数\r\n      if (transJson(this.$store.state.curNavModule.param5)?.regulationClass) {\r\n        params.regulationClass = transJson(this.$store.state.curNavModule.param5)?.regulationClass\r\n      }\r\n      if (this.$store.state.curNavModule.f_FullName?.substring(0, 4) === '直达资金') {\r\n        params.regulationClass = '0201'\r\n      }\r\n      if (this.detailData.length > 5) {\r\n        let { xpayDate, triggerMonitorDate } = this.detailData[5]\r\n        params = Object.assign(params, {\r\n          xpayDate: xpayDate || undefined,\r\n          triggerMonitorDate: triggerMonitorDate || undefined\r\n        })\r\n      }\r\n      if (!params.warnTime && params.triggerMonitorDate) {\r\n        params.warnTime = params.triggerMonitorDate\r\n      }\r\n      if (this.fiRuleCode === null || this.fiRuleCode === '') {\r\n        params.mofDivCode = this.mofDivCode\r\n        params.fiscalYear = this.fiscalYear\r\n        this.tableLoadingState = true\r\n        HttpModule.querySumByMof(params).then(res => {\r\n          if (res.code === '000000') {\r\n            this.tableFooterConfig.totalObj = res.data ? res.data[0] : 0\r\n          } else {\r\n            this.$message.error(res.result)\r\n          }\r\n        })\r\n        HttpModule.queryDetailDatasByMof(params).then((res) => {\r\n          this.tableLoadingState = false\r\n          if (res.code === '000000') {\r\n            this.pagerConfig.total = res.data.totalCount\r\n            if (this.$store.state.userInfo.province.slice(0, 2) === '15') {\r\n              this.tableData = res.data.results.map(item => {\r\n                let detailFormData = this.pickDetailData({ data: item.executeDataDetailVO })\r\n                return Object.assign({}, item, this.pickObjectField(detailFormData, this.tableColumnsConfigComputed.detailAddArr.map(item => item.field)))\r\n              })\r\n              return\r\n            }\r\n            this.tableData = res.data.results\r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n      } else {\r\n        params.fiRuleCode = this.fiRuleCode\r\n        this.tableLoadingState = true\r\n        HttpModule.querySum(params).then(res => {\r\n          if (res.code === '000000') {\r\n            this.tableFooterConfig.totalObj = res.data ? res.data[0] : 0\r\n          } else {\r\n            this.$message.error(res.result)\r\n          }\r\n        })\r\n        HttpModule.queryDetailDatas(params).then((res) => {\r\n          this.tableLoadingState = false\r\n          if (res.code === '000000') {\r\n            this.pagerConfig.total = res.data.totalCount\r\n            if (this.$store.state.userInfo.province.slice(0, 2) === '15') {\r\n              this.tableData = res.data.results.map(item => {\r\n                let detailFormData = this.pickDetailData({ data: item.executeDataDetailVO })\r\n                return Object.assign({}, item, this.pickObjectField(detailFormData, this.tableColumnsConfigComputed.detailAddArr.map(item => item.field)))\r\n              })\r\n              return\r\n            }\r\n            this.tableData = res.data.results\r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    getAgency() {\r\n      const param = {\r\n        elementCode: 'AGENCY',\r\n        date: this.$store.state.userInfo.year,\r\n        tokenid: this.$store.getters.getLoginAuthentication.tokenid,\r\n        appguid: 'apaas',\r\n        year: this.$store.state.userInfo.year,\r\n        mofDivCode: this.$store.state.userInfo.province,\r\n        parameters: {}\r\n      }\r\n      HttpModule.getTreewhere(param).then(res => {\r\n        let treeResdata = res.data\r\n        this.queryConfig[0].itemRender.options = treeResdata\r\n      })\r\n    },\r\n    getChildrenNewData1(datas) {\r\n      let that = this\r\n      datas.forEach(item => {\r\n        item.label = item.text\r\n        if (item.children) {\r\n          that.getChildrenNewData1(item.children)\r\n        }\r\n      })\r\n      return datas\r\n    },\r\n    handleDetail(type, diBillId, mofDivCode) {\r\n      this.$parent.sdetailQueryParam = {\r\n        diBillId: diBillId,\r\n        fiscalYear: this.fiscalYear,\r\n        mofDivCode: mofDivCode\r\n      }\r\n      this.$parent.sdetailVisible = true\r\n    },\r\n    cellStyle({ row, rowIndex, column }) {\r\n      // 有效的cellValue\r\n      const style = {}\r\n      const validCellValue = (row[column.property] * 1)\r\n      if (validCellValue && ['detail'].includes(column.property)) {\r\n        style.color = '#4293F4'\r\n        style.textDecoration = 'underline'\r\n      } else if (['warnLevel'].includes(column.property)) {\r\n        switch (row.warnLevel) {\r\n          case 3:\r\n            style.color = '#BBBB00'\r\n            break\r\n          case 2:\r\n            style.color = 'orange'\r\n            break\r\n          case 1:\r\n            style.color = 'red'\r\n            break\r\n          case 4:\r\n            style.color = 'blue'\r\n            break\r\n          case 5:\r\n            style.color = 'gray'\r\n            break\r\n          default:\r\n            break\r\n        }\r\n      }\r\n      return style\r\n    },\r\n    transJson(str) {\r\n      if (!str) return\r\n      var params = str.split(',')\r\n      var result = {}\r\n      if (params && params.length > 0) {\r\n        for (var i = 0; i < params.length; i++) {\r\n          var map = params[i].split('=')\r\n          result[map[0]] = map[1]\r\n        }\r\n      }\r\n      return result\r\n    },\r\n    reset() {\r\n      this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'warnStartDate' })].itemRender.props['value'] = ''\r\n      this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'warnEndDate' })].itemRender.props['value'] = ''\r\n      this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'dealWarnStartDate' })].itemRender.props['value'] = ''\r\n      this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'dealWarnEndDate' })].itemRender.props['value'] = ''\r\n      this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'recStartTime' })].itemRender.props['value'] = ''\r\n      this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'recEndTime' })].itemRender.props['value'] = ''\r\n      this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'xPayDateStart' })].itemRender.props['value'] = ''\r\n      this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'xPayDateEnd' })].itemRender.props['value'] = ''\r\n      this.$refs.queryFrom.reset()\r\n      this.agencyCodeList = []\r\n      this.searchDataList.agencyCodeList = []\r\n      this.searchDataList.businessNo = ''\r\n      this.searchDataList.fiRuleName = ''\r\n      this.searchDataList.regulationClassName = ''\r\n      this.searchDataList.trackProName = ''\r\n      this.searchDataList.triggerClass = ''\r\n      this.searchDataList.warnTime = ''\r\n      this.searchDataList.warnStartDate = ''\r\n      this.searchDataList.warnEndDate = ''\r\n      this.searchDataList.dealWarnStartDate = ''\r\n      this.searchDataList.dealWarnEndDate = ''\r\n      this.searchDataList.recStartTime = ''\r\n      this.searchDataList.recEndTime = ''\r\n      this.searchDataList.xPayDateStart = ''\r\n      this.searchDataList.xPayDateEnd = ''\r\n      this.condition.agencyCodeList = []\r\n      this.condition.businessNo = ''\r\n      this.condition.fiRuleName = ''\r\n      this.condition.regulationClassName = ''\r\n      this.condition.trackProName = ''\r\n      this.condition.triggerClass = ''\r\n      this.condition.warnTime = ''\r\n      this.queryTableDatas()\r\n    },\r\n    // 表格单元行单击\r\n    cellClick(obj, context, e) {\r\n      let key = obj.column.property\r\n      this.$refs.mainTableRef.$refs.xGrid.setCurrentRow(obj.row)\r\n      // 无效的cellValue\r\n      const isInvalidCellValue = !(obj.row[obj.column.property] * 1)\r\n      if (isInvalidCellValue) return\r\n\r\n      switch (key) {\r\n        case 'detail':\r\n          this.handleDetail('detail', obj.row.diBillId, obj.row.mofDivCode)\r\n          this.$parent.sDetailTitle = '详细信息'\r\n          break\r\n      }\r\n    },\r\n    pickObjectField(obj = {}, field) {\r\n      let newObj = {}\r\n      Object.keys(obj).map(item => {\r\n        if (field.includes(item)) {\r\n          newObj[item] = obj[item]\r\n        }\r\n      })\r\n      return newObj\r\n    },\r\n    //\r\n    pickDetailData(res) {\r\n      let detailData = {}\r\n      if (res.data && res.data.executeData !== null) {\r\n        detailData = Object.assign({}, { ...res.data, ...res.data.executeData })\r\n        detailData.agencyName = res.data.executeData.agencyCode === null ? '' : res.data.executeData?.agencyCode + '-' + res.data.executeData?.agencyName\r\n        detailData.proName = res.data.executeData.proCode === null ? '' : res.data.executeData?.proCode + '-' + res.data.executeData?.proName\r\n        detailData.natureOfFunds = res.data.executeData.fundTypeCode === null ? '' : res.data.executeData?.fundTypeCode + '-' + res.data.executeData?.fundTypeName\r\n        detailData.proCatName = res.data.executeData?.proCatCode === null ? '' : res.data.executeData?.proCatCode + '-' + res.data.executeData?.proCatName || ''\r\n        detailData.deptEconomyType = res.data.executeData?.depBgtEcoCode === null ? '' : res.data.executeData?.depBgtEcoCode + '-' + res.data.executeData?.depBgtEcoName\r\n        detailData.govEconomyType = res.data.executeData?.govBgtEcoCode + '-' + res.data.executeData?.govBgtEcoName\r\n        detailData.settlementMethod = res.data.executeData?.setModeCode + '-' + res.data.executeData?.setModeName\r\n        detailData.directFund = res.data.executeData?.isDirCode === null ? '' : res.data.executeData?.isDirCode + '-' + res.data.executeData?.isDirName || ''\r\n        detailData.salaryMark = res.data.executeData?.isSalCode === null ? '' : res.data.executeData?.isSalCode + '-' + res.data.executeData?.isSalName === null ? '' : res.data.executeData?.isSalName\r\n        detailData.isUnionFunds = filterText(res.data.executeData?.isFunCode, res.data.executeData?.isFunCode === 1 ? '是' : '否')\r\n        detailData.fiDate = res.data.executeData?.fiDate\r\n        detailData.funcType = res.data.executeData?.expFuncCode + '-' + res.data.executeData?.expFuncName\r\n        detailData.businessOffice = res.data.executeData?.manageMofDepCode + '-' + res.data.executeData?.manageMofDepName\r\n        detailData.paymentMethod = res.data.executeData?.payTypeCode + '-' + res.data.executeData?.payTypeName\r\n        detailData.isThrExp = filterText(res.data.executeData?.thrExpCode, res.data.executeData?.thrExpName)\r\n        detailData.trackProName = res.data.executeData && res.data.executeData?.trackProCode && res.data.executeData?.trackProName ? res.data.executeData?.trackProCode + '_' + res.data.executeData?.trackProName : ''\r\n        detailData.useDes = res.data.executeData && res.data.executeData?.useDes\r\n        detailData.payBusType = res.data.executeData.payBusTypeCode === null ? '' : res.data.executeData.payBusTypeCode + '_' + res.data.executeData.payBusTypeName\r\n        detailData.xpayDate = res.data.executeData?.xpayDate\r\n      }\r\n      if (res.data && res.data.payVoucherVo !== null) {\r\n        detailData.payBusType = res.data.payVoucherVo.payBusType\r\n        detailData.todoName = res.data.payVoucherVo.todoName\r\n        detailData.voidOrNot = res.data.payVoucherVo.voidOrNot\r\n      }\r\n      if (res.data && res.data.baBgtInfoEntity !== null) {\r\n        let { agencyCode, agencyName, timeoutIssueType, corBgtDocNo, fiscalYear, recDivName, mofDivName, proCode, proName, recTime, recAmount, allocationAmount, timeoutIssueAmount, timeoutIssueTime, curAmt } = res.data.baBgtInfoEntity\r\n        detailData.agencyName = agencyCode + '-' + agencyName\r\n        detailData.proName = proCode + '-' + proName\r\n        detailData.timeoutIssueType = timeoutIssueType || ''\r\n        detailData.corBgtDocNo = corBgtDocNo || ''\r\n        detailData.fiscalYear = fiscalYear || ''\r\n        detailData.recDivName = recDivName || ''\r\n        detailData.mofDivName = mofDivName || ''\r\n        detailData.proCode = proCode// 项目类别\r\n        detailData.proName = proName || ''\r\n        detailData.recTime = recTime || ''\r\n        detailData.recAmount = recAmount || ''\r\n        detailData.allocationAmount = allocationAmount || ''\r\n        detailData.timeoutIssueAmount = timeoutIssueAmount || ''\r\n        detailData.timeoutIssueTime = timeoutIssueTime || ''\r\n        detailData.curAmt = curAmt || ''\r\n\r\n        detailData.corBgtDocNo = res.data.baBgtInfoEntity.corBgtDocNo\r\n        detailData.bgtDocTitle = res.data.baBgtInfoEntity.bgtDocTitle\r\n        detailData.bgtDec = res.data.baBgtInfoEntity.bgtDec\r\n        detailData.proCode = res.data.baBgtInfoEntity.proCode\r\n        detailData.settlementMethod = res.data.baBgtInfoEntity.proName\r\n        detailData.sourceTypeName = res.data.baBgtInfoEntity.sourceTypeName\r\n        detailData.fundTypeName = res.data.baBgtInfoEntity.fundTypeName\r\n        detailData.expFuncName = res.data.baBgtInfoEntity.expFuncName\r\n        detailData.govBgtEcoName = res.data.baBgtInfoEntity.govBgtEcoName\r\n      }\r\n      return detailData\r\n      // this.handletableData = res.data?.regulationList\r\n    },\r\n    getDetailFormItem() {\r\n      let detailColumns = []\r\n      if (['6', 2, '2'].includes(this.bussnessId)) {\r\n        if (this.regulationClass === '0207') {\r\n          detailColumns = proconf.indexMsgConfig\r\n        } else {\r\n          detailColumns = proconf.bgtMsgConfig\r\n        }\r\n      } else if (!this.param5.show) {\r\n        detailColumns = proconf.msgConfig.filter(item => {\r\n          return !['payBusType', 'todoName', 'voidOrNot'].includes(item.field)\r\n        })\r\n      }\r\n      return detailColumns.map(item => {\r\n        return { ...item, width: 180 }\r\n      })\r\n    },\r\n    doBack() {\r\n      let selection = this.$refs.mainTableRef.selection\r\n      if (selection.length === 0) {\r\n        this.$message.success('请至少选择一条数据')\r\n        return\r\n      }\r\n      var backIds = []\r\n      selection.forEach(function(item, index) {\r\n        backIds.push({ warnid: item.warnid, dealNo: item.dealNo })\r\n      })\r\n      this.$confirm('确定退回选中数据?', '提示', {\r\n        confirmButtonText: '退回',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.tableLoading = true\r\n        HttpModule\r\n          .doBack(backIds)\r\n          .then(res => {\r\n            this.tableLoading = false\r\n            if (res.code === '000000') {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '退回成功!'\r\n              })\r\n              this.queryTableDatas()\r\n            } else {\r\n              this.$message.error(res.message)\r\n            }\r\n          })\r\n          .finally(() => {\r\n            this.tableLoading = false\r\n          })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消退回'\r\n        })\r\n      })\r\n    }\r\n  },\r\n  async mounted() {\r\n    // 如果菜单参数有主题 当前模块就使用该主题查询\r\n    if (transJson(this.$store.state.curNavModule.param5)?.regulationClassName) {\r\n      const index = this.queryConfig.findIndex(item => item.field === 'regulationClass')\r\n      index > -1 && this.queryConfig?.splice(index, 1)\r\n    }\r\n    this.detailType = this.detailData[0]\r\n    this.bussnessId = this.selectBid.toString()\r\n    let { data } = await HttpModule.getIsFlow()// 判断是不是走工作流\r\n    this.isFlow = data\r\n    this.getAgency()\r\n    this.showInfo()\r\n    this.queryTableDatas()\r\n  },\r\n  watch: {\r\n    queryConfig() {\r\n      this.getSearchDataList()\r\n    }\r\n  },\r\n  created() {\r\n    this.param5 = this.transJson(this.$store.state.curNavModule.param5)\r\n    console.log('this.param5', this.param5)\r\n    this.userInfo = this.$store.state.userInfo\r\n    this.setShowBusinesTree()\r\n    this.$set(this.searchDataList, 'warnStartDate', this.queryData.warnStartDate && moment(this.queryData.warnStartDate).format('YYYY-MM-DD'))\r\n    this.$set(this.searchDataList, 'warnEndDate', this.queryData.warnEndDate && moment(this.queryData.warnEndDate).format('YYYY-MM-DD'))\r\n    this.$set(this.searchDataList, 'dealWarnStartDate', this.queryData.dealWarnStartDate && moment(this.queryData.dealWarnStartDate).format('YYYY-MM-DD'))\r\n    this.$set(this.searchDataList, 'dealWarnEndDate', this.queryData.dealWarnEndDate && moment(this.queryData.dealWarnEndDate).format('YYYY-MM-DD'))\r\n    this.$set(this.searchDataList, 'recStartTime', this.queryData.recStartTime)\r\n    this.$set(this.searchDataList, 'recEndTime', this.queryData.recEndTime)\r\n    this.$set(this.searchDataList, 'xPayDateStart', this.queryData.xPayDateStart)\r\n    this.$set(this.searchDataList, 'xPayDateEnd', this.queryData.xPayDateEnd)\r\n    // 回显时间\r\n    this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'warnStartDate' })].itemRender.props['value'] = this.searchDataList.warnStartDate\r\n    this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'warnEndDate' })].itemRender.props['value'] = this.searchDataList.warnEndDate\r\n    this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'dealWarnStartDate' })].itemRender.props['value'] = this.searchDataList.dealWarnStartDate\r\n    this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'dealWarnEndDate' })].itemRender.props['value'] = this.searchDataList.dealWarnEndDate\r\n    this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'recStartTime' })].itemRender.props['value'] = this.searchDataList.recStartTime\r\n    this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'recEndTime' })].itemRender.props['value'] = this.searchDataList.recEndTime\r\n    this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'xPayDateStart' })].itemRender.props['value'] = this.searchDataList.xPayDateStart\r\n    this.queryConfig[this.queryConfig.findIndex(item => { return item.field === 'xPayDateEnd' })].itemRender.props['value'] = this.searchDataList.xPayDateEnd\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" >\r\n.payVoucherInput {\r\n  margin: 15px;\r\n  .el-card {\r\n    margin-top: 0;\r\n  }\r\n}\r\n.vxe-modal--wrapper .vxe-modal--box {\r\n  z-index: 0;\r\n}\r\n#bigbox {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: white;\r\n  z-index: 10;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  opacity: 0.3;\r\n}\r\n.el-row-item .font-set-small .hline {\r\n  width: 72px;\r\n}\r\n.wdetailDialop .T-mainFormListLayout-modulebox .mmc-formlist .mmc-right{\r\n  padding: 0;\r\n}\r\n.wdetailDialop .T-mainFormListLayout-modulebox{\r\n  padding-top: 0 !important;\r\n}\r\n.wdetailDialop .unit-tree-main .el-tree-node__content .custom-node-bg{\r\n  background-color: transparent;\r\n}\r\n</style>\r\n"]}]}