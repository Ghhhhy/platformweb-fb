{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\components\\PreviewReceipts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\components\\PreviewReceipts.vue","mtime":1694505522763},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGluamVjdCwgdG9SYXcgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaScNCmltcG9ydCB1c2VUYWJsZSBmcm9tICdAL2hvb2tzL3VzZVRhYmxlJw0KaW1wb3J0IHVzZUZvcm0gZnJvbSAnQC9ob29rcy91c2VGb3JtJw0KaW1wb3J0IHsNCiAgZ2V0V2FybkxldmVsQ29sdW1uLA0KICBnZXRDb250cm9sVHlwZUNvbHVtbiwNCiAgZ2V0Q3JlYXRlVGltZUNvbHVtbiwNCiAgZ2V0QWdlbmN5TmFtZUNvbHVtbiwNCiAgZ2V0RGVwdE5hbWVDb2x1bW4sDQogIGdldE1hbmFnZU1vZkRlcE5hbWVDb2x1bW4sDQogIGdldEJ1c2luZXNzTm9Db2x1bW4sDQogIGdldFJ1bGVOYW1lQ29sdW1uLA0KICBnZXRBbW91bnRDb2x1bW4sDQogIGdldFdhcm5UeXBlQ29sdW1uLA0KICBnZXRJc0RpckNvbHVtbiwNCiAgZ2V0UmVjZWlwdHNDb2x1bW5zLA0KICByZWNlaXB0c1NlYXJjaEZvcm1TY2hlbWFzDQp9IGZyb20gJy4uL21vZGVsL2RhdGEnDQppbXBvcnQgeyB1c2VNb2RhbElubmVyIH0gZnJvbSAnQC9ob29rcy91c2VNb2RhbC9pbmRleCcNCmltcG9ydCB7IFJvdXRlclBhdGhFbnVtIH0gZnJvbSAnQC92aWV3cy9tYWluL3N0YXRpc3RpY0FuYWx5c2lzL2NvbW1vbi9tb2RlbC9lbnVtLmpzJw0KaW1wb3J0IHsgYmlsbFBhZ2UgfSBmcm9tICdAL2FwaS9mcmFtZS9tYWluL2hhbmRsaW5nT2ZWaW9sYXRpb25zL2luZGV4LmpzJw0KDQpjb25zdCBtb2RlbCA9IHsNCiAgcHJvcDogJ3ZhbHVlJywNCiAgZXZlbnQ6ICdjaGFuZ2VSZWNlaXB0c1Zpc2libGUnDQp9DQpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoew0KICBwcm9wczogew0KICAgIC8vIOaYvumakA0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIGN1cnJlbnROb2RlOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiAoe30pDQogICAgfQ0KICB9LA0KICBtb2RlbCwNCiAgc2V0dXAocHJvcHMsIHsgZW1pdCB9KSB7DQogICAgLyoqDQogICAgICog5by556qX5YaF6YOo54q25oCBDQogICAgICogKi8NCiAgICBjb25zdCB7IHZpc2libGUgfSA9IHVzZU1vZGFsSW5uZXIocHJvcHMsIGVtaXQsIG1vZGVsKQ0KDQogICAgY29uc3QgcGFnZVBhdGggPSBpbmplY3QoJ3BhZ2VQYXRoJykNCg0KICAgIGNvbnN0IFsNCiAgICAgIHsNCiAgICAgICAgZm9ybURhdGEsDQogICAgICAgIGZvcm1TY2hlbWFzLA0KICAgICAgICBnZXRTdWJtaXRGb3JtRGF0YSwNCiAgICAgICAgc2V0U3VibWl0Rm9ybURhdGENCiAgICAgIH0NCiAgICBdID0gdXNlRm9ybSgNCiAgICAgIHJlY2VpcHRzU2VhcmNoRm9ybVNjaGVtYXMNCiAgICApDQoNCiAgICAvKioNCiAgICAgKiDmkJzntKLph43nva4NCiAgICAgKiAqLw0KICAgIGZ1bmN0aW9uIHNlYXJjaChwYXJhbXMpIHsNCiAgICAgIE9iamVjdC5hc3NpZ24oZm9ybURhdGEsIHBhcmFtcykNCiAgICAgIHNldFN1Ym1pdEZvcm1EYXRhKHRvUmF3KGZvcm1EYXRhKSkNCiAgICAgIHJlc2V0RmV0Y2hUYWJsZURhdGEoKQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOihqOagvA0KICAgICAqICovDQogICAgY29uc3QgWw0KICAgICAgew0KICAgICAgICBjb2x1bW5zLA0KICAgICAgICB0YWJsZUNvbmZpZywNCiAgICAgICAgdGFibGVEYXRhLA0KICAgICAgICBvblRvb2xiYXJCdG5DbGljaywNCiAgICAgICAgdGFibGVUb29sYmFyQ29uZmlnLA0KICAgICAgICByZXNldEZldGNoVGFibGVEYXRhLA0KICAgICAgICBwYWdlckNvbmZpZywNCiAgICAgICAgcGFnZXJDaGFuZ2UsDQogICAgICAgIHRhYmxlTG9hZGluZ1N0YXRlDQogICAgICB9DQogICAgXSA9IHVzZVRhYmxlKHsNCiAgICAgIGZldGNoOiBiaWxsUGFnZSwNCiAgICAgIGdldFN1Ym1pdEZvcm1EYXRhLA0KICAgICAgYmVmb3JlRmV0Y2g6IHBhcmFtcyA9PiB7DQogICAgICAgIGNvbnN0IHsgcnVsZUNvZGUsIGZpUnVsZUNvZGUsIGJ1c2luZXNzTm8sIHBheUNlcnRObywgaWQsIGd1aWQgfSA9IHByb3BzLmN1cnJlbnROb2RlDQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgLi4ucGFyYW1zLA0KICAgICAgICAgIC8vIOinhOWImee8lueggQ0KICAgICAgICAgIGZpUnVsZUNvZGU6IHJ1bGVDb2RlIHx8IGZpUnVsZUNvZGUsDQogICAgICAgICAgLy8g5Yet6K+BaWQNCiAgICAgICAgICBwYXlDZXJ0SWQ6IGJ1c2luZXNzTm8gfHwgcGF5Q2VydE5vLA0KICAgICAgICAgIC8vIOWkhOeQhuWNlWlkDQogICAgICAgICAgaWQ6IGlkIHx8IGd1aWQNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGRhdGFLZXk6ICdkYXRhLnJlc3VsdHMnLA0KICAgICAgY29sdW1uczogWw0KICAgICAgICBnZXRXYXJuTGV2ZWxDb2x1bW4oJyR2eGVTZWxlY3QnKSwNCiAgICAgICAgZ2V0Q29udHJvbFR5cGVDb2x1bW4oKSwNCiAgICAgICAgZ2V0Q3JlYXRlVGltZUNvbHVtbih7DQogICAgICAgICAgZmllbGQ6ICd3YXJuVGltZScNCiAgICAgICAgfSksDQogICAgICAgIGdldEFnZW5jeU5hbWVDb2x1bW4oKSwNCiAgICAgICAgZ2V0RGVwdE5hbWVDb2x1bW4oKSwNCiAgICAgICAgZ2V0TWFuYWdlTW9mRGVwTmFtZUNvbHVtbigpLA0KICAgICAgICBnZXRSdWxlTmFtZUNvbHVtbih7DQogICAgICAgICAgZmllbGQ6ICdmaVJ1bGVOYW1lJw0KICAgICAgICB9KSwNCiAgICAgICAgZ2V0QW1vdW50Q29sdW1uKHsNCiAgICAgICAgICBmaWVsZDogJ3BheUFwcEFtdCcNCiAgICAgICAgfSksDQogICAgICAgIGdldFdhcm5UeXBlQ29sdW1uKCksDQogICAgICAgIGdldElzRGlyQ29sdW1uKCksDQogICAgICAgIGdldEJ1c2luZXNzTm9Db2x1bW4oew0KICAgICAgICAgIGZpZWxkOiAncGF5QXBwTm8nDQogICAgICAgIH0pLA0KICAgICAgICAuLi5nZXRSZWNlaXB0c0NvbHVtbnMoKQ0KICAgICAgXQ0KICAgIH0pDQogICAgLy8g5YWo5bGA6YWN572uDQogICAgdGFibGVDb25maWcuZ2xvYmFsQ29uZmlnID0gew0KICAgICAgY2hlY2tUeXBlOiBmYWxzZSwNCiAgICAgIHNlcTogdHJ1ZSwNCiAgICAgIGNlbGxDbGlja0NoZWNrOiBmYWxzZQ0KICAgIH0NCg0KICAgIHJldHVybiB7DQogICAgICB2aXNpYmxlLA0KICAgICAgcGFnZVBhdGgsDQogICAgICBSb3V0ZXJQYXRoRW51bSwNCg0KICAgICAgZm9ybURhdGEsDQogICAgICBmb3JtU2NoZW1hcywNCiAgICAgIHNlYXJjaCwNCg0KICAgICAgdGFibGVMb2FkaW5nU3RhdGUsDQogICAgICBwYWdlckNvbmZpZywNCiAgICAgIHBhZ2VyQ2hhbmdlLA0KICAgICAgcmVzZXRGZXRjaFRhYmxlRGF0YSwNCiAgICAgIGNvbHVtbnMsDQogICAgICB0YWJsZUNvbmZpZywNCiAgICAgIHRhYmxlRGF0YSwNCiAgICAgIG9uVG9vbGJhckJ0bkNsaWNrLA0KICAgICAgdGFibGVUb29sYmFyQ29uZmlnDQogICAgfQ0KICB9DQp9KQ0K"},{"version":3,"sources":["PreviewReceipts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PreviewReceipts.vue","sourceRoot":"src/views/main/handlingOfViolations/components","sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"visible\"\r\n    :destroy-on-close=\"true\"\r\n    title=\"业务单据查看\"\r\n    width=\"80%\"\r\n    height=\"80%\"\r\n    :show-footer=\"pagePath === RouterPathEnum.RULE_STATISTIC\"\r\n  >\r\n    <template #footer>\r\n      <vxe-button size=\"small\" @click=\"visible = false\">返回</vxe-button>\r\n      <vxe-button size=\"small\" @click=\"$emit('closeAll')\">关闭</vxe-button>\r\n    </template>\r\n    <div style=\"height: calc(100% - 4px)\">\r\n      <BsQuery\r\n        ref=\"queryFrom\"\r\n        :query-form-item-config=\"formSchemas\"\r\n        :query-form-data=\"formData\"\r\n        @onSearchClick=\"search\"\r\n      />\r\n      <BsTable\r\n        :loading=\"tableLoadingState\"\r\n        :table-config=\"tableConfig\"\r\n        :table-columns-config=\"columns\"\r\n        :table-data=\"tableData\"\r\n        :toolbar-config=\"tableToolbarConfig\"\r\n        :pager-config=\"pagerConfig\"\r\n        size=\"medium\"\r\n        style=\"height: calc(100% - 50px)\"\r\n        @onToolbarBtnClick=\"onToolbarBtnClick\"\r\n        @ajaxData=\"pagerChange\"\r\n      >\r\n        <template v-slot:toolbarSlots>\r\n          <bs-table-title title=\"支付明细\" />\r\n        </template>\r\n      </BsTable>\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, inject, toRaw } from '@vue/composition-api'\r\nimport useTable from '@/hooks/useTable'\r\nimport useForm from '@/hooks/useForm'\r\nimport {\r\n  getWarnLevelColumn,\r\n  getControlTypeColumn,\r\n  getCreateTimeColumn,\r\n  getAgencyNameColumn,\r\n  getDeptNameColumn,\r\n  getManageMofDepNameColumn,\r\n  getBusinessNoColumn,\r\n  getRuleNameColumn,\r\n  getAmountColumn,\r\n  getWarnTypeColumn,\r\n  getIsDirColumn,\r\n  getReceiptsColumns,\r\n  receiptsSearchFormSchemas\r\n} from '../model/data'\r\nimport { useModalInner } from '@/hooks/useModal/index'\r\nimport { RouterPathEnum } from '@/views/main/statisticAnalysis/common/model/enum.js'\r\nimport { billPage } from '@/api/frame/main/handlingOfViolations/index.js'\r\n\r\nconst model = {\r\n  prop: 'value',\r\n  event: 'changeReceiptsVisible'\r\n}\r\nexport default defineComponent({\r\n  props: {\r\n    // 显隐\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    currentNode: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  model,\r\n  setup(props, { emit }) {\r\n    /**\r\n     * 弹窗内部状态\r\n     * */\r\n    const { visible } = useModalInner(props, emit, model)\r\n\r\n    const pagePath = inject('pagePath')\r\n\r\n    const [\r\n      {\r\n        formData,\r\n        formSchemas,\r\n        getSubmitFormData,\r\n        setSubmitFormData\r\n      }\r\n    ] = useForm(\r\n      receiptsSearchFormSchemas\r\n    )\r\n\r\n    /**\r\n     * 搜索重置\r\n     * */\r\n    function search(params) {\r\n      Object.assign(formData, params)\r\n      setSubmitFormData(toRaw(formData))\r\n      resetFetchTableData()\r\n    }\r\n\r\n    /**\r\n     * 表格\r\n     * */\r\n    const [\r\n      {\r\n        columns,\r\n        tableConfig,\r\n        tableData,\r\n        onToolbarBtnClick,\r\n        tableToolbarConfig,\r\n        resetFetchTableData,\r\n        pagerConfig,\r\n        pagerChange,\r\n        tableLoadingState\r\n      }\r\n    ] = useTable({\r\n      fetch: billPage,\r\n      getSubmitFormData,\r\n      beforeFetch: params => {\r\n        const { ruleCode, fiRuleCode, businessNo, payCertNo, id, guid } = props.currentNode\r\n        return {\r\n          ...params,\r\n          // 规则编码\r\n          fiRuleCode: ruleCode || fiRuleCode,\r\n          // 凭证id\r\n          payCertId: businessNo || payCertNo,\r\n          // 处理单id\r\n          id: id || guid\r\n        }\r\n      },\r\n      dataKey: 'data.results',\r\n      columns: [\r\n        getWarnLevelColumn('$vxeSelect'),\r\n        getControlTypeColumn(),\r\n        getCreateTimeColumn({\r\n          field: 'warnTime'\r\n        }),\r\n        getAgencyNameColumn(),\r\n        getDeptNameColumn(),\r\n        getManageMofDepNameColumn(),\r\n        getRuleNameColumn({\r\n          field: 'fiRuleName'\r\n        }),\r\n        getAmountColumn({\r\n          field: 'payAppAmt'\r\n        }),\r\n        getWarnTypeColumn(),\r\n        getIsDirColumn(),\r\n        getBusinessNoColumn({\r\n          field: 'payAppNo'\r\n        }),\r\n        ...getReceiptsColumns()\r\n      ]\r\n    })\r\n    // 全局配置\r\n    tableConfig.globalConfig = {\r\n      checkType: false,\r\n      seq: true,\r\n      cellClickCheck: false\r\n    }\r\n\r\n    return {\r\n      visible,\r\n      pagePath,\r\n      RouterPathEnum,\r\n\r\n      formData,\r\n      formSchemas,\r\n      search,\r\n\r\n      tableLoadingState,\r\n      pagerConfig,\r\n      pagerChange,\r\n      resetFetchTableData,\r\n      columns,\r\n      tableConfig,\r\n      tableData,\r\n      onToolbarBtnClick,\r\n      tableToolbarConfig\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n"]}]}