{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\fundMonitoring\\violationHandle\\createProcessing\\createProcessing.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\fundMonitoring\\violationHandle\\createProcessing\\createProcessing.vue","mtime":1694576524686},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouY3JlYXRlUHJvY2Vzc2luZyAucmFkaW8tcmlnaHR7DQpmbG9hdDogcmlnaHQ7DQp9DQouY3JlYXRlUHJvY2Vzc2luZyAuVGl0YW5zLXRhYmxlIDo6di1kZWVwICAudnhlLWJvZHktLXJvdy5yb3cteWVsbG93IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93Ow0KICBjb2xvcjogI2ZmZjsNCn0NCi5jcmVhdGVQcm9jZXNzaW5nIC5UaXRhbnMtdGFibGUgOjp2LWRlZXAgIC52eGUtYm9keS0tcm93LnJvdy1ibHVlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTsNCiAgY29sb3I6ICNmZmY7DQp9DQouY3JlYXRlUHJvY2Vzc2luZyAuVGl0YW5zLXRhYmxlIDo6di1kZWVwICAudnhlLWJvZHktLXJvdy5yb3ctcmVkIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmVkOw0KICBjb2xvcjogI2ZmZjsNCn0NCiAuY3JlYXRlUHJvY2Vzc2luZyAudW5pdC10cmVlLW1haW4gLmVsLXRyZWUtbm9kZV9fY29udGVudCAuY3VzdG9tLW5vZGUtYmd7DQogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7DQp9DQoNCg=="},{"version":3,"sources":["createProcessing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"createProcessing.vue","sourceRoot":"src/views/main/fundMonitoring/violationHandle/createProcessing","sourcesContent":["<!-- 预警明细查询（按规则） -->\r\n<template>\r\n  <div v-loading=\"tableLoading\" style=\"height: 100%\" class=\"createProcessing\">\r\n    <BsMainFormListLayout :left-visible.sync=\"leftTreeVisible\" :default-split-pane-left-width=\"14\">\r\n      <template v-slot:topTap></template>\r\n      <template v-slot:topTabPane>\r\n        <BsTabPanel\r\n          ref=\"tabPanel\"\r\n          :is-open=\"isShowQueryConditions\"\r\n          :tab-status-btn-config=\"toolBarStatusBtnConfig\"\r\n          @onQueryConditionsClick=\"onQueryConditionsClick\"\r\n          @btnClick=\"onTabPanelBtnClick\"\r\n        />\r\n      </template>\r\n      <template v-slot:query>\r\n        <div v-show=\"isShowQueryConditions\" class=\"main-query\">\r\n          <BsQuery\r\n            ref=\"queryFrom\"\r\n            :query-form-item-config=\"queryConfig\"\r\n            :query-form-data=\"searchDataList\"\r\n            @onSearchClick=\"search\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template v-if=\"showBuinessTree\" v-slot:mainTree>\r\n        <BsTreeSet\r\n          ref=\"treeSet\"\r\n          v-model=\"leftTreeVisible\"\r\n          :tree-config=\"treeTypeConfig\"\r\n          @onChangeInput=\"(val) => { leftTreeFilterText = val }\"\r\n          @onAsideChange=\"asideChange\"\r\n          @onConfrimData=\"treeSetConfrimData\"\r\n        />\r\n        <BsTree\r\n          ref=\"leftTree\"\r\n          open-loading\r\n          :filter-text=\"leftTreeFilterText\"\r\n          :tree-data=\"treeData\"\r\n          :current-node-key=\"currentNodeKey\"\r\n          :config=\"{ showFilter: false, treeProps: { nodeKey: 'code', label: 'label',children: 'children' } }\"\r\n          @onNodeClick=\"onClickmethod\"\r\n        />\r\n      </template>\r\n      <template v-slot:mainForm>\r\n        <BsTable\r\n          ref=\"mainTableRef\"\r\n          :footer-config=\"tableFooterConfig\"\r\n          :table-columns-config=\"tableColumnsConfig\"\r\n          :table-data=\"tableData\"\r\n          :table-global-config=\"tableGlobalConfig\"\r\n          :table-config=\"tableConfig\"\r\n          :pager-config=\"mainPagerConfig\"\r\n          :toolbar-config=\"tableToolbarConfig\"\r\n          :cell-style=\"cellStyle\"\r\n          @onToolbarBtnClick=\"onToolbarBtnClick\"\r\n          @ajaxData=\"ajaxTableData\"\r\n          @cellClick=\"cellClick\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left\">\r\n              <div v-if=\"leftTreeVisible === false && showBuinessTree === true\" class=\"table-toolbar-contro-leftvisible\" @click=\"leftTreeVisible = true\"></div>\r\n              <div class=\"table-toolbar-left-title\">\r\n                <span class=\"fn-inline\">{{ menuName }}</span>\r\n                <i class=\"fn-inline\"></i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n\r\n        </BsTable>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <BsOperationLog :logs-data=\"logData\" :show-log-view=\"showLogView\" />\r\n    <AddDialog\r\n      v-if=\"dialogVisible\"\r\n      :is-approve=\"isApprove\"\r\n      :title=\"dialogTitle\"\r\n      :param5=\"param5\"\r\n      :warning-code=\"warningCode\"\r\n      :fi-rule-code=\"fiRuleCode\"\r\n      :deal-no=\"dealNo\"\r\n      :detail-data=\"detailData\"\r\n      :is-create=\"isCreate\"\r\n      :bussness-id=\"clickRowBussnessId\"\r\n      :regulation-class=\"regulationClass\"\r\n    />\r\n    <FilePreview\r\n      v-if=\"filePreviewDialogVisible\"\r\n      :visible.sync=\"filePreviewDialogVisible\"\r\n      :file-guid=\"fileGuid\"\r\n      :app-id=\"appId\"\r\n    />\r\n    <GlAttachment\r\n      v-if=\"showGlAttachmentDialog\"\r\n      :user-info=\"userInfo\"\r\n      :billguid=\"billguid\"\r\n      :billguid-list=\"billguidList\"\r\n      @close=\"closeAttachment\"\r\n    />\r\n    <!-- 附件弹框 -->\r\n    <BsAttachment v-if=\"showAttachmentDialog\" refs=\"attachmentboss\" :user-info=\"userInfo\" :billguid=\"billguid\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { proconf } from './createProcessing'\r\nimport AddDialog from './children/addDialog'\r\nimport HttpModule from '@/api/frame/main/Monitoring/WarningDetailsByCompartment.js'\r\nimport api from '@/api/frame/main/fundMonitoring/createProcessing.js'\r\nimport FilePreview from './children/filePreview'\r\nimport GlAttachment from './children/common/GlAttachment'\r\n\r\nexport default {\r\n  components: {\r\n    AddDialog,\r\n    FilePreview,\r\n    GlAttachment\r\n  },\r\n  computed: {\r\n    isXMProject() { // 是否是厦门项目\r\n      const { province } = this.$store.state.userInfo\r\n      if (province?.slice(0, 4) === '3502') {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    tableGlobalConfig() {\r\n      return {\r\n        customExportConfig: {\r\n          fileName: this.menuName\r\n        }\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    queryConfig() {\r\n      this.getSearchDataList()\r\n    },\r\n    dialogVisible: {\r\n      handler(newValue) {\r\n        this.getCount()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // BsQuery 查询栏\r\n      queryConfig: proconf.highQueryConfig,\r\n      searchDataList: proconf.highQueryData,\r\n      radioShow: true,\r\n      roleId: '',\r\n      breakRuleVisible: false,\r\n      treeData: [],\r\n      treeTypeConfig: {\r\n        curRadio: 'AGENCY'\r\n      },\r\n      treeGlobalConfig: {\r\n        inputVal: ''\r\n      },\r\n      treeQueryparams: { elementCode: 'admdiv', province: '610000000', year: '2022', wheresql: 'and code like \\'' + 61 + '%\\'' },\r\n      // treeServerUri: 'pay-clear-service/v2/lefttree',\r\n      treeServerUri: '',\r\n      treeAjaxType: 'get',\r\n      leftTreeVisible: false,\r\n      // 头部工具栏 BsTabPanel config\r\n      toolBarStatusBtnConfig: {\r\n        methods: {\r\n          bsToolbarClickEvent: this.onStatusTabClick\r\n        },\r\n        buttons: []\r\n      },\r\n      buttonsInfo: proconf.statusRightToolBarButtonByBusDept,\r\n      tabStatusNumConfig: {\r\n        'dcl': 0,\r\n        'yxf': 0,\r\n        'dsh': 0,\r\n        'yth': 0,\r\n        'rdzc': 0,\r\n        'yzg': 0,\r\n        'dhs': 0,\r\n        'bth': 0,\r\n        'hsww': 0,\r\n        'dcszg': 0,\r\n        'csysh': 0\r\n      },\r\n      isShowQueryConditions: true,\r\n      toolBarStatusSelect: {\r\n        type: 'button',\r\n        iconName: 'base-all.png',\r\n        iconNameActive: 'base-all-active.png',\r\n        iconUrl: '',\r\n        label: '全部',\r\n        code: '1',\r\n        curValue: '1'\r\n      },\r\n      // table 相关配置\r\n      tableLoading: false,\r\n      tableColumnsConfig: proconf.policiesTableColumns,\r\n      tableData: [\r\n      ],\r\n      tableToolbarConfig: {\r\n        // table工具栏配置\r\n        disabledMoneyConversion: false,\r\n        moneyConversion: false, // 是否有金额转换\r\n        import: false, // 导入\r\n        export: true, // 导出\r\n        print: false, // 打印\r\n        zoom: true, // 缩放\r\n        custom: true, // 选配展示列\r\n        slots: {\r\n          tools: 'toolbarTools',\r\n          buttons: 'toolbarSlots'\r\n        }\r\n      },\r\n      leftNode: {},\r\n      regulationStatus: '1',\r\n      mainPagerConfig: {\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 20\r\n      },\r\n      tableConfig: {\r\n        renderers: {\r\n          // 修改 配置 下发 删除\r\n          $CreateProcessingGloableOptionRow: {\r\n            renderDefault: (h, cellRender, params, context) => {\r\n              let { row, column } = params\r\n              return [\r\n                <el-tooltip content=\"\" placement=\"\" effect=\"light\">\r\n                  <span style=\"color: #4293F4; text-decoration: underline\" onClick={() => this.handleCheck({ row, column, type: 'view' })}>查看</span>\r\n                </el-tooltip>\r\n              ]\r\n            }\r\n          },\r\n          $gloableOptionRowLog: {\r\n            renderDefault: (h, cellRender, params, context) => {\r\n              let { row, column } = params\r\n              return [\r\n                <el-tooltip content=\"\" placement=\"\" effect=\"light\">\r\n                  <span style=\"color: #4293F4; text-decoration: underline\" onClick={() => this.handleCheck({ row, column, type: 'viewLog' })}>查看</span>\r\n                </el-tooltip>\r\n              ]\r\n            }\r\n          },\r\n          $gloableAttach: {\r\n            renderDefault: (h, cellRender, params, context) => {\r\n              let { row, column } = params\r\n              return [\r\n                <el-tooltip content=\"附件\" placement=\"top\" effect=\"light\">\r\n                  <a class=\"gloable-option-row-attachment gloable-option-row  fn-inline\" onClick={() => this.handleCheck({ row, column, type: 'attach' })}>附件</a>,\r\n                </el-tooltip>\r\n              ]\r\n            }\r\n          }\r\n        },\r\n        methods: {\r\n          onOptionRowClick: this.handleCheck\r\n\r\n        }\r\n      },\r\n      tableFooterConfig: {\r\n        showFooter: false\r\n      },\r\n      // 操作日志\r\n      logData: [],\r\n      showLogView: false,\r\n      // 新增弹窗\r\n      dialogVisible: false,\r\n      dialogTitle: '查看详情信息',\r\n      addTableData: [],\r\n      // 请求 & 角色权限相关配置\r\n      menuName: '监控问询单列表',\r\n      params5: '',\r\n      menuId: '',\r\n      tokenid: '',\r\n      userInfo: {},\r\n      roleguid: this.$store.state.curNavModule.roleguid,\r\n      appId: 'pay_voucher',\r\n      isHaveZero: '0',\r\n      // 文件\r\n      showAttachmentDialog: false,\r\n      showGlAttachmentDialog: false,\r\n      billguid: '',\r\n      billguidList: [],\r\n      condition: {},\r\n      handleType: '',\r\n      isEnable: '',\r\n      agencyName: '',\r\n      createTime: '',\r\n      firulename: '',\r\n      violationType: '',\r\n      regulationType: '',\r\n      warningLevel: '',\r\n      DetailData: {},\r\n      regulationclass: this.transJson(this.$store.state.curNavModule.param5)?.regulationClass || '',\r\n      mofDivCode: '',\r\n      isApprove: false,\r\n      leftTreeConfig: { // 左侧单位树配置\r\n        showFilter: false, // 是否显示过滤\r\n        isInitLoadData: false,\r\n        scrollLoad: false, // 是否开启滚动加载\r\n        isleaf: 0, // 指定节点是否为叶子节点，仅在指定了 lazy 属性的情况下生效\r\n        levelno: -1, // 可选层级\r\n        valueKeys: ['code', 'name', 'id'],\r\n        format: '{code}-{name}',\r\n        placeholder: '请选择',\r\n        multipleValueType: 'String', // 多选值类型 String[逗号分割]，Array //废弃\r\n        treeProps: {\r\n          // 树配置选项\r\n          labelFormat: '{label}', // {code}-{name}\r\n          nodeKey: 'code', // 树的主键\r\n          label: 'name', // 树的显示lalel字段\r\n          children: 'children' // 树的嵌套字段\r\n        },\r\n        multiple: false, // 是否多选,\r\n        isLazeLoad: false, // 是否调用接口远程懒加载数据\r\n        readonly: true,\r\n        clearable: true\r\n      },\r\n      param5: '',\r\n      fiRuleCode: '',\r\n      warningCode: '',\r\n      dealNo: '',\r\n      status: null,\r\n      detailData: [],\r\n      isCreate: false,\r\n      isStatus: false, // 未整改标识\r\n      unitStatus: '',\r\n      departmentStatus: '',\r\n      officeStatus: '',\r\n      isIssue: false, // 已整改标识\r\n      isArchive: false,\r\n      codeList: [],\r\n      violateType: '',\r\n      isAgencyDone: false,\r\n      isNormalDone: false,\r\n      isProcessed: false,\r\n      regulationClassName: '',\r\n      warnTime: '',\r\n      triggerClass: '',\r\n      fiRuleName: '',\r\n      filePreviewDialogVisible: false,\r\n      fileGuid: '',\r\n      bussnessId: '',\r\n      clickRowBussnessId: '',\r\n      showBuinessTree: false,\r\n      leftTreeFilterText: '', // 展示左侧树 只有某些页面才展示\r\n      selectBtnType: '',\r\n      showLog: false,\r\n      currentNodeKey: '7',\r\n      trackProName: '',\r\n      agencyCodeList: []\r\n    }\r\n  },\r\n  activated() {\r\n    this.updateRegulationClassNameFormConfig()\r\n  },\r\n  methods: {\r\n    /**\r\n     *动态控制左侧树的显示  只有特定的路由才显示\r\n     */\r\n    setShowBusinesTree() {\r\n      // 可显示是左侧业务树的路由\r\n      // let showRouters = ['CompanyRetroactBySpecial', 'DepartmentRetroactBySpecial']\r\n      // if (this.isXMProject) {\r\n      //   showRouters = ['CompanyRetroactBySpecial', 'DepartmentRetroactBySpecial', 'DepartmentRetroact', 'CompanyRetroact']\r\n      // }\r\n      this.showLog = true\r\n      if (this.$route.name === 'DepartmentRetroactBySpecial') {\r\n        this.showBuinessTree = true\r\n        this.leftTreeVisible = true\r\n        // 去发请求获取左侧数据\r\n        this.getLeftTreeData()\r\n      } else {\r\n        this.onStatusTabClick(this.toolBarStatusBtnConfig.buttons[0])\r\n      }\r\n    },\r\n    showLogModel(row) {\r\n      this.showLogView = true\r\n      this.queryActionLog(row)\r\n    },\r\n    // 操作日志\r\n    queryActionLog(row) {\r\n      api.getLogs(row.dealNo).then(res => {\r\n        if (res.code === '000000') {\r\n          let tempData = res.data.map(item => {\r\n            return {\r\n              logid: item['operationTypeCode'],\r\n              nodeName: item['operationTypeName'],\r\n              actionUser: item['operationUser'],\r\n              actionName: item['operationTypeName'],\r\n              actionTime: item['createdTime'] == null ? '' : item['createdTime'],\r\n              message: item['operationComment']\r\n            }\r\n          })\r\n          this.logData = tempData\r\n          console.log(this.logData)\r\n          this.showLogView = true\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    updateRegulationClassNameFormConfig () {\r\n      // 如果菜单参数有主题 当前模块就使用该主题查询\r\n      if (this.transJson(this.$store.state.curNavModule.param5)?.regulationClass) {\r\n        const index = this.queryConfig.findIndex(item => item.field === 'regulationClassName')\r\n        index > -1 && this.queryConfig?.splice(index, 1)\r\n      }\r\n    },\r\n    search(obj) {\r\n      console.log(obj)\r\n      this.dealNo = obj.dealNo\r\n      this.regulationClassName = obj.regulationClassName\r\n      this.warnTime = obj.warnTime\r\n      this.triggerClass = obj.triggerClass\r\n      this.warningLevel = obj.warningLevel\r\n      this.agencyName = obj.agencyName\r\n      this.issueTime = obj.issueTime\r\n      this.fiRuleName = obj.fiRuleName\r\n      this.trackProName = obj.trackProName || ''\r\n      this.violateType = obj.violateType\r\n      this.agencyCodeList = obj.agencyCodeList_code__multiple\r\n      if (this.menuName === '监控问询单列表' && this.status !== 0) {\r\n        // this.status = obj.status === '' ? this.status : obj.status\r\n        this.getdata()\r\n      }\r\n    },\r\n    // 初始化高级查询data\r\n    getSearchDataList() {\r\n      // 下拉树\r\n      let searchDataObj = {}\r\n      this.queryConfig.forEach(item => {\r\n        if (item.itemRender.name === '$formTreeInput' || item.itemRender.name === '$vxeTree') {\r\n          if (item.field) {\r\n            searchDataObj[item.field + 'code'] = ''\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            searchDataObj[item.field] = ''\r\n          }\r\n        }\r\n      })\r\n      this.searchDataList = searchDataObj\r\n    },\r\n    // 初始化高级查询参数condition\r\n    getConditionList() {\r\n      let condition = {}\r\n      this.queryConfig.forEach(item => {\r\n        if (item.itemRender.name === '$formTreeInput' || item.itemRender.name === '$vxeTree') {\r\n          if (item.field) {\r\n            if (item.field === 'cor_bgt_doc_no_') {\r\n              condition[item.field + 'name'] = []\r\n            } else {\r\n              condition[item.field + 'code'] = []\r\n            }\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            condition[item.field] = []\r\n          }\r\n        }\r\n      })\r\n      return condition\r\n    },\r\n    handleCheck({ row, type }) {\r\n      switch (type) {\r\n        case 'view':\r\n          this.fiRuleCode = row.fiRuleCode || ''\r\n          this.warningCode = row.warningCode || ''\r\n          this.clickRowBussnessId = this.bussnessId === '' ? row.businessModuleCode || '' : this.bussnessId\r\n          this.dialogVisible = true\r\n          this.dialogTitle = '查看详情信息'\r\n          break\r\n        case 'attach':\r\n          this.showAttachment(row)\r\n          break\r\n        case 'viewLog':\r\n          this.showLogModel(row)\r\n          break\r\n      }\r\n    },\r\n    changeVisible(val) {\r\n      console.log(val, '输出')\r\n      this.breakRuleVisible = val\r\n    },\r\n    onToolbarBtnClick({ context, table, code }) {\r\n      switch (code) {\r\n        // 刷新\r\n        case 'refresh':\r\n          this.refresh()\r\n          break\r\n      }\r\n    },\r\n    // 左侧树\r\n    changeInput(val) {\r\n      this.treeGlobalConfig.inputVal = val\r\n    },\r\n    getItem(code, data) {\r\n      data.forEach(item => {\r\n        if (code === item.code) {\r\n          let data = []\r\n          data.push(item)\r\n          this.getCodeList(data)\r\n        } else if (item.children) {\r\n          this.getItem(code, item.children)\r\n        }\r\n      })\r\n    },\r\n    getCodeList(data) {\r\n      data.forEach(item => {\r\n        this.codeList.push(item.code)\r\n        if (item.children) {\r\n          this.getCodeList(item.children)\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 重置查询条件\r\n     */\r\n    resetQuery() {\r\n      this.$refs.queryFrom.reset()\r\n      this.dealNo = ''\r\n      this.regulationClassName = ''\r\n      this.warnTime = ''\r\n      this.triggerClass = ''\r\n      this.warningLevel = ''\r\n      this.agencyName = ''\r\n      this.issueTime = ''\r\n      this.fiRuleName = ''\r\n      this.violateType = ''\r\n      this.trackProName = ''\r\n    },\r\n    onClickmethod({ node }) {\r\n      if (node.code) {\r\n        this.resetQuery()\r\n        // 根据业务渲染列表\r\n        this.currentNodeKey = node.code\r\n        this.bussnessId = node.code\r\n        this.regulationClass = this.transJson(this.$store.state.curNavModule.param5)?.regulationClass\r\n        this.tableColumnsConfig = proconf.getColumns(this.selectBtnType, this.bussnessId, this.showLog, this.regulationClass)\r\n        this.getdata()\r\n      }\r\n    },\r\n    treeSetConfrimData(curTree) {\r\n      this.treeQueryparams.elementCode = curTree.code\r\n      this.$refs.leftTree.refreshTree()\r\n    },\r\n    asideChange() {\r\n      this.leftTreeVisible = false\r\n    },\r\n    // 查看附件\r\n    showAttachment(row) {\r\n      console.log('查看附件', row)\r\n      if (!row.attachmentid1 && !row.attachmentid3) {\r\n        this.$message.warning('该数据无附件')\r\n        return\r\n      }\r\n      this.billguid = row.attachmentid1 === null || row.attachmentid1 === '' ? row.attachmentid3 : row.attachmentid1\r\n      let billguidList = []\r\n      row.attachmentid1 && billguidList.push(row.attachmentid1)\r\n      row.attachmentid3 && billguidList.push(row.attachmentid3)\r\n      this.billguidList = billguidList\r\n      // this.showAttachmentDialog = true\r\n      this.showGlAttachmentDialog = true\r\n    },\r\n    // 表格单元行单击\r\n    cellClick(obj, context, e) {\r\n      let key = obj.column.property\r\n      console.log(key, obj.row)\r\n      switch (key) {\r\n      }\r\n    },\r\n    // 刷新按钮 刷新查询栏，提示刷新 table 数据\r\n    refresh() {\r\n      if (this.menuName === '监控问询单列表' && this.status === 0) {\r\n        this.queryTableDatas()\r\n      } else if (this.menuName === '监控问询单列表' && this.status !== 0) {\r\n        this.getdata()\r\n      } else {\r\n        this.getWarnData()\r\n      }\r\n    },\r\n    closeAttachment() {\r\n      this.showGlAttachmentDialog = false\r\n    },\r\n    ajaxTableData({ params, currentPage, pageSize }) {\r\n      this.mainPagerConfig.currentPage = currentPage\r\n      this.mainPagerConfig.pageSize = pageSize\r\n      if (this.menuName === '监控问询单列表' && this.status === 0) {\r\n        this.queryTableDatas()\r\n      } else if (this.menuName === '监控问询单列表' && this.status !== 0) {\r\n        this.getdata()\r\n      } else {\r\n        this.getWarnData()\r\n      }\r\n    },\r\n    // 展开折叠查询框\r\n    onQueryConditionsClick(isOpen) {\r\n      this.isShowQueryConditions = isOpen\r\n    },\r\n    // 查询 table 数据\r\n    queryTableDatas() {\r\n      const param = {\r\n        page: this.mainPagerConfig.currentPage, // 页码\r\n        pageSize: this.mainPagerConfig.pageSize, // 每页条数\r\n        // agencyName: this.agencyName,\r\n        agencyCodeList: this.agencyCodeList,\r\n        issueTime: this.issueTime,\r\n        fiRuleName: this.fiRuleName,\r\n        violateType: this.violateType,\r\n        status: this.status,\r\n        mofDivCodeList: this.codeList,\r\n        mofDivCode: this.mofDivCode || '',\r\n        trackProName: this.trackProName || '',\r\n        roleguid: this.roleguid\r\n      }\r\n      if (this.$store.state.curNavModule.f_FullName.substring(0, 4) === '直达资金') {\r\n        param.regulationClass = '0201'\r\n      }\r\n\r\n      const regulationClass = this.transJson(this.$store.state.curNavModule.param5)?.regulationClass\r\n      if (regulationClass) {\r\n        param.regulationClass = regulationClass\r\n      }\r\n\r\n      this.tableLoading = true\r\n      api.getMarkData(param).then(res => {\r\n        this.tableLoading = false\r\n        if (res.code === '000000') {\r\n          console.log(res.data.results)\r\n          this.tableData = res.data.results\r\n          this.mainPagerConfig.total = res.data.totalCount\r\n          this.tabStatusNumConfig['unIssue'] = res.data.totalCount\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    getdata() {\r\n      console.log('status1', this.status)\r\n      let param = {\r\n        page: this.mainPagerConfig.currentPage, // unitStatus页码\r\n        pageSize: this.mainPagerConfig.pageSize, // 每页条数\r\n        agencyName: this.agencyName,\r\n        agencyCodeList: this.agencyCodeList,\r\n        issueTime: this.issueTime,\r\n        fiRuleName: this.fiRuleName,\r\n        violateType: this.violateType,\r\n        mofDivCode: this.mofDivCode || '',\r\n        isUnit: this.param5.retroact,\r\n        status: this.status,\r\n        roleId: this.roleId,\r\n        mofDivCodeList: this.codeList,\r\n        dealNo: this.dealNo,\r\n        isNormalDone: this.isNormalDone,\r\n        isProcessed: this.isProcessed,\r\n        isAgencyDone: this.isAgencyDone,\r\n        regulationClassName: this.regulationClassName,\r\n        warnTime: this.warnTime,\r\n        triggerClass: this.triggerClass,\r\n        warningLevel: this.warningLevel,\r\n        businessModelCode: this.bussnessId || undefined,\r\n        trackProName: this.trackProName || '',\r\n        menuId: this.$store.state.curNavModule.guid\r\n      }\r\n      if (this.$store.state.curNavModule.f_FullName.substring(0, 4) === '直达资金') {\r\n        param.regulationClass = '0201'\r\n      }\r\n\r\n      const regulationClass = this.transJson(this.$store.state.curNavModule.param5)?.regulationClass\r\n      if (regulationClass) {\r\n        param.regulationClass = regulationClass\r\n      }\r\n\r\n      this.tableLoading = true\r\n      api.getDetail(param).then(res => {\r\n        this.tableLoading = false\r\n        if (res.code === '000000') {\r\n          this.tableData = res.data.results\r\n          this.mainPagerConfig.total = res.data.totalCount\r\n          if (this.status === 1) {\r\n            this.tabStatusNumConfig['dcl'] = res.data.totalCount\r\n          } else if (this.status === 2) {\r\n            this.tabStatusNumConfig['rdzc'] = res.data.totalCount\r\n          } else if (this.status === 3) {\r\n            this.tabStatusNumConfig['yxf'] = res.data.totalCount\r\n            this.tabStatusNumConfig['dhs'] = res.data.totalCount\r\n          } else if (this.status === 4) {\r\n            this.tabStatusNumConfig['hsww'] = res.data.totalCount\r\n          } else if (this.status === 5) {\r\n            this.tabStatusNumConfig['yzg'] = res.data.totalCount\r\n          } else if (this.status === 6) {\r\n            this.tabStatusNumConfig['hsww'] = res.data.totalCount\r\n          } else if (this.status === 7) {\r\n            this.tabStatusNumConfig['yzg'] = res.data.totalCount\r\n          } else if (this.status === 8) {\r\n            this.tabStatusNumConfig['bth'] = res.data.totalCount\r\n            this.tabStatusNumConfig['yth'] = res.data.totalCount\r\n          }\r\n          if (this.isAgencyDone) {\r\n            this.tabStatusNumConfig['dsh'] = res.data.totalCount\r\n            this.tabStatusNumConfig['dcszg'] = res.data.totalCount\r\n          }\r\n          if (this.isNormalDone) {\r\n            this.tabStatusNumConfig['rdzc'] = res.data.totalCount\r\n          }\r\n          if (this.isProcessed) {\r\n            this.tabStatusNumConfig['csysh'] = res.data.totalCount\r\n          }\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 归档查询\r\n    getNoFile() {\r\n      let param = {\r\n        page: this.mainPagerConfig.currentPage, // 页码\r\n        pageSize: this.mainPagerConfig.pageSize, // 每页条数\r\n        agencyName: this.agencyName,\r\n        issueTime: this.issueTime,\r\n        fiRuleName: this.fiRuleName,\r\n        violateType: this.violateType,\r\n        mofDivCode: this.mofDivCode || ''\r\n      }\r\n      api.getNoFile(param).then(res => {\r\n        this.tableLoading = false\r\n        if (res.code === '000000') {\r\n          this.tableData = res.data.results\r\n          this.mainPagerConfig.total = res.data.totalCount\r\n          this.tabStatusNumConfig['archive'] = res.data.totalCount\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 生成\r\n    handleCreate() {\r\n      let selection = this.$refs.mainTableRef.getSelectionData()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择一条数据')\r\n        return\r\n      }\r\n      this.clickRowBussnessId = selection[0].businessModuleCode\r\n      this.isCreate = true\r\n      this.detailData = selection\r\n      this.dialogVisible = true\r\n      this.dialogTitle = '监控问询单信息'\r\n    },\r\n    // 整改\r\n    handleFeedback() {\r\n      let selection = this.$refs.mainTableRef.getSelectionData()\r\n      if (selection.length === 0) {\r\n        this.$message.warning('请选择数据')\r\n        return\r\n      }\r\n      let batchIdObj = {}\r\n      selection.forEach(item => {\r\n        batchIdObj[item.batchId] = item.batchIdObj\r\n      })\r\n      console.log(77, batchIdObj)\r\n      if (Object.keys(batchIdObj).length > 1) {\r\n        this.$message.warning('请选择同一批次')\r\n        return\r\n      }\r\n      this.clickRowBussnessId = selection[0].businessModuleCode\r\n      this.detailData = selection\r\n      this.dialogVisible = true\r\n      this.dialogTitle = '监控问询单信息'\r\n      console.log('status', this.status)\r\n    },\r\n    handleProcess() {\r\n      let selection = this.$refs.mainTableRef.getSelectionData()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择一条数据')\r\n        return\r\n      }\r\n      this.clickRowBussnessId = selection[0].businessModuleCode\r\n      this.detailData = selection\r\n      this.dialogVisible = true\r\n      this.dialogTitle = '监控问询单信息'\r\n      this.isApprove = true\r\n      console.log('isAgencyDonesh', this.isAgencyDone)\r\n    },\r\n    queryBusinessData() {\r\n      let selection = this.$refs.mainTableRef.getSelectionData()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择一条数据')\r\n        return\r\n      }\r\n      this.clickRowBussnessId = selection[0].businessModuleCode\r\n      this.detailData = selection\r\n      this.dialogVisible = true\r\n      this.dialogTitle = '业务数据信息'\r\n    },\r\n    handleArchiving() {\r\n      let selection = this.$refs.mainTableRef.getSelectionData()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择一条数据')\r\n        return\r\n      }\r\n      this.clickRowBussnessId = selection[0].businessModuleCode\r\n      this.detailData = selection\r\n      this.dialogVisible = true\r\n      this.dialogTitle = '监控问询单信息'\r\n    },\r\n    handleDetail() {\r\n      let selection = this.$refs.mainTableRef.getSelectionData()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择一条数据')\r\n        return\r\n      }\r\n      this.clickRowBussnessId = selection[0].businessModuleCode\r\n      this.detailData = selection\r\n      this.dialogVisible = true\r\n      this.dialogTitle = '监控问询单信息'\r\n    },\r\n    onTabPanelBtnClick(obj) { // 按钮点击\r\n      let self = this\r\n      this.isApprove = false\r\n      switch (obj.code) {\r\n        case 'create': // 生成\r\n          self.handleCreate(obj)\r\n          break\r\n        case 'feedback': // 整改反馈\r\n        case 'bth':\r\n        case 'dcl':\r\n          self.handleFeedback(obj)\r\n          break\r\n        case 'process': // 审核\r\n          self.handleProcess(obj)\r\n          break\r\n        case 'queryBusinessData': // 联查业务数据\r\n          self.queryBusinessData(obj)\r\n          break\r\n        case 'archiving': // 归档\r\n          self.handleArchiving(obj)\r\n          break\r\n        case 'checkDetail': // 查看详情\r\n          self.handleDetail(obj)\r\n          break\r\n        case 'check': // 校验\r\n          self.check(obj)\r\n          break\r\n        case 'print': // 打印\r\n          self.print(obj)\r\n          break\r\n        default:\r\n          console.log('default fallback')\r\n      }\r\n    },\r\n    getLeftTreeData() {\r\n      let that = this\r\n      const param = {\r\n        businessType: 2,\r\n        parentId: '1'// 预算管理一体化系统\r\n      }\r\n      api.getbusLists(param).then(res => {\r\n        if (res.rscode === '100000') {\r\n          let resData = res.data.results.filter(item => item.id !== '8')\r\n          let treeResdata = that.getChildrenData(resData)\r\n          that.treeData = treeResdata\r\n          this.bussnessId = treeResdata[0].code\r\n          this.onStatusTabClick(this.toolBarStatusBtnConfig.buttons[0])\r\n        } else {\r\n          this.$message.error('左侧树加载失败')\r\n        }\r\n      })\r\n    },\r\n    getChildrenData(datas) {\r\n      let that = this\r\n      datas.forEach(item => {\r\n        item.code = item.id\r\n        item.label = item.businessName\r\n        item.children = item.children || []\r\n        if (item.children && item.children.length > 0) {\r\n          that.getChildrenData(item.children)\r\n        }\r\n      })\r\n      return datas\r\n    },\r\n    initButtons(param5) {\r\n      let obj = {}\r\n      console.log(param5)\r\n      if (param5.isRetroact === 'true' && param5.retroact === 'department') { // 主管处室反馈\r\n        this.toolBarStatusBtnConfig = { ...this.toolBarStatusBtnConfig, ...proconf.retroactMofBtnConfig }\r\n        obj.code = 'dcl'\r\n      } else if (param5.isRetroact === 'true' && param5.retroact === 'company') { // 单位反馈\r\n        this.toolBarStatusBtnConfig = { ...this.toolBarStatusBtnConfig, ...proconf.retroactBtnConfig }\r\n        obj.code = 'dhs'\r\n      }\r\n      //   } else {\r\n      //     self.$message.error('区划配置信息初始化失败!')\r\n      //   }\r\n      // })\r\n    },\r\n    transJson(str) {\r\n      if (!str) return\r\n      var params = str.split(',')\r\n      var result = {}\r\n      if (params && params.length > 0) {\r\n        for (var i = 0; i < params.length; i++) {\r\n          var map = params[i].split('=')\r\n          result[map[0]] = map[1]\r\n        }\r\n      }\r\n      return result\r\n    },\r\n    getWarnData() {\r\n      const param = {\r\n        page: this.mainPagerConfig.currentPage, // 页码\r\n        pageSize: this.mainPagerConfig.pageSize, // 每页条数\r\n        warn_level: this.warningLevel, // 预警级别\r\n        regulation_type: this.regulationType,\r\n        mofdivname: this.mofdivname,\r\n        agencycode: this.agencycode,\r\n        firulename: this.firulename,\r\n        regulation_class: this.regulationclass,\r\n        firulecode: this.fiRuleCode\r\n      }\r\n      this.tableLoading = true\r\n      HttpModule.queryTableDatas(param).then(res => {\r\n        this.tableLoading = false\r\n        if (res.code === '000000') {\r\n          this.tableData = res.data.results\r\n          this.mainPagerConfig.total = res.data.totalCount\r\n          this.tabStatusNumConfig['1'] = res.data.totalCount\r\n        } else {\r\n          this.$message.error(res.result)\r\n        }\r\n      })\r\n    },\r\n    // 切换状态栏\r\n    onStatusTabClick(obj) {\r\n      if (!obj) { // 直达资金 部门没有页签 会进入到这儿\r\n        this.getdata()\r\n        return\r\n      }\r\n      this.isStatus = false // 未整改标识\r\n      this.isIssue = false // 已整改标识\r\n      this.isArchive = false // 归档标识\r\n      // 切换页签清空搜索栏\r\n      this.resetQuery()\r\n      this.status = null\r\n      this.isAgencyDone = false\r\n      this.isNormalDone = false\r\n      this.isProcessed = false\r\n      this.selectBtnType = obj.code\r\n      switch (obj.code) {\r\n        // 预警明细列表\r\n        case 'warnList':\r\n          this.tableColumnsConfig = proconf.warnTableColumns\r\n          this.queryConfig = proconf.warnQueryConfig\r\n          this.searchDataList = proconf.warnQueryData\r\n          this.menuName = '预警明细列表'\r\n          this.getWarnData()\r\n          break\r\n        // 待下发\r\n        case 'unIssue':\r\n          this.tableColumnsConfig = proconf.logoTableColumns\r\n          this.queryConfig = proconf.createHighQueryConfig\r\n          // proconf.highQueryConfig[1].itemRender.props.disabled = true\r\n          // proconf.highQueryConfig[3].itemRender.props.disabled = true\r\n          this.searchDataList = proconf.createHighQueryData\r\n          this.$refs.queryFrom.onSearchResetClick()\r\n          this.status = 0\r\n          this.menuName = '监控问询单列表'\r\n          this.queryTableDatas()\r\n          break\r\n        // 待处理\r\n        case 'dcl':\r\n          this.tableColumnsConfig = proconf.getColumns(obj.code, this.bussnessId, this.showLog, this.regulationClass)\r\n          this.queryConfig = proconf.highQueryConfig\r\n          this.searchDataList = proconf.highQueryData\r\n          this.status = 1\r\n          this.menuName = '监控问询单列表'\r\n          this.getdata()\r\n          break\r\n        // 已下发\r\n        // 待核实\r\n        case 'yxf':\r\n        case 'dhs':\r\n        case 'feedback':\r\n          // this.tableColumnsConfig = [...proconf.policiesTableColumns1, attachOption]\r\n          this.tableColumnsConfig = proconf.getColumns(obj.code, this.bussnessId, this.showLog, this.regulationClass)\r\n          this.queryConfig = proconf.highQueryConfig\r\n          this.searchDataList = proconf.highQueryData\r\n          this.status = 3\r\n          this.menuName = '监控问询单列表'\r\n          this.tableData = []\r\n          this.getdata()\r\n          break\r\n        // 单位反馈待审核\r\n        case 'dsh':\r\n        case 'dcszg':\r\n        case 'process':\r\n        case 'queryBusinessData': // 联查业务数据\r\n          // this.tableColumnsConfig = [...proconf.policiesTableColumns2, attachOption]\r\n          this.tableColumnsConfig = proconf.getColumns(obj.code, this.bussnessId, this.showLog, this.regulationClass)\r\n          this.queryConfig = proconf.highQueryConfig\r\n          this.searchDataList = proconf.highQueryData\r\n          this.isAgencyDone = true\r\n          this.menuName = '监控问询单列表'\r\n          this.tableData = []\r\n          this.getdata()\r\n          break\r\n        // 已退回、被退回\r\n        case 'bth':\r\n        case 'yth':\r\n          this.tableColumnsConfig = proconf.getColumns(obj.code, this.bussnessId, this.showLog, this.regulationClass)\r\n          this.queryConfig = proconf.highQueryConfig\r\n          this.searchDataList = proconf.highQueryData\r\n          this.status = 8\r\n          this.menuName = '监控问询单列表'\r\n          this.tableData = []\r\n          this.getdata()\r\n          break\r\n        // 认定正常\r\n        case 'rdzc':\r\n          this.tableColumnsConfig = proconf.getColumns(obj.code, this.bussnessId, this.showLog, this.regulationClass)\r\n          this.queryConfig = proconf.highQueryConfig\r\n          this.searchDataList = proconf.highQueryData\r\n          this.isNormalDone = true\r\n          this.menuName = '监控问询单列表'\r\n          this.tableData = []\r\n          this.getdata()\r\n          break\r\n        // 已整改\r\n        case 'yzg':\r\n          this.tableColumnsConfig = proconf.getColumns(obj.code, this.bussnessId, this.showLog, this.regulationClass)\r\n          this.queryConfig = proconf.highQueryConfig\r\n          this.searchDataList = proconf.highQueryData\r\n          this.status = 7\r\n          this.menuName = '监控问询单列表'\r\n          this.tableData = []\r\n          this.getdata()\r\n          break\r\n        case 'csysh':\r\n          this.tableColumnsConfig = proconf.getColumns(obj.code, this.bussnessId, this.showLog, this.regulationClass)\r\n          this.queryConfig = proconf.highQueryConfig\r\n          this.searchDataList = proconf.highQueryData\r\n          this.isProcessed = true\r\n          this.menuName = '监控问询单列表'\r\n          this.tableData = []\r\n          this.getdata()\r\n          break\r\n        case 'search':\r\n          this.tableColumnsConfig = proconf.getColumns(obj.code, this.bussnessId, this.showLog, this.regulationClass)\r\n          this.queryConfig = proconf.highQueryConfig\r\n          this.searchDataList = proconf.highQueryData\r\n          this.menuName = '监控问询单列表'\r\n          this.getdata()\r\n          break\r\n        default:\r\n          // this.tableColumnsConfig = proconf.policiesTableColumns\r\n          // this.queryConfig = proconf.highQueryConfig\r\n          // this.searchDataList = proconf.highQueryData\r\n          // this.queryTableDatas()\r\n          break\r\n      }\r\n      this.condition = {}\r\n      this.mainPagerConfig.currentPage = 1\r\n      this.$refs.mainTableRef.$refs.xGrid.clearScroll()\r\n    },\r\n    getViolationType() {\r\n      let params = {\r\n        page: 1,\r\n        size: 99999\r\n      }\r\n      api.queryViolationType(params).then(res => {\r\n        if (res.code === '000000') {\r\n          res.data.results.map(v => {\r\n            v.value = v.code\r\n            v.label = v.name\r\n          })\r\n          this.queryConfig[2].itemRender.options = res.data.results\r\n        }\r\n      })\r\n    },\r\n    getCount() {\r\n      let param = {\r\n        isUnit: this.transJson(this.$store.state.curNavModule.param5).retroact,\r\n        roleId: this.$store.state.curNavModule.roleguid\r\n      }\r\n      if (this.$store.state.curNavModule.f_FullName.substring(0, 4) === '直达资金') {\r\n        param.regulationClass = '0201'\r\n      }\r\n\r\n      const regulationClass = this.transJson(this.$store.state.curNavModule.param5)?.regulationClass\r\n      if (regulationClass) {\r\n        param.regulationClass = regulationClass\r\n      }\r\n\r\n      api.getCount(param).then(res => {\r\n        if (res.code === '000000') {\r\n          // 主管处室\r\n          this.tabStatusNumConfig['dcl'] = res.data.dcl\r\n          this.tabStatusNumConfig['yxf'] = res.data.yxf\r\n          this.tabStatusNumConfig['dsh'] = res.data.dsh\r\n          this.tabStatusNumConfig['yth'] = res.data.yth\r\n          this.tabStatusNumConfig['rdzc'] = res.data.rdzc\r\n          this.tabStatusNumConfig['yzg'] = res.data.yzg\r\n          // 单位\r\n          this.tabStatusNumConfig['dhs'] = res.data.dhs\r\n          this.tabStatusNumConfig['dcszg'] = res.data.dcszg\r\n          this.tabStatusNumConfig['csysh'] = res.data.csysh\r\n          this.tabStatusNumConfig['bth'] = res.data.bth\r\n        }\r\n      })\r\n    },\r\n    check() {\r\n      let selection = this.$refs.mainTableRef.getSelectionData()\r\n      if (selection.length === 0) {\r\n        this.$message.warning('请选择数据')\r\n        return\r\n      }\r\n      this.tableLoading = true\r\n      HttpModule.check(selection[0].dealNo).then(res => {\r\n        this.tableLoading = false\r\n        if (res.code === '66020026') {\r\n          this.$message.success(res.message)\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    print() {\r\n      let selection = this.$refs.mainTableRef.getSelectionData()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择一条数据')\r\n        return\r\n      }\r\n      const params = {\r\n        dealNo: selection[0].dealNo\r\n      }\r\n      this.tableLoading = true\r\n      HttpModule.getReport(params).then(res => {\r\n        this.tableLoading = false\r\n        if (res.code === '000000') {\r\n          this.fileGuid = res.data\r\n          this.filePreviewDialogVisible = true\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    cellStyle({ row, rowIndex, column }) {\r\n      if (['warnLevel'].includes(column.property)) {\r\n        switch (row.warnLevel) {\r\n          case 3:\r\n            return {\r\n              color: '#BBBB00'\r\n            }\r\n          case 2:\r\n            return {\r\n              color: 'orange'\r\n            }\r\n          case 1:\r\n            return {\r\n              color: 'red'\r\n            }\r\n          case 4:\r\n            return {\r\n              color: 'blue'\r\n            }\r\n          case 5:\r\n            return {\r\n              color: 'gray'\r\n            }\r\n          default:\r\n            break\r\n        }\r\n      }\r\n    },\r\n    getAgency() {\r\n      const param = {\r\n        elementCode: 'AGENCY',\r\n        date: this.$store.state.userInfo.year,\r\n        tokenid: this.$store.getters.getLoginAuthentication.tokenid,\r\n        appguid: 'apaas',\r\n        year: this.$store.state.userInfo.year,\r\n        mofDivCode: this.$store.state.userInfo.province,\r\n        parameters: {}\r\n      }\r\n      api.getTreeAgency(param).then(res => {\r\n        let treeResdata = res.data\r\n        this.queryConfig[0].itemRender.options = treeResdata\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  created() {\r\n    this.menuId = this.$store.state.curNavModule.guid\r\n    this.roleguid = this.$store.state.curNavModule.roleguid\r\n    this.tokenid = this.$store.getters.getLoginAuthentication.tokenid\r\n    this.userInfo = this.$store.state.userInfo\r\n    this.roleId = this.$store.state.curNavModule.roleguid\r\n    this.param5 = this.transJson(this.$store.state.curNavModule.param5)\r\n    this.regulationclass = this.transJson(this.$store.state.curNavModule.param5)?.regulationClass || ''\r\n    // 动态控制是否展示树\r\n    this.initButtons(this.param5)\r\n    this.$nextTick(() => {\r\n      this.setShowBusinesTree()\r\n    })\r\n    // this.queryTableDatas()\r\n    this.getViolationType()\r\n    this.getAgency()\r\n    // this.getCount()\r\n  }\r\n}\r\n</script>\r\n<style >\r\n.createProcessing .radio-right{\r\nfloat: right;\r\n}\r\n.createProcessing .Titans-table ::v-deep  .vxe-body--row.row-yellow {\r\n  background-color: yellow;\r\n  color: #fff;\r\n}\r\n.createProcessing .Titans-table ::v-deep  .vxe-body--row.row-blue {\r\n  background-color: blue;\r\n  color: #fff;\r\n}\r\n.createProcessing .Titans-table ::v-deep  .vxe-body--row.row-red {\r\n  background-color: red;\r\n  color: #fff;\r\n}\r\n .createProcessing .unit-tree-main .el-tree-node__content .custom-node-bg{\r\n  background-color: transparent !important;\r\n}\r\n\r\n</style>\r\n"]}]}