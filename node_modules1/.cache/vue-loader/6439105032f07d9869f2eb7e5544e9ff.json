{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\bgtDataQuery\\bgtDataQuery.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\bgtDataQuery\\bgtDataQuery.vue","mtime":1695716045272},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSFRUUE1vZHVsZSBmcm9tICdAL2FwaS9mcmFtZS9tYWluL2Jhc2VDb25maWdNYW5hZ2UvY3VzdG9tUXVlcnlTZXJ2aWNlLmpzJw0KaW1wb3J0IHsgcHJvY29uZiB9IGZyb20gJy4vanMvYmd0RGF0YVF1ZXJ5LmpzJw0KaW1wb3J0IGxvYWRCc0NvbmZpZyBmcm9tICdAL3ZpZXdzL21haW4vZHluYW1pY1RhYmxlU2V0dGluZy9jb25maWcnDQovLyBpbXBvcnQgeyBtb2NrVGFibGVEYXRhIH0gZnJvbSAnLi9tb2NrRGF0YScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbWl4aW5zOiBbbG9hZEJzQ29uZmlnXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYXhpb3NGZWlsZDogew0KICAgICAgICBjb2RlRmllbGQ6ICdyc2NvZGUnLA0KICAgICAgICBzdWNjZXNzQ29kZTogMjAwDQogICAgICB9LA0KICAgICAgLy8gcXVlcnlDb25maWdJZDogJzFCN0VBRkNBQzc0QjQ5OTM4RTU5QTY0N0JCOTZBNkE1JywNCiAgICAgIHF1ZXJ5Q29uZmlnSWQ6ICdDQkVFMjAxODJEOEY0MkMxODRGREIxREIyQURERDIxQScsDQogICAgICBpc1Nob3dEZXRhaWxzOiBmYWxzZSwNCiAgICAgIHNjcm9sbFk6IHsNCiAgICAgICAgc2Nyb2xsWTogew0KICAgICAgICAgIG1vZGU6ICd3aGVlbCcsDQogICAgICAgICAgZ3Q6IDI1DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBpc0xvYWRpbmdTaG93OiBmYWxzZSwNCiAgICAgIGxlZnRUcmVlVmlzaWJsZTogZmFsc2UsDQogICAgICB0YWJTdGF0dXNCdG5Db25maWc6IHsNCiAgICAgICAgY2hhbmdlQnRuczogdHJ1ZSwgLy8gdGFi6aG15Y+z6L6555qE5oyJ6ZKu5piv5ZCm5Lya5qC55o2u6aG1562+55qE5LiN5ZCM6ICM5pS55Y+YDQogICAgICAgIGJ1dHRvbnM6IHByb2NvbmYudGFiU3RhdHVzQnRuQ29uZmlnQnV0dG9ucywNCiAgICAgICAgY3VyQnV0dG9uOiB7DQogICAgICAgICAgdHlwZTogJ2J1dHRvbicsDQogICAgICAgICAgaWNvbk5hbWU6ICdiYXNlLWRhaWJhbi5wbmcnLA0KICAgICAgICAgIGljb25Vcmw6ICcnLA0KICAgICAgICAgIGxhYmVsOiAnJywNCiAgICAgICAgICBjb2RlOiAnMCcsDQogICAgICAgICAgY3VyVmFsdWU6ICcwJw0KICAgICAgICB9LA0KICAgICAgICBidXR0b25zSW5mbzogcHJvY29uZi50YWJTdGF0dXNCdG5Db25maWdCdXR0b25zSW5mbywNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgIGJzVG9vbGJhckNsaWNrRXZlbnQ6IHRoaXMub25TdGF0dXNUYWJDbGljaw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgdGFiU3RhdHVzTnVtQ29uZmlnOiB7ICctMSc6IDAsIDA6IDAsIDE6IDAsIDI6IDAgfSwNCiAgICAgIGlzU2hvd1F1ZXJ5Q29uZGl0aW9uczogdHJ1ZSwNCiAgICAgIHF1ZXJ5Rm9ybUl0ZW1Db25maWc6IFtdLA0KICAgICAgcXVlcnlGb3JtRGF0YToge30sDQogICAgICAvLyBxdWVyeUZvcm1EYXRhOiBwcm9jb25mLnF1ZXJ5Rm9ybURhdGEsDQogICAgICB0cmVlQ29uZmlnOiB7DQogICAgICAgIC8vIOW3puS+p+agkeexu+Weiw0KICAgICAgICAvLyBjdXJSYWRpbzogJ0FHRU5DWScsDQogICAgICAgIGN1clJhZGlvOiAnJywNCiAgICAgICAgcmFkaW9Hcm91cDogWw0KICAgICAgICAgIC8qIHsNCiAgICAgICAgICAgIGNvZGU6ICdBR0VOQ1knLA0KICAgICAgICAgICAgbGFiZWw6ICfpooTnrpfljZXkvY1BVCBQQUdFJw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgY29kZTogJ0VYUF9GVU5DJywNCiAgICAgICAgICAgIGxhYmVsOiAn5Yqf6IO95YiG57G7QVQgUEFHRScNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGNvZGU6ICdkZXBfYmd0X2VjbycsDQogICAgICAgICAgICBsYWJlbDogJ+mihOeul+aUr+WHuuWIhuexu+enkeebrkFUIFBBR0UnDQogICAgICAgICAgfSAqLw0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgdHJlZURhdGE6IFtdLA0KICAgICAgdHJlZVF1ZXJ5cGFyYW1zOiB7IGVsZW1lbnRDb2RlOiAnQUdFTkNZJyB9LA0KICAgICAgdHJlZUdsb2JhbENvbmZpZzogew0KICAgICAgICB0cmVlSW5wdXRWYWw6ICcnDQogICAgICB9LA0KICAgICAgdGFibGVMb2FkaW5nOiBmYWxzZSwNCiAgICAgIHRhYmxlRm9vdGVyQ29uZmlnOiB7DQogICAgICAgIHRvdGFsT2JqOiB7DQogICAgICAgICAgYW1vdW50OiAwLA0KICAgICAgICAgIHBheV9hbXQ6IDAsDQogICAgICAgICAgY2xlYXJfYW10OiAwLA0KICAgICAgICAgIHBsYW5fYW10OiAwDQogICAgICAgIH0sDQogICAgICAgIGNvbWJpbmVkVHlwZTogWydzd2l0Y2hUb3RhbCddLA0KICAgICAgICBzaG93Rm9vdGVyOiB0cnVlDQogICAgICB9LA0KICAgICAgYW10RGV0YWlsVGFibGVGb290ZXJDb25maWc6IHsNCiAgICAgICAgY29tYmluZWRUeXBlOiBbJ3N3aXRjaFRvdGFsJ10sDQogICAgICAgIHNob3dGb290ZXI6IHRydWUNCiAgICAgIH0sDQogICAgICB0YWJsZUNvbHVtbnNDb25maWc6IFtdLA0KICAgICAgLy8gdGFibGVDb2x1bW5zQ29uZmlnOiBwcm9jb25mLnRhYmxlQ29sdW1uc0NvbmZpZywNCiAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICB0YWJsZUNvbmZpZzogew0KICAgICAgICBnbG9iYWxDb25maWc6IHsNCiAgICAgICAgICBjaGVja1R5cGU6IGZhbHNlLCAvLyBjaGVja2JveA0KICAgICAgICAgIHNlcTogdHJ1ZSAvLyDluo/lj7fliJcNCiAgICAgICAgfSwNCiAgICAgICAgcmVuZGVyZXJzOiB7DQogICAgICAgICAgLy8g57yW6L6RIOmZhOS7tiDmk43kvZzml6Xlv5cNCiAgICAgICAgICAkZ2xvYWJsZU9wdGlvblJvdzogcHJvY29uZi5nbG9hYmxlT3B0aW9uUm93LA0KICAgICAgICAgICRlZGl0UmFkaW86IHByb2NvbmYuZWRpdFJhZGlvLA0KICAgICAgICAgICRlZGl0TGV2ZWw6IHByb2NvbmYuZWRpdExldmVsLA0KICAgICAgICAgICRlZGl0Q29kZUNoZWNrYm94OiBwcm9jb25mLmVkaXRDb2RlQ2hlY2tib3gsDQogICAgICAgICAgJGVkaXRDaGVja2JveDogcHJvY29uZi5lZGl0Q2hlY2tib3gsDQogICAgICAgICAgJG9yZGVyOiBwcm9jb25mLm9yZGVyDQogICAgICAgIH0NCiAgICAgICAgLyogbWV0aG9kczogew0KICAgICAgICAgIG9uT3B0aW9uUm93Q2xpY2s6IHRoaXMub25PcHRpb25Sb3dDbGljaw0KICAgICAgICB9ICovDQogICAgICB9LA0KICAgICAgdGFibGVQYWdlckNvbmZpZzogew0KICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICAgIHBhZ2VTaXplOiAxMDAwMDAwMDANCiAgICAgIH0sDQogICAgICBhbXREZXRhaWxUYWJsZVBhZ2VyQ29uZmlnOiB7DQogICAgICAgIHRvdGFsOiAwLA0KICAgICAgICBwYWdlU2l6ZTogMjAsDQogICAgICAgIGN1cnJlbnRQYWdlOiAxDQogICAgICB9LA0KICAgICAgdGFibGVUb29sYmFyQ29uZmlnOiB7DQogICAgICAgIC8vIHRhYmxl5bel5YW35qCP6YWN572uDQogICAgICAgIG1vbmV5Q29udmVyc2lvbjogdHJ1ZSwgLy8g5piv5ZCm5pyJ6YeR6aKd6L2s5o2iDQogICAgICAgIHNlYXJjaDogZmFsc2UsIC8vIOaYr+WQpuaciXNlYXJjaA0KICAgICAgICBpbXBvcnQ6IGZhbHNlLCAvLyDlr7zlhaUNCiAgICAgICAgZXhwb3J0OiB0cnVlLCAvLyDlr7zlh7oNCiAgICAgICAgcHJpbnQ6IHRydWUsIC8vIOaJk+WNsA0KICAgICAgICB6b29tOiB0cnVlLCAvLyDnvKnmlL4NCiAgICAgICAgY3VzdG9tOiB0cnVlLCAvLyDpgInphY3lsZXnpLrliJcNCiAgICAgICAgc2xvdHM6IHsNCiAgICAgICAgICB0b29sczogJ3Rvb2xiYXJUb29scycsDQogICAgICAgICAgYnV0dG9uczogJ3Rvb2xiYXJTbG90cycNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIHRyZWVUYWJsZUNvbmZpZzogew0KICAgICAgICBleHBhbmRBbGw6IGZhbHNlLA0KICAgICAgICBkYmxFeHBhbmRBbGw6IHRydWUsDQogICAgICAgIGRibEV4cGFuZDogdHJ1ZSwNCiAgICAgICAgYWNjb3JkaW9uOiBmYWxzZQ0KICAgICAgfSwNCiAgICAgIGFtdERldGFpbFF1ZXJ5UGFyYW1zOiB7DQogICAgICAgIGlkczogW10sDQogICAgICAgIHBhZ2VOdW06IDEsDQogICAgICAgIHBhZ2VTaXplOiAyMA0KICAgICAgfSwNCiAgICAgIGFtdERldGFpbFR5cGU6ICcxJywNCiAgICAgIGFtb3VudFF1ZXJ5SWQ6ICdDOUMyQjYwQTZGMjY0NzUwODRFQjM1NzY0MzVCN0E4OScsIC8vICc2QUNBNEQ2QkM0MjY0RURDODUyMzA0NDg5N0ZBRkYzMScsDQogICAgICBwYXlBbXRRdWVyeUlkOiAnRjI4QjU0NTFFN0I4NEU2RTg3QzJEQTkyMEZDOUY3NEUnLCAvLyAnNjg2QTNCMTg5RjVBNDkwMjhEQzlBREY5MUNDMkNDOTQnLA0KICAgICAgcGxhbkFtdFF1ZXJ5SWQ6ICdBQUE1QjlDNjZBNUI0NzhDODc1RTZFOTAwRjc0M0FEOScsIC8vICc3NDI4MjdGQTUzMkE0RkVCQTM1MUExMThEOERGQUE4MicsDQogICAgICBjbGVhckFtdFF1ZXJ5SWQ6ICc3QjlDMDlGMURDQ0Q0NjRDQjhGREJCREVCNDEzRTM2QycsIC8vICc4NTFBRUQxRUQwOEY0N0Y0OTA0MEE1MEJERDdFNTkzNCcsDQogICAgICBtZW51TmFtZTogJ+aMh+agh+aVsOaNruafpeivoicsDQogICAgICB0YWJsZVRyZWVDb25maWc6IHsNCiAgICAgICAgdHJhbnNmb3JtOiB0cnVlLA0KICAgICAgICBleHBhbmRSb3dLZXlzOiBbMjQzMDBdDQogICAgICB9LA0KICAgICAgc2V0dGluZ01vZGFsOiBmYWxzZSwNCiAgICAgIGFtdERldGFpbE1vZGFsOiBmYWxzZSwNCiAgICAgIGFtdERldGFpbFRhYmxlTG9hZGluZzogZmFsc2UsDQogICAgICBhbXREZXRhaWxUYWJsZUNvbHVtbnNDb25maWc6IFtdLA0KICAgICAgYW10RGV0YWlsVGFibGVDb2x1bW5zQ29uZmlnQW1vdW50OiBbXSwNCiAgICAgIGFtdERldGFpbFRhYmxlQ29sdW1uc0NvbmZpZ1BheTogW10sDQogICAgICBhbXREZXRhaWxUYWJsZUNvbHVtbnNDb25maWdQbGFuOiBbXSwNCiAgICAgIGFtdERldGFpbFRhYmxlQ29sdW1uc0NvbmZpZ0NsZWFyOiBbXSwNCiAgICAgIGFtdERldGFpbFRhYmxlRGF0YTogW10sDQogICAgICB0b29sQmFyU3RhdHVzU2VsZWN0OiB7fSwNCiAgICAgIHNldHRpbmdUYWJsZURhdGE6IFtdLA0KICAgICAgc2V0dGluZ1RhYmxlTG9hZGluZzogZmFsc2UsDQogICAgICBzZXR0aW5nVGFibGVDb2x1bW5zQ29uZmlnOiBwcm9jb25mLnNldHRpbmdUYWJsZUNvbHVtbnNDb25maWcsDQogICAgICBpc0NvbHVtblZpc2libGU6IDEsDQogICAgICBzZXR0aW5nVGFibGVDb25maWc6IHsNCiAgICAgICAgZ2xvYmFsQ29uZmlnOiB7DQogICAgICAgICAgc29ydGFibGU6IGZhbHNlLA0KICAgICAgICAgIHJvd0Ryb3A6IHRydWUsDQogICAgICAgICAgY2hlY2tUeXBlOiAnY2hlY2tib3gnDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBzZXR0aW5nVGFibGVHbG9iYWxDb25maWc6IHsNCiAgICAgICAgcm93RHJvcDogdHJ1ZSwgLy8g6KGM5ouW5ou9DQogICAgICAgIGRyYWdDb2x1bW5zQ29uZmlnOiB7DQogICAgICAgICAgY2FjaGVTdGF0dXM6IGZhbHNlLCAvLyDmmK/lkKblvIDlkK/nvJPlrZgNCiAgICAgICAgICBvcGVuRHJhZzogdHJ1ZSAvLyDmmK/lkKblvIDlkK/mi5bmi73mjpLluo8NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGFtdERldGFpbFRhYmxlQ29uZmlnOiB7DQogICAgICAgIGdsb2JhbENvbmZpZzogew0KICAgICAgICAgIGNoZWNrVHlwZTogJ2NoZWNrYm94Jw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgaXNOZXc6IHRydWUsDQogICAgICBidG5Mb2FkaW5nOiBmYWxzZSwNCiAgICAgIG1vZGFsTmFtZTogJycsDQogICAgICB0ZW1wU2F2ZVNob3c6IGZhbHNlLA0KICAgICAgdHJlZVRlbXBsYXRlOiBudWxsLA0KICAgICAgdHJlZVRlbXBsYXRlU2VsOiBudWxsLA0KICAgICAgdGVtT3B0aW9uOiBbXSwNCiAgICAgIHRlbVF1ZXJ5cGFyYW1zOiB7DQogICAgICAgIG1lbnVJZDogdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmd1aWQgfHwgJ0hvbWUnDQogICAgICB9LA0KICAgICAgdGVtcGxhdGVNb2RhbDogZmFsc2UsDQogICAgICB0ZW1wbGF0ZVRhYmxlTG9hZGluZzogZmFsc2UsDQogICAgICB0ZW1wbGF0ZVRhYmxlQ29uZmlnOiB7DQogICAgICAgIGdsb2JhbENvbmZpZzogew0KICAgICAgICAgIGNoZWNrVHlwZTogJ2NoZWNrYm94Jw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgdGVtcGxhdGVUYWJsZUNvbHVtbnNDb25maWc6IHByb2NvbmYudGVtcGxhdGVUYWJsZUNvbHVtbnNDb25maWcsDQogICAgICB0ZW1wbGF0ZVRhYmxlRGF0YTogW10sDQogICAgICB0ZW1BY3Rpb25QYXJhbXM6IHsNCiAgICAgICAgbWVudUlkOiAnSG9tZScsDQogICAgICAgIHRlbXBsYXRlTmFtZTogJycNCiAgICAgIH0sDQogICAgICBjb2xGaWVsZExpc3Q6IFtdLA0KICAgICAgY3VycmVudFBhcmFtczoge30sDQogICAgICB0cmVlS2V5OiAxLA0KICAgICAgY3VycmVudFRyZWVDb2RlOiAnYWdlbmN5Jw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNlbGxDbGljayhvYmosIGNvbnRleHQsIGUpIHsNCiAgICAgIGxldCBrZXkgPSBvYmouY29sdW1uLnByb3BlcnR5DQogICAgICBzd2l0Y2ggKGtleSkgew0KICAgICAgICBjYXNlICdhbW91bnQnOg0KICAgICAgICAgIHRoaXMuYW10RGV0YWlsVGFibGVDb2x1bW5zQ29uZmlnID0gdGhpcy5hbXREZXRhaWxUYWJsZUNvbHVtbnNDb25maWdBbW91bnQNCiAgICAgICAgICB0aGlzLmFtdERldGFpbFR5cGUgPSAnMScNCiAgICAgICAgICB0aGlzLmdldEFtdERldGFpbERhdGEob2JqLnJvdykNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICdwYXlfYW10JzoNCiAgICAgICAgICB0aGlzLmFtdERldGFpbFRhYmxlQ29sdW1uc0NvbmZpZyA9IHRoaXMuYW10RGV0YWlsVGFibGVDb2x1bW5zQ29uZmlnUGF5DQogICAgICAgICAgdGhpcy5hbXREZXRhaWxUeXBlID0gJzInDQogICAgICAgICAgdGhpcy5nZXRBbXREZXRhaWxEYXRhKG9iai5yb3cpDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAncGxhbl9hbXQnOg0KICAgICAgICAgIHRoaXMuYW10RGV0YWlsVGFibGVDb2x1bW5zQ29uZmlnID0gdGhpcy5hbXREZXRhaWxUYWJsZUNvbHVtbnNDb25maWdQbGFuDQogICAgICAgICAgdGhpcy5hbXREZXRhaWxUeXBlID0gJzQnDQogICAgICAgICAgdGhpcy5nZXRBbXREZXRhaWxEYXRhKG9iai5yb3cpDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnY2xlYXJfYW10JzoNCiAgICAgICAgICB0aGlzLmFtdERldGFpbFRhYmxlQ29sdW1uc0NvbmZpZyA9IHRoaXMuYW10RGV0YWlsVGFibGVDb2x1bW5zQ29uZmlnQ2xlYXINCiAgICAgICAgICB0aGlzLmFtdERldGFpbFR5cGUgPSAnMycNCiAgICAgICAgICB0aGlzLmdldEFtdERldGFpbERhdGEob2JqLnJvdykNCiAgICAgICAgICBicmVhaw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0QW10RGV0YWlsRGF0YShyb3cpIHsNCiAgICAgIC8vIOe7hOijheivt+axguWPguaVsA0KICAgICAgdmFyIGJndElkcyA9IHRoaXMuZmluZEJndElkcyhyb3cpDQogICAgICB0aGlzLmFtdERldGFpbFF1ZXJ5UGFyYW1zLmlkcyA9IGJndElkcw0KICAgICAgdGhpcy5xdWVyeUFtdERldGFpbERhdGEoKQ0KICAgICAgdGhpcy5hbXREZXRhaWxNb2RhbCA9IHRydWUNCiAgICB9LA0KICAgIGZpbmRCZ3RJZHMocm93KSB7DQogICAgICB2YXIgbmV3QXJyID0gW10NCiAgICAgIGlmIChyb3cuY2hpbGRyZW4gJiYgcm93LmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICByb3cuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBuZXdBcnIucHVzaCguLi50aGlzLmZpbmRCZ3RJZHMoaXRlbSkpDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAocm93LmJndElkcykgew0KICAgICAgICAgIG5ld0Fyci5wdXNoKC4uLnJvdy5iZ3RJZHMpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBuZXdBcnINCiAgICB9LA0KICAgIHF1ZXJ5QW10RGV0YWlsRGF0YSgpIHsNCiAgICAgIHRoaXMuYW10RGV0YWlsVGFibGVMb2FkaW5nID0gdHJ1ZQ0KICAgICAgdGhpcy5hbXREZXRhaWxUYWJsZURhdGEgPSBbXQ0KICAgICAgbGV0IG1ldGhvZCA9ICcnDQogICAgICBpZiAodGhpcy5hbXREZXRhaWxUeXBlID09PSAnMScpIHsNCiAgICAgICAgbWV0aG9kID0gJ2dyb2JCZ3RBbXREZXRhaWwnDQogICAgICB9IGVsc2UgaWYgKHRoaXMuYW10RGV0YWlsVHlwZSA9PT0gJzInKSB7DQogICAgICAgIG1ldGhvZCA9ICdncm9iUGF5QW10RGV0YWlsJw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmFtdERldGFpbFR5cGUgPT09ICczJykgew0KICAgICAgICBtZXRob2QgPSAnZ3JvYkNsZWFyQW10RGV0YWlsJw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmFtdERldGFpbFR5cGUgPT09ICc0Jykgew0KICAgICAgICBtZXRob2QgPSAnZ3JvYlBsYW5BbXREZXRhaWwnDQogICAgICB9DQogICAgICBIVFRQTW9kdWxlW21ldGhvZF0odGhpcy5hbXREZXRhaWxRdWVyeVBhcmFtcykudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmFtdERldGFpbFRhYmxlTG9hZGluZyA9IGZhbHNlDQogICAgICAgIGlmIChyZXMgJiYgcmVzW3RoaXMuYXhpb3NGZWlsZFsnY29kZUZpZWxkJ11dID09PSB0aGlzLmF4aW9zRmVpbGRbJ3N1Y2Nlc3NDb2RlJ10pIHsNCiAgICAgICAgICBsZXQgcmVzRGF0YSA9IHJlcy5kYXRhLnJvd3MNCiAgICAgICAgICByZXNEYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICBmb3IgKGxldCBpIGluIGl0ZW0pIHsNCiAgICAgICAgICAgICAgaXRlbVtpLnRvTG93ZXJDYXNlKCldID0gaXRlbVtpXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5hbXREZXRhaWxUYWJsZURhdGEgPSByZXNEYXRhDQogICAgICAgICAgdGhpcy5hbXREZXRhaWxUYWJsZVBhZ2VyQ29uZmlnLnRvdGFsID0gcmVzLmRhdGEudG90YWwNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGFtdERldGFpbEFqYXhEYXRhKHsgcGFyYW1zLCBjdXJyZW50UGFnZSwgcGFnZVNpemUgfSkgew0KICAgICAgdGhpcy5hbXREZXRhaWxRdWVyeVBhcmFtcyA9IE9iamVjdC5hc3NpZ24odGhpcy5hbXREZXRhaWxRdWVyeVBhcmFtcywgew0KICAgICAgICBwYWdlTnVtOiBjdXJyZW50UGFnZSwNCiAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplDQogICAgICB9KQ0KICAgICAgdGhpcy5xdWVyeUFtdERldGFpbERhdGEoKQ0KICAgIH0sDQogICAgYXN5bmMgbG9hZENvbmZpZyhpZCkgew0KICAgICAgaWYgKCFpZCkgcmV0dXJuDQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICB0YWJsZUlkOiB7DQogICAgICAgICAgaWQ6IGlkLA0KICAgICAgICAgIGZpc2NhbHllYXI6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0dXNlckluZm8ueWVhciwNCiAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0dXNlckluZm8ucHJvdmluY2UsDQogICAgICAgICAgbWVudWd1aWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChpZCA9PT0gdGhpcy5hbW91bnRRdWVyeUlkKSB7DQogICAgICAgIHBhcmFtcy50YWJsZUlkLmlkID0gaWQNCiAgICAgICAgbGV0IGNvbmZpZ0RhdGEgPSBhd2FpdCB0aGlzLmxvYWRCc0NvbmZpZyhwYXJhbXMpDQogICAgICAgIGNvbnNvbGUubG9nKCdpbml0UXVlcnknLCBjb25maWdEYXRhKQ0KICAgICAgICB0aGlzLmFtdERldGFpbFRhYmxlQ29sdW1uc0NvbmZpZ0Ftb3VudCA9IGNvbmZpZ0RhdGEuaXRlbXNDb25maWcNCiAgICAgIH0NCiAgICAgIGlmIChpZCA9PT0gdGhpcy5wYXlBbXRRdWVyeUlkKSB7DQogICAgICAgIHBhcmFtcy50YWJsZUlkLmlkID0gaWQNCiAgICAgICAgbGV0IGNvbmZpZ0RhdGEgPSBhd2FpdCB0aGlzLmxvYWRCc0NvbmZpZyhwYXJhbXMpDQogICAgICAgIHRoaXMuYW10RGV0YWlsVGFibGVDb2x1bW5zQ29uZmlnUGF5ID0gY29uZmlnRGF0YS5pdGVtc0NvbmZpZw0KICAgICAgfQ0KICAgICAgaWYgKGlkID09PSB0aGlzLnBsYW5BbXRRdWVyeUlkKSB7DQogICAgICAgIHBhcmFtcy50YWJsZUlkLmlkID0gaWQNCiAgICAgICAgbGV0IGNvbmZpZ0RhdGEgPSBhd2FpdCB0aGlzLmxvYWRCc0NvbmZpZyhwYXJhbXMpDQogICAgICAgIHRoaXMuYW10RGV0YWlsVGFibGVDb2x1bW5zQ29uZmlnUGxhbiA9IGNvbmZpZ0RhdGEuaXRlbXNDb25maWcNCiAgICAgIH0NCiAgICAgIGlmIChpZCA9PT0gdGhpcy5jbGVhckFtdFF1ZXJ5SWQpIHsNCiAgICAgICAgcGFyYW1zLnRhYmxlSWQuaWQgPSBpZA0KICAgICAgICBsZXQgY29uZmlnRGF0YSA9IGF3YWl0IHRoaXMubG9hZEJzQ29uZmlnKHBhcmFtcykNCiAgICAgICAgdGhpcy5hbXREZXRhaWxUYWJsZUNvbHVtbnNDb25maWdDbGVhciA9IGNvbmZpZ0RhdGEuaXRlbXNDb25maWcNCiAgICAgIH0NCiAgICAgIGlmIChpZCA9PT0gdGhpcy5xdWVyeUNvbmZpZ0lkKSB7DQogICAgICAgIHBhcmFtcy50YWJsZUlkLmlkID0gaWQNCiAgICAgICAgbGV0IGNvbmZpZ1F1ZXJ5RGF0YSA9IGF3YWl0IHRoaXMubG9hZEJzQ29uZmlnKHBhcmFtcykNCiAgICAgICAgdGhpcy5xdWVyeUZvcm1JdGVtQ29uZmlnID0gY29uZmlnUXVlcnlEYXRhLml0ZW1zQ29uZmlnDQogICAgICB9DQogICAgfSwNCiAgICBnZXRGb3JtVGFibGUoKSB7DQogICAgICB0aGlzLmxvYWRDb25maWcodGhpcy5xdWVyeUNvbmZpZ0lkKQ0KICAgICAgdGhpcy5sb2FkQ29uZmlnKHRoaXMuYW1vdW50UXVlcnlJZCkNCiAgICAgIHRoaXMubG9hZENvbmZpZyh0aGlzLnBheUFtdFF1ZXJ5SWQpDQogICAgICB0aGlzLmxvYWRDb25maWcodGhpcy5wbGFuQW10UXVlcnlJZCkNCiAgICAgIHRoaXMubG9hZENvbmZpZyh0aGlzLmNsZWFyQW10UXVlcnlJZCkNCiAgICB9LA0KICAgIHRlbXBsYXRlTWFuYWdlKCkgew0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBzZWxmLnRlbXBsYXRlVGFibGVMb2FkaW5nID0gdHJ1ZQ0KICAgICAgSFRUUE1vZHVsZS5nZXRHcmFiVGVtcGxhdGVMaXN0KHRoaXMudGVtUXVlcnlwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgc2VsZi50ZW1wbGF0ZVRhYmxlTG9hZGluZyA9IGZhbHNlDQogICAgICAgIGlmIChyZXMgJiYgcmVzW3RoaXMuYXhpb3NGZWlsZFsnY29kZUZpZWxkJ11dID09PSB0aGlzLmF4aW9zRmVpbGRbJ3N1Y2Nlc3NDb2RlJ10pIHsNCiAgICAgICAgICBzZWxmLnRlbXBsYXRlVGFibGVEYXRhID0gcmVzLmRhdGENCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBzZWxmLiRtZXNzYWdlLmVycm9yKHJlcy5yZXN1bHQpDQogICAgICAgIH0NCiAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgc2VsZi50ZW1wbGF0ZVRhYmxlTG9hZGluZyA9IGZhbHNlDQogICAgICB9KQ0KICAgICAgdGhpcy50ZW1wbGF0ZU1vZGFsID0gdHJ1ZQ0KICAgIH0sDQogICAgaGFuZGxlVGVtcGxhdGVVc2UoKSB7DQogICAgICBsZXQgc2VsZWN0aW9uID0gdGhpcy4kcmVmcy50ZW1wbGF0ZVRhYmxlUmVmLiRyZWZzLnhHcmlkLmdldFNlbGVjdFJlY29yZHMoKQ0KICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggIT09IDEpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nmnInkuJTku4XmnInkuIDkuKrmqKHniYghJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB0aGlzLnRyZWVUZW1wbGF0ZSA9IHNlbGVjdGlvblswXQ0KICAgICAgdGhpcy5zZXRUZW1wbGF0ZURhdGEoKQ0KICAgICAgdGhpcy5jYW5jZWxEaWFsb2dDbG9zZVRlbXBsYXRlKCkNCiAgICB9LA0KICAgIHNldERlZmFsdXRUZW1wbGF0ZSgpIHsNCiAgICAgIGxldCBzZWxlY3Rpb24gPSB0aGlzLiRyZWZzLnRlbXBsYXRlVGFibGVSZWYuJHJlZnMueEdyaWQuZ2V0U2VsZWN0UmVjb3JkcygpDQogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCAhPT0gMSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeacieS4lOS7heacieS4gOS4quaooeeJiCEnKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMudGVtQWN0aW9uUGFyYW1zLm1lbnVJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkIHx8ICdIb21lJw0KICAgICAgdGhpcy50ZW1BY3Rpb25QYXJhbXMudGVtcGxhdGVOYW1lID0gc2VsZWN0aW9uWzBdLnRlbXBsYXRlX25hbWUNCiAgICAgIHRoaXMudGVtcGxhdGVUYWJsZUxvYWRpbmcgPSB0cnVlDQogICAgICBIVFRQTW9kdWxlLnNldERlZmF1bHRHcmFiVGVtcGxhdGUodGhpcy50ZW1BY3Rpb25QYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy50ZW1wbGF0ZVRhYmxlTG9hZGluZyA9IGZhbHNlDQogICAgICAgIGlmIChyZXMgJiYgcmVzW3RoaXMuYXhpb3NGZWlsZFsnY29kZUZpZWxkJ11dID09PSB0aGlzLmF4aW9zRmVpbGRbJ3N1Y2Nlc3NDb2RlJ10pIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+iuvue9ruaIkOWKn++8gScpDQogICAgICAgICAgdGhpcy5jYW5jZWxEaWFsb2dDbG9zZVRlbXBsYXRlKCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCforr7nva7lpLHotKXvvIEnICsgcmVzLnJlc3VsdCkNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbGV0ZVRlbXBsYXRlKCkgew0KICAgICAgbGV0IHNlbGVjdGlvbiA9IHRoaXMuJHJlZnMudGVtcGxhdGVUYWJsZVJlZi4kcmVmcy54R3JpZC5nZXRTZWxlY3RSZWNvcmRzKCkNCiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoICE9PSAxKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup5pyJ5LiU5LuF5pyJ5LiA5Liq5qih54mIIScpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgdGhpcy50ZW1BY3Rpb25QYXJhbXMubWVudUlkID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmd1aWQgfHwgJ0hvbWUnDQogICAgICB0aGlzLnRlbUFjdGlvblBhcmFtcy50ZW1wbGF0ZU5hbWUgPSBzZWxlY3Rpb25bMF0udGVtcGxhdGVfbmFtZQ0KICAgICAgdGhpcy50ZW1wbGF0ZVRhYmxlTG9hZGluZyA9IHRydWUNCiAgICAgIEhUVFBNb2R1bGUucmVtb3ZlR3JhYlRlbXBsYXRlKHRoaXMudGVtQWN0aW9uUGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMudGVtcGxhdGVUYWJsZUxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICBpZiAocmVzICYmIHJlc1t0aGlzLmF4aW9zRmVpbGRbJ2NvZGVGaWVsZCddXSA9PT0gdGhpcy5heGlvc0ZlaWxkWydzdWNjZXNzQ29kZSddKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip/vvIEnKQ0KICAgICAgICAgIHRoaXMuZ2V0VGVtcGxhdGVEYXRhKCkNCiAgICAgICAgICB0aGlzLmNhbmNlbERpYWxvZ0Nsb3NlVGVtcGxhdGUoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOWksei0pe+8gScgKyByZXMucmVzdWx0KQ0KICAgICAgICB9DQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICB9KQ0KICAgIH0sDQogICAgc2F2ZVRlbXBsYXRlKCkgew0KICAgICAgdGhpcy5pc05ldyA9IHRoaXMudHJlZVRlbXBsYXRlID09PSBudWxsIHx8ICF0aGlzLnRyZWVUZW1wbGF0ZS50ZW1wbGF0ZV9uYW1lDQogICAgICB0aGlzLnRlbXBTYXZlU2hvdyA9IHRydWUNCiAgICB9LA0KICAgIGhhbmRsZVRydWUoKSB7DQogICAgICB0aGlzLmhhbmRsZVNhdmUoJ21vZGlmeScpDQogICAgfSwNCiAgICBoYW5kbGVGYWxzZSgpIHsNCiAgICAgIHRoaXMuaXNOZXcgPSB0cnVlDQogICAgICB0aGlzLm1vZGFsTmFtZSA9ICcnDQogICAgfSwNCiAgICBoYW5kbGVTYXZlKGV2ZW50VHlwZSkgew0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBpZiAoc2VsZi5tb2RhbE5hbWUgPT09ICcnKSB7DQogICAgICAgIHNlbGYuJG1lc3NhZ2Uud2FybmluZygn6K+35aGr5YaZ5qih5p2/5ZCN56ew77yBJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAoc2VsZi5tb2RhbE5hbWUubGVuZ3RoID4gMjApIHsNCiAgICAgICAgc2VsZi4kbWVzc2FnZS53YXJuaW5nKCfmqKHmnb/lkI3np7Dor7flsI/kuo4yMOWtl++8gScpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgbGV0IHNhdmVQYXJhbSA9IHsNCiAgICAgICAgdHlwZTogZXZlbnRUeXBlLA0KICAgICAgICBtZW51SWQ6IHNlbGYuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkLA0KICAgICAgICB0ZW1wbGF0ZU5hbWU6IHNlbGYubW9kYWxOYW1lLA0KICAgICAgICBjb25kaXRpb246IFtdLA0KICAgICAgICBmaWVsZHM6IFtdLA0KICAgICAgICBzdW1BbXQ6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBmaWVsZDogJ2Ftb3VudCcsDQogICAgICAgICAgICB0eXBlOiAnMScsDQogICAgICAgICAgICB0aXRsZTogJ+aMh+agh+mHkeminScsDQogICAgICAgICAgICBzb3J0VmFsdWU6IG51bGwsDQogICAgICAgICAgICBjaGVja2VkOiBmYWxzZQ0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgZmllbGQ6ICdwYXlfYW10JywNCiAgICAgICAgICAgIHR5cGU6ICcyJywNCiAgICAgICAgICAgIHRpdGxlOiAn5bey5pSv5LuY6YeR6aKdJywNCiAgICAgICAgICAgIHNvcnRWYWx1ZTogbnVsbCwNCiAgICAgICAgICAgIGNoZWNrZWQ6IGZhbHNlDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBmaWVsZDogJ2NsZWFyX2FtdCcsDQogICAgICAgICAgICB0eXBlOiAnMycsDQogICAgICAgICAgICB0aXRsZTogJ+W3sua4heeul+mHkeminScsDQogICAgICAgICAgICBzb3J0VmFsdWU6IG51bGwsDQogICAgICAgICAgICBjaGVja2VkOiBmYWxzZQ0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgZmllbGQ6ICdwbGFuX2FtdCcsDQogICAgICAgICAgICB0eXBlOiAnNCcsDQogICAgICAgICAgICB0aXRsZTogJ+iuoeWIkumHkeminScsDQogICAgICAgICAgICBzb3J0VmFsdWU6IG51bGwsDQogICAgICAgICAgICBjaGVja2VkOiBmYWxzZQ0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgICAgbGV0IGZpZWxkcyA9IHNlbGYuJHJlZnMuc2V0dGluZ1RhYmxlUmVmLiRyZWZzLnhHcmlkLmdldFRhYmxlRGF0YSgpLmZ1bGxEYXRhDQogICAgICB0aGlzLiRyZWZzLnNldHRpbmdUYWJsZVJlZi4kcmVmcy54R3JpZC5nZXRTZWxlY3RSZWNvcmRzKCkuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgZmllbGRzLmZvckVhY2goaXRlbXMgPT4gew0KICAgICAgICAgIGlmIChpdGVtLmNvZGUgPT09IGl0ZW1zLmNvZGUpIHsNCiAgICAgICAgICAgIGl0ZW1zLmNoZWNrZWQgPSB0cnVlDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICAgIHNhdmVQYXJhbS5maWVsZHMgPSBmaWVsZHMNCiAgICAgIHNhdmVQYXJhbS5jb25kaXRpb24gPSBmaWVsZHMubWFwKGl0ZW0gPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwNCiAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSwNCiAgICAgICAgICBjaGVja2VkOiBpdGVtLmNoZWNrZWQNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHNlbGYuYnRuTG9hZGluZyA9IHRydWUNCiAgICAgIEhUVFBNb2R1bGUuc2F2ZUdyYWJUZW1wbGF0ZShzYXZlUGFyYW0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBzZWxmLmJ0bkxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICBpZiAocmVzICYmIHJlc1t0aGlzLmF4aW9zRmVpbGRbJ2NvZGVGaWVsZCddXSA9PT0gdGhpcy5heGlvc0ZlaWxkWydzdWNjZXNzQ29kZSddKSB7DQogICAgICAgICAgc2VsZi4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip8nKQ0KICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2VUZW1wbGF0ZSgpDQogICAgICAgICAgdGhpcy5nZXRUZW1wbGF0ZURhdGEoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHNlbGYuJG1lc3NhZ2UuZXJyb3IoJ+S/neWtmOWksei0pe+8micgKyByZXMucmVzdWx0KQ0KICAgICAgICAgIHNlbGYuYnRuTG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgc2VsZi4kbWVzc2FnZS5lcnJvcign5L+d5a2Y5aSx6LSlJykNCiAgICAgICAgc2VsZi5idG5Mb2FkaW5nID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVDbG9zZVRlbXBsYXRlKCkgew0KICAgICAgdGhpcy5tb2RhbE5hbWUgPSAnJw0KICAgICAgdGhpcy50ZW1wU2F2ZVNob3cgPSBmYWxzZQ0KICAgIH0sDQogICAgcmVzZXQoKSB7DQogICAgICB0aGlzLnNldHRpbmdUYWJsZURhdGEgPSB0aGlzLmNvbEZpZWxkTGlzdC5tYXAoKGl0ZW0pID0+IHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKSwNCiAgICAgICAgICBjb2RlOiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKSwNCiAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSwNCiAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUgPT09IG51bGwgPyAnMCcgOiBpdGVtLnR5cGUgKyAnJywNCiAgICAgICAgICBsZXZlbDogaXRlbS5sZXZlbCArICcnLA0KICAgICAgICAgIHRvdGFsTGV2ZWw6IGl0ZW0ubGV2ZWwgKyAnJywNCiAgICAgICAgICBjaGVja2VkOiBpdGVtLmNoZWNrZWQsDQogICAgICAgICAgc2hvd0NvZGU6IGl0ZW0uc2hvd0NvZGUNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzLnNldHRpbmdUYWJsZVJlZi4kcmVmcy54R3JpZC5zZXRDaGVja2JveFJvdyh0aGlzLnNldHRpbmdUYWJsZURhdGEuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVja2VkKSwgdHJ1ZSkNCiAgICAgIH0sIDEwMCkNCiAgICAgIHRoaXMudHJlZVRlbXBsYXRlID0gbnVsbA0KICAgICAgdGhpcy50cmVlVGVtcGxhdGVTZWwgPSBudWxsDQogICAgICB0aGlzLm1vZGFsTmFtZSA9ICcnDQogICAgfSwNCiAgICBkcm9wZG93bm1ldGhvZChkYXRhKSB7DQogICAgICB0aGlzLnRyZWVUZW1wbGF0ZSA9IGRhdGEudmFsdWUNCiAgICAgIHRoaXMubW9kYWxOYW1lID0gdGhpcy50cmVlVGVtcGxhdGUudGVtcGxhdGVfbmFtZQ0KICAgICAgdGhpcy5zZXRUZW1wbGF0ZURhdGEoKQ0KICAgIH0sDQogICAgc2V0VGVtcGxhdGVEYXRhKCkgew0KICAgICAgaWYgKHRoaXMudHJlZVRlbXBsYXRlLmZpZWxkcyAhPT0gbnVsbCAmJiB0aGlzLnRyZWVUZW1wbGF0ZS5maWVsZHMgIT09ICcnKSB7DQogICAgICAgIGxldCBmaWVsZHMgPSBKU09OLnBhcnNlKHRoaXMudHJlZVRlbXBsYXRlLmZpZWxkcykNCiAgICAgICAgdGhpcy5zZXR0aW5nVGFibGVEYXRhID0gZmllbGRzLm1hcCgoaXRlbSkgPT4gew0KICAgICAgICAgIGlmIChpdGVtLmxldmVsID4gMykgew0KICAgICAgICAgICAgaXRlbS5sZXZlbCA9IDYNCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwNCiAgICAgICAgICAgIGNvZGU6IGl0ZW0ubmFtZSwNCiAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLA0KICAgICAgICAgICAgdHlwZTogaXRlbS50eXBlID09PSBudWxsID8gJzAnIDogaXRlbS50eXBlICsgJycsDQogICAgICAgICAgICBsZXZlbDogaXRlbS5sZXZlbCArICcnLA0KICAgICAgICAgICAgdG90YWxMZXZlbDogdGhpcy5jb2xGaWVsZExpc3QuZmluZChvYmplY3QgPT4gb2JqZWN0Lm5hbWUgPT09IGl0ZW0ubmFtZSkudG90YWxMZXZlbCwNCiAgICAgICAgICAgIGNoZWNrZWQ6IGl0ZW0uY2hlY2tlZCwNCiAgICAgICAgICAgIHNob3dDb2RlOiBpdGVtLnNob3dDb2RlDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyZWZzLnNldHRpbmdUYWJsZVJlZi4kcmVmcy54R3JpZC5zZXRDaGVja2JveFJvdyh0aGlzLnNldHRpbmdUYWJsZURhdGEuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVja2VkKSwgdHJ1ZSkNCiAgICAgICAgfSwgMTAwKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0VGVtcGxhdGVEYXRhKCkgew0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBIVFRQTW9kdWxlLmdldEdyYWJUZW1wbGF0ZUxpc3QodGhpcy50ZW1RdWVyeXBhcmFtcykudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEgaW5zdGFuY2VvZiBBcnJheSkgew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICBzZWxmLnRlbU9wdGlvbiA9IHJlcy5kYXRhLm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS50ZW1wbGF0ZV9uYW1lLA0KICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgIHNlbGYudGVtT3B0aW9uID0gW10NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBjZWxsU3R5bGUgKHsgbGV2ZWwgfSkgew0KICAgICAgaWYgKGxldmVsID09PSAwKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgYmFja2dyb3VuZDogJyNjYmUyZmUgIWltcG9ydGFudCcsDQogICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlOGVhZWMgIWltcG9ydGFudCcNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2UzZjJmZSAhaW1wb3J0YW50JywNCiAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2U4ZWFlYyAhaW1wb3J0YW50Jw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBmaW5kT2JqQnlLZXlWYWx1ZShhcnIpIHsNCiAgICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZShkYXRhKSB7DQogICAgICAgIGRhdGEuZXZlcnkoKGl0ZW0pID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS5iZ3RJZHMgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgZmluZE9iaiA9IGl0ZW0uYmd0SWRzDQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGgpIHsNCiAgICAgICAgICAgIHJlY3Vyc2l2ZShpdGVtLmNoaWxkcmVuKQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgbGV0IGZpbmRPYmogPSBudWxsDQogICAgICByZWN1cnNpdmUoYXJyKQ0KICAgICAgcmV0dXJuIGZpbmRPYmoNCiAgICB9LA0KICAgIGdldFRhYmxlRGF0YShwYXJhbXMpIHsNCiAgICAgIHRoaXMuaXNMb2FkaW5nU2hvdyA9IHRydWUNCiAgICAgIHRoaXMuY3VycmVudFBhcmFtcyA9IHBhcmFtcyB8fCB7fQ0KICAgICAgcGFyYW1zLnR5cGUgPSB0aGlzLmlzU2hvd0RldGFpbHMgPyAnMScgOiAnMCcNCiAgICAgIEhUVFBNb2R1bGUuZGF0YVF1ZXJ5UGFnZUluZm8ocGFyYW1zKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgLy8gcmVzID0gbW9ja1RhYmxlRGF0YQ0KICAgICAgICAvLyBjb25zb2xlLmxvZygzMzMsIG1vY2tUYWJsZURhdGEpDQogICAgICAgIGlmIChyZXMucnNjb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLmlzTG9hZGluZ1Nob3cgPSBmYWxzZQ0KICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGENCiAgICAgICAgICB0aGlzLnRhYmxlUGFnZXJDb25maWcudG90YWwgPSByZXMuZGF0YS5sZW5ndGgNCiAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdGhpcy50YWJsZUZvb3RlckNvbmZpZy50b3RhbE9iai5hbW91bnQgPSByZXMuZGF0YS5yZWR1Y2UoKGFtb3VudCwgaXRlbSkgPT4gYW1vdW50ICsgTnVtYmVyKGl0ZW0uYW1vdW50KSwgMCkNCiAgICAgICAgICAgIHRoaXMudGFibGVGb290ZXJDb25maWcudG90YWxPYmoucGF5X2FtdCA9IHJlcy5kYXRhLnJlZHVjZSgocGF5QW10U3VtLCBpdGVtKSA9PiBwYXlBbXRTdW0gKyBOdW1iZXIoaXRlbS5wYXlfYW10KSwgMCkNCiAgICAgICAgICAgIHRoaXMudGFibGVGb290ZXJDb25maWcudG90YWxPYmoucGxhbl9hbXQgPSByZXMuZGF0YS5yZWR1Y2UoKHBsYW5BbXRTdW0sIGl0ZW0pID0+IHBsYW5BbXRTdW0gKyBOdW1iZXIoaXRlbS5wbGFuX2FtdCksIDApDQogICAgICAgICAgICB0aGlzLnRhYmxlRm9vdGVyQ29uZmlnLnRvdGFsT2JqLmNsZWFyX2FtdCA9IHJlcy5kYXRhLnJlZHVjZSgoY2xlYXJBbXRTdW0sIGl0ZW0pID0+IGNsZWFyQW10U3VtICsgTnVtYmVyKGl0ZW0uY2xlYXJfYW10KSwgMCkNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5pc0xvYWRpbmdTaG93ID0gZmFsc2UNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5yZXN1bHQpDQogICAgICAgIH0NCiAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgdGhpcy5pc0xvYWRpbmdTaG93ID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRTZWFyY2hEYXRhTGlzdEZuKHNlYXJjaEZvcm1Db25maWcpIHsNCiAgICAgIGxldCBzZWFyY2hEYXRhT2JqID0ge30NCiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlYXJjaEZvcm1Db25maWcpICYmIHNlYXJjaEZvcm1Db25maWcubGVuZ3RoKSB7DQogICAgICAgIHNlYXJjaEZvcm1Db25maWcuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS5pdGVtUmVuZGVyPy5uYW1lID09PSAnJGZvcm1UcmVlSW5wdXQnIHx8IGl0ZW0uaXRlbVJlbmRlcj8ubmFtZSA9PT0gJyR2eGVUcmVlJykgew0KICAgICAgICAgICAgaWYgKGl0ZW0uZmllbGQpIHsNCiAgICAgICAgICAgICAgc2VhcmNoRGF0YU9ialtpdGVtLmZpZWxkICsgJ2NvZGUnXSA9IFtdDQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmIChpdGVtLmZpZWxkKSB7DQogICAgICAgICAgICAgIHNlYXJjaERhdGFPYmpbaXRlbS5maWVsZF0gPSBbXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHJldHVybiBzZWFyY2hEYXRhT2JqDQogICAgfSwNCiAgICBoYW5kbGVTdXJlU2V0dGluZygpIHsNCiAgICAgIGxldCBjdXJyZW50VGJsID0gdGhpcy4kcmVmcy5zZXR0aW5nVGFibGVSZWYuJHJlZnMueEdyaWQuZ2V0VGFibGVEYXRhKCkuZnVsbERhdGENCiAgICAgIGxldCBzZWxlY3Rpb25EYXRhID0gdGhpcy4kcmVmcy5zZXR0aW5nVGFibGVSZWYuJHJlZnMueEdyaWQuZ2V0U2VsZWN0UmVjb3JkcygpDQogICAgICBsZXQgZmllbGRzID0gW10NCiAgICAgIGxldCBjYW5Vc2UgPSBbXQ0KICAgICAgc2VsZWN0aW9uRGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIGZpZWxkcy5wdXNoKHsNCiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsDQogICAgICAgICAgdHlwZTogaXRlbS50eXBlLA0KICAgICAgICAgIGxldmVsOiBpdGVtLmxldmVsLA0KICAgICAgICAgIHNob3dDb2RlOiBpdGVtLnNob3dDb2RlDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgICAgY3VycmVudFRibC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIGlmIChpdGVtLnR5cGUgIT09ICcwJyAmJiBpdGVtLmNoZWNrZWQpIHsNCiAgICAgICAgICBjYW5Vc2UucHVzaCh7DQogICAgICAgICAgICBuYW1lOiBpdGVtLnRpdGxlLA0KICAgICAgICAgICAgY29kZTogaXRlbS5jb2RlDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHRoaXMucXVlcnlGb3JtRGF0YSA9IHRoaXMuZ2V0U2VhcmNoRGF0YUxpc3RGbih0aGlzLnF1ZXJ5Rm9ybUl0ZW1Db25maWcpDQogICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZyA9IFtdDQogICAgICB0aGlzLnRhYmxlRGF0YSA9IFtdDQogICAgICBpZiAoZmllbGRzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgICB0YWJsZU5hbWU6IHRoaXMudHJhbnNKc29uKHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5wYXJhbTUpLnRhYmxlTmFtZSB8fCAndndfZGF0YV9xdWVyeV9iZ3QnLA0KICAgICAgICAgIGNvbmRpdGlvbjoge30sDQogICAgICAgICAgZmllbGRzLA0KICAgICAgICAgIHN1bUFtdDogWydhbW91bnQnLCAncGF5X2FtdCcsICdwbGFuX2FtdCcsICdjbGVhcl9hbXQnXQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKHBhcmFtcykNCiAgICAgICAgbGV0IG1haW5UYmxDb2x1bW5zID0gW10NCiAgICAgICAgc2VsZWN0aW9uRGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgew0KICAgICAgICAgICAgbWFpblRibENvbHVtbnMucHVzaCh7DQogICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLA0KICAgICAgICAgICAgICBpc0RhdGFRdWVyeTogdHJ1ZSwNCiAgICAgICAgICAgICAgZmllbGQ6IGl0ZW0uY29kZSwNCiAgICAgICAgICAgICAgd2lkdGg6ICdmaXgnLA0KICAgICAgICAgICAgICBhbGlnbjogJ2xlZnQnLA0KICAgICAgICAgICAgICB0eXBlOiAndHJlZU5vZGUnLA0KICAgICAgICAgICAgICB0cmVlTm9kZTogdHJ1ZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbWFpblRibENvbHVtbnMucHVzaCh7DQogICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLA0KICAgICAgICAgICAgICBpc0RhdGFRdWVyeTogdHJ1ZSwNCiAgICAgICAgICAgICAgZmllbGQ6IGl0ZW0uY29kZSwNCiAgICAgICAgICAgICAgd2lkdGg6ICdmaXgnLA0KICAgICAgICAgICAgICBhbGlnbjogJ2xlZnQnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgbWFpblRibENvbHVtbnMucHVzaCh7DQogICAgICAgICAgdGl0bGU6ICfmjIfmoIfph5Hpop0nLA0KICAgICAgICAgIGZpZWxkOiAnYW1vdW50JywNCiAgICAgICAgICB3aWR0aDogJ2ZpeCcsDQogICAgICAgICAgYWxpZ246ICdyaWdodCcsDQogICAgICAgICAgY29tYmluZWRUeXBlOiAnYXZlcmFnZSxzdWJUb3RhbCx0b3RhbCx0b3RhbEFsbCcsDQogICAgICAgICAgY2VsbFJlbmRlcjogew0KICAgICAgICAgICAgbmFtZTogJyR2eGVNb25leScsDQogICAgICAgICAgICBvcHRpb25zOiBbXSwNCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsDQogICAgICAgICAgICBwcm9wczoge30NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIG1haW5UYmxDb2x1bW5zLnB1c2goew0KICAgICAgICAgIHRpdGxlOiAn6K6h5YiS6YeR6aKdJywNCiAgICAgICAgICBmaWVsZDogJ3BsYW5fYW10JywNCiAgICAgICAgICB3aWR0aDogJ2ZpeCcsDQogICAgICAgICAgYWxpZ246ICdyaWdodCcsDQogICAgICAgICAgY29tYmluZWRUeXBlOiAnYXZlcmFnZSxzdWJUb3RhbCx0b3RhbCx0b3RhbEFsbCcsDQogICAgICAgICAgY2VsbFJlbmRlcjogew0KICAgICAgICAgICAgbmFtZTogJyR2eGVNb25leScsDQogICAgICAgICAgICBvcHRpb25zOiBbXSwNCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsDQogICAgICAgICAgICBwcm9wczoge30NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIG1haW5UYmxDb2x1bW5zLnB1c2goew0KICAgICAgICAgIHRpdGxlOiAn5pSv5LuY6YeR6aKdJywNCiAgICAgICAgICBmaWVsZDogJ3BheV9hbXQnLA0KICAgICAgICAgIHdpZHRoOiAnZml4JywNCiAgICAgICAgICBhbGlnbjogJ3JpZ2h0JywNCiAgICAgICAgICBjb21iaW5lZFR5cGU6ICdhdmVyYWdlLHN1YlRvdGFsLHRvdGFsLHRvdGFsQWxsJywNCiAgICAgICAgICBjZWxsUmVuZGVyOiB7DQogICAgICAgICAgICBuYW1lOiAnJHZ4ZU1vbmV5JywNCiAgICAgICAgICAgIG9wdGlvbnM6IFtdLA0KICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnJywNCiAgICAgICAgICAgIHByb3BzOiB7fQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgbWFpblRibENvbHVtbnMucHVzaCh7DQogICAgICAgICAgdGl0bGU6ICfmuIXnrpfph5Hpop0nLA0KICAgICAgICAgIGZpZWxkOiAnY2xlYXJfYW10JywNCiAgICAgICAgICB3aWR0aDogJ2ZpeCcsDQogICAgICAgICAgYWxpZ246ICdyaWdodCcsDQogICAgICAgICAgY29tYmluZWRUeXBlOiAnYXZlcmFnZSxzdWJUb3RhbCx0b3RhbCx0b3RhbEFsbCcsDQogICAgICAgICAgY2VsbFJlbmRlcjogew0KICAgICAgICAgICAgbmFtZTogJyR2eGVNb25leScsDQogICAgICAgICAgICBvcHRpb25zOiBbXSwNCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsDQogICAgICAgICAgICBwcm9wczoge30NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHRoaXMudGFibGVDb2x1bW5zQ29uZmlnID0gbWFpblRibENvbHVtbnMNCiAgICAgIH0NCiAgICAgIHRoaXMuY2FuY2VsRGlhbG9nQ2xvc2UoKQ0KICAgICAgaWYgKHRoaXMudGFibGVDb2x1bW5zQ29uZmlnLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgIG1lc3NhZ2U6ICforr7nva7miJDlip/vvIzor7fnqI3lgJnvvIEnLA0KICAgICAgICAgIGR1cmF0aW9uOiAzMDAwDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgbWVzc2FnZTogJ+iuvue9ruaIkOWKn++8gScNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy50YWJsZVBhZ2VyQ29uZmlnLnRvdGFsID0gMA0KICAgICAgfQ0KICAgICAgbGV0IGJndERhdGFRdWVyeSA9IHsNCiAgICAgICAgdGFibGVEYXRhOiB0aGlzLnNldHRpbmdUYWJsZURhdGENCiAgICAgIH0NCiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYmd0RGF0YVF1ZXJ5JykNCiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmd0RGF0YVF1ZXJ5JywgSlNPTi5zdHJpbmdpZnkoYmd0RGF0YVF1ZXJ5KSkNCiAgICB9LA0KICAgIGNhbmNlbERpYWxvZ0Nsb3NlKCkgew0KICAgICAgdGhpcy5zZXR0aW5nTW9kYWwgPSBmYWxzZQ0KICAgICAgdGhpcy5hbXREZXRhaWxNb2RhbCA9IGZhbHNlDQogICAgICB0aGlzLnRyZWVUZW1wbGF0ZVNlbCA9IG51bGwNCiAgICAgIHRoaXMudHJlZVRlbXBsYXRlID0gbnVsbA0KICAgICAgdGhpcy50ZW1PcHRpb24gPSBbXQ0KICAgICAgdGhpcy5tb2RhbE5hbWUgPSAnJw0KICAgICAgdGhpcy5idG5Mb2FkaW5nID0gZmFsc2UNCiAgICB9LA0KICAgIGNhbmNlbERpYWxvZ0Nsb3NlVGVtcGxhdGUoKSB7DQogICAgICB0aGlzLnRlbXBsYXRlTW9kYWwgPSBmYWxzZQ0KICAgIH0sDQogICAgLy8g5Yid5aeL5YyW6auY57qn5p+l6K+i5Y+C5pWwY29uZGl0aW9uDQogICAgZ2V0Q29uZGl0aW9uTGlzdCgpIHsNCiAgICAgIGxldCBjb25kaXRpb24gPSB7fQ0KICAgICAgdGhpcy5xdWVyeUZvcm1JdGVtQ29uZmlnPy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBpZiAoaXRlbS5pdGVtUmVuZGVyLm5hbWUgPT09ICckZm9ybVRyZWVJbnB1dCcgfHwgaXRlbS5pdGVtUmVuZGVyLm5hbWUgPT09ICckdnhlVHJlZScpIHsNCiAgICAgICAgICBpZiAoaXRlbS5maWVsZCkgew0KICAgICAgICAgICAgaWYgKGl0ZW0uZmllbGQgPT09ICdjb3JfYmd0X2RvY19ub18nKSB7DQogICAgICAgICAgICAgIGNvbmRpdGlvbltpdGVtLmZpZWxkICsgJ25hbWUnXSA9IFtdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBjb25kaXRpb25baXRlbS5maWVsZCArICdjb2RlJ10gPSBbXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpZiAoaXRlbS5maWVsZCkgew0KICAgICAgICAgICAgY29uZGl0aW9uW2l0ZW0uZmllbGRdID0gW10NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXR1cm4gY29uZGl0aW9uDQogICAgfSwNCiAgICB0cmFzVG9UcmVlKGFycikgew0KICAgICAgLy8gVE9ETyDmoJHnirbooajmoLzlpITnkIbmlbDmja7nmoTmlrnms5UNCiAgICAgIGxldCByZXN1bHQgPSBbXQ0KICAgICAgbGV0IG1hcCA9IHt9DQogICAgICBmb3IgKGxldCBpIGluIGFycikgew0KICAgICAgICBpZiAoYXJyW2ldLmNoaWxkcmVuKSB7DQogICAgICAgICAgbWFwW2FycltpXS5pZF0gPSBhcnJbaV0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBtYXBbYXJyW2ldLmlkXSA9IE9iamVjdC5hc3NpZ24oYXJyW2ldLCB7IGNoaWxkcmVuOiBbXSB9KQ0KICAgICAgICAgIG1hcFthcnJbaV0uaWRdLnBsYW5fYW10ID0gMA0KICAgICAgICAgIG1hcFthcnJbaV0uaWRdLnBheV9hcHBfYW10ID0gMA0KICAgICAgICB9DQogICAgICB9DQogICAgICBmb3IgKGxldCBpIGluIGFycikgew0KICAgICAgICBpZiAobWFwW2FycltpXS5waWRdKSB7DQogICAgICAgICAgbWFwW2FycltpXS5waWRdLmNoaWxkcmVuLnB1c2goYXJyW2ldKQ0KICAgICAgICAgIG1hcFthcnJbaV0ucGlkXS5wbGFuX2FtdCA9IG1hcFthcnJbaV0ucGlkXS5wbGFuX2FtdCArIGFycltpXS5wbGFuX2FtdA0KICAgICAgICAgIG1hcFthcnJbaV0ucGlkXS5wYXlfYXBwX2FtdCA9DQogICAgICAgICAgICBtYXBbYXJyW2ldLnBpZF0ucGF5X2FwcF9hbXQgKyBhcnJbaV0ucGF5X2FwcF9hbXQNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXN1bHQucHVzaChhcnJbaV0pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiByZXN1bHQNCiAgICB9LA0KICAgIG9uVG9vbGJhckJ0bkNsaWNrKHsgY29udGV4dCwgdGFibGUsIGNvZGUgfSkgew0KICAgICAgc3dpdGNoIChjb2RlKSB7DQogICAgICAgIGNhc2UgJ3JlZnJlc2gnOg0KICAgICAgICAgIGlmICh0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB0aGlzLmdldFRhYmxlRGF0YSh0aGlzLmN1cnJlbnRQYXJhbXMpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nU2hvdyA9IHRydWUNCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZ1Nob3cgPSBmYWxzZQ0KICAgICAgICAgICAgfSwgNTAwKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBicmVhaw0KICAgICAgfQ0KICAgIH0sDQogICAgb25PcHRpb25Sb3dDbGljayh7IHBhcmFtcywgb3B0aW9uVHlwZSB9KSB7DQogICAgICBzd2l0Y2ggKG9wdGlvblR5cGUpIHsNCiAgICAgICAgY2FzZSAndG9wJzoNCiAgICAgICAgICB0aGlzLmhhbmRsZVRvVG9wKHBhcmFtcy5yb3dJbmRleCkNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICdib3R0b20nOg0KICAgICAgICAgIHRoaXMuaGFuZGxlVG9Cb3R0b20ocGFyYW1zLnJvd0luZGV4KQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgYnJlYWsNCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZVRvVG9wKGluZGV4KSB7DQogICAgICBpZiAoaW5kZXggIT09IDApIHsNCiAgICAgICAgbGV0IHRhYmxlRGF0YSA9IHRoaXMuJHJlZnMuc2V0dGluZ1RhYmxlUmVmLiRyZWZzLnhHcmlkLmdldFRhYmxlRGF0YSgpLmZ1bGxEYXRhDQogICAgICAgIGxldCB0ZW1wID0gdGFibGVEYXRhW2luZGV4IC0gMV0NCiAgICAgICAgdGFibGVEYXRhW2luZGV4IC0gMV0gPSB0YWJsZURhdGFbaW5kZXhdDQogICAgICAgIHRhYmxlRGF0YVtpbmRleF0gPSB0ZW1wDQogICAgICAgIHRoaXMuc2V0dGluZ1RhYmxlRGF0YSA9IHRhYmxlRGF0YQ0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S4iuenu+aIkOWKnycpDQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVUb0JvdHRvbShpbmRleCkgew0KICAgICAgbGV0IHRhYmxlRGF0YSA9IHRoaXMuJHJlZnMuc2V0dGluZ1RhYmxlUmVmLiRyZWZzLnhHcmlkLmdldFRhYmxlRGF0YSgpLmZ1bGxEYXRhDQogICAgICBpZiAoaW5kZXggIT09IHRhYmxlRGF0YS5sZW5ndGggLSAxKSB7DQogICAgICAgIGxldCB0ZW1wID0gdGFibGVEYXRhW2luZGV4ICsgMV0NCiAgICAgICAgdGFibGVEYXRhW2luZGV4ICsgMV0gPSB0YWJsZURhdGFbaW5kZXhdDQogICAgICAgIHRhYmxlRGF0YVtpbmRleF0gPSB0ZW1wDQogICAgICAgIHRoaXMuc2V0dGluZ1RhYmxlRGF0YSA9IHRhYmxlRGF0YQ0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S4i+enu+aIkOWKnycpDQogICAgICB9DQogICAgfSwNCiAgICB0cmVlQ2xpY2tNZXRob2Qob2JqKSB7DQogICAgICBpZiAodGhpcy50YWJsZUNvbHVtbnNDb25maWcubGVuZ3RoID4gMCkgew0KICAgICAgICBpZiAoIW9iai5jaGlsZHJlbi5sZW5ndGggJiYgdGhpcy5jdXJyZW50UGFyYW1zLmNvbmRpdGlvbiAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgbGV0IGNvZGUgPSB0aGlzLmN1cnJlbnRUcmVlQ29kZSArICdfY29kZScNCiAgICAgICAgICBsZXQgcGFyYW1zID0gdGhpcy5jdXJyZW50UGFyYW1zDQogICAgICAgICAgcGFyYW1zLmNvbmRpdGlvbltjb2RlXSA9IFtvYmouY29kZV0NCiAgICAgICAgICB0aGlzLmdldFRhYmxlRGF0YShwYXJhbXMpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaWYgKG9iai5sYWJlbCA9PT0gJ+WFqOmDqCcpIHsNCiAgICAgICAgICAgIGxldCBjb2RlID0gdGhpcy5jdXJyZW50VHJlZUNvZGUgKyAnX2NvZGUnDQogICAgICAgICAgICBsZXQgcGFyYW1zID0gdGhpcy5jdXJyZW50UGFyYW1zDQogICAgICAgICAgICBpZiAocGFyYW1zLmNvbmRpdGlvbltjb2RlXSAhPT0gdW5kZWZpbmVkKSBkZWxldGUgcGFyYW1zLmNvbmRpdGlvbltjb2RlXQ0KICAgICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEocGFyYW1zKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgdHJlZU9uQ29uZmlybURhdGEoY3VyVHJlZSkgew0KICAgICAgdGhpcy50cmVlUXVlcnlwYXJhbXMuZWxlbWVudENvZGUgPSBjdXJUcmVlLmNvZGUNCiAgICAgIHRoaXMuJHJlZnMubGVmdFRyZWUucmVmcmVzaFRyZWUoKQ0KICAgIH0sDQogICAgdHJlZU9uQXNpZGVDaGFuZ2UoKSB7DQogICAgICB0aGlzLmxlZnRUcmVlVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICB0cmVlT25DaGFuZ2VJbnB1dCh2YWwpIHsNCiAgICAgIHRoaXMudHJlZUdsb2JhbENvbmZpZy50cmVlSW5wdXRWYWwgPSB2YWwNCiAgICAgIHRoaXMuJHJlZnMubGVmdFRyZWUuZmlsdGVyVGV4dCA9IHZhbA0KICAgIH0sDQogICAgb25RdWVyeUNvbmRpdGlvbnNDbGljayhpc09wZW4pIHsNCiAgICAgIHRoaXMuaXNTaG93UXVlcnlDb25kaXRpb25zID0gaXNPcGVuDQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2godmFsKSB7DQogICAgICAvLyBkZWJ1Z2dlcg0KICAgICAgbGV0IGNvbmRpdGlvbiA9IHRoaXMuZ2V0Q29uZGl0aW9uTGlzdCgpDQogICAgICBmb3IgKGxldCBrZXkgaW4gY29uZGl0aW9uKSB7DQogICAgICAgIGlmICgNCiAgICAgICAgICAodmFsW2tleV0gIT09IHVuZGVmaW5lZCkgJg0KICAgICAgICAgICh2YWxba2V5XSAhPT0gbnVsbCkNCiAgICAgICAgKSB7DQogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsW2tleV0pKSB7DQogICAgICAgICAgICBjb25kaXRpb25ba2V5XSA9IHZhbFtrZXldDQogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKHZhbFtrZXldKSA9PT0gJ3N0cmluZycpIHsNCiAgICAgICAgICAgIGlmICh2YWxba2V5XS50cmltKCkgIT09ICcnKSB7DQogICAgICAgICAgICAgIHZhbFtrZXldLnNwbGl0KCcsJykuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICBjb25kaXRpb25ba2V5XS5wdXNoKGl0ZW0pDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLnF1ZXJ5Rm9ybUl0ZW1Db25maWc/LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGlmIChpdGVtLmlzbGlrZSA9PT0gdHJ1ZSAmJiB2YWxbaXRlbS5maWVsZF0pIHsNCiAgICAgICAgICBjb25kaXRpb25baXRlbS5maWVsZF0gPSB7fQ0KICAgICAgICAgIGNvbmRpdGlvbltpdGVtLmZpZWxkXVtpdGVtLmxpa2V0eXBlXSA9IHZhbFtpdGVtLmZpZWxkXQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnRQYXJhbXMuY29uZGl0aW9uIHx8IHt9LCBjb25kaXRpb24pDQogICAgICB0aGlzLmdldFRhYmxlRGF0YSh0aGlzLmN1cnJlbnRQYXJhbXMpDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+afpeivouaIkOWKn++8gScpDQogICAgfSwNCiAgICBoYW5kbGVTZXR0aW5nTW9kYWwoKSB7DQogICAgICB0aGlzLnRlbVF1ZXJ5cGFyYW1zID0gew0KICAgICAgICBtZW51SWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkIHx8ICdIb21lJw0KICAgICAgfQ0KICAgICAgdGhpcy5nZXRUZW1wbGF0ZURhdGEoKQ0KICAgICAgdGhpcy5pbml0U2V0dGluZ1RhYmxlRGF0YSgpDQogICAgICB0aGlzLnNldHRpbmdNb2RhbCA9IHRydWUNCiAgICB9LA0KICAgIG9wZXJhdGlvblRvb2xiYXJCdXR0b25DbGlja0V2ZW50KG9iaiwgY29udGV4dCwgZSkgew0KICAgICAgc3dpdGNoIChvYmouY29kZSkgew0KICAgICAgICBjYXNlICdvcGVyYXRpb24tc2V0dGluZyc6DQogICAgICAgICAgLy8g6K6+572uDQogICAgICAgICAgdGhpcy5oYW5kbGVTZXR0aW5nTW9kYWwoKQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ29wZXJhdGlvbi1leHBhbmQtdHJlZSc6DQogICAgICAgICAgLy8g5qCR5YWo6YOo5bGV5byADQogICAgICAgICAgdGhpcy5oYW5kbGVFeHBhbmRUcmVlKCkNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICdvcGVyYXRpb24tY2xvc2UtdHJlZSc6DQogICAgICAgICAgLy8g5qCR5YWo6YOo5ZCI5bm2DQogICAgICAgICAgdGhpcy5oYW5kbGVDbG9zZVRyZWUoKQ0KICAgICAgICAgIGJyZWFrDQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVFeHBhbmRUcmVlKCkgew0KICAgICAgdGhpcy4kcmVmcy5tYWluVGFibGVSZWYuJHJlZnMueEdyaWQuc2V0QWxsVHJlZUV4cGFuZCh0cnVlKQ0KICAgIH0sDQogICAgaGFuZGxlQ2xvc2VUcmVlKCkgew0KICAgICAgdGhpcy4kcmVmcy5tYWluVGFibGVSZWYuJHJlZnMueEdyaWQuY2xlYXJUcmVlRXhwYW5kKCkNCiAgICB9LA0KICAgIG9uU3RhdHVzVGFiQ2xpY2sob2JqKSB7DQogICAgICBpZiAoIW9iai50eXBlKSB7DQogICAgICAgIHRoaXMub3BlcmF0aW9uVG9vbGJhckJ1dHRvbkNsaWNrRXZlbnQob2JqKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0SW5pdFRlbXBsYXRlKCkgew0KICAgICAgSFRUUE1vZHVsZS5pbml0VGVtcGxhdGUoKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMgJiYgcmVzW3RoaXMuYXhpb3NGZWlsZFsnY29kZUZpZWxkJ11dID09PSB0aGlzLmF4aW9zRmVpbGRbJ3N1Y2Nlc3NDb2RlJ10pIHsNCiAgICAgICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEuZmllbGRzKSB7DQogICAgICAgICAgICB0aGlzLmNvbEZpZWxkTGlzdCA9IHJlcy5kYXRhLmZpZWxkcw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmNvbEZpZWxkTGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocHJvY29uZi5jb2xGaWVsZExpc3QpKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmNvbEZpZWxkTGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocHJvY29uZi5jb2xGaWVsZExpc3QpKQ0KICAgICAgICB9DQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMuY29sRmllbGRMaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9jb25mLmNvbEZpZWxkTGlzdCkpDQogICAgICB9KQ0KICAgIH0sDQogICAgaW5pdFNldHRpbmdUYWJsZURhdGEoKSB7DQogICAgICB0aGlzLnNldHRpbmdUYWJsZURhdGEgPSB0aGlzLmNvbEZpZWxkTGlzdC5tYXAoKGl0ZW0pID0+IHsNCiAgICAgICAgaWYgKGl0ZW0ubGV2ZWwgPiAzKSB7DQogICAgICAgICAgaXRlbS5sZXZlbCA9IDYNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLA0KICAgICAgICAgIGNvZGU6IGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLA0KICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLA0KICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSA9PT0gbnVsbCA/ICcwJyA6IGl0ZW0udHlwZSArICcnLA0KICAgICAgICAgIGxldmVsOiBpdGVtLmxldmVsICsgJycsDQogICAgICAgICAgdG90YWxMZXZlbDogaXRlbS5sZXZlbCArICcnLA0KICAgICAgICAgIGNoZWNrZWQ6IGl0ZW0uY2hlY2tlZCwNCiAgICAgICAgICBzaG93Q29kZTogaXRlbS5zaG93Q29kZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuc2V0dGluZ1RhYmxlUmVmLiRyZWZzLnhHcmlkLnNldENoZWNrYm94Um93KHRoaXMuc2V0dGluZ1RhYmxlRGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLmNoZWNrZWQpLCB0cnVlKQ0KICAgICAgfSwgMTAwKQ0KICAgICAgdGhpcy5jb2xGaWVsZExpc3QuZm9yRWFjaChjb2wgPT4gew0KICAgICAgICBjb2wudG90YWxMZXZlbCA9IGNvbC5sZXZlbCArICcnDQogICAgICB9KQ0KICAgIH0NCiAgfSwNCiAgYWN0aXZhdGVkKCkgew0KICAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLmN1cnJlbnRQYXJhbXMpICE9PSAne30nKSB7DQogICAgICB0aGlzLnRhYmxlRGF0YSA9IFtdDQogICAgICB0aGlzLmdldFRhYmxlRGF0YSh0aGlzLmN1cnJlbnRQYXJhbXMpDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0SW5pdFRlbXBsYXRlKCkNCiAgICB0aGlzLmdldFRlbXBsYXRlRGF0YSgpDQogICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmd0RGF0YVF1ZXJ5JykgIT09IG51bGwpIHsNCiAgICAgIGxldCBiZ3REYXRhUXVlcnkgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmd0RGF0YVF1ZXJ5JykpDQogICAgICB0aGlzLnNldHRpbmdUYWJsZURhdGEgPSBiZ3REYXRhUXVlcnkudGFibGVEYXRhDQogICAgICBsZXQgY3VycmVudFRibCA9IHRoaXMuJHJlZnMubWFpblRhYmxlUmVmLiRyZWZzLnhHcmlkLmdldFRhYmxlRGF0YSgpLmZ1bGxEYXRhDQogICAgICBsZXQgZmllbGRzID0gW10NCiAgICAgIGxldCBjYW5Vc2UgPSBbXQ0KICAgICAgY3VycmVudFRibC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIGlmIChpdGVtLnR5cGUgIT09ICcwJykgew0KICAgICAgICAgIGZpZWxkcy5wdXNoKHsNCiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwNCiAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSwNCiAgICAgICAgICAgIHNob3dDb2RlOiBpdGVtLnNob3dDb2RlLA0KICAgICAgICAgICAgbGV2ZWw6IGl0ZW0ubGV2ZWwNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgY3VycmVudFRibC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIGlmIChpdGVtLnR5cGUgIT09ICcwJyAmJiBpdGVtLmNoZWNrZWQpIHsNCiAgICAgICAgICBjYW5Vc2UucHVzaCh7DQogICAgICAgICAgICBuYW1lOiBpdGVtLnRpdGxlLA0KICAgICAgICAgICAgY29kZTogaXRlbS5jb2RlDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIGxldCBmb3JtRGF0YUJhayA9IHt9DQogICAgICBjYW5Vc2UuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICBsZXQgY29kZSA9IGl0ZW0uY29kZQ0KICAgICAgICBmb3JtRGF0YUJha1tjb2RlXSA9ICcnDQogICAgICB9KQ0KICAgICAgdGhpcy5xdWVyeUZvcm1EYXRhID0gZm9ybURhdGFCYWsNCiAgICAgIHRoaXMudGFibGVDb2x1bW5zQ29uZmlnID0gW10NCiAgICAgIHRoaXMudGFibGVEYXRhID0gW10NCiAgICAgIGlmIChmaWVsZHMubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAgIHRhYmxlTmFtZTogJ3Z3X2RhdGFfcXVlcnlfYmd0JywNCiAgICAgICAgICBjb25kaXRpb246IHt9LA0KICAgICAgICAgIGZpZWxkcywNCiAgICAgICAgICBzdW1BbXQ6IFsnYW1vdW50JywgJ3BheV9hbXQnLCAncGxhbl9hbXQnLCAnY2xlYXJfYW10J10NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmdldFRhYmxlRGF0YShwYXJhbXMpDQogICAgICAgIGxldCBtYWluVGJsQ29sdW1ucyA9IFtdDQogICAgICAgIGN1cnJlbnRUYmwuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS50eXBlICE9PSAnMCcpIHsNCiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgew0KICAgICAgICAgICAgICBtYWluVGJsQ29sdW1ucy5wdXNoKHsNCiAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSwNCiAgICAgICAgICAgICAgICBpc0RhdGFRdWVyeTogdHJ1ZSwNCiAgICAgICAgICAgICAgICBmaWVsZDogaXRlbS5jb2RlLA0KICAgICAgICAgICAgICAgIHdpZHRoOiAnZml4JywNCiAgICAgICAgICAgICAgICBhbGlnbjogJ2xlZnQnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd0cmVlTm9kZScsDQogICAgICAgICAgICAgICAgdHJlZU5vZGU6IHRydWUNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIG1haW5UYmxDb2x1bW5zLnB1c2goew0KICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLA0KICAgICAgICAgICAgICAgIGlzRGF0YVF1ZXJ5OiB0cnVlLA0KICAgICAgICAgICAgICAgIGZpZWxkOiBpdGVtLmNvZGUsDQogICAgICAgICAgICAgICAgd2lkdGg6ICdmaXgnLA0KICAgICAgICAgICAgICAgIGFsaWduOiAnbGVmdCcNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIG1haW5UYmxDb2x1bW5zLnB1c2goew0KICAgICAgICAgIHRpdGxlOiAn5oyH5qCH6YeR6aKdJywNCiAgICAgICAgICBmaWVsZDogJ2Ftb3VudCcsDQogICAgICAgICAgd2lkdGg6ICdmaXgnLA0KICAgICAgICAgIGFsaWduOiAncmlnaHQnLA0KICAgICAgICAgIGNvbWJpbmVkVHlwZTogJ2F2ZXJhZ2Usc3ViVG90YWwsdG90YWwsdG90YWxBbGwnLA0KICAgICAgICAgIGNlbGxSZW5kZXI6IHsNCiAgICAgICAgICAgIG5hbWU6ICckdnhlTW9uZXknLA0KICAgICAgICAgICAgb3B0aW9uczogW10sDQogICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLA0KICAgICAgICAgICAgcHJvcHM6IHt9DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICBtYWluVGJsQ29sdW1ucy5wdXNoKHsNCiAgICAgICAgICB0aXRsZTogJ+aUr+S7mOmHkeminScsDQogICAgICAgICAgZmllbGQ6ICdwYXlfYW10JywNCiAgICAgICAgICB3aWR0aDogJ2ZpeCcsDQogICAgICAgICAgYWxpZ246ICdyaWdodCcsDQogICAgICAgICAgY29tYmluZWRUeXBlOiAnYXZlcmFnZSxzdWJUb3RhbCx0b3RhbCx0b3RhbEFsbCcsDQogICAgICAgICAgY2VsbFJlbmRlcjogew0KICAgICAgICAgICAgbmFtZTogJyR2eGVNb25leScsDQogICAgICAgICAgICBvcHRpb25zOiBbXSwNCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsDQogICAgICAgICAgICBwcm9wczoge30NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIG1haW5UYmxDb2x1bW5zLnB1c2goew0KICAgICAgICAgIHRpdGxlOiAn6K6h5YiS6YeR6aKdJywNCiAgICAgICAgICBmaWVsZDogJ3BsYW5fYW10JywNCiAgICAgICAgICB3aWR0aDogJ2ZpeCcsDQogICAgICAgICAgYWxpZ246ICdyaWdodCcsDQogICAgICAgICAgY29tYmluZWRUeXBlOiAnYXZlcmFnZSxzdWJUb3RhbCx0b3RhbCx0b3RhbEFsbCcsDQogICAgICAgICAgY2VsbFJlbmRlcjogew0KICAgICAgICAgICAgbmFtZTogJyR2eGVNb25leScsDQogICAgICAgICAgICBvcHRpb25zOiBbXSwNCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsDQogICAgICAgICAgICBwcm9wczoge30NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIG1haW5UYmxDb2x1bW5zLnB1c2goew0KICAgICAgICAgIHRpdGxlOiAn5riF566X6YeR6aKdJywNCiAgICAgICAgICBmaWVsZDogJ2NsZWFyX2FtdCcsDQogICAgICAgICAgd2lkdGg6ICdmaXgnLA0KICAgICAgICAgIGFsaWduOiAncmlnaHQnLA0KICAgICAgICAgIGNvbWJpbmVkVHlwZTogJ2F2ZXJhZ2Usc3ViVG90YWwsdG90YWwsdG90YWxBbGwnLA0KICAgICAgICAgIGNlbGxSZW5kZXI6IHsNCiAgICAgICAgICAgIG5hbWU6ICckdnhlTW9uZXknLA0KICAgICAgICAgICAgb3B0aW9uczogW10sDQogICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLA0KICAgICAgICAgICAgcHJvcHM6IHt9DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZyA9IG1haW5UYmxDb2x1bW5zDQogICAgICB9IGVsc2Ugew0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNldHRpbmdNb2RhbCA9IHRydWUNCiAgICAgICAgfSwgMTAwMCkNCiAgICAgIH0NCiAgICB9DQogICAgdGhpcy5nZXRGb3JtVGFibGUoKQ0KICB9DQoNCn0NCg=="},{"version":3,"sources":["bgtDataQuery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bgtDataQuery.vue","sourceRoot":"src/views/main/bgtDataQuery","sourcesContent":["<!-- 预算执行报表-指标数据查询 -->\r\n<template>\r\n  <div v-loading=\"isLoadingShow\" style=\"height: 100%\">\r\n    <BsMainFormListLayout :left-visible.sync=\"leftTreeVisible\">\r\n      <template #topTap></template>\r\n      <template #topTabPane>\r\n        <BsTabPanel\r\n          show-zero\r\n          is-open\r\n          :tab-status-btn-config=\"tabStatusBtnConfig\"\r\n          :tab-status-num-config=\"tabStatusNumConfig\"\r\n          @onQueryConditionsClick=\"onQueryConditionsClick\"\r\n        />\r\n      </template>\r\n      <template #query>\r\n        <div v-if=\"isShowQueryConditions\" ref=\"BsQueryRef\" class=\"main-query\">\r\n          <BsQuery\r\n            ref=\"queryFrom\"\r\n            :query-form-item-config=\"queryFormItemConfig\"\r\n            :query-form-data=\"queryFormData\"\r\n            @onSearchClick=\"handleSearch\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template #mainTree>\r\n        <BsTreeSet\r\n          v-model=\"leftTreeVisible\"\r\n          :tree-config=\"treeConfig\"\r\n          class=\"content\"\r\n          @onChangeInput=\"treeOnChangeInput\"\r\n          @onAsideChange=\"treeOnAsideChange\"\r\n          @onConfrimData=\"treeOnConfirmData\"\r\n        />\r\n        <BsBossTree\r\n          ref=\"leftTree\"\r\n          :key=\"treeKey\"\r\n          open-loading\r\n          :defaultexpandedkeys=\"['0']\"\r\n          :is-server=\"false\"\r\n          :ajax-type=\"'get'\"\r\n          :server-uri=\"'large-monitor-platform/lmp/elementQuery/lefttree'\"\r\n          :datas=\"treeData\"\r\n          :queryparams=\"treeQueryparams\"\r\n          :global-config=\"treeGlobalConfig\"\r\n          :clickmethod=\"treeClickMethod\"\r\n        />\r\n      </template>\r\n      <template #mainForm>\r\n        <!-- :row-config=\"{ keyField: 'id' }\" -->\r\n        <!-- :pager-config=\"tablePagerConfig\" -->\r\n        <BsTable\r\n          ref=\"mainTableRef\"\r\n          v-loading=\"tableLoading\"\r\n          :high-config=\"scrollY\"\r\n          :row-id=\"'id'\"\r\n          :footer-config=\"tableFooterConfig\"\r\n          :table-columns-config=\"tableColumnsConfig\"\r\n          :table-data=\"tableData\"\r\n          :table-config=\"tableConfig\"\r\n          :pager-config=\"false\"\r\n          :toolbar-config=\"tableToolbarConfig\"\r\n          :tree-config=\"treeTableConfig\"\r\n          :cell-style=\"cellStyle\"\r\n          @onToolbarBtnClick=\"onToolbarBtnClick\"\r\n          @cellClick=\"cellClick\"\r\n        >\r\n          <template slot=\"toolbarSlots\">\r\n            <div class=\"table-toolbar-left\">\r\n              <!-- <div\r\n                v-if=\"leftTreeVisible === false\"\r\n                class=\"table-toolbar-contro-leftvisible\"\r\n                @click=\"leftTreeVisible = true\"\r\n              ></div> -->\r\n              <div class=\"table-toolbar-left-title\">\r\n                <span class=\"fn-inline\">{{ menuName }}</span>\r\n                <i class=\"fn-inline\"></i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </BsTable>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <vxe-modal\r\n      v-model=\"settingModal\"\r\n      :title=\"'设置条件'\"\r\n      width=\"1000px\"\r\n      height=\"621px\"\r\n      :show-footer=\"true\"\r\n      transfer\r\n      @close=\"cancelDialogClose\"\r\n    >\r\n      <div style=\"overflow: hidden\">\r\n        <div class=\"tag-button-form\">\r\n          <el-row type=\"flex\" :gutter=\"10\">\r\n            <el-col :span=\"1.5\" style=\"padding: 6px 0 0 5px\">\r\n              <b>选择模板</b>\r\n            </el-col>\r\n            <el-col :span=\"3.5\" style=\"margin-left: 10px\">\r\n              <vxe-select v-model=\"treeTemplateSel\" placeholder=\"请选择模板\" :options=\"temOption\" clearable @change=\"dropdownmethod\" />\r\n            </el-col>\r\n            <el-col :span=\"12\" style=\"padding-top: 3px\">\r\n              <vxe-button\r\n                style=\"margin-left: 12px\"\r\n                size=\"mini\"\r\n                status=\"primary\"\r\n                @click=\"templateManage\"\r\n              >\r\n                模板管理\r\n              </vxe-button>\r\n              <vxe-button\r\n                size=\"mini\"\r\n                status=\"primary\"\r\n                @click=\"reset\"\r\n              >\r\n                恢复默认\r\n              </vxe-button>\r\n              <el-popover\r\n                v-model=\"tempSaveShow\"\r\n                placement=\"bottom\"\r\n                width=\"400\"\r\n                trigger=\"manual\"\r\n              >\r\n                <div v-if=\"tempSaveShow\">\r\n                  <vxe-form v-if=\"isNew\">\r\n                    <vxe-form-item title=\"模板名称：\" field=\"name\">\r\n                      <template v-slot>\r\n                        <vxe-input\r\n                          v-model=\"modalName\"\r\n                          style=\"width: 100%\"\r\n                          placeholder=\"请输入模板名称\"\r\n                          clearable\r\n                        />\r\n                      </template>\r\n                    </vxe-form-item>\r\n                    <vxe-form-item style=\"float: right\">\r\n                      <template v-slot>\r\n                        <vxe-button status=\"primary\" size=\"mini\" :loading=\"btnLoading\" @click=\"handleSave('save')\">确定</vxe-button>\r\n                        <vxe-button size=\"mini\" @click=\"handleCloseTemplate\">取消</vxe-button>\r\n                      </template>\r\n                    </vxe-form-item>\r\n                  </vxe-form>\r\n                  <vxe-form v-else>\r\n                    <vxe-form-item>\r\n                      <template v-slot>\r\n                        <i class=\"el-icon-warning\" style=\"color:red\"></i>\r\n                        <span>是否覆盖当前模板[{{ modalName }}]？</span>\r\n                      </template>\r\n                    </vxe-form-item>\r\n                    <vxe-form-item style=\"float: right\">\r\n                      <template v-slot>\r\n                        <vxe-button size=\"mini\" :loading=\"btnLoading\" @click=\"handleTrue\">是</vxe-button>\r\n                        <vxe-button status=\"primary\" size=\"mini\" @click=\"handleFalse\">否</vxe-button>\r\n                      </template>\r\n                    </vxe-form-item>\r\n                  </vxe-form>\r\n                </div>\r\n                <vxe-button\r\n                  slot=\"reference\"\r\n                  style=\"margin-left: 12px\"\r\n                  size=\"mini\"\r\n                  status=\"primary\"\r\n                  @click=\"saveTemplate\"\r\n                >\r\n                  条件保存为模板\r\n                </vxe-button>\r\n              </el-popover>\r\n              <vxe-checkbox v-model=\"isShowDetails\" style=\"margin-left: 10px;\" content=\"只展示明细\" />\r\n              <!-- <vxe-button\r\n                style=\"margin-left: 12px\"\r\n                round\r\n                size=\"mini\"\r\n                status=\"my-blue\"\r\n                icon=\"el-icon-s-check\"\r\n                @click=\"templateAuthorize\"\r\n              >\r\n                模板授权\r\n              </vxe-button> -->\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <div style=\"height: 461px;margin-top: 10px\">\r\n          <BsTable\r\n            ref=\"settingTableRef\"\r\n            v-loading=\"settingTableLoading\"\r\n            class=\"settingtable\"\r\n            height=\"99%\"\r\n            :table-config=\"settingTableConfig\"\r\n            :table-global-config=\"settingTableGlobalConfig\"\r\n            :footer-config=\"{ showFooter: false }\"\r\n            :table-columns-config=\"settingTableColumnsConfig\"\r\n            :table-data=\"settingTableData\"\r\n            :toolbar-config=\"false\"\r\n            :pager-config=\"false\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <template slot=\"footer\">\r\n        <vxe-button size=\"medium\" @click=\"cancelDialogClose\">取消</vxe-button>\r\n        <vxe-button\r\n          size=\"medium\"\r\n          status=\"primary\"\r\n          @click=\"handleSureSetting\"\r\n        >确定</vxe-button>\r\n      </template>\r\n    </vxe-modal>\r\n    <vxe-modal\r\n      v-model=\"amtDetailModal\"\r\n      v-loading=\"amtDetailTableLoading\"\r\n      :title=\"'金额明细'\"\r\n      width=\"80%\"\r\n      height=\"60%\"\r\n      :show-footer=\"false\"\r\n      transfer\r\n      @close=\"cancelDialogClose\"\r\n    >\r\n      <div style=\"height: 99%\">\r\n        <BsTable\r\n          ref=\"amtDetailTableRef\"\r\n          height=\"99%\"\r\n          :table-config=\"amtDetailTableConfig\"\r\n          :footer-config=\"amtDetailTableFooterConfig\"\r\n          :table-columns-config=\"amtDetailTableColumnsConfig\"\r\n          :table-data=\"amtDetailTableData\"\r\n          :toolbar-config=\"false\"\r\n          :pager-config=\"amtDetailTablePagerConfig\"\r\n          @ajaxData=\"amtDetailAjaxData\"\r\n        />\r\n      </div>\r\n    </vxe-modal>\r\n    <vxe-modal\r\n      v-model=\"templateModal\"\r\n      :title=\"'模板列表'\"\r\n      width=\"40%\"\r\n      height=\"70%\"\r\n      :show-footer=\"false\"\r\n      transfer\r\n      @close=\"cancelDialogCloseTemplate\"\r\n    >\r\n      <div class=\"buttons\">\r\n        <el-button type=\"primary\" @click=\"handleTemplateUse\">模板调用</el-button>\r\n        <el-button @click=\"setDefalutTemplate\">设为默认</el-button>\r\n        <el-button @click=\"deleteTemplate\">删除</el-button>\r\n        <el-button @click=\"cancelDialogCloseTemplate\">取消</el-button>\r\n      </div>\r\n      <div style=\"height: 85%\">\r\n        <BsTable\r\n          ref=\"templateTableRef\"\r\n          v-loading=\"templateTableLoading\"\r\n          :table-config=\"templateTableConfig\"\r\n          :footer-config=\"false\"\r\n          :table-columns-config=\"templateTableColumnsConfig\"\r\n          :table-data=\"templateTableData\"\r\n          :toolbar-config=\"false\"\r\n          :pager-config=\"false\"\r\n        />\r\n      </div>\r\n    </vxe-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport HTTPModule from '@/api/frame/main/baseConfigManage/customQueryService.js'\r\nimport { proconf } from './js/bgtDataQuery.js'\r\nimport loadBsConfig from '@/views/main/dynamicTableSetting/config'\r\n// import { mockTableData } from './mockData'\r\nexport default {\r\n  mixins: [loadBsConfig],\r\n  data() {\r\n    return {\r\n      axiosFeild: {\r\n        codeField: 'rscode',\r\n        successCode: 200\r\n      },\r\n      // queryConfigId: '1B7EAFCAC74B49938E59A647BB96A6A5',\r\n      queryConfigId: 'CBEE20182D8F42C184FDB1DB2ADDD21A',\r\n      isShowDetails: false,\r\n      scrollY: {\r\n        scrollY: {\r\n          mode: 'wheel',\r\n          gt: 25\r\n        }\r\n      },\r\n      isLoadingShow: false,\r\n      leftTreeVisible: false,\r\n      tabStatusBtnConfig: {\r\n        changeBtns: true, // tab页右边的按钮是否会根据页签的不同而改变\r\n        buttons: proconf.tabStatusBtnConfigButtons,\r\n        curButton: {\r\n          type: 'button',\r\n          iconName: 'base-daiban.png',\r\n          iconUrl: '',\r\n          label: '',\r\n          code: '0',\r\n          curValue: '0'\r\n        },\r\n        buttonsInfo: proconf.tabStatusBtnConfigButtonsInfo,\r\n        methods: {\r\n          bsToolbarClickEvent: this.onStatusTabClick\r\n        }\r\n      },\r\n      tabStatusNumConfig: { '-1': 0, 0: 0, 1: 0, 2: 0 },\r\n      isShowQueryConditions: true,\r\n      queryFormItemConfig: [],\r\n      queryFormData: {},\r\n      // queryFormData: proconf.queryFormData,\r\n      treeConfig: {\r\n        // 左侧树类型\r\n        // curRadio: 'AGENCY',\r\n        curRadio: '',\r\n        radioGroup: [\r\n          /* {\r\n            code: 'AGENCY',\r\n            label: '预算单位AT PAGE'\r\n          },\r\n          {\r\n            code: 'EXP_FUNC',\r\n            label: '功能分类AT PAGE'\r\n          },\r\n          {\r\n            code: 'dep_bgt_eco',\r\n            label: '预算支出分类科目AT PAGE'\r\n          } */\r\n        ]\r\n      },\r\n      treeData: [],\r\n      treeQueryparams: { elementCode: 'AGENCY' },\r\n      treeGlobalConfig: {\r\n        treeInputVal: ''\r\n      },\r\n      tableLoading: false,\r\n      tableFooterConfig: {\r\n        totalObj: {\r\n          amount: 0,\r\n          pay_amt: 0,\r\n          clear_amt: 0,\r\n          plan_amt: 0\r\n        },\r\n        combinedType: ['switchTotal'],\r\n        showFooter: true\r\n      },\r\n      amtDetailTableFooterConfig: {\r\n        combinedType: ['switchTotal'],\r\n        showFooter: true\r\n      },\r\n      tableColumnsConfig: [],\r\n      // tableColumnsConfig: proconf.tableColumnsConfig,\r\n      tableData: [],\r\n      tableConfig: {\r\n        globalConfig: {\r\n          checkType: false, // checkbox\r\n          seq: true // 序号列\r\n        },\r\n        renderers: {\r\n          // 编辑 附件 操作日志\r\n          $gloableOptionRow: proconf.gloableOptionRow,\r\n          $editRadio: proconf.editRadio,\r\n          $editLevel: proconf.editLevel,\r\n          $editCodeCheckbox: proconf.editCodeCheckbox,\r\n          $editCheckbox: proconf.editCheckbox,\r\n          $order: proconf.order\r\n        }\r\n        /* methods: {\r\n          onOptionRowClick: this.onOptionRowClick\r\n        } */\r\n      },\r\n      tablePagerConfig: {\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 100000000\r\n      },\r\n      amtDetailTablePagerConfig: {\r\n        total: 0,\r\n        pageSize: 20,\r\n        currentPage: 1\r\n      },\r\n      tableToolbarConfig: {\r\n        // table工具栏配置\r\n        moneyConversion: true, // 是否有金额转换\r\n        search: false, // 是否有search\r\n        import: false, // 导入\r\n        export: true, // 导出\r\n        print: true, // 打印\r\n        zoom: true, // 缩放\r\n        custom: true, // 选配展示列\r\n        slots: {\r\n          tools: 'toolbarTools',\r\n          buttons: 'toolbarSlots'\r\n        }\r\n      },\r\n      treeTableConfig: {\r\n        expandAll: false,\r\n        dblExpandAll: true,\r\n        dblExpand: true,\r\n        accordion: false\r\n      },\r\n      amtDetailQueryParams: {\r\n        ids: [],\r\n        pageNum: 1,\r\n        pageSize: 20\r\n      },\r\n      amtDetailType: '1',\r\n      amountQueryId: 'C9C2B60A6F26475084EB3576435B7A89', // '6ACA4D6BC4264EDC8523044897FAFF31',\r\n      payAmtQueryId: 'F28B5451E7B84E6E87C2DA920FC9F74E', // '686A3B189F5A49028DC9ADF91CC2CC94',\r\n      planAmtQueryId: 'AAA5B9C66A5B478C875E6E900F743AD9', // '742827FA532A4FEBA351A118D8DFAA82',\r\n      clearAmtQueryId: '7B9C09F1DCCD464CB8FDBBDEB413E36C', // '851AED1ED08F47F49040A50BDD7E5934',\r\n      menuName: '指标数据查询',\r\n      tableTreeConfig: {\r\n        transform: true,\r\n        expandRowKeys: [24300]\r\n      },\r\n      settingModal: false,\r\n      amtDetailModal: false,\r\n      amtDetailTableLoading: false,\r\n      amtDetailTableColumnsConfig: [],\r\n      amtDetailTableColumnsConfigAmount: [],\r\n      amtDetailTableColumnsConfigPay: [],\r\n      amtDetailTableColumnsConfigPlan: [],\r\n      amtDetailTableColumnsConfigClear: [],\r\n      amtDetailTableData: [],\r\n      toolBarStatusSelect: {},\r\n      settingTableData: [],\r\n      settingTableLoading: false,\r\n      settingTableColumnsConfig: proconf.settingTableColumnsConfig,\r\n      isColumnVisible: 1,\r\n      settingTableConfig: {\r\n        globalConfig: {\r\n          sortable: false,\r\n          rowDrop: true,\r\n          checkType: 'checkbox'\r\n        }\r\n      },\r\n      settingTableGlobalConfig: {\r\n        rowDrop: true, // 行拖拽\r\n        dragColumnsConfig: {\r\n          cacheStatus: false, // 是否开启缓存\r\n          openDrag: true // 是否开启拖拽排序\r\n        }\r\n      },\r\n      amtDetailTableConfig: {\r\n        globalConfig: {\r\n          checkType: 'checkbox'\r\n        }\r\n      },\r\n      isNew: true,\r\n      btnLoading: false,\r\n      modalName: '',\r\n      tempSaveShow: false,\r\n      treeTemplate: null,\r\n      treeTemplateSel: null,\r\n      temOption: [],\r\n      temQueryparams: {\r\n        menuId: this.$store.state.curNavModule.guid || 'Home'\r\n      },\r\n      templateModal: false,\r\n      templateTableLoading: false,\r\n      templateTableConfig: {\r\n        globalConfig: {\r\n          checkType: 'checkbox'\r\n        }\r\n      },\r\n      templateTableColumnsConfig: proconf.templateTableColumnsConfig,\r\n      templateTableData: [],\r\n      temActionParams: {\r\n        menuId: 'Home',\r\n        templateName: ''\r\n      },\r\n      colFieldList: [],\r\n      currentParams: {},\r\n      treeKey: 1,\r\n      currentTreeCode: 'agency'\r\n    }\r\n  },\r\n  methods: {\r\n    cellClick(obj, context, e) {\r\n      let key = obj.column.property\r\n      switch (key) {\r\n        case 'amount':\r\n          this.amtDetailTableColumnsConfig = this.amtDetailTableColumnsConfigAmount\r\n          this.amtDetailType = '1'\r\n          this.getAmtDetailData(obj.row)\r\n          break\r\n        case 'pay_amt':\r\n          this.amtDetailTableColumnsConfig = this.amtDetailTableColumnsConfigPay\r\n          this.amtDetailType = '2'\r\n          this.getAmtDetailData(obj.row)\r\n          break\r\n        case 'plan_amt':\r\n          this.amtDetailTableColumnsConfig = this.amtDetailTableColumnsConfigPlan\r\n          this.amtDetailType = '4'\r\n          this.getAmtDetailData(obj.row)\r\n          break\r\n        case 'clear_amt':\r\n          this.amtDetailTableColumnsConfig = this.amtDetailTableColumnsConfigClear\r\n          this.amtDetailType = '3'\r\n          this.getAmtDetailData(obj.row)\r\n          break\r\n      }\r\n    },\r\n    getAmtDetailData(row) {\r\n      // 组装请求参数\r\n      var bgtIds = this.findBgtIds(row)\r\n      this.amtDetailQueryParams.ids = bgtIds\r\n      this.queryAmtDetailData()\r\n      this.amtDetailModal = true\r\n    },\r\n    findBgtIds(row) {\r\n      var newArr = []\r\n      if (row.children && row.children.length) {\r\n        row.children.forEach(item => {\r\n          newArr.push(...this.findBgtIds(item))\r\n        })\r\n      } else {\r\n        if (row.bgtIds) {\r\n          newArr.push(...row.bgtIds)\r\n        }\r\n      }\r\n      return newArr\r\n    },\r\n    queryAmtDetailData() {\r\n      this.amtDetailTableLoading = true\r\n      this.amtDetailTableData = []\r\n      let method = ''\r\n      if (this.amtDetailType === '1') {\r\n        method = 'grobBgtAmtDetail'\r\n      } else if (this.amtDetailType === '2') {\r\n        method = 'grobPayAmtDetail'\r\n      } else if (this.amtDetailType === '3') {\r\n        method = 'grobClearAmtDetail'\r\n      } else if (this.amtDetailType === '4') {\r\n        method = 'grobPlanAmtDetail'\r\n      }\r\n      HTTPModule[method](this.amtDetailQueryParams).then(res => {\r\n        this.amtDetailTableLoading = false\r\n        if (res && res[this.axiosFeild['codeField']] === this.axiosFeild['successCode']) {\r\n          let resData = res.data.rows\r\n          resData.forEach(item => {\r\n            for (let i in item) {\r\n              item[i.toLowerCase()] = item[i]\r\n            }\r\n          })\r\n          this.amtDetailTableData = resData\r\n          this.amtDetailTablePagerConfig.total = res.data.total\r\n        }\r\n      })\r\n    },\r\n    amtDetailAjaxData({ params, currentPage, pageSize }) {\r\n      this.amtDetailQueryParams = Object.assign(this.amtDetailQueryParams, {\r\n        pageNum: currentPage,\r\n        pageSize: pageSize\r\n      })\r\n      this.queryAmtDetailData()\r\n    },\r\n    async loadConfig(id) {\r\n      if (!id) return\r\n      let params = {\r\n        tableId: {\r\n          id: id,\r\n          fiscalyear: this.$store.getters.getuserInfo.year,\r\n          mof_div_code: this.$store.getters.getuserInfo.province,\r\n          menuguid: this.$store.state.curNavModule.guid\r\n        }\r\n      }\r\n      if (id === this.amountQueryId) {\r\n        params.tableId.id = id\r\n        let configData = await this.loadBsConfig(params)\r\n        console.log('initQuery', configData)\r\n        this.amtDetailTableColumnsConfigAmount = configData.itemsConfig\r\n      }\r\n      if (id === this.payAmtQueryId) {\r\n        params.tableId.id = id\r\n        let configData = await this.loadBsConfig(params)\r\n        this.amtDetailTableColumnsConfigPay = configData.itemsConfig\r\n      }\r\n      if (id === this.planAmtQueryId) {\r\n        params.tableId.id = id\r\n        let configData = await this.loadBsConfig(params)\r\n        this.amtDetailTableColumnsConfigPlan = configData.itemsConfig\r\n      }\r\n      if (id === this.clearAmtQueryId) {\r\n        params.tableId.id = id\r\n        let configData = await this.loadBsConfig(params)\r\n        this.amtDetailTableColumnsConfigClear = configData.itemsConfig\r\n      }\r\n      if (id === this.queryConfigId) {\r\n        params.tableId.id = id\r\n        let configQueryData = await this.loadBsConfig(params)\r\n        this.queryFormItemConfig = configQueryData.itemsConfig\r\n      }\r\n    },\r\n    getFormTable() {\r\n      this.loadConfig(this.queryConfigId)\r\n      this.loadConfig(this.amountQueryId)\r\n      this.loadConfig(this.payAmtQueryId)\r\n      this.loadConfig(this.planAmtQueryId)\r\n      this.loadConfig(this.clearAmtQueryId)\r\n    },\r\n    templateManage() {\r\n      let self = this\r\n      self.templateTableLoading = true\r\n      HTTPModule.getGrabTemplateList(this.temQueryparams).then(res => {\r\n        self.templateTableLoading = false\r\n        if (res && res[this.axiosFeild['codeField']] === this.axiosFeild['successCode']) {\r\n          self.templateTableData = res.data\r\n        } else {\r\n          self.$message.error(res.result)\r\n        }\r\n      }).catch(() => {\r\n        self.templateTableLoading = false\r\n      })\r\n      this.templateModal = true\r\n    },\r\n    handleTemplateUse() {\r\n      let selection = this.$refs.templateTableRef.$refs.xGrid.getSelectRecords()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择有且仅有一个模版!')\r\n        return\r\n      }\r\n      this.treeTemplate = selection[0]\r\n      this.setTemplateData()\r\n      this.cancelDialogCloseTemplate()\r\n    },\r\n    setDefalutTemplate() {\r\n      let selection = this.$refs.templateTableRef.$refs.xGrid.getSelectRecords()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择有且仅有一个模版!')\r\n        return\r\n      }\r\n      this.temActionParams.menuId = this.$store.state.curNavModule.guid || 'Home'\r\n      this.temActionParams.templateName = selection[0].template_name\r\n      this.templateTableLoading = true\r\n      HTTPModule.setDefaultGrabTemplate(this.temActionParams).then(res => {\r\n        this.templateTableLoading = false\r\n        if (res && res[this.axiosFeild['codeField']] === this.axiosFeild['successCode']) {\r\n          this.$message.success('设置成功！')\r\n          this.cancelDialogCloseTemplate()\r\n        } else {\r\n          this.$message.error('设置失败！' + res.result)\r\n        }\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    deleteTemplate() {\r\n      let selection = this.$refs.templateTableRef.$refs.xGrid.getSelectRecords()\r\n      if (selection.length !== 1) {\r\n        this.$message.warning('请选择有且仅有一个模版!')\r\n        return\r\n      }\r\n      this.temActionParams.menuId = this.$store.state.curNavModule.guid || 'Home'\r\n      this.temActionParams.templateName = selection[0].template_name\r\n      this.templateTableLoading = true\r\n      HTTPModule.removeGrabTemplate(this.temActionParams).then(res => {\r\n        this.templateTableLoading = false\r\n        if (res && res[this.axiosFeild['codeField']] === this.axiosFeild['successCode']) {\r\n          this.$message.success('删除成功！')\r\n          this.getTemplateData()\r\n          this.cancelDialogCloseTemplate()\r\n        } else {\r\n          this.$message.error('删除失败！' + res.result)\r\n        }\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    saveTemplate() {\r\n      this.isNew = this.treeTemplate === null || !this.treeTemplate.template_name\r\n      this.tempSaveShow = true\r\n    },\r\n    handleTrue() {\r\n      this.handleSave('modify')\r\n    },\r\n    handleFalse() {\r\n      this.isNew = true\r\n      this.modalName = ''\r\n    },\r\n    handleSave(eventType) {\r\n      let self = this\r\n      if (self.modalName === '') {\r\n        self.$message.warning('请填写模板名称！')\r\n        return\r\n      }\r\n      if (self.modalName.length > 20) {\r\n        self.$message.warning('模板名称请小于20字！')\r\n        return\r\n      }\r\n      let saveParam = {\r\n        type: eventType,\r\n        menuId: self.$store.state.curNavModule.guid,\r\n        templateName: self.modalName,\r\n        condition: [],\r\n        fields: [],\r\n        sumAmt: [\r\n          {\r\n            field: 'amount',\r\n            type: '1',\r\n            title: '指标金额',\r\n            sortValue: null,\r\n            checked: false\r\n          },\r\n          {\r\n            field: 'pay_amt',\r\n            type: '2',\r\n            title: '已支付金额',\r\n            sortValue: null,\r\n            checked: false\r\n          },\r\n          {\r\n            field: 'clear_amt',\r\n            type: '3',\r\n            title: '已清算金额',\r\n            sortValue: null,\r\n            checked: false\r\n          },\r\n          {\r\n            field: 'plan_amt',\r\n            type: '4',\r\n            title: '计划金额',\r\n            sortValue: null,\r\n            checked: false\r\n          }\r\n        ]\r\n      }\r\n      let fields = self.$refs.settingTableRef.$refs.xGrid.getTableData().fullData\r\n      this.$refs.settingTableRef.$refs.xGrid.getSelectRecords().forEach(item => {\r\n        fields.forEach(items => {\r\n          if (item.code === items.code) {\r\n            items.checked = true\r\n          }\r\n        })\r\n      })\r\n      saveParam.fields = fields\r\n      saveParam.condition = fields.map(item => {\r\n        return {\r\n          name: item.name,\r\n          title: item.title,\r\n          checked: item.checked\r\n        }\r\n      })\r\n      self.btnLoading = true\r\n      HTTPModule.saveGrabTemplate(saveParam).then((res) => {\r\n        self.btnLoading = false\r\n        if (res && res[this.axiosFeild['codeField']] === this.axiosFeild['successCode']) {\r\n          self.$message.success('保存成功')\r\n          this.handleCloseTemplate()\r\n          this.getTemplateData()\r\n        } else {\r\n          self.$message.error('保存失败：' + res.result)\r\n          self.btnLoading = false\r\n        }\r\n      }).catch(() => {\r\n        self.$message.error('保存失败')\r\n        self.btnLoading = false\r\n      })\r\n    },\r\n    handleCloseTemplate() {\r\n      this.modalName = ''\r\n      this.tempSaveShow = false\r\n    },\r\n    reset() {\r\n      this.settingTableData = this.colFieldList.map((item) => {\r\n        return {\r\n          name: item.name.toLowerCase(),\r\n          code: item.name.toLowerCase(),\r\n          title: item.title,\r\n          type: item.type === null ? '0' : item.type + '',\r\n          level: item.level + '',\r\n          totalLevel: item.level + '',\r\n          checked: item.checked,\r\n          showCode: item.showCode\r\n        }\r\n      })\r\n      setTimeout(() => {\r\n        this.$refs.settingTableRef.$refs.xGrid.setCheckboxRow(this.settingTableData.filter(item => item.checked), true)\r\n      }, 100)\r\n      this.treeTemplate = null\r\n      this.treeTemplateSel = null\r\n      this.modalName = ''\r\n    },\r\n    dropdownmethod(data) {\r\n      this.treeTemplate = data.value\r\n      this.modalName = this.treeTemplate.template_name\r\n      this.setTemplateData()\r\n    },\r\n    setTemplateData() {\r\n      if (this.treeTemplate.fields !== null && this.treeTemplate.fields !== '') {\r\n        let fields = JSON.parse(this.treeTemplate.fields)\r\n        this.settingTableData = fields.map((item) => {\r\n          if (item.level > 3) {\r\n            item.level = 6\r\n          }\r\n          return {\r\n            name: item.name,\r\n            code: item.name,\r\n            title: item.title,\r\n            type: item.type === null ? '0' : item.type + '',\r\n            level: item.level + '',\r\n            totalLevel: this.colFieldList.find(object => object.name === item.name).totalLevel,\r\n            checked: item.checked,\r\n            showCode: item.showCode\r\n          }\r\n        })\r\n        setTimeout(() => {\r\n          this.$refs.settingTableRef.$refs.xGrid.setCheckboxRow(this.settingTableData.filter(item => item.checked), true)\r\n        }, 100)\r\n      }\r\n    },\r\n    getTemplateData() {\r\n      let self = this\r\n      HTTPModule.getGrabTemplateList(this.temQueryparams).then(res => {\r\n        if (res.data instanceof Array) {\r\n          if (res.data.length > 0) {\r\n            self.temOption = res.data.map(item => {\r\n              return {\r\n                label: item.template_name,\r\n                value: item\r\n              }\r\n            })\r\n          }\r\n          if (res.data.length === 0) {\r\n            self.temOption = []\r\n          }\r\n        }\r\n      })\r\n    },\r\n    cellStyle ({ level }) {\r\n      if (level === 0) {\r\n        return {\r\n          background: '#cbe2fe !important',\r\n          border: '1px solid #e8eaec !important'\r\n        }\r\n      } else {\r\n        return {\r\n          background: '#e3f2fe !important',\r\n          border: '1px solid #e8eaec !important'\r\n        }\r\n      }\r\n    },\r\n    findObjByKeyValue(arr) {\r\n      function recursive(data) {\r\n        data.every((item) => {\r\n          if (item.bgtIds !== undefined) {\r\n            findObj = item.bgtIds\r\n            return false\r\n          }\r\n          if (item.children && item.children.length) {\r\n            recursive(item.children)\r\n          }\r\n          return true\r\n        })\r\n      }\r\n      let findObj = null\r\n      recursive(arr)\r\n      return findObj\r\n    },\r\n    getTableData(params) {\r\n      this.isLoadingShow = true\r\n      this.currentParams = params || {}\r\n      params.type = this.isShowDetails ? '1' : '0'\r\n      HTTPModule.dataQueryPageInfo(params).then((res) => {\r\n        // res = mockTableData\r\n        // console.log(333, mockTableData)\r\n        if (res.rscode === 200) {\r\n          this.isLoadingShow = false\r\n          this.tableData = res.data\r\n          this.tablePagerConfig.total = res.data.length\r\n          if (res.data.length > 0) {\r\n            this.tableFooterConfig.totalObj.amount = res.data.reduce((amount, item) => amount + Number(item.amount), 0)\r\n            this.tableFooterConfig.totalObj.pay_amt = res.data.reduce((payAmtSum, item) => payAmtSum + Number(item.pay_amt), 0)\r\n            this.tableFooterConfig.totalObj.plan_amt = res.data.reduce((planAmtSum, item) => planAmtSum + Number(item.plan_amt), 0)\r\n            this.tableFooterConfig.totalObj.clear_amt = res.data.reduce((clearAmtSum, item) => clearAmtSum + Number(item.clear_amt), 0)\r\n          }\r\n        } else {\r\n          this.isLoadingShow = false\r\n          this.$message.error(res.result)\r\n        }\r\n      }).catch(() => {\r\n        this.isLoadingShow = false\r\n      })\r\n    },\r\n    getSearchDataListFn(searchFormConfig) {\r\n      let searchDataObj = {}\r\n      if (Array.isArray(searchFormConfig) && searchFormConfig.length) {\r\n        searchFormConfig.forEach(item => {\r\n          if (item.itemRender?.name === '$formTreeInput' || item.itemRender?.name === '$vxeTree') {\r\n            if (item.field) {\r\n              searchDataObj[item.field + 'code'] = []\r\n            }\r\n          } else {\r\n            if (item.field) {\r\n              searchDataObj[item.field] = []\r\n            }\r\n          }\r\n        })\r\n      }\r\n      return searchDataObj\r\n    },\r\n    handleSureSetting() {\r\n      let currentTbl = this.$refs.settingTableRef.$refs.xGrid.getTableData().fullData\r\n      let selectionData = this.$refs.settingTableRef.$refs.xGrid.getSelectRecords()\r\n      let fields = []\r\n      let canUse = []\r\n      selectionData.forEach((item) => {\r\n        fields.push({\r\n          name: item.name,\r\n          type: item.type,\r\n          level: item.level,\r\n          showCode: item.showCode\r\n        })\r\n      })\r\n      currentTbl.forEach((item) => {\r\n        if (item.type !== '0' && item.checked) {\r\n          canUse.push({\r\n            name: item.title,\r\n            code: item.code\r\n          })\r\n        }\r\n      })\r\n      this.queryFormData = this.getSearchDataListFn(this.queryFormItemConfig)\r\n      this.tableColumnsConfig = []\r\n      this.tableData = []\r\n      if (fields.length > 0) {\r\n        let params = {\r\n          tableName: this.transJson(this.$store.state.curNavModule.param5).tableName || 'vw_data_query_bgt',\r\n          condition: {},\r\n          fields,\r\n          sumAmt: ['amount', 'pay_amt', 'plan_amt', 'clear_amt']\r\n        }\r\n        this.getTableData(params)\r\n        let mainTblColumns = []\r\n        selectionData.forEach((item, index) => {\r\n          if (index === 0) {\r\n            mainTblColumns.push({\r\n              title: item.title,\r\n              isDataQuery: true,\r\n              field: item.code,\r\n              width: 'fix',\r\n              align: 'left',\r\n              type: 'treeNode',\r\n              treeNode: true\r\n            })\r\n          } else {\r\n            mainTblColumns.push({\r\n              title: item.title,\r\n              isDataQuery: true,\r\n              field: item.code,\r\n              width: 'fix',\r\n              align: 'left'\r\n            })\r\n          }\r\n        })\r\n        mainTblColumns.push({\r\n          title: '指标金额',\r\n          field: 'amount',\r\n          width: 'fix',\r\n          align: 'right',\r\n          combinedType: 'average,subTotal,total,totalAll',\r\n          cellRender: {\r\n            name: '$vxeMoney',\r\n            options: [],\r\n            defaultValue: '',\r\n            props: {}\r\n          }\r\n        })\r\n        mainTblColumns.push({\r\n          title: '计划金额',\r\n          field: 'plan_amt',\r\n          width: 'fix',\r\n          align: 'right',\r\n          combinedType: 'average,subTotal,total,totalAll',\r\n          cellRender: {\r\n            name: '$vxeMoney',\r\n            options: [],\r\n            defaultValue: '',\r\n            props: {}\r\n          }\r\n        })\r\n        mainTblColumns.push({\r\n          title: '支付金额',\r\n          field: 'pay_amt',\r\n          width: 'fix',\r\n          align: 'right',\r\n          combinedType: 'average,subTotal,total,totalAll',\r\n          cellRender: {\r\n            name: '$vxeMoney',\r\n            options: [],\r\n            defaultValue: '',\r\n            props: {}\r\n          }\r\n        })\r\n        mainTblColumns.push({\r\n          title: '清算金额',\r\n          field: 'clear_amt',\r\n          width: 'fix',\r\n          align: 'right',\r\n          combinedType: 'average,subTotal,total,totalAll',\r\n          cellRender: {\r\n            name: '$vxeMoney',\r\n            options: [],\r\n            defaultValue: '',\r\n            props: {}\r\n          }\r\n        })\r\n        this.tableColumnsConfig = mainTblColumns\r\n      }\r\n      this.cancelDialogClose()\r\n      if (this.tableColumnsConfig.length > 0) {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '设置成功，请稍候！',\r\n          duration: 3000\r\n        })\r\n      } else {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '设置成功！'\r\n        })\r\n        this.tablePagerConfig.total = 0\r\n      }\r\n      let bgtDataQuery = {\r\n        tableData: this.settingTableData\r\n      }\r\n      window.localStorage.removeItem('bgtDataQuery')\r\n      window.localStorage.setItem('bgtDataQuery', JSON.stringify(bgtDataQuery))\r\n    },\r\n    cancelDialogClose() {\r\n      this.settingModal = false\r\n      this.amtDetailModal = false\r\n      this.treeTemplateSel = null\r\n      this.treeTemplate = null\r\n      this.temOption = []\r\n      this.modalName = ''\r\n      this.btnLoading = false\r\n    },\r\n    cancelDialogCloseTemplate() {\r\n      this.templateModal = false\r\n    },\r\n    // 初始化高级查询参数condition\r\n    getConditionList() {\r\n      let condition = {}\r\n      this.queryFormItemConfig?.forEach(item => {\r\n        if (item.itemRender.name === '$formTreeInput' || item.itemRender.name === '$vxeTree') {\r\n          if (item.field) {\r\n            if (item.field === 'cor_bgt_doc_no_') {\r\n              condition[item.field + 'name'] = []\r\n            } else {\r\n              condition[item.field + 'code'] = []\r\n            }\r\n          }\r\n        } else {\r\n          if (item.field) {\r\n            condition[item.field] = []\r\n          }\r\n        }\r\n      })\r\n      return condition\r\n    },\r\n    trasToTree(arr) {\r\n      // TODO 树状表格处理数据的方法\r\n      let result = []\r\n      let map = {}\r\n      for (let i in arr) {\r\n        if (arr[i].children) {\r\n          map[arr[i].id] = arr[i]\r\n        } else {\r\n          map[arr[i].id] = Object.assign(arr[i], { children: [] })\r\n          map[arr[i].id].plan_amt = 0\r\n          map[arr[i].id].pay_app_amt = 0\r\n        }\r\n      }\r\n      for (let i in arr) {\r\n        if (map[arr[i].pid]) {\r\n          map[arr[i].pid].children.push(arr[i])\r\n          map[arr[i].pid].plan_amt = map[arr[i].pid].plan_amt + arr[i].plan_amt\r\n          map[arr[i].pid].pay_app_amt =\r\n            map[arr[i].pid].pay_app_amt + arr[i].pay_app_amt\r\n        } else {\r\n          result.push(arr[i])\r\n        }\r\n      }\r\n      return result\r\n    },\r\n    onToolbarBtnClick({ context, table, code }) {\r\n      switch (code) {\r\n        case 'refresh':\r\n          if (this.tableColumnsConfig.length > 0) {\r\n            this.getTableData(this.currentParams)\r\n          } else {\r\n            this.isLoadingShow = true\r\n            setTimeout(() => {\r\n              this.isLoadingShow = false\r\n            }, 500)\r\n          }\r\n          break\r\n      }\r\n    },\r\n    onOptionRowClick({ params, optionType }) {\r\n      switch (optionType) {\r\n        case 'top':\r\n          this.handleToTop(params.rowIndex)\r\n          break\r\n        case 'bottom':\r\n          this.handleToBottom(params.rowIndex)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    handleToTop(index) {\r\n      if (index !== 0) {\r\n        let tableData = this.$refs.settingTableRef.$refs.xGrid.getTableData().fullData\r\n        let temp = tableData[index - 1]\r\n        tableData[index - 1] = tableData[index]\r\n        tableData[index] = temp\r\n        this.settingTableData = tableData\r\n        this.$message.success('上移成功')\r\n      }\r\n    },\r\n    handleToBottom(index) {\r\n      let tableData = this.$refs.settingTableRef.$refs.xGrid.getTableData().fullData\r\n      if (index !== tableData.length - 1) {\r\n        let temp = tableData[index + 1]\r\n        tableData[index + 1] = tableData[index]\r\n        tableData[index] = temp\r\n        this.settingTableData = tableData\r\n        this.$message.success('下移成功')\r\n      }\r\n    },\r\n    treeClickMethod(obj) {\r\n      if (this.tableColumnsConfig.length > 0) {\r\n        if (!obj.children.length && this.currentParams.condition !== undefined) {\r\n          let code = this.currentTreeCode + '_code'\r\n          let params = this.currentParams\r\n          params.condition[code] = [obj.code]\r\n          this.getTableData(params)\r\n        } else {\r\n          if (obj.label === '全部') {\r\n            let code = this.currentTreeCode + '_code'\r\n            let params = this.currentParams\r\n            if (params.condition[code] !== undefined) delete params.condition[code]\r\n            this.getTableData(params)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    treeOnConfirmData(curTree) {\r\n      this.treeQueryparams.elementCode = curTree.code\r\n      this.$refs.leftTree.refreshTree()\r\n    },\r\n    treeOnAsideChange() {\r\n      this.leftTreeVisible = false\r\n    },\r\n    treeOnChangeInput(val) {\r\n      this.treeGlobalConfig.treeInputVal = val\r\n      this.$refs.leftTree.filterText = val\r\n    },\r\n    onQueryConditionsClick(isOpen) {\r\n      this.isShowQueryConditions = isOpen\r\n    },\r\n    handleSearch(val) {\r\n      // debugger\r\n      let condition = this.getConditionList()\r\n      for (let key in condition) {\r\n        if (\r\n          (val[key] !== undefined) &\r\n          (val[key] !== null)\r\n        ) {\r\n          if (Array.isArray(val[key])) {\r\n            condition[key] = val[key]\r\n          } else if (typeof (val[key]) === 'string') {\r\n            if (val[key].trim() !== '') {\r\n              val[key].split(',').forEach(item => {\r\n                condition[key].push(item)\r\n              })\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.queryFormItemConfig?.forEach(item => {\r\n        if (item.islike === true && val[item.field]) {\r\n          condition[item.field] = {}\r\n          condition[item.field][item.liketype] = val[item.field]\r\n        }\r\n      })\r\n      Object.assign(this.currentParams.condition || {}, condition)\r\n      this.getTableData(this.currentParams)\r\n      this.$message.success('查询成功！')\r\n    },\r\n    handleSettingModal() {\r\n      this.temQueryparams = {\r\n        menuId: this.$store.state.curNavModule.guid || 'Home'\r\n      }\r\n      this.getTemplateData()\r\n      this.initSettingTableData()\r\n      this.settingModal = true\r\n    },\r\n    operationToolbarButtonClickEvent(obj, context, e) {\r\n      switch (obj.code) {\r\n        case 'operation-setting':\r\n          // 设置\r\n          this.handleSettingModal()\r\n          break\r\n        case 'operation-expand-tree':\r\n          // 树全部展开\r\n          this.handleExpandTree()\r\n          break\r\n        case 'operation-close-tree':\r\n          // 树全部合并\r\n          this.handleCloseTree()\r\n          break\r\n      }\r\n    },\r\n    handleExpandTree() {\r\n      this.$refs.mainTableRef.$refs.xGrid.setAllTreeExpand(true)\r\n    },\r\n    handleCloseTree() {\r\n      this.$refs.mainTableRef.$refs.xGrid.clearTreeExpand()\r\n    },\r\n    onStatusTabClick(obj) {\r\n      if (!obj.type) {\r\n        this.operationToolbarButtonClickEvent(obj)\r\n      }\r\n    },\r\n    getInitTemplate() {\r\n      HTTPModule.initTemplate().then(res => {\r\n        if (res && res[this.axiosFeild['codeField']] === this.axiosFeild['successCode']) {\r\n          if (res.data && res.data.fields) {\r\n            this.colFieldList = res.data.fields\r\n          } else {\r\n            this.colFieldList = JSON.parse(JSON.stringify(proconf.colFieldList))\r\n          }\r\n        } else {\r\n          this.colFieldList = JSON.parse(JSON.stringify(proconf.colFieldList))\r\n        }\r\n      }).catch(() => {\r\n        this.colFieldList = JSON.parse(JSON.stringify(proconf.colFieldList))\r\n      })\r\n    },\r\n    initSettingTableData() {\r\n      this.settingTableData = this.colFieldList.map((item) => {\r\n        if (item.level > 3) {\r\n          item.level = 6\r\n        }\r\n        return {\r\n          name: item.name.toLowerCase(),\r\n          code: item.name.toLowerCase(),\r\n          title: item.title,\r\n          type: item.type === null ? '0' : item.type + '',\r\n          level: item.level + '',\r\n          totalLevel: item.level + '',\r\n          checked: item.checked,\r\n          showCode: item.showCode\r\n        }\r\n      })\r\n      setTimeout(() => {\r\n        this.$refs.settingTableRef.$refs.xGrid.setCheckboxRow(this.settingTableData.filter(item => item.checked), true)\r\n      }, 100)\r\n      this.colFieldList.forEach(col => {\r\n        col.totalLevel = col.level + ''\r\n      })\r\n    }\r\n  },\r\n  activated() {\r\n    if (JSON.stringify(this.currentParams) !== '{}') {\r\n      this.tableData = []\r\n      this.getTableData(this.currentParams)\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    this.getInitTemplate()\r\n    this.getTemplateData()\r\n    if (window.localStorage.getItem('bgtDataQuery') !== null) {\r\n      let bgtDataQuery = JSON.parse(window.localStorage.getItem('bgtDataQuery'))\r\n      this.settingTableData = bgtDataQuery.tableData\r\n      let currentTbl = this.$refs.mainTableRef.$refs.xGrid.getTableData().fullData\r\n      let fields = []\r\n      let canUse = []\r\n      currentTbl.forEach((item) => {\r\n        if (item.type !== '0') {\r\n          fields.push({\r\n            name: item.name,\r\n            type: item.type,\r\n            showCode: item.showCode,\r\n            level: item.level\r\n          })\r\n        }\r\n      })\r\n      currentTbl.forEach((item) => {\r\n        if (item.type !== '0' && item.checked) {\r\n          canUse.push({\r\n            name: item.title,\r\n            code: item.code\r\n          })\r\n        }\r\n      })\r\n      let formDataBak = {}\r\n      canUse.forEach((item) => {\r\n        let code = item.code\r\n        formDataBak[code] = ''\r\n      })\r\n      this.queryFormData = formDataBak\r\n      this.tableColumnsConfig = []\r\n      this.tableData = []\r\n      if (fields.length > 0) {\r\n        let params = {\r\n          tableName: 'vw_data_query_bgt',\r\n          condition: {},\r\n          fields,\r\n          sumAmt: ['amount', 'pay_amt', 'plan_amt', 'clear_amt']\r\n        }\r\n        this.getTableData(params)\r\n        let mainTblColumns = []\r\n        currentTbl.forEach((item, index) => {\r\n          if (item.type !== '0') {\r\n            if (index === 0) {\r\n              mainTblColumns.push({\r\n                title: item.title,\r\n                isDataQuery: true,\r\n                field: item.code,\r\n                width: 'fix',\r\n                align: 'left',\r\n                type: 'treeNode',\r\n                treeNode: true\r\n              })\r\n            } else {\r\n              mainTblColumns.push({\r\n                title: item.title,\r\n                isDataQuery: true,\r\n                field: item.code,\r\n                width: 'fix',\r\n                align: 'left'\r\n              })\r\n            }\r\n          }\r\n        })\r\n        mainTblColumns.push({\r\n          title: '指标金额',\r\n          field: 'amount',\r\n          width: 'fix',\r\n          align: 'right',\r\n          combinedType: 'average,subTotal,total,totalAll',\r\n          cellRender: {\r\n            name: '$vxeMoney',\r\n            options: [],\r\n            defaultValue: '',\r\n            props: {}\r\n          }\r\n        })\r\n        mainTblColumns.push({\r\n          title: '支付金额',\r\n          field: 'pay_amt',\r\n          width: 'fix',\r\n          align: 'right',\r\n          combinedType: 'average,subTotal,total,totalAll',\r\n          cellRender: {\r\n            name: '$vxeMoney',\r\n            options: [],\r\n            defaultValue: '',\r\n            props: {}\r\n          }\r\n        })\r\n        mainTblColumns.push({\r\n          title: '计划金额',\r\n          field: 'plan_amt',\r\n          width: 'fix',\r\n          align: 'right',\r\n          combinedType: 'average,subTotal,total,totalAll',\r\n          cellRender: {\r\n            name: '$vxeMoney',\r\n            options: [],\r\n            defaultValue: '',\r\n            props: {}\r\n          }\r\n        })\r\n        mainTblColumns.push({\r\n          title: '清算金额',\r\n          field: 'clear_amt',\r\n          width: 'fix',\r\n          align: 'right',\r\n          combinedType: 'average,subTotal,total,totalAll',\r\n          cellRender: {\r\n            name: '$vxeMoney',\r\n            options: [],\r\n            defaultValue: '',\r\n            props: {}\r\n          }\r\n        })\r\n        this.tableColumnsConfig = mainTblColumns\r\n      } else {\r\n        setTimeout(() => {\r\n          this.settingModal = true\r\n        }, 1000)\r\n      }\r\n    }\r\n    this.getFormTable()\r\n  }\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.Titans-table ::v-deep .vxe-table{\r\n  .vxe-tree--btn-wrapper {\r\n    top: 44%;\r\n    left: 5px;\r\n  }\r\n  .drag-btn{\r\n    margin-left: 9px;\r\n  }\r\n}\r\n.Titans-table.settingtable ::v-deep .vxe-table{\r\n  .vxe-table--header-wrapper table thead tr th:nth-child(2) .vxe-cell .vxe-cell--sort{\r\n    display: none;\r\n  }\r\n}\r\n.T-mainFormListLayout-modulebox ::v-deep .mmc-formlist .mmc-right {\r\n  display: flex;\r\n  flex-flow: column;\r\n  height: 100%;\r\n  padding: 0 0 0 0;\r\n}\r\n.buttons{\r\n  margin: 10px 0 10px 0;\r\n  height: 10%;\r\n}\r\n</style>\r\n"]}]}