{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\MointoringMatters\\MonitorRulesView\\children\\addDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\MointoringMatters\\MonitorRulesView\\children\\addDialog.vue","mtime":1696578520316},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBwcm9jb25mIH0gZnJvbSAnLi4vTW9uaXRvclJ1bGVzVmlldy5qcycNCmltcG9ydCBIdHRwTW9kdWxlIGZyb20gJ0AvYXBpL2ZyYW1lL21haW4vTW9uaXRvcmluZy9sZXZlbFJ1bGVzLmpzJw0KaW1wb3J0IHF1ZXJ5VHJlZWRFbGVtZW50QnlDb2RlTWl4aW4gZnJvbSAnQC9taXhpbi9xdWVyeVRyZWVkRWxlbWVudEJ5Q29kZS5qcycNCmltcG9ydCBmdW5jdGlvblNlbGVjdE1peGluIGZyb20gJ0AvbWl4aW4vZnVuY3Rpb25TZWxlY3RNaXhpbi5qcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQWRkRGlhbG9nJywNCiAgbWl4aW5zOiBbcXVlcnlUcmVlZEVsZW1lbnRCeUNvZGVNaXhpbiwgZnVuY3Rpb25TZWxlY3RNaXhpbl0sDQogIGNvbXBvbmVudHM6IHt9LA0KICBjb21wdXRlZDogew0KICAgIGN1ck5hdk1vZHVsZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUNCiAgICB9LA0KICAgIGJ1c2luZXNzTmFtZVRpcHMoKSB7DQogICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5idXNpbmVzc0Z1bmN0aW9uQ29kZW9wdGlvbnMNCiAgICAgICAgPy5maWx0ZXIoaXRlbSA9PiB0aGlzLmJ1c2luZXNzRnVuY3Rpb25Db2RlPy5pbmNsdWRlcyhpdGVtLmlkKSkNCiAgICAgICAgPy5tYXAoaXRlbSA9PiBpdGVtLmJ1c2luZXNzTmFtZSkNCiAgICAgICAgPy5qb2luKCcsJykNCiAgICAgIGNvbnN0IG5vTWF0Y2hlZCA9IEFycmF5LmlzQXJyYXkodGhpcy5idXNpbmVzc0Z1bmN0aW9uQ29kZSkgPyB0aGlzLmJ1c2luZXNzRnVuY3Rpb25Db2RlLmpvaW4oJywnKSA6IHRoaXMuYnVzaW5lc3NGdW5jdGlvbkNvZGUNCiAgICAgIHJldHVybiBjdXJyZW50IHx8IG5vTWF0Y2hlZA0KICAgIH0sDQogICAgaXNTeCgpIHsgLy8g5Yik5pat5piv5LiN5piv6ZmV6KW/6aG555uuDQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pc1N4DQogICAgfQ0KICB9LA0KICBwcm9wczogew0KICAgIHRpdGxlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmVmbGVzaEtleTogRGF0ZS5ub3coKSwNCiAgICAgIHdhcm5UeXBlOiAnJywNCiAgICAgIHdhcm5UeXBlT3B0aW9uczogWw0KICAgICAgICB7IHZhbHVlOiAnMScsIGxhYmVsOiAn5rWB5ZCRJyB9LA0KICAgICAgICB7IHZhbHVlOiAnMicsIGxhYmVsOiAn5rWB6YCfJyB9LA0KICAgICAgICB7IHZhbHVlOiAnMycsIGxhYmVsOiAn5rWB6YePJyB9LA0KICAgICAgICB7IHZhbHVlOiAnNCcsIGxhYmVsOiAn5YW25LuWJyB9DQogICAgICBdLA0KICAgICAgdXBsb2FkRmlsZTogJycsDQogICAgICB1cGxvYWRGaWxlT3B0aW9uczogWw0KICAgICAgICB7IHZhbHVlOiAnMScsIGxhYmVsOiAn5pivJyB9LA0KICAgICAgICB7IHZhbHVlOiAnMCcsIGxhYmVsOiAn5ZCmJyB9DQogICAgICBdLA0KICAgICAgcmlnaHRUcmVlVmFsdWU6IFtdLA0KICAgICAgY29uZmlnSW46IHsNCiAgICAgICAgZGlzYWJsZWQ6IHRydWUNCiAgICAgIH0sDQogICAgICB0cmVlRGF0YTogW10sDQogICAgICBlZGl0Q29uZmlnOiB7DQogICAgICAgIHRyaWdnZXI6ICdkYmxjbGljaycsDQogICAgICAgIG1vZGU6ICdjZWxsJw0KICAgICAgfSwNCiAgICAgIGRpc2FibGVkOiBmYWxzZSwNCiAgICAgIGRpc2FibGVkQnVzaW5lc3NGdW5jdGlvbjogZmFsc2UsDQogICAgICB0b29sYmFyQ29uZmlnOiB7DQogICAgICAgIGJhdGNoTW9kaWZ5OiBmYWxzZSwNCiAgICAgICAgbW9uZXlDb252ZXJzaW9uOiBmYWxzZSwgLy8g5piv5ZCm5pyJ6YeR6aKd6L2s5o2iLA0KICAgICAgICBkaXNhYmxlZE1vbmV5Q29udmVyc2lvbjogZmFsc2UsDQogICAgICAgIGltcG9ydDogZmFsc2UsDQogICAgICAgIGNhbGN1bGF0b3I6IGZhbHNlLA0KICAgICAgICBzbG90czogew0KICAgICAgICAgIHRvb2xzOiAndG9vbGJhclRvb2xzJywNCiAgICAgICAgICBidXR0b25zOiAndG9vbGJhclNsb3RzJw0KICAgICAgICB9LA0KICAgICAgICBidXR0b25zOiBbDQogICAgICAgICAgeyBjb2RlOiAnc3VyZScsIG5hbWU6ICfnoa7lrponLCBzdGF0dXM6ICdwcmltYXJ5JywgY2FsbGJhY2s6IHRoaXMuc3VyZUJ1dHRvbiB9LA0KICAgICAgICAgIHsgY29kZTogJ2NhbmNlbCcsIG5hbWU6ICflj5bmtognLCBzdGF0dXM6ICcnLCBjYWxsYmFjazogdGhpcy5jYW5jZWxCdXR0b24gfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgcnVsZUZsYWc6IDEsDQogICAgICBydWxlRmxhZ09wdGlvbnM6IFsNCiAgICAgICAgeyB2YWx1ZTogMCwgbGFiZWw6ICfmiJYnIH0sDQogICAgICAgIHsgdmFsdWU6IDEsIGxhYmVsOiAn5LiUJyB9DQogICAgICBdLA0KICAgICAgd2FybkxvY2F0aW9uOiAzLA0KICAgICAgd2FybkxvY2F0aW9uT3B0aW9uczogWw0KICAgICAgICB7IHZhbHVlOiAxLCBsYWJlbDogJ+mXqOaItycgfSwNCiAgICAgICAgeyB2YWx1ZTogMiwgbGFiZWw6ICfmoLjnrpcnIH0sDQogICAgICAgIHsgdmFsdWU6IDMsIGxhYmVsOiAn5LiN5o+Q56S6JyB9DQogICAgICBdLA0KICAgICAgZWRpdFJ1bGVzSW46IHsNCiAgICAgICAgcGFyYW06IFt7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiAnZmxvYXQnLCB0cmlnZ2VyOiAnY2hhbmdlJywgbWVzc2FnZTogJ+ivt+i+k+WFpeinhOWImeWumuS5ieeahOWPguaVsOWAvCcgfV0NCiAgICAgIH0sDQogICAgICBidXR0b25Db25maWc6IHsNCiAgICAgICAgYnV0dG9uczogWw0KICAgICAgICAgIHsgY29kZTogJ3N1cmUnLCBuYW1lOiAn56Gu5a6aJywgc3RhdHVzOiAncHJpbWFyeScsIGNhbGxiYWNrOiB0aGlzLnN1cmVCdXR0b24gfSwNCiAgICAgICAgICB7IGNvZGU6ICdjYW5jZWwnLCBuYW1lOiAn5Y+W5raIJywgc3RhdHVzOiAnJywgY2FsbGJhY2s6IHRoaXMuY2FuY2VsQnV0dG9uIH0NCiAgICAgICAgXQ0KICAgICAgfSwNCiAgICAgIHRlbXBOb2RlczogW10sDQogICAgICByZWd1bGF0aW9uTW9kZWxOYW1lOiAnJywNCiAgICAgIHJlZ3VsYXRpb25Nb2RlbENvZGU6ICcnLA0KICAgICAgdGFibGVMb2FkaW5nOiBmYWxzZSwNCiAgICAgIG1vbml0b3JUYWJsZUNvbHVtbnNDb25maWc6IHByb2NvbmYubW9uaXRvclNldFRhYmxlQ29sdW1uc0NvbmZpZywNCiAgICAgIG9wZXJhdGlvblRhYmxlRGF0YTogW10sDQogICAgICB0YWJidG46IFsn5qih5p2/5L+h5oGvJywgJ+inhOWImeWumuS5iScsICfnmb3lkI3ljZUnLCAn55Sf5pWI6IyD5Zu0J10sDQogICAgICBydWxlU2V0U2hvdzogdHJ1ZSwNCiAgICAgIHJ1bGVEZXNTaG93OiBmYWxzZSwNCiAgICAgIGFwcFNldFNob3c6IGZhbHNlLA0KICAgICAgZWZmZWN0aXZlU2hvdzogZmFsc2UsDQogICAgICBhY3RpdmVJbmRleDogMCwNCiAgICAgIGNyVGVtcGxhdGU6ICcnLA0KICAgICAgbW9uaXRvclJ1bGVOYW1lOiAnJywNCiAgICAgIHJlZ3VsYXRpb25UeXBlOiAnJywNCiAgICAgIHF1aHVhOiAnJywNCiAgICAgIG1vdW50VGFibGVDb2x1bW5zQ29uZmlnOiBwcm9jb25mLm1vdW50VGFibGVDb2x1bW5zQ29uZmlnLA0KICAgICAgbW91bnRUYWJsZURhdGE6IFtdLA0KICAgICAgLy8gQnNRdWVyeSDmn6Xor6LmoI8NCiAgICAgIHF1ZXJ5Q29uZmlnOiBwcm9jb25mLnNldGhpZ2hRdWVyeUNvbmZpZywNCiAgICAgIHNlYXJjaERhdGFMaXN0OiBwcm9jb25mLnNldGhpZ2hRdWVyeURhdGEsDQogICAgICAvLyB0YWJsZSDphY3nva4NCiAgICAgIHRhYmxlQ29uZmlnOiB7DQogICAgICAgIHJlbmRlcmVyczogew0KICAgICAgICAgIC8vIOe8lui+kSDpmYTku7Yg5pON5L2c5pel5b+XDQogICAgICAgICAgJHBheVZvdWNoZXJJbnB1dEdsb2FibGVPcHRpb25Sb3c6IHByb2NvbmYuZ2xvYWJsZU9wdGlvblJvd01vbml0b3JSdWxlc1ZpZXcNCiAgICAgICAgfSwNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgIG9uT3B0aW9uUm93Q2xpY2s6IHRoaXMub25PcHRpb25Sb3dDbGljaw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgYnVzaW5lc3NNb2R1bGU6ICcnLA0KICAgICAgYnVzaW5lc3NNb2R1bGVvcHRpb25zOiBbDQogICAgICAgIHsgdmFsdWU6ICcxJywgbGFiZWw6ICc2MTAwMDAwMDAt6ZmV6KW/55yB5pys57qnJyB9LA0KICAgICAgICB7IHZhbHVlOiAnMicsIGxhYmVsOiAnNjEwMTAwMDAwLeilv+WuieW4guacrOe6pycgfSwNCiAgICAgICAgeyB2YWx1ZTogJzMnLCBsYWJlbDogJzYxMDEwMjAwMC3mlrDln47ljLrmnKznuqcnIH0sDQogICAgICAgIHsgdmFsdWU6ICc0JywgbGFiZWw6ICc2MTAxMDI5OTgt5paw5Z+O5Yy66L6W5Yy6JyB9DQogICAgICBdLA0KICAgICAgYnVzaW5lc3NGdW5jdGlvbjogJycsDQogICAgICBidXNpbmVzc0Z1bmN0aW9ub3B0aW9uczogWw0KICAgICAgICB7IHZhbHVlOiAnMScsIGxhYmVsOiAnMDAwMDAxLemihOeul+WkhOmihOeVmScgfSwNCiAgICAgICAgeyB2YWx1ZTogJzInLCBsYWJlbDogJzAwMTAwMS3nnIHnuqfotKLmlL/kuJPpobnotYTph5EnIH0sDQogICAgICAgIHsgdmFsdWU6ICczJywgbGFiZWw6ICc2MTAxMDIwMDAt5paw5Z+O5Yy65pys57qnJyB9LA0KICAgICAgICB7IHZhbHVlOiAnNCcsIGxhYmVsOiAnNjEwMTAyOTk4LeaWsOWfjuWMuui+luWMuicgfQ0KICAgICAgXSwNCiAgICAgIHdhcm5pbmdMZXZlbDogMSwNCiAgICAgIHdhcm5pbmdMZXZlbG9wdGlvbnM6IHRoaXMuJHN0b3JlLnN0YXRlLndhcm5JbmZvLndhcm5MZXZlbE9wdGlvbnMsDQogICAgICBoYW5kbGVUeXBlOiAxLA0KICAgICAgaGFuZGxlVHlwZW9wdGlvbnM6IHRoaXMuJHN0b3JlLnN0YXRlLndhcm5JbmZvLndhcm5Db250cm9sVHlwZU9wdGlvbnMsDQogICAgICBpc0VuYWJsZTogMCwNCiAgICAgIGlzRW5hYmxlb3B0aW9uczogWw0KICAgICAgICB7IHZhbHVlOiAwLCBsYWJlbDogJ+WQpicgfSwNCiAgICAgICAgeyB2YWx1ZTogMSwgbGFiZWw6ICfmmK8nIH0NCiAgICAgIF0sDQogICAgICBwb2xpY2llc05hbWU6ICcnLA0KICAgICAgcG9saWNpZXNEZXNjcmlwdGlvbjogJycsDQogICAgICBmaVJ1bGVEZXNjOiAnJywNCiAgICAgIGltcGxEZXNjOiAnJywNCiAgICAgIGRpYWxvZ1Zpc2libGU6IHRydWUsDQogICAgICBhZGRMb2FkaW5nOiBmYWxzZSwNCiAgICAgIHRva2VuOiAnJywNCiAgICAgIHNjb3BlOiBbXSwNCiAgICAgIGlzQ29udGludWl0eTogZmFsc2UsDQogICAgICAvLyDmlofku7bkuIrkvKDnm7jlhbPlj4LmlbANCiAgICAgIGZpbGVMaXN0OiBbXSwNCiAgICAgIGZpbGVEYXRhOiBbXSwNCiAgICAgIGZpbGVEYXRhQmFrRGVsOiBbXSwNCiAgICAgIGF0dGFjaG1lbnRJZDogJycsDQogICAgICBzaG93Ym94OiBmYWxzZSwNCiAgICAgIGJ1c2luZXNzU3lzdGVtQ29kZTogJycsDQogICAgICBidXNpbmVzc1N5c3RlbU5hbWU6ICcnLA0KICAgICAgYnVzaW5lc3NTeXN0ZW1Db2Rlb3B0aW9uczogW10sDQogICAgICBidXNpbmVzc01vZHVsZUNvZGU6ICcnLA0KICAgICAgYnVzaW5lc3NNb2R1bGVOYW1lOiAnJywNCiAgICAgIGJ1c2luZXNzTW9kdWxlQ29kZW9wdGlvbnM6IFtdLA0KICAgICAgYnVzaW5lc3NGdW5jdGlvbkNvZGU6IFtdLA0KICAgICAgYnVzaW5lc3NGdW5jdGlvbk5hbWU6ICcnLA0KICAgICAgYnVzaW5lc3NGdW5jdGlvbkNvZGVvcHRpb25zOiBbXSwNCiAgICAgIFN5c3BhcmVudElkOiAwLA0KICAgICAgTW9kcGFyZW50SWQ6IDAsDQogICAgICByZWd1bGF0aW9uQ2xhc3M6ICcnLA0KICAgICAgcmVndWxhdGlvbkNsYXNzb3B0aW9uczogW10sDQogICAgICB0cmlnZ2VyQ2xhc3M6IDEsDQogICAgICB0cmlnZ2VyQ2xhc3NvcHRpb25zOiBbDQogICAgICAgIHsgdmFsdWU6IDEsIGxhYmVsOiAn5LqL5Lit6Kem5Y+RJyB9LA0KICAgICAgICB7IHZhbHVlOiAyLCBsYWJlbDogJ+WumuaXtuinpuWPkScgfQ0KICAgICAgXSwNCiAgICAgIHRhYmxlVG9vbGJhckNvbmZpZzogew0KICAgICAgICAvLyB0YWJsZeW3peWFt+agj+mFjee9rg0KICAgICAgICBkaXNhYmxlZE1vbmV5Q29udmVyc2lvbjogZmFsc2UsDQogICAgICAgIG1vbmV5Q29udmVyc2lvbjogZmFsc2UsIC8vIOaYr+WQpuaciemHkeminei9rOaNog0KICAgICAgICBpbXBvcnQ6IGZhbHNlLCAvLyDlr7zlhaUNCiAgICAgICAgZXhwb3J0OiB0cnVlLCAvLyDlr7zlh7oNCiAgICAgICAgcHJpbnQ6IGZhbHNlLCAvLyDmiZPljbANCiAgICAgICAgem9vbTogdHJ1ZSwgLy8g57yp5pS+DQogICAgICAgIGN1c3RvbTogdHJ1ZSwgLy8g6YCJ6YWN5bGV56S65YiXDQogICAgICAgIHNsb3RzOiB7DQogICAgICAgICAgdG9vbHM6ICd0b29sYmFyVG9vbHMnLA0KICAgICAgICAgIGJ1dHRvbnM6ICd0b29sYmFyU2xvdHMnDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBkaXNhYmxlZFVwZGF0ZTogZmFsc2UsDQogICAgICBkZWZhdWx0Q2hlY2tlZEtleXM6IFtdLA0KICAgICAgcnVsZURpc2FibGVkOiBmYWxzZSwNCiAgICAgIGZvcm1JdGVtc0NvbmZpZ01lc3NhZ2U6IHByb2NvbmYuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZSwNCiAgICAgIHBheW1lbnRMZW46IDAsDQogICAgICBwYXltZW50RGF0YTogW10sDQogICAgICBmb3JtRGF0YXM6IHsNCiAgICAgICAgdXNlRGVzOiAnJywNCiAgICAgICAgcGF5ZWVBY2N0Tm86ICcnLA0KICAgICAgICBwYXllZUFjY3ROYW1lOiAnJw0KICAgICAgfSwNCiAgICAgIGZvcm1WYWxpZGF0aW9uQ29uZmlnTWVzc2FnZTogcHJvY29uZi5mb3JtVmFsaWRhdGlvbkNvbmZpZ01lc3NhZ2UsDQogICAgICByZWd1bGF0aW9uQ2xhc3NOYW1lOiAnJywNCiAgICAgIHNob3dEaWFsb2dWaWV3OiBmYWxzZSwNCiAgICAgIGlzU2hvd1J1bGV0eXBlOiBmYWxzZSwNCiAgICAgIHJ1bGV0eXBlb3B0aW9uczogW10sDQogICAgICBydWxldHlwZTogJycsDQogICAgICBydWxlVHlwZTogJycsDQogICAgICBzeDogdGhpcy4kc3RvcmUuZ2V0dGVycy5pc1N4LA0KICAgICAgZnVuY3Rpb25QYXJhbWV0ZXI6ICcnDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hvb3NlV2FybmluZ0xldmVsKHZhbCkgew0KICAgICAgaWYgKHZhbCA9PT0gMSkgew0KICAgICAgICB0aGlzLmhhbmRsZVR5cGUgPSAxDQogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gMikgew0KICAgICAgICB0aGlzLmhhbmRsZVR5cGUgPSAyDQogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gMykgew0KICAgICAgICB0aGlzLmhhbmRsZVR5cGUgPSAzDQogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gNCkgew0KICAgICAgICB0aGlzLmhhbmRsZVR5cGUgPSA0DQogICAgICB9DQogICAgfSwNCiAgICBjaG9vc2VUcmlnZ2VyQ2xhc3ModmFsKSB7DQogICAgICBpZiAodmFsID09PSAyKSB7DQogICAgICAgIHRoaXMud2FybmluZ0xldmVsID0gNA0KICAgICAgICB0aGlzLmhhbmRsZVR5cGUgPSA0DQogICAgICB9DQogICAgICBpZiAodmFsID09PSAxKSB7DQogICAgICAgIHRoaXMud2FybmluZ0xldmVsID0gMQ0KICAgICAgICB0aGlzLmhhbmRsZVR5cGUgPSAxDQogICAgICB9DQogICAgfSwNCiAgICBjaG9vc2VoYW5kbGVUeXBlKHZhbCkgew0KICAgICAgaWYgKHZhbCA9PT0gMSkgew0KICAgICAgICB0aGlzLndhcm5pbmdMZXZlbCA9IDENCiAgICAgIH0gZWxzZSBpZiAodmFsID09PSAyKSB7DQogICAgICAgIHRoaXMud2FybmluZ0xldmVsID0gMg0KICAgICAgfSBlbHNlIGlmICh2YWwgPT09IDMpIHsNCiAgICAgICAgdGhpcy53YXJuaW5nTGV2ZWwgPSAzDQogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gNCkgew0KICAgICAgICB0aGlzLndhcm5pbmdMZXZlbCA9IDQNCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbGVjdFJ1bGUodmFsKSB7DQogICAgICBsZXQgdmFsQXJyID0gdmFsLnNwbGl0KCcjIycpDQogICAgICB0aGlzLnJlZ3VsYXRpb25DbGFzc05hbWUgPSB2YWxBcnJbMl0NCiAgICB9LA0KICAgIC8vIOihqOagvOWNleWFg+ihjOWNleWHuw0KICAgIGNlbGxDbGljayhvYmosIGNvbnRleHQsIGUpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKCflj4LmlbAnLCAuLi5hcmd1bWVudHMpDQogICAgICBsZXQga2V5ID0gb2JqLmNvbHVtbi5wcm9wZXJ0eQ0KICAgICAgY29uc29sZS5sb2coa2V5LCBvYmoucm93KQ0KICAgICAgc3dpdGNoIChrZXkpIHsNCiAgICAgICAgLy8g55Sz6K+357yW5Y+3DQogICAgICAgIGNhc2UgJ2Z1bmN0aW9uUGFyYW1ldGVyJzoNCiAgICAgICAgICB0aGlzLnNob3dQYXJhbWV0ZXIob2JqLnJvdykNCiAgICAgICAgICBicmVhaw0KICAgICAgfQ0KICAgIH0sDQogICAgc2hvd1BhcmFtZXRlcihyb3cpIHsNCiAgICAgIHRoaXMuZnVuY3Rpb25QYXJhbWV0ZXIgPSByb3cuZnVuY3Rpb25QYXJhbWV0ZXINCiAgICAgIHRoaXMuc2hvd0RpYWxvZ1ZpZXcgPSB0cnVlDQogICAgfSwNCiAgICBmb3JtSXRlbUNoYW5nZShvYmopIHsNCiAgICAgIGlmIChvYmoucHJvcGVydHkgPT09ICdwYXltZW50Jykgew0KICAgICAgICBsZXQgZGF0YSA9IG9iai5pdGVtVmFsdWUgPyBvYmouaXRlbVZhbHVlLnNwbGl0KCcsJykgOiAnJw0KICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZVswXS5pdGVtUmVuZGVyLm9wdGlvbnMNCiAgICAgICAgdGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlLnNwbGljZSgxLCB0aGlzLnBheW1lbnRMZW4pDQogICAgICAgIGlmICh0aGlzLnBheW1lbnREYXRhKSB7DQogICAgICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgdGhpcy5wYXltZW50TGVuKSB7DQogICAgICAgICAgICB0aGlzLnBheW1lbnREYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgIGlmIChkYXRhLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtRGF0YXNbdGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlWzBdLml0ZW1SZW5kZXIub3B0aW9uc1tpdGVtXS5uYW1lICsgJ19fdmlld1NvcnQnXSA9ICcnDQogICAgICAgICAgICAgICAgdGhpcy5mb3JtRGF0YXNbdGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlWzBdLml0ZW1SZW5kZXIub3B0aW9uc1tpdGVtXS5uYW1lICsgJ2NvZGUnXSA9ICcnDQogICAgICAgICAgICAgICAgdGhpcy5mb3JtRGF0YXNbdGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlWzBdLml0ZW1SZW5kZXIub3B0aW9uc1tpdGVtXS5uYW1lICsgJ2NvZGVfX211bHRpcGxlJ10gPSBbXQ0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybURhdGFzW3RoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZVswXS5pdGVtUmVuZGVyLm9wdGlvbnNbaXRlbV0ubmFtZSArICdpZCddID0gJycNCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1EYXRhc1t0aGlzLmZvcm1JdGVtc0NvbmZpZ01lc3NhZ2VbMF0uaXRlbVJlbmRlci5vcHRpb25zW2l0ZW1dLm5hbWUgKyAnaWRfX211bHRpcGxlJ10gPSBbXQ0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybURhdGFzW3RoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZVswXS5pdGVtUmVuZGVyLm9wdGlvbnNbaXRlbV0ubmFtZSArICduYW1lJ10gPSAnJw0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybURhdGFzW3RoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZVswXS5pdGVtUmVuZGVyLm9wdGlvbnNbaXRlbV0ubmFtZSArICduYW1lX19tdWx0aXBsZSddID0gW10NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5wYXltZW50RGF0YSA9IGRhdGENCiAgICAgICAgdGhpcy5wYXltZW50TGVuID0gZGF0YS5sZW5ndGgNCiAgICAgICAgbGV0IGRhdGFzID0ge30NCiAgICAgICAgZGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgIGlmIChpdGVtID09PSAnMScpIHsNCiAgICAgICAgICAgIGRhdGFzID0gdGhpcy5jcmVhdGVQcm8oY29udGVudFtpdGVtXSwgZmFsc2UpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGRhdGFzID0gdGhpcy5jcmVhdGVPYmooY29udGVudFtpdGVtXSwgZmFsc2UpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZS5zcGxpY2UoMSArIGluZGV4LCAwLCBkYXRhcykNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZVBybyhvYmosIGRpc2FibGVkKSB7DQogICAgICBsZXQgYXhpb3NDb25maWcgPSB7DQogICAgICAgIG1ldGhvZDogJ3Bvc3QnLA0KICAgICAgICB1cmw6ICdsYXJnZS1tb25pdG9yLXBsYXRmb3JtL2xtcC9lbGVtZW50UXVlcnkvZWxlbWVudHRyZWUnLA0KICAgICAgICBzdWNjZXNzQ29kZTogJzAwMDAwMCcsIC8vIOaIkOWKn2NvZGUNCiAgICAgICAgc3RhdHVzRmllbGQ6ICdjb2RlJw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuaXNTeCkgew0KICAgICAgICBheGlvc0NvbmZpZyA9IHsNCiAgICAgICAgICBtZXRob2Q6ICdnZXQnLA0KICAgICAgICAgIHVybDoNCiAgICAgICAgICAgICdtcC1iLWJhc2VkYXRhLXNlcnZpY2UvdjIvYmFzZWRhdGEvcGFnZScNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgaW5zZXJ0TWFyazogb2JqLmxhYmVsLA0KICAgICAgICBpc05ldzogdHJ1ZSwNCiAgICAgICAgdGl0bGU6IG9iai5sYWJlbCwNCiAgICAgICAgZmllbGQ6IG9iai5uYW1lLA0KICAgICAgICBhbGlnbjogJ2xlZnQnLA0KICAgICAgICB0aXRsZV9fdmlld1NvcnQ6IG9iai5sYWJlbCwNCiAgICAgICAgZmllbGRfX3ZpZXdTb3J0OiBvYmoubmFtZSwNCiAgICAgICAgbmFtZTogJyR2eGVUcmVlJywNCiAgICAgICAgaXRlbVJlbmRlcjogew0KICAgICAgICAgIG5hbWU6ICckdnhlVHJlZScsDQogICAgICAgICAgb3B0aW9uczogW10sDQogICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgIGNvbmZpZzogew0KICAgICAgICAgICAgICB0cmVlUHJvcHM6IHsNCiAgICAgICAgICAgICAgICBsYWJlbEZvcm1hdDogJ3tjb2RlfS17bmFtZX0nLA0KICAgICAgICAgICAgICAgIG5vZGVLZXk6ICdjb2RlJywNCiAgICAgICAgICAgICAgICBsYWJlbDogJ25hbWUnLA0KICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nIC8vIOWtkOe6p+Wtl+auteWQjQ0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogYOivt+mAieaLqSR7b2JqLmxhYmVsfWAsDQogICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLA0KICAgICAgICAgICAgICBkaXNhYmxlZCwNCiAgICAgICAgICAgICAgaXNsZWFmOiBmYWxzZSwNCiAgICAgICAgICAgICAgYXhpb3NDb25maWc6IGF4aW9zQ29uZmlnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcXVlcnlwYXJhbXM6IHsNCiAgICAgICAgICAgICAgZWxlbWVudENvZGU6ICdwcm8nLA0KICAgICAgICAgICAgICBjb25kaXRpb246ICcnLA0KICAgICAgICAgICAgICB5ZWFyOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby55ZWFyLA0KICAgICAgICAgICAgICBwcm92aW5jZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8ucHJvdmluY2UsDQogICAgICAgICAgICAgIGxpbWl0OiAyMDAwLA0KICAgICAgICAgICAgICBvZmZzZXQ6IDENCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZU9iaihvYmosIGRpc2FibGVkKSB7DQogICAgICBsZXQgYXhpb3NDb25maWcgPSB7DQogICAgICAgIG1ldGhvZDogJ3Bvc3QnLA0KICAgICAgICAvLyB1cmw6IGBtcC1iLWJhc2VkYXRhLXNlcnZpY2UvdjIvZWxldmFsdWVzZXQvdmlldy9qc3RyZWVkYXRhLyR7b2JqLnVybEN9YA0KICAgICAgICB1cmw6ICdsYXJnZS1tb25pdG9yLXBsYXRmb3JtL2xtcC9lbGVtZW50UXVlcnkvZWxlbWVudHRyZWUnLA0KICAgICAgICBzdWNjZXNzQ29kZTogJzAwMDAwMCcsIC8vIOaIkOWKn2NvZGUNCiAgICAgICAgc3RhdHVzRmllbGQ6ICdjb2RlJw0KICAgICAgfQ0KICAgICAgbGV0IHRyZWVDb25maWcgPSB7DQogICAgICAgIG5vZGVLZXk6ICdpZCcsDQogICAgICAgIGxhYmVsOiAne25hbWV9JywNCiAgICAgICAgbGFiZWxGb3JtYXQ6ICd7Y29kZX0te25hbWV9JywNCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicgLy8g5a2Q57qn5a2X5q615ZCNDQogICAgICB9DQogICAgICBpZiAodGhpcy5pc1N4KSB7DQogICAgICAgIGF4aW9zQ29uZmlnID0gew0KICAgICAgICAgIG1ldGhvZDogJ2dldCcsDQogICAgICAgICAgdXJsOiBgbXAtYi1iYXNlZGF0YS1zZXJ2aWNlL3YyL2VsZXZhbHVlc2V0L3ZpZXcvanN0cmVlZGF0YS8ke29iai51cmxDfWANCiAgICAgICAgfQ0KICAgICAgICB0cmVlQ29uZmlnID0gew0KICAgICAgICAgIG5vZGVLZXk6ICdpZCcsDQogICAgICAgICAgbGFiZWw6ICd0ZXh0JywNCiAgICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJyAvLyDlrZDnuqflrZfmrrXlkI0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgaW5zZXJ0TWFyazogb2JqLmxhYmVsLA0KICAgICAgICBpc05ldzogdHJ1ZSwNCiAgICAgICAgdGl0bGU6IG9iai5sYWJlbCwNCiAgICAgICAgZmllbGQ6IG9iai5uYW1lLA0KICAgICAgICBhbGlnbjogJ2xlZnQnLA0KICAgICAgICB0aXRsZV9fdmlld1NvcnQ6IG9iai5sYWJlbCwNCiAgICAgICAgZmllbGRfX3ZpZXdTb3J0OiBvYmoubmFtZSwNCiAgICAgICAgbmFtZTogJyR2eGVUcmVlJywNCiAgICAgICAgaXRlbVJlbmRlcjogew0KICAgICAgICAgIG5hbWU6ICckdnhlVHJlZScsDQogICAgICAgICAgb3B0aW9uczogW10sDQogICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgIGNvbmZpZzogew0KICAgICAgICAgICAgICB0cmVlUHJvcHM6IHRyZWVDb25maWcsDQogICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBg6K+36YCJ5oupJHtvYmoubGFiZWx9YCwNCiAgICAgICAgICAgICAgZGlzYWJsZWQsDQogICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLA0KICAgICAgICAgICAgICBpc2xlYWY6IGZhbHNlLA0KICAgICAgICAgICAgICBheGlvc0NvbmZpZzogYXhpb3NDb25maWcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBxdWVyeXBhcmFtczogew0KICAgICAgICAgICAgICBlbGVtZW50Q29kZTogb2JqLnVybEMsDQogICAgICAgICAgICAgIGRhdGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnllYXIsDQogICAgICAgICAgICAgIHRva2VuaWQ6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TG9naW5BdXRoZW50aWNhdGlvbi50b2tlbmlkLA0KICAgICAgICAgICAgICBhcHBndWlkOiAnYXBhYXMnLA0KICAgICAgICAgICAgICB5ZWFyOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby55ZWFyLA0KICAgICAgICAgICAgICBtb2ZEaXZDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby5wcm92aW5jZSwNCiAgICAgICAgICAgICAgcGFyYW1ldGVyczoge30NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHJlc2V0Rm9ybURhdGFMaXN0TWVzc2FnZSgpIHsNCiAgICAgIGxldCBwYXltZW50c0FyciA9IFsnbW9uaXRvcmUnLCAnYWdlbmN5X2NvZGUnLCAncHJvX25hbWUnLCAnYmd0X3R5cGVfY29kZScsICdiZ3Rfc291cmNlX2NvZGUnLCAnZ292X2JndF9lY29fY29kZScsICdleHBfZnVuY19jb2RlJywgJ2Nvcl9iZ3RfZG9jX25vX25hbWUnXQ0KICAgICAgcGF5bWVudHNBcnIuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgdGhpcy5mb3JtRGF0YXNbaXRlbSArICdfX3ZpZXdTb3J0J10gPSAnJw0KICAgICAgICB0aGlzLmZvcm1EYXRhc1tpdGVtICsgJ2NvZGUnXSA9ICcnDQogICAgICAgIHRoaXMuZm9ybURhdGFzW2l0ZW0gKyAnY29kZV9fbXVsdGlwbGUnXSA9IFtdDQogICAgICAgIHRoaXMuZm9ybURhdGFzW2l0ZW0gKyAnaWQnXSA9ICcnDQogICAgICAgIHRoaXMuZm9ybURhdGFzW2l0ZW0gKyAnaWRfX211bHRpcGxlJ10gPSBbXQ0KICAgICAgICB0aGlzLmZvcm1EYXRhc1tpdGVtICsgJ25hbWUnXSA9ICcnDQogICAgICAgIHRoaXMuZm9ybURhdGFzW2l0ZW0gKyAnbmFtZV9fbXVsdGlwbGUnXSA9IFtdDQogICAgICB9KQ0KICAgICAgdGhpcy5mb3JtRGF0YXMucGF5bWVudCA9IFtdDQogICAgICB0aGlzLmZvcm1EYXRhcy5wYXltZW50X19tdWx0aXBsZSA9IFtdDQogICAgICB0aGlzLmZvcm1EYXRhcy5hZ2VuY3lfY29kZSA9IFtdDQogICAgICB0aGlzLmZvcm1EYXRhcy5wcm9fbmFtZSA9IFtdDQogICAgICB0aGlzLmZvcm1EYXRhcy5nb3ZfYmd0X2Vjb19jb2RlID0gW10NCiAgICAgIHRoaXMuZm9ybURhdGFzLmV4cF9mdW5jX2NvZGUgPSBbXQ0KICAgICAgdGhpcy5mb3JtRGF0YXMuY29yX2JndF9kb2Nfbm9fbmFtZSA9IFtdDQogICAgICB0aGlzLmZvcm1EYXRhcy5kZXBfYmd0X2Vjb19jb2RlID0gW10NCiAgICB9LA0KICAgIHN1cmVCdXR0b24oKSB7DQogICAgICBsZXQgdGhhdCA9IHRoaXMNCiAgICAgIGxldCBkYXRhcyA9IHRoaXMuJHJlZnMubW9uaXRvclRhYmxlUmVmLmdldFNlbGVjdGlvbkRhdGEoKQ0KICAgICAgaWYgKGRhdGFzLmxlbmd0aCAhPT0gMSkgew0KICAgICAgICB0aGlzLiRYTW9kYWwubWVzc2FnZSh7IHN0YXR1czogJ3dhcm5pbmcnLCBtZXNzYWdlOiAn6K+36YCJ5oup5LiA5p2h5pWw5o2u5pWw5o2u77yBJyB9KQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGNvbnNvbGUubG9nKGRhdGFzKQ0KICAgICAgdGhpcy5jclRlbXBsYXRlID0gZGF0YXNbMF0ucnVsZVRlbXBsYXRlTmFtZQ0KICAgICAgdGhpcy5idXNpbmVzc01vZHVsZSA9IGRhdGFzWzBdLmJ1c2luZXNzTW9kdWxlTmFtZQ0KICAgICAgdGhpcy5idXNpbmVzc0Z1bmN0aW9uID0gZGF0YXNbMF0uYnVzaW5lc3NGdW5jdGlvbk5hbWUNCiAgICAgIHRoaXMucmVndWxhdGlvbk1vZGVsQ29kZSA9IGRhdGFzWzBdLnJ1bGVUZW1wbGF0ZUNvZGUNCiAgICAgIC8vIHRoaXMucmVndWxhdGlvbk1vZGVsTmFtZSA9IGRhdGFzWzBdDQogICAgICB0aGlzLnJ1bGVTZXRTaG93ID0gZmFsc2UNCiAgICAgIHRoaXMucnVsZURlc1Nob3cgPSB0cnVlDQogICAgICB0aGlzLmFwcFNldFNob3cgPSBmYWxzZQ0KICAgICAgdGhpcy5lZmZlY3RpdmVTaG93ID0gZmFsc2UNCiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAxDQogICAgICBsZXQgZGF0YXMxID0gdGhpcy4kcmVmcy5tb3VudFRhYmxlUmVmLmdldFNlbGVjdGlvbkRhdGEoKQ0KICAgICAgY29uc29sZS5sb2coZGF0YXMxKQ0KICAgICAgSHR0cE1vZHVsZS5nZXRUZW1wbGF0ZUJ5Q29kZSh7IHJ1bGVUZW1wbGF0ZUNvZGU6IGRhdGFzWzBdLnJ1bGVUZW1wbGF0ZUNvZGUgfSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwMDAwMDAnKSB7DQogICAgICAgICAgcmVzLmRhdGEuZnVuY3Rpb25JbmZvTGlzdC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgbGV0IHRlbXBPYmogPSB7DQogICAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJycsDQogICAgICAgICAgICAgIGZ1bmN0aW9uQ29kZTogJycsDQogICAgICAgICAgICAgIHJlbGF0aW9uOiAnMScsDQogICAgICAgICAgICAgIHBhcmFtVHlwZTogJzEnLA0KICAgICAgICAgICAgICBwYXJhbTogJycNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRlbXBPYmouZnVuY3Rpb25OYW1lID0gaXRlbS5mdW5jdGlvbk5hbWUNCiAgICAgICAgICAgIHRlbXBPYmouZnVuY3Rpb25Db2RlID0gaXRlbS5mdW5jdGlvbkNvZGUNCiAgICAgICAgICAgIHRoYXQubW91bnRUYWJsZURhdGEucHVzaCh0ZW1wT2JqKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhhdC4kbWVzc2FnZS53YXJuaW5nKCfliqDovb3lpLHotKUnKQ0KICAgICAgICB9DQogICAgICAgIHRoYXQudGFibGVMb2FkaW5nID0gZmFsc2UNCiAgICAgIH0pDQogICAgICBjb25zb2xlLmxvZyhkYXRhcykNCiAgICB9LA0KICAgIGNhbmNlbEJ1dHRvbigpIHsgY29uc29sZS5sb2coJ+WPlua2iCcsIHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5mX0Z1bGxOYW1lLnN1YnN0cmluZygwLCAzKSkgfSwNCiAgICAvLyB0YWLliIfmjaINCiAgICB0YWJDbGljayhpbmRleCkgew0KICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4DQogICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gMCkgew0KICAgICAgICB0aGlzLnJ1bGVTZXRTaG93ID0gdHJ1ZQ0KICAgICAgICB0aGlzLnJ1bGVEZXNTaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy5hcHBTZXRTaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy5lZmZlY3RpdmVTaG93ID0gZmFsc2UNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gMSkgew0KICAgICAgICB0aGlzLnJ1bGVTZXRTaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy5ydWxlRGVzU2hvdyA9IHRydWUNCiAgICAgICAgdGhpcy5hcHBTZXRTaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy5lZmZlY3RpdmVTaG93ID0gZmFsc2UNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gMikgew0KICAgICAgICB0aGlzLnJ1bGVTZXRTaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy5ydWxlRGVzU2hvdyA9IGZhbHNlDQogICAgICAgIHRoaXMuYXBwU2V0U2hvdyA9IHRydWUNCiAgICAgICAgdGhpcy5lZmZlY3RpdmVTaG93ID0gZmFsc2UNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gMykgew0KICAgICAgICB0aGlzLnJ1bGVTZXRTaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy5ydWxlRGVzU2hvdyA9IGZhbHNlDQogICAgICAgIHRoaXMuYXBwU2V0U2hvdyA9IGZhbHNlDQogICAgICAgIHRoaXMuZWZmZWN0aXZlU2hvdyA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gNCkgew0KICAgICAgICB0aGlzLnJ1bGVTZXRTaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy5ydWxlRGVzU2hvdyA9IGZhbHNlDQogICAgICAgIHRoaXMuYXBwU2V0U2hvdyA9IGZhbHNlDQogICAgICAgIHRoaXMuZWZmZWN0aXZlU2hvdyA9IGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBnZXRUYWJsZURhdGEodmFsKSB7DQogICAgICBsZXQgdGhhdCA9IHRoaXMNCiAgICAgIGNvbnNvbGUubG9nKCdnZXRUYWJsZURhdGEnLCB0aGF0LnNlYXJjaERhdGFMaXN0KQ0KICAgICAgdGhhdC50YWJsZUxvYWRpbmcgPSB0cnVlDQogICAgICBsZXQgcGFyYW0gPSB7DQogICAgICAgIHBhZ2U6IDEsDQogICAgICAgIHBhZ2VTaXplOiA1MDAsDQogICAgICAgIC4uLnRoYXQuc2VhcmNoRGF0YUxpc3QNCiAgICAgIH0NCiAgICAgIEh0dHBNb2R1bGUuZ2V0UGFnZVF1ZXJ5KHBhcmFtKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAwMDAwMCcgJiYgcmVzLmRhdGEucmVzdWx0cykgew0KICAgICAgICAgIHRoYXQub3BlcmF0aW9uVGFibGVEYXRhID0gcmVzLmRhdGEucmVzdWx0cw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uud2FybmluZygn5Yqg6L295aSx6LSlJykNCiAgICAgICAgfQ0KICAgICAgICB0aGF0LnRhYmxlTG9hZGluZyA9IGZhbHNlDQogICAgICB9KQ0KICAgIH0sDQogICAgb25Ob2RlQ2hlY2tDbGljayhkYXRhKSB7DQogICAgICBjb25zb2xlLmxvZyhkYXRhLm5vZGVzKQ0KICAgICAgbGV0IGFyciA9IFtdDQoNCiAgICAgIGxldCByZWd1bGF0aW9uVHlwZSA9IHRoaXMucmVndWxhdGlvblR5cGUNCiAgICAgIGlmIChyZWd1bGF0aW9uVHlwZSA9PT0gJ+ezu+e7n+e6pycpIHsNCiAgICAgICAgZGF0YS5ub2Rlcy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIGlmIChpdGVtLmlzbGVhZikgew0KICAgICAgICAgICAgbGV0IG9iaiA9IHsNCiAgICAgICAgICAgICAgbW9mRGl2Q29kZTogJycsDQogICAgICAgICAgICAgIGFnZW5jeUNvZGU6ICcnLA0KICAgICAgICAgICAgICBtb2ZEaXY6ICcnDQogICAgICAgICAgICB9DQogICAgICAgICAgICBvYmoubW9mRGl2SWQgPSBpdGVtLmlkDQogICAgICAgICAgICBvYmoubW9mRGl2Q29kZSA9IGl0ZW0uY29kZQ0KICAgICAgICAgICAgYXJyLnB1c2gob2JqKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSBpZiAocmVndWxhdGlvblR5cGUgPT09ICfpg6jpl6jnuqcnKSB7DQogICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS5pc2xlYWYpIHsNCiAgICAgICAgICAgIGxldCBvYmogPSB7DQogICAgICAgICAgICAgIG1vZkRpdkNvZGU6ICcnLA0KICAgICAgICAgICAgICBhZ2VuY3lDb2RlOiAnJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgb2JqLmFnZW5jeUNvZGUgPSBpdGVtLmNvZGUNCiAgICAgICAgICAgIGFyci5wdXNoKG9iaikNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9IGVsc2UgaWYgKHJlZ3VsYXRpb25UeXBlID09PSAn6LSi5pS/57qnJykgew0KICAgICAgICBkYXRhLm5vZGVzLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgaWYgKGl0ZW0uaXNsZWFmKSB7DQogICAgICAgICAgICBsZXQgb2JqID0gew0KICAgICAgICAgICAgICBtb2ZEaXZDb2RlOiAnJywNCiAgICAgICAgICAgICAgYWdlbmN5Q29kZTogJycNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG9iai5tb2ZEaXZDb2RlID0gaXRlbS5jb2RlDQogICAgICAgICAgICBhcnIucHVzaChvYmopDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2coJ2FycicsIGFycikNCiAgICAgIHRoaXMuc2NvcGUgPSBhcnINCiAgICB9LA0KICAgIGdldENoaWxkcmVuTmV3RGF0YShkYXRhcykgew0KICAgICAgbGV0IHRoYXQgPSB0aGlzDQogICAgICBkYXRhcy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBpdGVtLmxhYmVsID0gaXRlbS50ZXh0DQogICAgICAgIGl0ZW0uZ3VpZCA9IGl0ZW0uaWQNCiAgICAgICAgaXRlbS5uYW1lID0gaXRlbS50ZXh0DQogICAgICAgIGl0ZW0uY29kZSA9IGl0ZW0uaWQNCiAgICAgICAgaXRlbS5kaXNhYmxlZCA9IHRydWUNCiAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsNCiAgICAgICAgICB0aGF0LmdldENoaWxkcmVuTmV3RGF0YShpdGVtLmNoaWxkcmVuKQ0KICAgICAgICB9DQogICAgICB9KQ0KDQogICAgICByZXR1cm4gZGF0YXMNCiAgICB9LA0KICAgIHNlYXJjaChvYmopIHsNCiAgICAgIGNvbnNvbGUubG9nKG9iaikNCiAgICAgIHRoaXMuc2VhcmNoRGF0YUxpc3QucnVsZVRlbXBsYXRlTmFtZSA9IG9iai5ydWxlVGVtcGxhdGVOYW1lDQogICAgICB0aGlzLnNlYXJjaERhdGFMaXN0LmJ1c2luZXNzU3lzdGVtQ29kZSA9IG9iai5idXNpbmVzc1N5c3RlbV9jb2RlDQogICAgICB0aGlzLnNlYXJjaERhdGFMaXN0LmJ1c2luZXNzTW9kdWxlQ29kZSA9IG9iai5idXNpbmVzc01vZHVsZV9jb2RlDQogICAgICB0aGlzLnNlYXJjaERhdGFMaXN0LmJ1c2luZXNzRnVuY3Rpb25Db2RlID0gb2JqLmJ1c2luZXNzRnVuY3Rpb25fY29kZQ0KICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKQ0KICAgIH0sDQogICAgLy8g6auY57qn5p+l6K+i5LiL5ouJ5qGGDQogICAgaXRlbUNoYW5nZShvYmosIGZvcm0pIHsNCiAgICAgIGNvbnNvbGUubG9nKG9iaiwgZm9ybSkNCiAgICAgIGlmIChvYmoucHJvcGVydHkgPT09ICdidXNpbmVzc1N5c3RlbScpIHsNCiAgICAgICAgdGhpcy5nZXRCdXNpbmVzc01vZGVsQ29kZURhdGFzKHsgYnVzaW5lc3NUeXBlOiAnMicsIHBhcmVudElkOiBvYmoubm9kZS5pZCB9KQ0KICAgICAgfQ0KICAgICAgaWYgKG9iai5wcm9wZXJ0eSA9PT0gJ2J1c2luZXNzTW9kdWxlJykgew0KICAgICAgICB0aGlzLmdldEJ1c2luZXNzTW9kZWxDb2RlRGF0YXMoeyBidXNpbmVzc1R5cGU6ICczJywgcGFyZW50SWQ6IG9iai5ub2RlLmlkIH0pDQogICAgICB9DQogICAgfSwNCiAgICBnZXRDaGlsZHJlbkRhdGEoZGF0YXMpIHsNCiAgICAgIGxldCB0aGF0ID0gdGhpcw0KICAgICAgZGF0YXMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaXRlbS5jb2RlID0gaXRlbS5pZA0KICAgICAgICBpdGVtLm5hbWUgPSBpdGVtLmJ1c2luZXNzTmFtZQ0KICAgICAgICBpdGVtLmxhYmVsID0gaXRlbS5pZCArICctJyArIGl0ZW0uYnVzaW5lc3NOYW1lDQogICAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7DQogICAgICAgICAgdGhhdC5nZXRDaGlsZHJlbkRhdGEoaXRlbS5jaGlsZHJlbikNCiAgICAgICAgfQ0KICAgICAgfSkNCg0KICAgICAgcmV0dXJuIGRhdGFzDQogICAgfSwNCiAgICAvLyAvLyDojrflj5bkuJrliqHmqKHlnZcNCiAgICBnZXRCdXNpbmVzc01vZGVsQ29kZURhdGFzKHZhbCkgew0KICAgICAgbGV0IHRoYXQgPSB0aGlzDQogICAgICBIdHRwTW9kdWxlLmdldEJ1c2luZXNzVHJlZURhdGEodmFsKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAwMDAwMCcgJiYgcmVzLmRhdGEucmVzdWx0cykgew0KICAgICAgICAgIGxldCB0cmVlUmVzZGF0YSA9IHRoYXQuZ2V0Q2hpbGRyZW5EYXRhKHJlcy5kYXRhLnJlc3VsdHMpDQogICAgICAgICAgY29uc3QgcmVzdWx0ID0gWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBpZDogJ3Jvb3QnLA0KICAgICAgICAgICAgICBsYWJlbDogJ+WFqOmDqCcsDQogICAgICAgICAgICAgIGNvZGU6ICdyb290JywNCiAgICAgICAgICAgICAgbmFtZTogJ+WFqOmDqCcsDQogICAgICAgICAgICAgIGlzbGVhZjogJzAnLA0KICAgICAgICAgICAgICBjaGlsZHJlbjogdHJlZVJlc2RhdGENCiAgICAgICAgICAgIH0NCiAgICAgICAgICBdDQogICAgICAgICAgaWYgKHZhbC5idXNpbmVzc1R5cGUgPT09ICcxJykgew0KICAgICAgICAgICAgdGhhdC5xdWVyeUNvbmZpZy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICBpZiAoaXRlbS5maWVsZCA9PT0gJ2J1c2luZXNzU3lzdGVtJykgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQnLCByZXN1bHQpDQogICAgICAgICAgICAgICAgaXRlbS5pdGVtUmVuZGVyLm9wdGlvbnMgPSByZXN1bHQNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9IGVsc2UgaWYgKHZhbC5idXNpbmVzc1R5cGUgPT09ICcyJykgew0KICAgICAgICAgICAgdGhhdC5xdWVyeUNvbmZpZy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICBpZiAoaXRlbS5maWVsZCA9PT0gJ2J1c2luZXNzTW9kdWxlJykgew0KICAgICAgICAgICAgICAgIGl0ZW0uaXRlbVJlbmRlci5vcHRpb25zID0gcmVzdWx0DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSBlbHNlIGlmICh2YWwuYnVzaW5lc3NUeXBlID09PSAnMycpIHsNCiAgICAgICAgICAgIHRoYXQucXVlcnlDb25maWcuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgaWYgKGl0ZW0uZmllbGQgPT09ICdidXNpbmVzc0Z1bmN0aW9uJykgew0KICAgICAgICAgICAgICAgIGl0ZW0uaXRlbVJlbmRlci5vcHRpb25zID0gcmVzdWx0DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uud2FybmluZygn5Yqg6L295aSx6LSlJykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRpYWxvZ0Nsb3NlKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5wYXltZW50TGVuKQ0KICAgICAgdGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlLnNwbGljZSgxLCB0aGlzLnBheW1lbnRMZW4pDQogICAgICB0aGlzLnBheW1lbnRMZW4gPSAwDQogICAgICBsZXQgZm9ybSA9IHRoaXMuJHJlZnMubWVzc2FnZUZvcm0NCiAgICAgIGZvcm0uY2xlYXJWYWxpZGF0ZSgpDQogICAgICB0aGlzLnJlc2V0Rm9ybURhdGFMaXN0TWVzc2FnZSgpDQogICAgICB0aGlzLiRwYXJlbnQuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICB0aGlzLiRwYXJlbnQucXVlcnlUYWJsZURhdGFzKCkNCiAgICB9LA0KICAgIC8vIOWkhOeQhuWtl+espuS4sg0KICAgIGRlYWx3aXRoU3RyKHN0cikgew0KICAgICAgbGV0IHJlc3VsdCA9ICcnDQogICAgICBpZiAoc3RyKSB7DQogICAgICAgIGlmIChzdHIuc3Vic3RyaW5nKHN0ci5sZW5ndGggLSA3KSA9PT0gJzAwMDAwMDAnKSB7DQogICAgICAgICAgcmVzdWx0ID0gJzYxJw0KICAgICAgICB9IGVsc2UgaWYgKHN0ci5zdWJzdHJpbmcoc3RyLmxlbmd0aCAtIDUpID09PSAnMDAwMDAnKSB7DQogICAgICAgICAgcmVzdWx0ID0gc3RyLnN1YnN0cmluZygwLCA0KQ0KICAgICAgICB9IGVsc2UgaWYgKHN0ci5zdWJzdHJpbmcoc3RyLmxlbmd0aCAtIDMpID09PSAnMDAwJykgew0KICAgICAgICAgIHJlc3VsdCA9IHN0ci5zdWJzdHJpbmcoMCwgNikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXN1bHQgPSBzdHINCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzdWx0DQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5bnlJ/mlYjojIPlm7QNCiAgICBnZXRXaGVyZVRyZWUoKSB7DQogICAgICB0aGlzLmRlZmF1bHRDaGVja2VkS2V5cyA9IFtdDQogICAgICAvLyBsZXQgdGhhdCA9IHRoaXMNCiAgICAgIGxldCByZXN1bHQgPSB0aGlzLmRlYWx3aXRoU3RyKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnByb3ZpbmNlKQ0KICAgICAgLy8gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8ub3JnQ29kZQ0KICAgICAgbGV0IHBhcmFtID0gew0KICAgICAgICB3aGVyZXNxbDogJ2FuZCBjb2RlIGxpa2UgXCcnICsgcmVzdWx0ICsgJyVcJycsDQogICAgICAgIGVsZW1lbnRDb2RlOiAnYWRtZGl2JywNCiAgICAgICAgLy8gZWxlbWVudENvZGU6ICdBR0VOQ1knLA0KICAgICAgICB5ZWFyOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby55ZWFyLA0KICAgICAgICBwcm92aW5jZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8ucHJvdmluY2UNCiAgICAgIH0NCiAgICAgIGxldCByZWd1bGF0aW9uVHlwZSA9IHRoaXMucmVndWxhdGlvblR5cGUNCiAgICAgIGlmIChyZWd1bGF0aW9uVHlwZSA9PT0gJ+mDqOmXqOe6pycpIHsNCiAgICAgICAgcGFyYW0uZWxlbWVudENvZGUgPSAnREVQQVJUTUVOVCcNCiAgICAgICAgcGFyYW0ud2hlcmVzcWwgPSAnYW5kIGNvZGUgbGlrZSBcJycgKyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby5vcmdjb2RlICsgJyVcJycNCiAgICAgIH0NCiAgICAgIGlmIChyZWd1bGF0aW9uVHlwZSA9PT0gJ+i0ouaUv+e6pycpIHsNCiAgICAgICAgcGFyYW0uZWxlbWVudENvZGUgPSAnQUdFTkNZJw0KICAgICAgICBwYXJhbS53aGVyZXNxbCA9ICdhbmQgcHJvdmluY2UgPScgKyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby5wcm92aW5jZQ0KICAgICAgfQ0KICAgICAgSHR0cE1vZHVsZS5nZXRUcmVld2hlcmUocGFyYW0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ3RoYXQuZ2V0Q2hpbGRyZW5OZXdEYXRhKHJlcy5kYXRhKScsIHRoYXQuZ2V0Q2hpbGRyZW5OZXdEYXRhKHJlcy5kYXRhKSkNCiAgICAgICAgLy8gdGhpcy50cmVlRGF0YSA9IHRoaXMuZ2V0Q2hpbGRyZW5OZXdEYXRhKHJlcy5kYXRhKQ0KICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSwgcmVndWxhdGlvblR5cGUpDQogICAgICAgIGlmIChyZWd1bGF0aW9uVHlwZSA9PT0gJ+mDqOmXqOe6pycgfHwgcmVndWxhdGlvblR5cGUgPT09ICfotKLmlL/nuqcnKSB7DQogICAgICAgICAgLy8gbGV0IHRyZWVSZXNkYXRhID0gdGhpcy5nZXRDaGlsZHJlbk5ld0RhdGExKHJlcy5kYXRhKQ0KICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgaWQ6ICdyb290JywNCiAgICAgICAgICAgICAgbGFiZWw6ICflhajpg6gnLA0KICAgICAgICAgICAgICBjb2RlOiAncm9vdCcsDQogICAgICAgICAgICAgIGlzbGVhZjogJzAnLA0KICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSwNCiAgICAgICAgICAgICAgbmFtZTogJ+WFqOmDqCcsDQogICAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLmdldENoaWxkcmVuTmV3RGF0YShyZXMuZGF0YSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICBdDQogICAgICAgICAgdGhpcy50cmVlRGF0YSA9IHJlc3VsdA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMudHJlZURhdGEgPSB0aGlzLmdldENoaWxkcmVuTmV3RGF0YShyZXMuZGF0YSkNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy4kcGFyZW50LmRpYWxvZ1RpdGxlICE9PSAn5paw5aKeJykgew0KICAgICAgICAgIGxldCB0ZW1wQXJyID0gW10NCiAgICAgICAgICB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5yZWd1bGF0aW9uU2NvcGU/LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICBsZXQgc3RyID0gaXRlbS5tb2ZEaXZJZC50b1N0cmluZygpDQogICAgICAgICAgICB0ZW1wQXJyLnB1c2goc3RyKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy4kcmVmcy5yaWdodFRyZWUudHJlZU9wdGlvbkZuKCkuc2V0Q2hlY2tlZEtleXModGVtcEFycikNCiAgICAgICAgICB0aGlzLmRlZmF1bHRDaGVja2VkS2V5cyA9IHRlbXBBcnINCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBsZXQgdGVtcEFyciA9IFtdDQogICAgICAgICAgdGVtcEFyci5wdXNoKCdyb290JykNCiAgICAgICAgICBsZXQgYXJyID0gW10NCiAgICAgICAgICB0aGlzLnNjb3BlID0gdGhpcy5nZXRBcnIodGhpcy50cmVlRGF0YSwgYXJyKQ0KICAgICAgICAgIGlmIChyZWd1bGF0aW9uVHlwZSA9PT0gJ+mDqOmXqOe6pycpIHsNCiAgICAgICAgICAgIGFyciA9IFtdDQogICAgICAgICAgICB0aGlzLnNjb3BlID0gdGhpcy5nZXRBcnIodGhpcy50cmVlRGF0YSwgYXJyKQ0KICAgICAgICAgIH0gZWxzZSBpZiAocmVndWxhdGlvblR5cGUgPT09ICfotKLmlL/nuqcnKSB7DQogICAgICAgICAgICBhcnIgPSBbXQ0KICAgICAgICAgICAgdGhpcy5zY29wZSA9IHRoaXMuZ2V0QXJyMSh0aGlzLnRyZWVEYXRhLCBhcnIpDQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNjb3BlKQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICBsZXQgZGF0YUFyciA9IFtdDQogICAgICAgICAgICB0aGlzLnNjb3BlLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgIGxldCBzdHIgPSAnJw0KICAgICAgICAgICAgICBpZiAocmVndWxhdGlvblR5cGUgIT09ICfns7vnu5/nuqcnKSB7DQogICAgICAgICAgICAgICAgc3RyID0gaXRlbS5hZ2VuY3lJZC50b1N0cmluZygpDQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgc3RyID0gaXRlbS5tb2ZEaXZJZC50b1N0cmluZygpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgZGF0YUFyci5wdXNoKHN0cikNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aGlzLiRyZWZzLnJpZ2h0VHJlZS50cmVlT3B0aW9uRm4oKS5zZXRDaGVja2VkS2V5cyhkYXRhQXJyKQ0KICAgICAgICAgICAgdGhpcy5kZWZhdWx0Q2hlY2tlZEtleXMgPSBkYXRhQXJyDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldEFycihkYXRhLCBhcnIpIHsNCiAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0uaXNsZWFmKSB7DQogICAgICAgICAgbGV0IG9iaiA9IHsNCiAgICAgICAgICAgIG1vZkRpdkNvZGU6ICcnLA0KICAgICAgICAgICAgYWdlbmN5Q29kZTogJycsDQogICAgICAgICAgICBtb2ZEaXZJZDogaXRlbS5pZA0KICAgICAgICAgIH0NCiAgICAgICAgICBvYmouYWdlbmN5SWQgPSBpdGVtLmNvZGUNCiAgICAgICAgICBhcnIucHVzaChvYmopDQogICAgICAgIH0NCiAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsNCiAgICAgICAgICB0aGlzLmdldEFycihpdGVtLmNoaWxkcmVuLCBhcnIpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXR1cm4gYXJyDQogICAgfSwNCiAgICBnZXRBcnIxKGRhdGEsIGFycikgew0KICAgICAgZGF0YS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBpZiAoaXRlbS5pc2xlYWYpIHsNCiAgICAgICAgICBsZXQgb2JqID0gew0KICAgICAgICAgICAgbW9mRGl2Q29kZTogJycsDQogICAgICAgICAgICBhZ2VuY3lDb2RlOiAnJywNCiAgICAgICAgICAgIG1vZkRpdklkOiBpdGVtLmlkDQogICAgICAgICAgfQ0KICAgICAgICAgIG9iai5hZ2VuY3lJZCA9IGl0ZW0uY29kZQ0KICAgICAgICAgIG9iai5hZ2VuY3lDb2RlID0gaXRlbS5uYW1lLnNwbGl0KCctJylbMF0NCiAgICAgICAgICBhcnIucHVzaChvYmopDQogICAgICAgIH0NCiAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsNCiAgICAgICAgICB0aGlzLmdldEFycjEoaXRlbS5jaGlsZHJlbiwgYXJyKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIGFycg0KICAgIH0sDQogICAgLy8g5L+d5a2Y5paw5aKe55qE6K6h5YiS5L+h5oGvDQogICAgZG9JbnNlcnQoKSB7DQogICAgICAvLyAvLyDmoKHpqozliKTmlq0NCiAgICAgIC8vIGxldCBkYXRhcyA9IHRoaXMuJHJlZnMubW9uaXRvclRhYmxlUmVmLmdldFNlbGVjdGlvbkRhdGEoKQ0KICAgICAgLy8gaWYgKGRhdGFzLmxlbmd0aCAhPT0gMSkgew0KICAgICAgLy8gICB0aGlzLiRYTW9kYWwubWVzc2FnZSh7IHN0YXR1czogJ3dhcm5pbmcnLCBtZXNzYWdlOiAn6K+36YCJ5oup5LiA5p2h5qih5p2/5L+h5oGv77yBJyB9KQ0KICAgICAgLy8gICByZXR1cm4NCiAgICAgIC8vIH0NCg0KICAgICAgLy8gaWYgKCF0aGlzLm1vbml0b3JSdWxlTmFtZSkgew0KICAgICAgLy8gICB0aGlzLiRYTW9kYWwubWVzc2FnZSh7IHN0YXR1czogJ3dhcm5pbmcnLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeE5YiZ5ZCN56ew77yBJyB9KQ0KICAgICAgLy8gICByZXR1cm4NCiAgICAgIC8vIH0NCg0KICAgICAgLy8gaWYgKCF0aGlzLnBvbGljaWVzRGVzY3JpcHRpb24pIHsNCiAgICAgIC8vICAgdGhpcy4kWE1vZGFsLm1lc3NhZ2UoeyBzdGF0dXM6ICd3YXJuaW5nJywgbWVzc2FnZTogJ+ivt+mAieaLqemihOitpuaPkOekuu+8gScgfSkNCiAgICAgIC8vICAgcmV0dXJuDQogICAgICAvLyB9DQogICAgICAvLyB0aGlzLiRyZWZzLm1vdW50VGFibGVSZWYudmFsaWRhdGUoKS50aGVuKChyZXMpID0+IHsNCiAgICAgIC8vICAgaWYgKE9iamVjdC5rZXlzKHJlcykubGVuZ3RoID4gMCkgew0KICAgICAgLy8gICAgIGxldCBlcnJvcnMgPSBPYmplY3QudmFsdWVzKHJlcykNCiAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9ycy5sZW5ndGg7IGkrKykgew0KICAgICAgLy8gICAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICd3YXJuaW5nJywgbWVzc2FnZTogZXJyb3JzW2ldWzBdLnJ1bGUubWVzc2FnZSB9KQ0KICAgICAgLy8gICAgICAgcmV0dXJuDQogICAgICAvLyAgICAgfQ0KICAgICAgLy8gICB9DQogICAgICAvLyB9KQ0KICAgICAgbGV0IHRoYXQgPSB0aGlzDQogICAgICAvLyBsZXQgZGF0YXMxID0gdGhpcy4kcmVmcy5tb3VudFRhYmxlUmVmLmdldFB1cmVUYWJsZURhdGEoKS5mdWxsRGF0YQ0KICAgICAgLy8gLy8gbGV0IHJlZ3VsYXRpb25UeXBlID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmZfRnVsbE5hbWUuc3Vic3RyaW5nKDAsIDMpDQogICAgICAvLyBsZXQgcmVndWxhdGlvblR5cGUgPSB0aGlzLnJlZ3VsYXRpb25UeXBlDQogICAgICAvLyBpZiAocmVndWxhdGlvblR5cGUgPT09ICfns7vnu5/nuqcnKSB7DQogICAgICAvLyAgIHJlZ3VsYXRpb25UeXBlID0gJzEnDQogICAgICAvLyB9IGVsc2UgaWYgKHJlZ3VsYXRpb25UeXBlID09PSAn6YOo6Zeo57qnJykgew0KICAgICAgLy8gICByZWd1bGF0aW9uVHlwZSA9ICczJw0KICAgICAgLy8gfSBlbHNlIGlmIChyZWd1bGF0aW9uVHlwZSA9PT0gJ+i0ouaUv+e6pycpIHsNCiAgICAgIC8vICAgcmVndWxhdGlvblR5cGUgPSAnMicNCiAgICAgIC8vIH0NCiAgICAgIC8vIGxldCBwYXJhbSA9IHsNCiAgICAgIC8vICAgJ3JlZ3VsYXRpb25OYW1lJzogdGhhdC5tb25pdG9yUnVsZU5hbWUsIC8vIOinhOWImeWQjeensA0KICAgICAgLy8gICAncmVndWxhdGlvblR5cGUnOiByZWd1bGF0aW9uVHlwZSwgLy8g6KeE5YiZ57G75Z6L77yaMS7ns7vnu5/nuqcgIDIu6LSi5pS/57qnICAzLumDqOmXqOe6pw0KICAgICAgLy8gICAnd2FybmluZ0xldmVsJzogdGhhdC53YXJuaW5nTGV2ZWwsIC8vIOmihOitpue6p+WIqw0KICAgICAgLy8gICAnaGFuZGxlVHlwZSc6IHRoYXQuaGFuZGxlVHlwZSwgLy8g5aSE55CG5pa55byPDQogICAgICAvLyAgICdyZWd1bGF0aW9uTW9kZWxDb2RlJzogdGhhdC5yZWd1bGF0aW9uTW9kZWxDb2RlLCAvLyDmqKHmnb/nvJbnoIENCiAgICAgIC8vICAgJ3JlZ3VsYXRpb25Nb2RlbE5hbWUnOiB0aGF0LmNyVGVtcGxhdGUsIC8vIOaooeadv+WQjeensA0KICAgICAgLy8gICAnd2FybmluZ1RpcHMnOiB0aGF0LnBvbGljaWVzRGVzY3JpcHRpb24sIC8vIOmihOitpuaPkOekug0KICAgICAgLy8gICAncmVndWxhdGlvblN0YXR1cyc6IHRoaXMuJHBhcmVudC5yZWd1bGF0aW9uU3RhdHVzLCAvLyDop4TliJnnirbmgIHvvJoxLuaWsOWiniAgMi7pgIHlrqEgIDMu5a6h5qC4DQogICAgICAvLyAgICdpc0VuYWJsZSc6IHRoYXQuaXNFbmFibGUsIC8vIOaYr+WQpuWQr+eUqO+8mjAu5ZCmICAxLuaYrw0KICAgICAgLy8gICAncmVndWxhdGlvbkNvbmZpZyc6IGRhdGFzMSwNCiAgICAgIC8vICAgJ3JlZ3VsYXRpb25TY29wZSc6IHRoYXQuc2NvcGUsIC8vIOinhOWImeeUn+aViOiMg+WbtHttb2ZEaXZDb2RlOiAnJywgYW5nZW5jeUNvZGU6ICcnfQ0KICAgICAgLy8gICBtZW51TmFtZTogdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLm5hbWUNCiAgICAgIC8vIH0NCiAgICAgIGxldCBjbGFzc0NvZGUgPSAnJw0KICAgICAgaWYgKHRoYXQucmVndWxhdGlvbkNsYXNzKSB7DQogICAgICAgIGxldCB2YWxBcnIgPSB0aGF0LnJlZ3VsYXRpb25DbGFzcy5zcGxpdCgnLScpDQogICAgICAgIGNsYXNzQ29kZSA9IHZhbEFyclswXQ0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy50cmlnZ2VyQ2xhc3MgPT09IDEgJiYgKHRoaXMuYnVzaW5lc3NGdW5jdGlvbk5hbWUubGVuZ3RoID09PSAwIHx8IHRoaXMuYnVzaW5lc3NGdW5jdGlvbk5hbWVbMF0gPT09ICd1bmRlZmluZWQnKSkgew0KICAgICAgICB0aGlzLiRYTW9kYWwubWVzc2FnZSh7IHN0YXR1czogJ3dhcm5pbmcnLCBtZXNzYWdlOiAn6K+36YCJ5oup6Kem5Y+R6I+c5Y2V77yBJyB9KQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGNvbnNvbGUubG9nKCdkZWJ1Z2dlcicpDQogICAgICBpZiAodGhpcy4kcGFyZW50LmRpYWxvZ1RpdGxlID09PSAn5L+u5pS5Jykgew0KICAgICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgICAgJ3JlZ3VsYXRpb25TY29wZSc6IHRoYXQuc2NvcGUsIC8vIOinhOWImeeUn+aViOiMg+WbtHttb2ZEaXZDb2RlOiAnJywgYW5nZW5jeUNvZGU6ICcnfQ0KICAgICAgICAgIHJlZ3VsYXRpb25Db2RlOiB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5yZWd1bGF0aW9uQ29kZSwNCiAgICAgICAgICByZWd1bGF0aW9uTmFtZTogdGhpcy4kcGFyZW50LkRldGFpbERhdGEucmVndWxhdGlvbk5hbWUsDQogICAgICAgICAgd2FybmluZ0xldmVsOiB0aGlzLndhcm5pbmdMZXZlbCwNCiAgICAgICAgICB0cmlnZ2VyQ2xhc3M6IHRoaXMudHJpZ2dlckNsYXNzLA0KICAgICAgICAgIGhhbmRsZVR5cGU6IHRoaXMuaGFuZGxlVHlwZSwNCiAgICAgICAgICBtZW51TmFtZTogdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLm5hbWUsDQogICAgICAgICAgcmVndWxhdGlvbkNsYXNzOiBjbGFzc0NvZGUsDQogICAgICAgICAgJ21lbnVJZExpc3QnOiB0aGlzLmJ1c2luZXNzRnVuY3Rpb25Db2RlLnRvU3RyaW5nKCksIC8vIOWkmuiPnOWNlQ0KICAgICAgICAgICdtZW51TmFtZUxpc3QnOiB0aGlzLmJ1c2luZXNzRnVuY3Rpb25OYW1lLnRvU3RyaW5nKCkNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5pc1N4KSB7DQogICAgICAgICAgSHR0cE1vZHVsZS51cGRhdGVEYXRhVmlldyhwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAwMDAwMCcpIHsNCiAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKQ0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBheW1lbnRMZW4pDQogICAgICAgICAgICAgIHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZS5zcGxpY2UoMSwgdGhpcy5wYXltZW50TGVuKQ0KICAgICAgICAgICAgICB0aGlzLnBheW1lbnRMZW4gPSAwDQogICAgICAgICAgICAgIGxldCBmb3JtID0gdGhpcy4kcmVmcy5tZXNzYWdlRm9ybQ0KICAgICAgICAgICAgICBmb3JtLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybURhdGFMaXN0TWVzc2FnZSgpDQogICAgICAgICAgICAgIHRoYXQuJHBhcmVudC5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LnF1ZXJ5VGFibGVEYXRhcygpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLmVycm9yKCfmk43kvZzlpLHotKUnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgIC8vIHRoYXQuJHBhcmVudC5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIEh0dHBNb2R1bGUudXBkYXRlRGF0YShwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAwMDAwMCcpIHsNCiAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKQ0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBheW1lbnRMZW4pDQogICAgICAgICAgICAgIHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZS5zcGxpY2UoMSwgdGhpcy5wYXltZW50TGVuKQ0KICAgICAgICAgICAgICB0aGlzLnBheW1lbnRMZW4gPSAwDQogICAgICAgICAgICAgIGxldCBmb3JtID0gdGhpcy4kcmVmcy5tZXNzYWdlRm9ybQ0KICAgICAgICAgICAgICBmb3JtLmNsZWFyVmFsaWRhdGUoKQ0KICAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybURhdGFMaXN0TWVzc2FnZSgpDQogICAgICAgICAgICAgIHRoYXQuJHBhcmVudC5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LnF1ZXJ5VGFibGVEYXRhcygpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLmVycm9yKCfmk43kvZzlpLHotKUnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgIC8vIHRoYXQuJHBhcmVudC5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyBIdHRwTW9kdWxlLmFkZERhdGEocGFyYW0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgLy8gICBpZiAocmVzLmNvZGUgPT09ICcwMDAwMDAnKSB7DQogICAgICAgIC8vICAgICB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MoJ+aWsOWinuaIkOWKnycpDQogICAgICAgIC8vICAgICB0aGF0LiRwYXJlbnQuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICAgIC8vICAgICB0aGlzLiRwYXJlbnQucXVlcnlUYWJsZURhdGFzKCkNCiAgICAgICAgLy8gICB9IGVsc2Ugew0KICAgICAgICAvLyAgICAgdGhhdC4kbWVzc2FnZS5lcnJvcign5pON5L2c5aSx6LSlJykNCiAgICAgICAgLy8gICB9DQogICAgICAgIC8vIH0pLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAvLyAgIC8vIHRoYXQuJHBhcmVudC5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgLy8gfSkNCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy8g6YCJ5oup5Lia5Yqh57O757ufDQogICAgY2hhbmdlU3lzQ29kZSh2YWwpIHsNCiAgICAgIGNvbnNvbGUubG9nKHZhbCkNCiAgICAgIHRoaXMuU3lzcGFyZW50SWQgPSB2YWwNCiAgICAgIHRoaXMuYnVzaW5lc3NNb2R1bGVDb2RlID0gJycNCiAgICAgIGxldCBidXNOYW1lID0gdGhpcy5idXNpbmVzc1N5c3RlbUNvZGVvcHRpb25zLmZpbmQoaXRlbSA9PiB7DQogICAgICAgIHJldHVybiBpdGVtLmlkID09PSB2YWwNCiAgICAgIH0pDQogICAgICB0aGlzLmJ1c2luZXNzU3lzdGVtTmFtZSA9IGJ1c05hbWUuYnVzaW5lc3NOYW1lDQogICAgICB0aGlzLmdldE1vZExpc3RzKCkNCiAgICB9LA0KICAgIC8vIOmAieaLqeS4muWKoeaooeWdlw0KICAgIGNoYW5nZU1vZENvZGUodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyh2YWwpDQogICAgICB0aGlzLk1vZHBhcmVudElkID0gdmFsDQogICAgICB0aGlzLmJ1c2luZXNzRnVuY3Rpb25Db2RlTW9kYWwgPSAnJw0KICAgICAgdGhpcy5idXNpbmVzc0Z1bmN0aW9uQ29kZSA9IFtdDQogICAgICBsZXQgYnVzTmFtZSA9IHRoaXMuYnVzaW5lc3NNb2R1bGVDb2Rlb3B0aW9ucy5maW5kKGl0ZW0gPT4gew0KICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsDQogICAgICB9KQ0KICAgICAgdGhpcy5idXNpbmVzc01vZHVsZU5hbWUgPSBidXNOYW1lLmJ1c2luZXNzTmFtZQ0KICAgICAgaWYgKHRoaXMuaXNTeCkgew0KICAgICAgICB0aGlzLmdldEZ1bkxpc3RzKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOS4muWKoeezu+e7n+S4i+aLieagkQ0KICAgIGdldFN5c0xpc3RzKCkgew0KICAgICAgY29uc3QgcGFyYW0gPSB7DQogICAgICAgIGJ1c2luZXNzVHlwZTogMSwNCiAgICAgICAgcGFyZW50SWQ6IDANCiAgICAgIH0NCiAgICAgIHRoaXMuYWRkTG9hZGluZyA9IHRydWUNCiAgICAgIEh0dHBNb2R1bGUuZ2V0YnVzTGlzdHMocGFyYW0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5hZGRMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMDAwMDAwJykgew0KICAgICAgICAgIHRoaXMuYnVzaW5lc3NTeXN0ZW1Db2Rlb3B0aW9ucyA9IHJlcy5kYXRhLnJlc3VsdHMNCiAgICAgICAgICBpZiAodGhpcy4kcGFyZW50LmRpYWxvZ1RpdGxlID09PSAn5paw5aKeJykgew0KICAgICAgICAgICAgdGhpcy5idXNpbmVzc1N5c3RlbUNvZGUgPSAnMScNCiAgICAgICAgICAgIHRoaXMuY2hhbmdlU3lzQ29kZSh0aGlzLmJ1c2luZXNzU3lzdGVtQ29kZSkNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOS4muWKoeaooeWdl+S4i+aLieagkQ0KICAgIGdldE1vZExpc3RzKCkgew0KICAgICAgY29uc3QgcGFyYW0gPSB7DQogICAgICAgIGJ1c2luZXNzVHlwZTogMiwNCiAgICAgICAgcGFyZW50SWQ6IHRoaXMuU3lzcGFyZW50SWQNCiAgICAgIH0NCiAgICAgIHRoaXMuYWRkTG9hZGluZyA9IHRydWUNCiAgICAgIEh0dHBNb2R1bGUuZ2V0YnVzTGlzdHMocGFyYW0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5hZGRMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMDAwMDAwJykgew0KICAgICAgICAgIHRoaXMuYnVzaW5lc3NNb2R1bGVDb2Rlb3B0aW9ucyA9IHJlcy5kYXRhLnJlc3VsdHMNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5Lia5Yqh5Yqf6IO95LiL5ouJ5qCRDQogICAgZ2V0RnVuTGlzdHMoKSB7DQogICAgICBjb25zdCBwYXJhbSA9IHsNCiAgICAgICAgYnVzaW5lc3NUeXBlOiAzLA0KICAgICAgICBwYXJlbnRJZDogdGhpcy5Nb2RwYXJlbnRJZA0KICAgICAgfQ0KICAgICAgdGhpcy5hZGRMb2FkaW5nID0gdHJ1ZQ0KICAgICAgSHR0cE1vZHVsZS5nZXRidXNMaXN0cyhwYXJhbSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmFkZExvYWRpbmcgPSBmYWxzZQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwMDAwMDAnKSB7DQogICAgICAgICAgdGhpcy5idXNpbmVzc0Z1bmN0aW9uQ29kZW9wdGlvbnMgPSByZXMuZGF0YS5yZXN1bHRzDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFJlZ3VsYXRpb25DaGlsZHJlbkRhdGEoZGF0YXMpIHsNCiAgICAgIGxldCB0aGF0ID0gdGhpcw0KICAgICAgZGF0YXMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgLy8gaXRlbS5jb2RlID0gaXRlbS5jb2RlDQogICAgICAgIGl0ZW0ubmFtZSA9IGl0ZW0ucnVsZU5hbWUNCiAgICAgICAgaXRlbS5sYWJlbCA9IGl0ZW0uY29kZSArICctJyArIGl0ZW0ucnVsZU5hbWUNCiAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsNCiAgICAgICAgICB0aGF0LmdldFJlZ3VsYXRpb25DaGlsZHJlbkRhdGEoaXRlbS5jaGlsZHJlbikNCiAgICAgICAgfQ0KICAgICAgfSkNCg0KICAgICAgcmV0dXJuIGRhdGFzDQogICAgfSwNCiAgICBnZXRSZWd1bGF0aW9uKCkgew0KICAgICAgSHR0cE1vZHVsZS5nZXRUcmVlKDApLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMDAwMDAwJykgew0KICAgICAgICAgIGxldCB0cmVlUmVzZGF0YSA9IHRoaXMuZ2V0UmVndWxhdGlvbkNoaWxkcmVuRGF0YShyZXMuZGF0YSkNCiAgICAgICAgICB0aGlzLnJlZ3VsYXRpb25DbGFzc29wdGlvbnMgPSB0cmVlUmVzZGF0YQ0KICAgICAgICAgIHRoaXMucmVndWxhdGlvbkNsYXNzb3B0aW9ucy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgaXRlbS5yZWd1bGF0aW9uTmFtZSA9IGl0ZW0uY29kZSArICctJyArIGl0ZW0ucnVsZU5hbWUNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4i+aLieagkeWKoOi9veWksei0pScpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyBnZXRSdWxldHlwZSgpIHsNCiAgICAvLyAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAvLyAgICAgJ2RpY3RUeXBlJzogJ3J1bGVfdHlwZScNCiAgICAvLyAgIH0NCiAgICAvLyAgIEh0dHBNb2R1bGUuZ2V0UnVsZXR5cGUocGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgLy8gICAgIGlmIChyZXMuY29kZSA9PT0gJzAwMDAwMCcpIHsNCiAgICAvLyAgICAgICBsZXQgdHJlZVJlc2RhdGEgPSB0aGlzLmdldFJ1bGV0eXBlQ2hpbGRyZW5EYXRhKHJlcy5kYXRhLnJlc3VsdHMpDQogICAgLy8gICAgICAgdGhpcy5ydWxldHlwZW9wdGlvbnMgPSB0cmVlUmVzZGF0YQ0KICAgIC8vICAgICB9IGVsc2Ugew0KICAgIC8vICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4i+aLieagkeWKoOi9veWksei0pScpDQogICAgLy8gICAgIH0NCiAgICAvLyAgIH0pDQogICAgLy8gfSwNCiAgICBnZXRSdWxldHlwZUNoaWxkcmVuRGF0YShkYXRhcykgew0KICAgICAgbGV0IHRoYXQgPSB0aGlzDQogICAgICBkYXRhcy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAvLyBpdGVtLmNvZGUgPSBpdGVtLmNvZGUNCiAgICAgICAgaXRlbS5uYW1lID0gaXRlbS5kaWN0SW5mb05hbWUNCiAgICAgICAgaXRlbS5jb2RlID0gaXRlbS5kaWN0SW5mb0NvZGUNCiAgICAgICAgaXRlbS5sYWJlbCA9IGl0ZW0uZGljdEluZm9Db2RlICsgJy0nICsgaXRlbS5kaWN0SW5mb05hbWUNCiAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhhdC5nZXRSZWd1bGF0aW9uQ2hpbGRyZW5EYXRhKGl0ZW0uY2hpbGRyZW4pDQogICAgICAgICAgaXRlbS5sZWFmID0gZmFsc2UNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpdGVtLmxlYWYgPSB0cnVlDQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICAgIHJldHVybiBkYXRhcw0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBjb25zb2xlLmxvZyh0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YSkNCiAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby5vcmdDb2RlKQ0KICAgIGNvbnNvbGUubG9nKHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJlZ3VsYXRpb25UeXBlKQ0KICAgIHRoaXMucGFyYW01ID0gdGhpcy50cmFuc0pzb24odGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLnBhcmFtNSkNCiAgICBpZiAodGhpcy4kcGFyZW50LkRldGFpbERhdGEucmVndWxhdGlvblR5cGUgPT09IDEpIHsNCiAgICAgIHRoaXMucmVndWxhdGlvblR5cGUgPSAn57O757uf57qnJw0KICAgIH0gZWxzZSBpZiAodGhpcy4kcGFyZW50LkRldGFpbERhdGEucmVndWxhdGlvblR5cGUgPT09IDIpIHsNCiAgICAgIHRoaXMucmVndWxhdGlvblR5cGUgPSAn6LSi5pS/57qnJw0KICAgIH0gZWxzZSBpZiAodGhpcy4kcGFyZW50LkRldGFpbERhdGEucmVndWxhdGlvblR5cGUgPT09IDMpIHsNCiAgICAgIHRoaXMucmVndWxhdGlvblR5cGUgPSAn6YOo6Zeo57qnJw0KICAgIH0NCiAgICB0aGlzLmdldFdoZXJlVHJlZSgpDQogICAgaWYgKHRoaXMuJHBhcmVudC5kaWFsb2dUaXRsZSA9PT0gJ+aWsOWinicpIHsNCiAgICAgIHRoaXMuZ2V0QnVzaW5lc3NNb2RlbENvZGVEYXRhcyh7IGJ1c2luZXNzVHlwZTogJzEnLCBwYXJlbnRJZDogMCB9KQ0KICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKQ0KICAgIH0gZWxzZSBpZiAodGhpcy4kcGFyZW50LmRpYWxvZ1RpdGxlID09PSAn5p+l55yL6K+m5oOFJykgew0KICAgICAgdGhpcy53YXJuVHlwZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLndhcm5UeXBlDQogICAgICB0aGlzLnVwbG9hZEZpbGUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS51cGxvYWRGaWxlDQoNCiAgICAgIHRoaXMucnVsZVNldFNob3cgPSBmYWxzZQ0KICAgICAgdGhpcy5ydWxlRGVzU2hvdyA9IHRydWUNCiAgICAgIHRoaXMuYXBwU2V0U2hvdyA9IGZhbHNlDQogICAgICB0aGlzLmVmZmVjdGl2ZVNob3cgPSBmYWxzZQ0KICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IDENCiAgICAgIHRoaXMubW9uaXRvclJ1bGVOYW1lID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGEucmVndWxhdGlvbk5hbWUNCiAgICAgIHRoaXMud2FybmluZ0xldmVsID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGEud2FybmluZ0xldmVsDQogICAgICB0aGlzLmhhbmRsZVR5cGUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5oYW5kbGVUeXBlDQogICAgICB0aGlzLnJlZ3VsYXRpb25DbGFzcyA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJlZ3VsYXRpb25DbGFzcyArICctJyArIHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJlZ3VsYXRpb25DbGFzc05hbWUNCiAgICAgIGlmICh0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5yZWd1bGF0aW9uQ2xhc3NOYW1lID09PSAn5LiJ5YWsJykgew0KICAgICAgICB0aGlzLmlzU2hvd1J1bGV0eXBlID0gdHJ1ZQ0KICAgICAgICB0aGlzLnJ1bGV0eXBlID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGEucnVsZVR5cGVDb2RlICsgJyMjJyArIHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJ1bGVUeXBlQ29kZSArICcjIycgKyB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5ydWxlVHlwZU5hbWUNCiAgICAgIH0NCiAgICAgIHRoaXMub3BlcmF0aW9uVGFibGVEYXRhID0gW3RoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJ1bGVUZW1wbGF0ZV0NCiAgICAgIHRoaXMudHJpZ2dlckNsYXNzID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGE/LnRyaWdnZXJDbGFzcw0KICAgICAgdGhpcy5ydWxlRmxhZyA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJ1bGVGbGFnDQogICAgICB0aGlzLndhcm5Mb2NhdGlvbiA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLndhcm5Mb2NhdGlvbg0KDQogICAgICB0aGlzLmNyVGVtcGxhdGUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5ydWxlVGVtcGxhdGUucnVsZVRlbXBsYXRlTmFtZQ0KICAgICAgdGhpcy5idXNpbmVzc1N5c3RlbUNvZGUgPSBwYXJzZUludCh0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5idXNpbmVzc1N5c3RlbUNvZGUpDQogICAgICB0aGlzLlN5c3BhcmVudElkID0gdGhpcy5idXNpbmVzc1N5c3RlbUNvZGUNCiAgICAgIHRoaXMuZ2V0TW9kTGlzdHMoKQ0KICAgICAgdGhpcy5idXNpbmVzc01vZHVsZUNvZGUgPSBwYXJzZUludCh0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5idXNpbmVzc01vZHVsZUNvZGUpDQogICAgICB0aGlzLk1vZHBhcmVudElkID0gdGhpcy5idXNpbmVzc01vZHVsZUNvZGUNCiAgICAgIGlmICh0aGlzLmlzU3gpIHsNCiAgICAgICAgdGhpcy5nZXRGdW5MaXN0cygpDQogICAgICAgIHRoaXMuYnVzaW5lc3NGdW5jdGlvbkNvZGUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5tZW51SWRMaXN0LnNwbGl0KCcsJykNCiAgICAgICAgdGhpcy5idXNpbmVzc0Z1bmN0aW9uTmFtZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLmJ1c2luZXNzRnVuY3Rpb25OYW1lDQogICAgICB9DQogICAgICB0aGlzLmJ1c2luZXNzU3lzdGVtTmFtZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLmJ1c2luZXNzU3lzdGVtTmFtZQ0KICAgICAgdGhpcy5idXNpbmVzc01vZHVsZU5hbWUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5idXNpbmVzc01vZHVsZU5hbWUNCg0KICAgICAgdGhpcy5tb3VudFRhYmxlRGF0YSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJlZ3VsYXRpb25Db25maWcNCg0KICAgICAgdGhpcy5wb2xpY2llc0Rlc2NyaXB0aW9uID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGEud2FybmluZ1RpcHMNCiAgICAgIHRoaXMuZmlSdWxlRGVzYyA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLmZpUnVsZURlc2MNCiAgICAgIHRoaXMuaW1wbERlc2MgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5pbXBsRGVzYw0KICAgICAgdGhpcy5pc0VuYWJsZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLmlzRW5hYmxlDQogICAgICAvLyDkuI3lj6/nvJbovpENCiAgICAgIHRoaXMuYnV0dG9uQ29uZmlnID0ge30NCiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlDQogICAgICB0aGlzLmRpc2FibGVkQnVzaW5lc3NGdW5jdGlvbiA9IHRydWUNCiAgICAgIHRoaXMuZGlzYWJsZWRVcGRhdGUgPSB0cnVlDQogICAgICB0aGlzLmVkaXRDb25maWcgPSBmYWxzZQ0KICAgIH0gZWxzZSBpZiAodGhpcy4kcGFyZW50LmRpYWxvZ1RpdGxlID09PSAn5L+u5pS5Jykgew0KICAgICAgdGhpcy53YXJuVHlwZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLndhcm5UeXBlDQogICAgICB0aGlzLnVwbG9hZEZpbGUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS51cGxvYWRGaWxlDQoNCiAgICAgIHRoaXMucnVsZVNldFNob3cgPSBmYWxzZQ0KICAgICAgdGhpcy5ydWxlRGVzU2hvdyA9IHRydWUNCiAgICAgIHRoaXMuYXBwU2V0U2hvdyA9IGZhbHNlDQogICAgICB0aGlzLmVmZmVjdGl2ZVNob3cgPSBmYWxzZQ0KICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IDENCiAgICAgIHRoaXMubW9uaXRvclJ1bGVOYW1lID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGEucmVndWxhdGlvbk5hbWUNCiAgICAgIHRoaXMud2FybmluZ0xldmVsID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGEud2FybmluZ0xldmVsDQogICAgICB0aGlzLmhhbmRsZVR5cGUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5oYW5kbGVUeXBlDQogICAgICB0aGlzLnRyaWdnZXJDbGFzcyA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnRyaWdnZXJDbGFzcw0KICAgICAgdGhpcy5yZWd1bGF0aW9uQ2xhc3MgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5yZWd1bGF0aW9uQ2xhc3MgKyAnLScgKyB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5yZWd1bGF0aW9uQ2xhc3NOYW1lDQogICAgICBpZiAodGhpcy4kcGFyZW50LkRldGFpbERhdGEucmVndWxhdGlvbkNsYXNzTmFtZSA9PT0gJ+S4ieWFrCcpIHsNCiAgICAgICAgdGhpcy5pc1Nob3dSdWxldHlwZSA9IHRydWUNCiAgICAgICAgdGhpcy5ydWxldHlwZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJ1bGVUeXBlQ29kZSArICcjIycgKyB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5ydWxlVHlwZUNvZGUgKyAnIyMnICsgdGhpcy4kcGFyZW50LkRldGFpbERhdGEucnVsZVR5cGVOYW1lDQogICAgICB9DQogICAgICB0aGlzLm9wZXJhdGlvblRhYmxlRGF0YSA9IFt0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5ydWxlVGVtcGxhdGVdDQogICAgICB0aGlzLmNyVGVtcGxhdGUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5ydWxlVGVtcGxhdGUucnVsZVRlbXBsYXRlTmFtZQ0KICAgICAgdGhpcy5idXNpbmVzc1N5c3RlbUNvZGUgPSBwYXJzZUludCh0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5idXNpbmVzc1N5c3RlbUNvZGUpDQogICAgICB0aGlzLlN5c3BhcmVudElkID0gdGhpcy5idXNpbmVzc1N5c3RlbUNvZGUNCiAgICAgIHRoaXMuZ2V0TW9kTGlzdHMoKQ0KICAgICAgdGhpcy5idXNpbmVzc01vZHVsZUNvZGUgPSBwYXJzZUludCh0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5idXNpbmVzc01vZHVsZUNvZGUpDQogICAgICB0aGlzLk1vZHBhcmVudElkID0gdGhpcy5idXNpbmVzc01vZHVsZUNvZGUNCiAgICAgIGlmICh0aGlzLmlzU3gpIHsNCiAgICAgICAgdGhpcy5nZXRGdW5MaXN0cygpDQogICAgICAgIHRoaXMuYnVzaW5lc3NGdW5jdGlvbkNvZGUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5tZW51SWRMaXN0LnNwbGl0KCcsJykNCiAgICAgICAgdGhpcy5idXNpbmVzc0Z1bmN0aW9uTmFtZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLmJ1c2luZXNzRnVuY3Rpb25OYW1lDQogICAgICB9DQogICAgICB0aGlzLmJ1c2luZXNzU3lzdGVtTmFtZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLmJ1c2luZXNzU3lzdGVtTmFtZQ0KICAgICAgdGhpcy5idXNpbmVzc01vZHVsZU5hbWUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5idXNpbmVzc01vZHVsZU5hbWUNCiAgICAgIC8vIHRoaXMuYnVzaW5lc3NGdW5jdGlvbk5hbWUgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5idXNpbmVzc0Z1bmN0aW9uTmFtZQ0KICAgICAgdGhpcy5tb3VudFRhYmxlRGF0YSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLnJlZ3VsYXRpb25Db25maWcNCiAgICAgIHRoaXMucnVsZUZsYWcgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5ydWxlRmxhZw0KICAgICAgdGhpcy53YXJuTG9jYXRpb24gPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS53YXJuTG9jYXRpb24NCg0KICAgICAgdGhpcy5wb2xpY2llc0Rlc2NyaXB0aW9uID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGEud2FybmluZ1RpcHMNCiAgICAgIHRoaXMuZmlSdWxlRGVzYyA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLmZpUnVsZURlc2MNCiAgICAgIHRoaXMuaW1wbERlc2MgPSB0aGlzLiRwYXJlbnQuRGV0YWlsRGF0YS5pbXBsRGVzYw0KICAgICAgdGhpcy5pc0VuYWJsZSA9IHRoaXMuJHBhcmVudC5EZXRhaWxEYXRhLmlzRW5hYmxlDQogICAgICB0aGlzLnNjb3BlID0gdGhpcy4kcGFyZW50LkRldGFpbERhdGEucmVndWxhdGlvblNjb3BlDQogICAgICAvLyDkuI3lj6/nvJbovpENCiAgICAgIHRoaXMuYnV0dG9uQ29uZmlnID0ge30NCiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlDQogICAgICB0aGlzLmVkaXRDb25maWcgPSBmYWxzZQ0KICAgIH0NCiAgICBpZiAodGhpcy4kcGFyZW50LmZvcm1EYXRhcykgew0KICAgICAgdGhpcy5mb3JtRGF0YXMgPSB0aGlzLiRwYXJlbnQuZm9ybURhdGFzDQogICAgICBpZiAodGhpcy5mb3JtRGF0YXMucGF5bWVudCkgew0KICAgICAgICB0aGlzLmZvcm1EYXRhcy5wYXltZW50X19tdWx0aXBsZSA9IHRoaXMuZm9ybURhdGFzLnBheW1lbnQuc3BsaXQoJywnKS5zbGljZSgxKQ0KICAgICAgICBpZiAodGhpcy5pc1N4KSB7DQogICAgICAgICAgdGhpcy5mb3JtRGF0YXMucGF5bWVudF9fbXVsdGlwbGUgPSB0aGlzLmZvcm1EYXRhcy5wYXltZW50LnNwbGl0KCcsJykNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnBheW1lbnRMZW4gPSB0aGlzLmZvcm1EYXRhcy5wYXltZW50X19tdWx0aXBsZS5sZW5ndGgNCiAgICAgICAgdGhpcy5mb3JtRGF0YXMucGF5bWVudF9fbXVsdGlwbGUuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICBsZXQgZGF0YXMgPSB7fQ0KICAgICAgICAgIGlmIChpdGVtID09PSAnMScpIHsNCiAgICAgICAgICAgIGRhdGFzID0gdGhpcy4kcGFyZW50LmRpYWxvZ1RpdGxlICE9PSAn5paw5aKeJyA/IHRoaXMuY3JlYXRlUHJvKHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZVswXS5pdGVtUmVuZGVyLm9wdGlvbnNbaXRlbV0sIHRydWUpIDogdGhpcy5jcmVhdGVQcm8odGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlWzBdLml0ZW1SZW5kZXIub3B0aW9uc1tpdGVtXSwgZmFsc2UpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGRhdGFzID0gdGhpcy4kcGFyZW50LmRpYWxvZ1RpdGxlICE9PSAn5paw5aKeJyA/IHRoaXMuY3JlYXRlT2JqKHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZVswXS5pdGVtUmVuZGVyLm9wdGlvbnNbaXRlbV0sIHRydWUpIDogdGhpcy5jcmVhdGVPYmoodGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlWzBdLml0ZW1SZW5kZXIub3B0aW9uc1tpdGVtXSwgZmFsc2UpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZS5zcGxpY2UoMSArIGluZGV4LCAwLCBkYXRhcykNCiAgICAgICAgICAvLyBpZiAodGhpcy4kcGFyZW50LmRpYWxvZ1RpdGxlID09PSAn5p+l55yL6K+m5oOFJykgew0KICAgICAgICAgIC8vICAgdGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgLy8gICAgIGl0ZW0uaXRlbVJlbmRlci5wcm9wcy5kaXNhYmxlZCA9IHRydWUNCiAgICAgICAgICAvLyAgIH0pDQogICAgICAgICAgLy8gfSBlbHNlIHsNCiAgICAgICAgICAvLyAgIHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIC8vICAgICBpdGVtLml0ZW1SZW5kZXIucHJvcHMuZGlzYWJsZWQgPSBmYWxzZQ0KICAgICAgICAgIC8vICAgfSkNCiAgICAgICAgICAvLyB9DQogICAgICAgICAgLy8gdGhpcy5mb3JtRGF0YXMuYWdlbmN5X2NvZGUgPSAnMDAwLDAwMDAwMSwwMDAwMDInDQogICAgICAgICAgLy8gdGhpcy5mb3JtRGF0YXMuYWdlbmN5X25hbWUgPSAn6aKE566X5aSE6aKE55WZLOmihOeul+WkhOmihOeVmSx0ZXN05Y2V5L2N5paw5aKeJw0KICAgICAgICAgIHRoaXMuZm9ybURhdGFzLmFnZW5jeV9jb2RlID0gdGhpcy5mb3JtRGF0YXMuYWdlbmN5Q29kZQ0KICAgICAgICAgIHRoaXMuZm9ybURhdGFzLmFnZW5jeV9uYW1lID0gdGhpcy5mb3JtRGF0YXMuYWdlbmN5TmFtZQ0KICAgICAgICAgIHRoaXMuZm9ybURhdGFzLnByb19jb2RlID0gdGhpcy5mb3JtRGF0YXMucHJvQ29kZQ0KICAgICAgICAgIHRoaXMuZm9ybURhdGFzLnByb19uYW1lID0gdGhpcy5mb3JtRGF0YXMucHJvTmFtZQ0KICAgICAgICAgIHRoaXMuZm9ybURhdGFzLmV4cF9mdW5jX2NvZGUgPSB0aGlzLmZvcm1EYXRhcy5leGNGdW5Db2RlDQogICAgICAgICAgdGhpcy5mb3JtRGF0YXMuZXhwX2Z1bmNfbmFtZSA9IHRoaXMuZm9ybURhdGFzLmV4Y0Z1bk5hbWUNCiAgICAgICAgICB0aGlzLmZvcm1EYXRhcy5kZXBfYmd0X2Vjb19jb2RlID0gdGhpcy5mb3JtRGF0YXMuZGVwQmd0RWNvQ29kZQ0KICAgICAgICAgIHRoaXMuZm9ybURhdGFzLmRlcF9iZ3RfZWNvX25hbWUgPSB0aGlzLmZvcm1EYXRhcy5kZXBCZ3RFY29OYW1lDQogICAgICAgICAgdGhpcy5mb3JtRGF0YXMuZ292X2JndF9lY29fY29kZSA9IHRoaXMuZm9ybURhdGFzLmdvdkJndEVjb0NvZGUNCiAgICAgICAgICB0aGlzLmZvcm1EYXRhcy5nb3ZfYmd0X2Vjb19uYW1lID0gdGhpcy5mb3JtRGF0YXMuZ292Qmd0RWNvTmFtZQ0KICAgICAgICAgIHRoaXMuZm9ybURhdGFzLmNvcl9iZ3RfZG9jX25vX2NvZGUgPSB0aGlzLmZvcm1EYXRhcy5jb3JCZ3REb2NOb0NvZGUNCiAgICAgICAgICB0aGlzLmZvcm1EYXRhcy5jb3JfYmd0X2RvY19ub19uYW1lID0gdGhpcy5mb3JtRGF0YXMuY29yQmd0RG9jTm9OYW1lDQogICAgICAgICAgLy8gdGhpcy5mb3JtRGF0YXMuYWdlbmN5X2NvZGVfaWQgPSAnNTIwOEZFNDkzMkYzNEUyN0IwQTMxQkRERTJEMDI3NkEnDQogICAgICAgICAgLy8gbGV0IGZvcm1EYXRhUGFyYW1zID0gdGhpcy5mb3JtRGF0YXNbdGhpcy5mb3JtSXRlbXNDb25maWdNZXNzYWdlWzBdLml0ZW1SZW5kZXIub3B0aW9uc1tpdGVtXS5uYW1lXS5zcGxpdCgnLCcpDQogICAgICAgICAgLy8gbGV0IHBhcmFtc0NvZGVzID0gJycNCiAgICAgICAgICAvLyBsZXQgcGFyYW1zTmFtZXMgPSAnJw0KICAgICAgICAgIC8vIGZvcm1EYXRhUGFyYW1zLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgLy8gICBpdGVtID0gaXRlbS5zcGxpdCgnLScpDQogICAgICAgICAgLy8gICBwYXJhbXNDb2RlcyArPSBpdGVtWzBdDQogICAgICAgICAgLy8gICBwYXJhbXNOYW1lcyArPSBpdGVtWzFdDQogICAgICAgICAgLy8gfSkNCiAgICAgICAgICAvLyB0aGlzLmZvcm1EYXRhc1t0aGlzLmZvcm1JdGVtc0NvbmZpZ01lc3NhZ2VbMF0uaXRlbVJlbmRlci5vcHRpb25zW2l0ZW1dLm5hbWUgKyAnY29kZSddID0gcGFyYW1zQ29kZXMNCiAgICAgICAgICAvLyB0aGlzLmZvcm1EYXRhc1t0aGlzLmZvcm1JdGVtc0NvbmZpZ01lc3NhZ2VbMF0uaXRlbVJlbmRlci5vcHRpb25zW2l0ZW1dLm5hbWUgKyAnbmFtZSddID0gcGFyYW1zTmFtZXMNCiAgICAgICAgfSkNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtRGF0YXMpDQogICAgICB9DQogICAgfQ0KICAgIGlmICh0aGlzLiRwYXJlbnQuZGlhbG9nVGl0bGUgPT09ICfmn6XnnIvor6bmg4UnIHx8IHRoaXMuJHBhcmVudC5kaWFsb2dUaXRsZSA9PT0gJ+S/ruaUuScpIHsNCiAgICAgIHRoaXMuZm9ybUl0ZW1zQ29uZmlnTWVzc2FnZS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBpdGVtLml0ZW1SZW5kZXIucHJvcHMuZGlzYWJsZWQgPSB0cnVlDQogICAgICB9KQ0KICAgIH0NCiAgICB0aGlzLmdldFN5c0xpc3RzKCkNCiAgICB0aGlzLmdldFJlZ3VsYXRpb24oKQ0KICAgIC8vIGlmICh0aGlzLmlzU3gpIHsNCiAgICAvLyAgIHRoaXMuZ2V0UnVsZXR5cGUoKQ0KICAgIC8vIH0NCiAgICAvLyB0aGlzLnJlZ3VsYXRpb25UeXBlID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmZfRnVsbE5hbWUuc3Vic3RyaW5nKDAsIDMpDQogIH0NCn0NCg=="},{"version":3,"sources":["addDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwoBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addDialog.vue","sourceRoot":"src/views/main/MointoringMatters/MonitorRulesView/children","sourcesContent":["<!--单位用款申请(按计划)录入新增页面弹框-->\r\n<template>\r\n  <vxe-modal\r\n    v-model=\"dialogVisible\"\r\n    :title=\"title\"\r\n    width=\"96%\"\r\n    height=\"90%\"\r\n    :show-footer=\"false\"\r\n    @close=\"dialogClose\"\r\n  >\r\n    <div style=\"width:100%;height:45px;float:left;\">\r\n      <div v-for=\"(item,index) in tabbtn\" :key=\"index\" class=\"setbtn\">\r\n        <div :id=\"index\" class=\"tabone\" :class=\"activeIndex === index ? 'tabone1' : ''\" @click=\"tabClick(index)\">\r\n          {{ item }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--模板信息-->\r\n    <div v-show=\"ruleSetShow\" class=\"payVoucherInput\" style=\"margin-top:50px;\">\r\n      <div v-loading=\"addLoading\" class=\"body\">\r\n        <div v-show=\"!disabled\" class=\"main-query\">\r\n          <BsQuery\r\n            ref=\"queryFrom\"\r\n            :query-form-item-config=\"queryConfig\"\r\n            :query-form-data.sync=\"searchDataList\"\r\n            @onSearchClick=\"search\"\r\n            @itemChange=\"itemChange\"\r\n          />\r\n        </div>\r\n        <div class=\"header-table\" style=\"margin-top:15px;\">\r\n          <BsTable\r\n            ref=\"monitorTableRef\"\r\n            height=\"480px\"\r\n            :loading=\"tableLoading\"\r\n            :footer-config=\"{ showFooter: false }\"\r\n            :table-columns-config=\"monitorTableColumnsConfig\"\r\n            :table-data=\"operationTableData\"\r\n            :table-config=\"tableConfig\"\r\n            :toolbar-config=\"tableToolbarConfig\"\r\n            :pager-config=\"false\"\r\n          >\r\n            <!--<template v-slot:toolbarSlots>-->\r\n            <!--  <div class=\"table-toolbar-left\">-->\r\n            <!--    <div v-if=\"leftTreeVisible === false\" class=\"table-toolbar-contro-leftvisible\" @click=\"leftTreeVisible = true\"></div>-->\r\n            <!--  </div>-->\r\n            <!--</template>-->\r\n          </bsTable>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--规则定义-->\r\n    <div v-show=\"ruleDesShow\" class=\"payVoucherInput\" style=\"margin-top:50px;\">\r\n      <div>\r\n        <div>\r\n          <div>\r\n            <el-row>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <template v-if=\"isSx\">\r\n                    <el-main id=\"nameId\" width=\"100%\">\r\n                      <el-row>\r\n                        <div class=\"showMore\">{{ crTemplate }}</div>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;引用模板</div>\r\n                        <el-input\r\n                          v-model=\"crTemplate\"\r\n                          :disabled=\"true\"\r\n                          placeholder=\"请输入模板名称\"\r\n                          style=\"width:45%\"\r\n                        />\r\n                      </el-row>\r\n                    </el-main>\r\n                  </template>\r\n                  <template v-else>\r\n                    <el-main width=\"100%\">\r\n                      <el-row>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;引用模板</div>\r\n                        <el-input\r\n                          v-model=\"crTemplate\"\r\n                          :disabled=\"true\"\r\n                          placeholder=\"请输入模板名称\"\r\n                          style=\"width:45%\"\r\n                        />\r\n                      </el-row>\r\n                    </el-main>\r\n                  </template>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;业务系统</div>\r\n                      <el-select\r\n                        v-model=\"businessSystemName\"\r\n                        :disabled=\"disabled\"\r\n                        placeholder=\"请选择业务系统\"\r\n                        style=\"width:45%\"\r\n                        @change=\"changeSysCode\"\r\n                      >\r\n                        <el-option\r\n                          v-for=\"item in businessSystemCodeoptions\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.businessName\"\r\n                          :value=\"item.id\"\r\n                        />\r\n                      </el-select>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;业务模块</div>\r\n                      <el-select\r\n                        v-model=\"businessModuleName\"\r\n                        :disabled=\"disabled\"\r\n                        placeholder=\"请选择业务模块\"\r\n                        style=\"width:45%\"\r\n                        @change=\"changeModCode\"\r\n                      >\r\n                        <el-option\r\n                          v-for=\"item in businessModuleCodeoptions\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.businessName\"\r\n                          :value=\"item.id\"\r\n                        />\r\n                      </el-select>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <!-- <template v-if=\"!isSx\"> -->\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font v-show=\"triggerClass === 1\" color=\"red\">*</font>&nbsp;业务菜单</div>\r\n                      <BsTree\r\n                        :key=\"refleshKey\"\r\n                        v-model=\"businessFunctionCodeModal\"\r\n                        :is-drop-select-tree=\"true\"\r\n                        :editable=\"true\"\r\n                        :tree-data=\"businessFunctionTreeData\"\r\n                        :default-checked-keys=\"businessFunctionCode\"\r\n                        v-bind=\"{ config: { ...businessFunctionTreeConfig, disabled: disabledUpdate } }\"\r\n                        class=\"businessFunctionTree\"\r\n                        style=\"display: inline-block;\"\r\n                      />\r\n                    </el-row>\r\n                  </el-main>\r\n                  <!-- </template> -->\r\n                  <!-- <template v-else>\r\n                    <el-main id=\"nameId\" width=\"100%\">\r\n                      <el-row>\r\n                        <div v-if=\"businessFunctionCode\" class=\"showMore\">\r\n                          {{ businessNameTips }}\r\n                        </div>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;业务菜单</div>\r\n                        <el-select\r\n                          v-model=\"businessFunctionCode\"\r\n                          multiple=\"true\"\r\n                          :disabled=\"disabledBusinessFunction\"\r\n                          placeholder=\"请选择业务菜单\"\r\n                          style=\"width:45%\"\r\n                          @change=\"changeFunCode\"\r\n                        >\r\n                          <el-option\r\n                            v-for=\"item in businessFunctionCodeoptions\"\r\n                            :key=\"item.id\"\r\n                            :label=\"item.businessName\"\r\n                            :value=\"item.id\"\r\n                          />\r\n                        </el-select>\r\n                      </el-row>\r\n                    </el-main>\r\n                  </template> -->\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <template v-if=\"!isSx\">\r\n                    <el-main width=\"100%\">\r\n                      <el-row>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;监控规则名称</div>\r\n                        <el-tooltip class=\"item\" effect=\"dark\" :content=\"monitorRuleName\" placement=\"top-start\">\r\n                          <el-input\r\n                            v-model=\"monitorRuleName\"\r\n                            :disabled=\"disabled\"\r\n                            placeholder=\"请输入监控规则名称\"\r\n                            style=\"width:45%\"\r\n                          />\r\n                        </el-tooltip>\r\n                      </el-row>\r\n                    </el-main>\r\n                  </template>\r\n                  <template v-else>\r\n                    <el-main id=\"nameId\" width=\"100%\">\r\n                      <el-row>\r\n                        <div class=\"showMore\">{{ monitorRuleName }}</div>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;监控规则名称</div>\r\n                        <el-tooltip class=\"item\" effect=\"dark\" :content=\"monitorRuleName\" placement=\"top-start\">\r\n                          <el-input\r\n                            v-model=\"monitorRuleName\"\r\n                            :disabled=\"disabled\"\r\n                            placeholder=\"请输入监控规则名称\"\r\n                            style=\"width:45%\"\r\n                          />\r\n                        </el-tooltip>\r\n                      </el-row>\r\n                    </el-main>\r\n                  </template>\r\n\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;监控主题</div>\r\n                      <el-select\r\n                        v-model=\"regulationClass\"\r\n                        :disabled=\"disabled\"\r\n                        placeholder=\"请选择监控主题\"\r\n                        style=\"width:45%\"\r\n                        @change=\"selectRule\"\r\n                      >\r\n                        <el-option\r\n                          v-for=\"item in regulationClassoptions\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.regulationName\"\r\n                          :value=\"item.regulationName\"\r\n                        />\r\n                      </el-select>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;预警级别</div>\r\n                      <el-select\r\n                        v-model=\"warningLevel\"\r\n                        :disabled=\"disabledUpdate\"\r\n                        placeholder=\"请选择预警级别\"\r\n                        style=\"width:45%\"\r\n                        @change=\"chooseWarningLevel\"\r\n                      >\r\n                        <el-option\r\n                          v-for=\"item in warningLeveloptions\"\r\n                          :key=\"item.value\"\r\n                          :label=\"item.label\"\r\n                          :value=\"item.value\"\r\n                        />\r\n                      </el-select>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;处理方式</div>\r\n                      <el-select\r\n                        v-model=\"handleType\"\r\n                        :disabled=\"disabled\"\r\n                        placeholder=\"请选择处理方式\"\r\n                        style=\"width:45%\"\r\n                        @change=\"choosehandleType\"\r\n                      >\r\n                        <el-option\r\n                          v-for=\"item in handleTypeoptions\"\r\n                          :key=\"item.value\"\r\n                          :label=\"item.label\"\r\n                          :value=\"item.value\"\r\n                        />\r\n                      </el-select>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;触发类型</div>\r\n                      <el-select\r\n                        v-model=\"triggerClass\"\r\n                        :disabled=\"disabledUpdate\"\r\n                        placeholder=\"请选择触发类型\"\r\n                        style=\"width:45%\"\r\n                        @change=\"chooseTriggerClass\"\r\n                      >\r\n                        <el-option\r\n                          v-for=\"item in triggerClassoptions\"\r\n                          :key=\"item.value\"\r\n                          :label=\"item.label\"\r\n                          :value=\"item.value\"\r\n                        />\r\n                      </el-select>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col v-if=\"sx\" :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;提醒位置</div>\r\n                      <el-select\r\n                        v-model=\"warnLocation\"\r\n                        :disabled=\"disabled\"\r\n                        placeholder=\"请选择提醒位置\"\r\n                        style=\"width:45%\"\r\n                      >\r\n                        <el-option\r\n                          v-for=\"item in warnLocationOptions\"\r\n                          :key=\"item.value\"\r\n                          :label=\"item.label\"\r\n                          :value=\"item.value\"\r\n                        />\r\n                      </el-select>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <template v-if=\"!isSx\">\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\">预警类别</div>\r\n                        <el-select\r\n                          v-model=\"warnType\"\r\n                          :disabled=\"disabled\"\r\n                          placeholder=\"请选择预警类别\"\r\n                          style=\"width:45%\"\r\n                        >\r\n                          <el-option\r\n                            v-for=\"item in warnTypeOptions\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                          />\r\n                        </el-select>\r\n                      </template>\r\n                      <template v-else>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;函数逻辑关系</div>\r\n                        <el-select\r\n                          v-model=\"ruleFlag\"\r\n                          :disabled=\"true\"\r\n                          placeholder=\"请选择函数逻辑关系\"\r\n                          style=\"width:45%\"\r\n                        >\r\n                          <el-option\r\n                            v-for=\"item in ruleFlagOptions\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                          />\r\n                        </el-select>\r\n                      </template>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <!-- <template v-if=\"!isSx\"> -->\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\">是否必传附件</div>\r\n                      <el-select\r\n                        v-model=\"uploadFile\"\r\n                        :disabled=\"disabled\"\r\n                        placeholder=\"请选择是否必传附件\"\r\n                        style=\"width:45%\"\r\n                      >\r\n                        <el-option\r\n                          v-for=\"item in uploadFileOptions\"\r\n                          :key=\"item.value\"\r\n                          :label=\"item.label\"\r\n                          :value=\"item.value\"\r\n                        />\r\n                      </el-select>\r\n                      <!-- </template> -->\r\n                      <!-- <template v-else>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;提醒位置</div>\r\n                        <el-select\r\n                          v-model=\"warnLocation\"\r\n                          :disabled=\"true\"\r\n                          placeholder=\"请选择提醒位置\"\r\n                          style=\"width:45%\"\r\n                          @change=\"chooseWarnLocation\"\r\n                        >\r\n                          <el-option\r\n                            v-for=\"item in warnLocationOptions\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                          />\r\n                        </el-select>\r\n                      </template> -->\r\n\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n              <el-col v-show=\"isSx && isShowRuletype\" :span=\"8\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;三公规则分类</div>\r\n                      <div style=\"width:45%;float:left;margin-top:2px\">\r\n                        <BsTreeInput\r\n                          ref=\"ruleTree\"\r\n                          v-model=\"ruletype\"\r\n                          :disabled=\"disabled\"\r\n                          :datas=\"ruletypeoptions\"\r\n                          :reloaddata=\"false\"\r\n                          :isleaf=\"true\"\r\n                        />\r\n                      </div>\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"24\">\r\n                <el-container>\r\n                  <el-main width=\"100%\">\r\n                    <el-row>\r\n                      <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;预警提示</div>\r\n                      <el-input\r\n                        v-model=\"policiesDescription\"\r\n                        type=\"textarea\"\r\n                        :disabled=\"disabled\"\r\n                        :maxlength=\"200\"\r\n                        :rows=\"2\"\r\n                        placeholder=\"请使用英文逗号“,”隔开进行填写，例如：楼阁修建,高尔夫球场,名画；\"\r\n                        style=\" width:90%\"\r\n                      />\r\n                    </el-row>\r\n                  </el-main>\r\n                </el-container>\r\n              </el-col>\r\n            </el-row>\r\n            <template v-if=\"isSx\">\r\n              <el-row>\r\n                <el-col :span=\"24\">\r\n                  <el-container>\r\n                    <el-main width=\"100%\">\r\n                      <el-row>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;规则描述</div>\r\n                        <el-input\r\n                          v-model=\"fiRuleDesc\"\r\n                          type=\"textarea\"\r\n                          :disabled=\"disabled\"\r\n                          :rows=\"2\"\r\n                          placeholder=\"请填写规则描述\"\r\n                          style=\" width:90%\"\r\n                        />\r\n                      </el-row>\r\n                    </el-main>\r\n                  </el-container>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"24\">\r\n                  <el-container>\r\n                    <el-main width=\"100%\">\r\n                      <el-row>\r\n                        <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;规则依据</div>\r\n                        <el-input\r\n                          v-model=\"implDesc\"\r\n                          type=\"textarea\"\r\n                          :disabled=\"disabled\"\r\n                          :rows=\"2\"\r\n                          placeholder=\"请填写规则依据\"\r\n                          style=\" width:90%\"\r\n                        />\r\n                      </el-row>\r\n                    </el-main>\r\n                  </el-container>\r\n                </el-col>\r\n              </el-row>\r\n            </template>\r\n          </div>\r\n        </div>\r\n        <div style=\"margin-bottom: 10px; color: red\">\r\n          <p>注意：</p>\r\n          <p>1.【主管部门】和【业务处室】默认全部，不进行处室过滤，只有少数规则需要根据处室过滤权限时才使用此字段 ！</p>\r\n          <!--<p>2.预警级别与处理方式对应关系统一为：一级黄色预警（预警，无需上传附件）、二级橙色预警（预警，需上传附件）、三级红色预警（拦截）、非人工干预蓝色预警（记录）</p>-->\r\n          <p>2.预警级别与处理方式对应关系统一为：{{ $store.state.warnInfo.warnLevelOptions.map(item => `${item.label}（${item.warnTips}）`).join('、') }}</p>\r\n          <p>3.触发类型中“实时触发”指的是事中监控，“定时触发”指的是事后监控，定时触发需要设置触发时间和频率才能生效，比如：每月1次，定时触发的监控规则【处理方式】必须选择“记录”。</p>\r\n        </div>\r\n        <div class=\"header-table\">\r\n          <BsTable\r\n            ref=\"mountTableRef\"\r\n            height=\"300px\"\r\n            :table-global-config=\"{ showOverflow: false }\"\r\n            :footer-config=\"{ showFooter: false }\"\r\n            :edit-config=\"editConfig\"\r\n            :edit-rules=\"editRulesIn\"\r\n            :table-columns-config=\"mountTableColumnsConfig\"\r\n            :table-data=\"mountTableData\"\r\n            :toolbar-config=\"false\"\r\n            :pager-config=\"false\"\r\n            @cellClick=\"cellClick\"\r\n          >\r\n            <template\r\n              v-slot:column-editParam=\"{ row, column }\"\r\n            >\r\n              <div class=\"custom-cell\" style=\"font-size: 14px\">\r\n                <div v-if=\"row.paramType !== '5'\">\r\n                  <vxe-input v-model=\"row.param\" />\r\n                </div>\r\n                <div v-else>\r\n                  <vxe-select\r\n                    v-model=\"row.param\"\r\n                    :options=\"functionSelectOptions\"\r\n                    :option-props=\"{ label: 'value', value: 'regId' }\"\r\n                    :placeholder=\"column.title\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <template\r\n              v-slot:column-defaultParam=\"{ row }\"\r\n            >\r\n              <span>{{ getFunctionLabel(row.param) }}</span>\r\n            </template>\r\n          </BsTable>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--应用设置-->\r\n    <div v-show=\"appSetShow\" class=\"payVoucherInput\" style=\"margin-top:50px;\">\r\n      <BsForm\r\n        ref=\"messageForm\"\r\n        :is-editable=\"true\"\r\n        :form-items-config=\"formItemsConfigMessage\"\r\n        :form-data-list.sync=\"formDatas\"\r\n        :form-validation-config=\"formValidationConfigMessage\"\r\n        @itemChange=\"formItemChange\"\r\n      />\r\n      <div style=\"margin-bottom: 10px; color: red; margin-top:100px\">\r\n        <p>注意：</p>\r\n        <p>1.当收款人名称和资金用途的关键字为多个时，请使用英文逗号“,”隔开进行填写，例如：楼阁修建,高尔夫球场,名画；</p>\r\n        <p>2.若业务数据满足上述条件任意一项就跳过该规则校验，即不预警</p>\r\n      </div>\r\n    </div>\r\n    <!--生效范围-->\r\n    <div v-show=\"effectiveShow\" class=\"payVoucherInput\" style=\"margin-top:50px;\">\r\n      <el-row>\r\n        <el-col :span=\"12\">\r\n          <el-container>\r\n            <el-main width=\"100%\">\r\n              <el-row>\r\n                <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;管理级次</div>\r\n                <el-input\r\n                  v-model=\"regulationType\"\r\n                  :disabled=\"true\"\r\n                  placeholder=\"请输入管理级次\"\r\n                  style=\"width:45%\"\r\n                />\r\n              </el-row>\r\n            </el-main>\r\n          </el-container>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-container>\r\n            <el-main width=\"100%\">\r\n              <el-row>\r\n                <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;是否启用</div>\r\n                <el-select\r\n                  v-model=\"isEnable\"\r\n                  placeholder=\"是否启用\"\r\n                  :disabled=\"disabled\"\r\n                  style=\"width:45%\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in isEnableoptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\"\r\n                  />\r\n                </el-select>\r\n              </el-row>\r\n            </el-main>\r\n          </el-container>\r\n        </el-col>\r\n      </el-row>\r\n      <div>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-container>\r\n              <el-main width=\"100%\">\r\n                <el-row>\r\n                  <div class=\"sub-title-add\" style=\"width:100px;float:left;margin-top:8px\"><font color=\"red\">*</font>&nbsp;生效范围</div>\r\n                  <BsTree\r\n                    ref=\"rightTree\"\r\n                    style=\"height: calc(100% - 100px)\"\r\n                    :tree-data=\"treeData\"\r\n                    :config=\"{ multiple: true, rootName: '全部', disabled: false, treeProps: { nodeKey: 'id', label: 'name',children: 'children' ,id: 'id' } }\"\r\n                    :default-checked-keys=\"defaultCheckedKeys\"\r\n                    @onNodeCheckClick=\"onNodeCheckClick\"\r\n                  />\r\n                </el-row>\r\n              </el-main>\r\n            </el-container>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <div v-show=\"!disabledUpdate\" slot=\"footer\" style=\"width:100%;height: 80px;margin:0 15px\">\r\n        <div v-if=\"showbox\" id=\"bigbox\"></div>\r\n        <el-divider style=\"color:#E7EBF0\" />\r\n        <div type=\"flex\" justify=\"end\">\r\n          <div style=\"width:100%\">\r\n            <vxe-button id=\"savebutton\" style=\"float:right;margin-right:20px\" status=\"primary\" @click=\"doInsert\">确定</vxe-button>\r\n            <vxe-button style=\"float:right;margin-right:20px\" @click=\"dialogClose\">取消</vxe-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <BsDialog\r\n      :visible.sync=\"showDialogView\"\r\n      :show-header=\"true\"\r\n      :show-footer=\"false\"\r\n      :show-close=\"true\"\r\n      :close-destory=\"true\"\r\n      title=\"函数参数\"\r\n      width=\"60%\"\r\n    >\r\n      <div slot=\"context\" v-loading=\"false\">\r\n        {{ functionParameter }}\r\n      </div>\r\n    </BsDialog>\r\n  </vxe-modal>\r\n</template>\r\n<script>\r\nimport { proconf } from '../MonitorRulesView.js'\r\nimport HttpModule from '@/api/frame/main/Monitoring/levelRules.js'\r\nimport queryTreedElementByCodeMixin from '@/mixin/queryTreedElementByCode.js'\r\nimport functionSelectMixin from '@/mixin/functionSelectMixin.js'\r\n\r\nexport default {\r\n  name: 'AddDialog',\r\n  mixins: [queryTreedElementByCodeMixin, functionSelectMixin],\r\n  components: {},\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    },\r\n    businessNameTips() {\r\n      const current = this.businessFunctionCodeoptions\r\n        ?.filter(item => this.businessFunctionCode?.includes(item.id))\r\n        ?.map(item => item.businessName)\r\n        ?.join(',')\r\n      const noMatched = Array.isArray(this.businessFunctionCode) ? this.businessFunctionCode.join(',') : this.businessFunctionCode\r\n      return current || noMatched\r\n    },\r\n    isSx() { // 判断是不是陕西项目\r\n      return this.$store.getters.isSx\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      refleshKey: Date.now(),\r\n      warnType: '',\r\n      warnTypeOptions: [\r\n        { value: '1', label: '流向' },\r\n        { value: '2', label: '流速' },\r\n        { value: '3', label: '流量' },\r\n        { value: '4', label: '其他' }\r\n      ],\r\n      uploadFile: '',\r\n      uploadFileOptions: [\r\n        { value: '1', label: '是' },\r\n        { value: '0', label: '否' }\r\n      ],\r\n      rightTreeValue: [],\r\n      configIn: {\r\n        disabled: true\r\n      },\r\n      treeData: [],\r\n      editConfig: {\r\n        trigger: 'dblclick',\r\n        mode: 'cell'\r\n      },\r\n      disabled: false,\r\n      disabledBusinessFunction: false,\r\n      toolbarConfig: {\r\n        batchModify: false,\r\n        moneyConversion: false, // 是否有金额转换,\r\n        disabledMoneyConversion: false,\r\n        import: false,\r\n        calculator: false,\r\n        slots: {\r\n          tools: 'toolbarTools',\r\n          buttons: 'toolbarSlots'\r\n        },\r\n        buttons: [\r\n          { code: 'sure', name: '确定', status: 'primary', callback: this.sureButton },\r\n          { code: 'cancel', name: '取消', status: '', callback: this.cancelButton }\r\n        ]\r\n      },\r\n      ruleFlag: 1,\r\n      ruleFlagOptions: [\r\n        { value: 0, label: '或' },\r\n        { value: 1, label: '且' }\r\n      ],\r\n      warnLocation: 3,\r\n      warnLocationOptions: [\r\n        { value: 1, label: '门户' },\r\n        { value: 2, label: '核算' },\r\n        { value: 3, label: '不提示' }\r\n      ],\r\n      editRulesIn: {\r\n        param: [{ required: true, type: 'float', trigger: 'change', message: '请输入规则定义的参数值' }]\r\n      },\r\n      buttonConfig: {\r\n        buttons: [\r\n          { code: 'sure', name: '确定', status: 'primary', callback: this.sureButton },\r\n          { code: 'cancel', name: '取消', status: '', callback: this.cancelButton }\r\n        ]\r\n      },\r\n      tempNodes: [],\r\n      regulationModelName: '',\r\n      regulationModelCode: '',\r\n      tableLoading: false,\r\n      monitorTableColumnsConfig: proconf.monitorSetTableColumnsConfig,\r\n      operationTableData: [],\r\n      tabbtn: ['模板信息', '规则定义', '白名单', '生效范围'],\r\n      ruleSetShow: true,\r\n      ruleDesShow: false,\r\n      appSetShow: false,\r\n      effectiveShow: false,\r\n      activeIndex: 0,\r\n      crTemplate: '',\r\n      monitorRuleName: '',\r\n      regulationType: '',\r\n      quhua: '',\r\n      mountTableColumnsConfig: proconf.mountTableColumnsConfig,\r\n      mountTableData: [],\r\n      // BsQuery 查询栏\r\n      queryConfig: proconf.sethighQueryConfig,\r\n      searchDataList: proconf.sethighQueryData,\r\n      // table 配置\r\n      tableConfig: {\r\n        renderers: {\r\n          // 编辑 附件 操作日志\r\n          $payVoucherInputGloableOptionRow: proconf.gloableOptionRowMonitorRulesView\r\n        },\r\n        methods: {\r\n          onOptionRowClick: this.onOptionRowClick\r\n        }\r\n      },\r\n      businessModule: '',\r\n      businessModuleoptions: [\r\n        { value: '1', label: '610000000-陕西省本级' },\r\n        { value: '2', label: '610100000-西安市本级' },\r\n        { value: '3', label: '610102000-新城区本级' },\r\n        { value: '4', label: '610102998-新城区辖区' }\r\n      ],\r\n      businessFunction: '',\r\n      businessFunctionoptions: [\r\n        { value: '1', label: '000001-预算处预留' },\r\n        { value: '2', label: '001001-省级财政专项资金' },\r\n        { value: '3', label: '610102000-新城区本级' },\r\n        { value: '4', label: '610102998-新城区辖区' }\r\n      ],\r\n      warningLevel: 1,\r\n      warningLeveloptions: this.$store.state.warnInfo.warnLevelOptions,\r\n      handleType: 1,\r\n      handleTypeoptions: this.$store.state.warnInfo.warnControlTypeOptions,\r\n      isEnable: 0,\r\n      isEnableoptions: [\r\n        { value: 0, label: '否' },\r\n        { value: 1, label: '是' }\r\n      ],\r\n      policiesName: '',\r\n      policiesDescription: '',\r\n      fiRuleDesc: '',\r\n      implDesc: '',\r\n      dialogVisible: true,\r\n      addLoading: false,\r\n      token: '',\r\n      scope: [],\r\n      isContinuity: false,\r\n      // 文件上传相关参数\r\n      fileList: [],\r\n      fileData: [],\r\n      fileDataBakDel: [],\r\n      attachmentId: '',\r\n      showbox: false,\r\n      businessSystemCode: '',\r\n      businessSystemName: '',\r\n      businessSystemCodeoptions: [],\r\n      businessModuleCode: '',\r\n      businessModuleName: '',\r\n      businessModuleCodeoptions: [],\r\n      businessFunctionCode: [],\r\n      businessFunctionName: '',\r\n      businessFunctionCodeoptions: [],\r\n      SysparentId: 0,\r\n      ModparentId: 0,\r\n      regulationClass: '',\r\n      regulationClassoptions: [],\r\n      triggerClass: 1,\r\n      triggerClassoptions: [\r\n        { value: 1, label: '事中触发' },\r\n        { value: 2, label: '定时触发' }\r\n      ],\r\n      tableToolbarConfig: {\r\n        // table工具栏配置\r\n        disabledMoneyConversion: false,\r\n        moneyConversion: false, // 是否有金额转换\r\n        import: false, // 导入\r\n        export: true, // 导出\r\n        print: false, // 打印\r\n        zoom: true, // 缩放\r\n        custom: true, // 选配展示列\r\n        slots: {\r\n          tools: 'toolbarTools',\r\n          buttons: 'toolbarSlots'\r\n        }\r\n      },\r\n      disabledUpdate: false,\r\n      defaultCheckedKeys: [],\r\n      ruleDisabled: false,\r\n      formItemsConfigMessage: proconf.formItemsConfigMessage,\r\n      paymentLen: 0,\r\n      paymentData: [],\r\n      formDatas: {\r\n        useDes: '',\r\n        payeeAcctNo: '',\r\n        payeeAcctName: ''\r\n      },\r\n      formValidationConfigMessage: proconf.formValidationConfigMessage,\r\n      regulationClassName: '',\r\n      showDialogView: false,\r\n      isShowRuletype: false,\r\n      ruletypeoptions: [],\r\n      ruletype: '',\r\n      ruleType: '',\r\n      sx: this.$store.getters.isSx,\r\n      functionParameter: ''\r\n    }\r\n  },\r\n  methods: {\r\n    chooseWarningLevel(val) {\r\n      if (val === 1) {\r\n        this.handleType = 1\r\n      } else if (val === 2) {\r\n        this.handleType = 2\r\n      } else if (val === 3) {\r\n        this.handleType = 3\r\n      } else if (val === 4) {\r\n        this.handleType = 4\r\n      }\r\n    },\r\n    chooseTriggerClass(val) {\r\n      if (val === 2) {\r\n        this.warningLevel = 4\r\n        this.handleType = 4\r\n      }\r\n      if (val === 1) {\r\n        this.warningLevel = 1\r\n        this.handleType = 1\r\n      }\r\n    },\r\n    choosehandleType(val) {\r\n      if (val === 1) {\r\n        this.warningLevel = 1\r\n      } else if (val === 2) {\r\n        this.warningLevel = 2\r\n      } else if (val === 3) {\r\n        this.warningLevel = 3\r\n      } else if (val === 4) {\r\n        this.warningLevel = 4\r\n      }\r\n    },\r\n    selectRule(val) {\r\n      let valArr = val.split('##')\r\n      this.regulationClassName = valArr[2]\r\n    },\r\n    // 表格单元行单击\r\n    cellClick(obj, context, e) {\r\n      // console.log('参数', ...arguments)\r\n      let key = obj.column.property\r\n      console.log(key, obj.row)\r\n      switch (key) {\r\n        // 申请编号\r\n        case 'functionParameter':\r\n          this.showParameter(obj.row)\r\n          break\r\n      }\r\n    },\r\n    showParameter(row) {\r\n      this.functionParameter = row.functionParameter\r\n      this.showDialogView = true\r\n    },\r\n    formItemChange(obj) {\r\n      if (obj.property === 'payment') {\r\n        let data = obj.itemValue ? obj.itemValue.split(',') : ''\r\n        let content = this.formItemsConfigMessage[0].itemRender.options\r\n        this.formItemsConfigMessage.splice(1, this.paymentLen)\r\n        if (this.paymentData) {\r\n          if (data.length < this.paymentLen) {\r\n            this.paymentData.forEach(item => {\r\n              if (data.indexOf(item) === -1) {\r\n                this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + '__viewSort'] = ''\r\n                this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + 'code'] = ''\r\n                this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + 'code__multiple'] = []\r\n                this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + 'id'] = ''\r\n                this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + 'id__multiple'] = []\r\n                this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + 'name'] = ''\r\n                this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + 'name__multiple'] = []\r\n              }\r\n            })\r\n          }\r\n        }\r\n        this.paymentData = data\r\n        this.paymentLen = data.length\r\n        let datas = {}\r\n        data.forEach((item, index) => {\r\n          if (item === '1') {\r\n            datas = this.createPro(content[item], false)\r\n          } else {\r\n            datas = this.createObj(content[item], false)\r\n          }\r\n          this.formItemsConfigMessage.splice(1 + index, 0, datas)\r\n        })\r\n      }\r\n    },\r\n    createPro(obj, disabled) {\r\n      let axiosConfig = {\r\n        method: 'post',\r\n        url: 'large-monitor-platform/lmp/elementQuery/elementtree',\r\n        successCode: '000000', // 成功code\r\n        statusField: 'code'\r\n      }\r\n      if (this.isSx) {\r\n        axiosConfig = {\r\n          method: 'get',\r\n          url:\r\n            'mp-b-basedata-service/v2/basedata/page'\r\n        }\r\n      }\r\n      return {\r\n        insertMark: obj.label,\r\n        isNew: true,\r\n        title: obj.label,\r\n        field: obj.name,\r\n        align: 'left',\r\n        title__viewSort: obj.label,\r\n        field__viewSort: obj.name,\r\n        name: '$vxeTree',\r\n        itemRender: {\r\n          name: '$vxeTree',\r\n          options: [],\r\n          props: {\r\n            config: {\r\n              treeProps: {\r\n                labelFormat: '{code}-{name}',\r\n                nodeKey: 'code',\r\n                label: 'name',\r\n                children: 'children' // 子级字段名\r\n              },\r\n              placeholder: `请选择${obj.label}`,\r\n              multiple: true,\r\n              disabled,\r\n              isleaf: false,\r\n              axiosConfig: axiosConfig\r\n            },\r\n            queryparams: {\r\n              elementCode: 'pro',\r\n              condition: '',\r\n              year: this.$store.state.userInfo.year,\r\n              province: this.$store.state.userInfo.province,\r\n              limit: 2000,\r\n              offset: 1\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    createObj(obj, disabled) {\r\n      let axiosConfig = {\r\n        method: 'post',\r\n        // url: `mp-b-basedata-service/v2/elevalueset/view/jstreedata/${obj.urlC}`\r\n        url: 'large-monitor-platform/lmp/elementQuery/elementtree',\r\n        successCode: '000000', // 成功code\r\n        statusField: 'code'\r\n      }\r\n      let treeConfig = {\r\n        nodeKey: 'id',\r\n        label: '{name}',\r\n        labelFormat: '{code}-{name}',\r\n        children: 'children' // 子级字段名\r\n      }\r\n      if (this.isSx) {\r\n        axiosConfig = {\r\n          method: 'get',\r\n          url: `mp-b-basedata-service/v2/elevalueset/view/jstreedata/${obj.urlC}`\r\n        }\r\n        treeConfig = {\r\n          nodeKey: 'id',\r\n          label: 'text',\r\n          children: 'children' // 子级字段名\r\n        }\r\n      }\r\n      return {\r\n        insertMark: obj.label,\r\n        isNew: true,\r\n        title: obj.label,\r\n        field: obj.name,\r\n        align: 'left',\r\n        title__viewSort: obj.label,\r\n        field__viewSort: obj.name,\r\n        name: '$vxeTree',\r\n        itemRender: {\r\n          name: '$vxeTree',\r\n          options: [],\r\n          props: {\r\n            config: {\r\n              treeProps: treeConfig,\r\n              placeholder: `请选择${obj.label}`,\r\n              disabled,\r\n              multiple: true,\r\n              isleaf: false,\r\n              axiosConfig: axiosConfig\r\n            },\r\n            queryparams: {\r\n              elementCode: obj.urlC,\r\n              date: this.$store.state.userInfo.year,\r\n              tokenid: this.$store.getters.getLoginAuthentication.tokenid,\r\n              appguid: 'apaas',\r\n              year: this.$store.state.userInfo.year,\r\n              mofDivCode: this.$store.state.userInfo.province,\r\n              parameters: {}\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    resetFormDataListMessage() {\r\n      let paymentsArr = ['monitore', 'agency_code', 'pro_name', 'bgt_type_code', 'bgt_source_code', 'gov_bgt_eco_code', 'exp_func_code', 'cor_bgt_doc_no_name']\r\n      paymentsArr.forEach(item => {\r\n        this.formDatas[item + '__viewSort'] = ''\r\n        this.formDatas[item + 'code'] = ''\r\n        this.formDatas[item + 'code__multiple'] = []\r\n        this.formDatas[item + 'id'] = ''\r\n        this.formDatas[item + 'id__multiple'] = []\r\n        this.formDatas[item + 'name'] = ''\r\n        this.formDatas[item + 'name__multiple'] = []\r\n      })\r\n      this.formDatas.payment = []\r\n      this.formDatas.payment__multiple = []\r\n      this.formDatas.agency_code = []\r\n      this.formDatas.pro_name = []\r\n      this.formDatas.gov_bgt_eco_code = []\r\n      this.formDatas.exp_func_code = []\r\n      this.formDatas.cor_bgt_doc_no_name = []\r\n      this.formDatas.dep_bgt_eco_code = []\r\n    },\r\n    sureButton() {\r\n      let that = this\r\n      let datas = this.$refs.monitorTableRef.getSelectionData()\r\n      if (datas.length !== 1) {\r\n        this.$XModal.message({ status: 'warning', message: '请选择一条数据数据！' })\r\n        return\r\n      }\r\n      console.log(datas)\r\n      this.crTemplate = datas[0].ruleTemplateName\r\n      this.businessModule = datas[0].businessModuleName\r\n      this.businessFunction = datas[0].businessFunctionName\r\n      this.regulationModelCode = datas[0].ruleTemplateCode\r\n      // this.regulationModelName = datas[0]\r\n      this.ruleSetShow = false\r\n      this.ruleDesShow = true\r\n      this.appSetShow = false\r\n      this.effectiveShow = false\r\n      this.activeIndex = 1\r\n      let datas1 = this.$refs.mountTableRef.getSelectionData()\r\n      console.log(datas1)\r\n      HttpModule.getTemplateByCode({ ruleTemplateCode: datas[0].ruleTemplateCode }).then(res => {\r\n        if (res.code === '000000') {\r\n          res.data.functionInfoList.forEach(item => {\r\n            let tempObj = {\r\n              functionName: '',\r\n              functionCode: '',\r\n              relation: '1',\r\n              paramType: '1',\r\n              param: ''\r\n            }\r\n            tempObj.functionName = item.functionName\r\n            tempObj.functionCode = item.functionCode\r\n            that.mountTableData.push(tempObj)\r\n          })\r\n        } else {\r\n          that.$message.warning('加载失败')\r\n        }\r\n        that.tableLoading = false\r\n      })\r\n      console.log(datas)\r\n    },\r\n    cancelButton() { console.log('取消', this.$store.state.curNavModule.f_FullName.substring(0, 3)) },\r\n    // tab切换\r\n    tabClick(index) {\r\n      this.activeIndex = index\r\n      if (this.activeIndex === 0) {\r\n        this.ruleSetShow = true\r\n        this.ruleDesShow = false\r\n        this.appSetShow = false\r\n        this.effectiveShow = false\r\n      } else if (this.activeIndex === 1) {\r\n        this.ruleSetShow = false\r\n        this.ruleDesShow = true\r\n        this.appSetShow = false\r\n        this.effectiveShow = false\r\n      } else if (this.activeIndex === 2) {\r\n        this.ruleSetShow = false\r\n        this.ruleDesShow = false\r\n        this.appSetShow = true\r\n        this.effectiveShow = false\r\n      } else if (this.activeIndex === 3) {\r\n        this.ruleSetShow = false\r\n        this.ruleDesShow = false\r\n        this.appSetShow = false\r\n        this.effectiveShow = true\r\n      } else if (this.activeIndex === 4) {\r\n        this.ruleSetShow = false\r\n        this.ruleDesShow = false\r\n        this.appSetShow = false\r\n        this.effectiveShow = false\r\n      }\r\n    },\r\n    getTableData(val) {\r\n      let that = this\r\n      console.log('getTableData', that.searchDataList)\r\n      that.tableLoading = true\r\n      let param = {\r\n        page: 1,\r\n        pageSize: 500,\r\n        ...that.searchDataList\r\n      }\r\n      HttpModule.getPageQuery(param).then(res => {\r\n        if (res.code === '000000' && res.data.results) {\r\n          that.operationTableData = res.data.results\r\n        } else {\r\n          that.$message.warning('加载失败')\r\n        }\r\n        that.tableLoading = false\r\n      })\r\n    },\r\n    onNodeCheckClick(data) {\r\n      console.log(data.nodes)\r\n      let arr = []\r\n\r\n      let regulationType = this.regulationType\r\n      if (regulationType === '系统级') {\r\n        data.nodes.forEach(item => {\r\n          if (item.isleaf) {\r\n            let obj = {\r\n              mofDivCode: '',\r\n              agencyCode: '',\r\n              mofDiv: ''\r\n            }\r\n            obj.mofDivId = item.id\r\n            obj.mofDivCode = item.code\r\n            arr.push(obj)\r\n          }\r\n        })\r\n      } else if (regulationType === '部门级') {\r\n        data.nodes.forEach(item => {\r\n          if (item.isleaf) {\r\n            let obj = {\r\n              mofDivCode: '',\r\n              agencyCode: ''\r\n            }\r\n            obj.agencyCode = item.code\r\n            arr.push(obj)\r\n          }\r\n        })\r\n      } else if (regulationType === '财政级') {\r\n        data.nodes.forEach(item => {\r\n          if (item.isleaf) {\r\n            let obj = {\r\n              mofDivCode: '',\r\n              agencyCode: ''\r\n            }\r\n            obj.mofDivCode = item.code\r\n            arr.push(obj)\r\n          }\r\n        })\r\n      }\r\n      console.log('arr', arr)\r\n      this.scope = arr\r\n    },\r\n    getChildrenNewData(datas) {\r\n      let that = this\r\n      datas.forEach(item => {\r\n        item.label = item.text\r\n        item.guid = item.id\r\n        item.name = item.text\r\n        item.code = item.id\r\n        item.disabled = true\r\n        if (item.children) {\r\n          that.getChildrenNewData(item.children)\r\n        }\r\n      })\r\n\r\n      return datas\r\n    },\r\n    search(obj) {\r\n      console.log(obj)\r\n      this.searchDataList.ruleTemplateName = obj.ruleTemplateName\r\n      this.searchDataList.businessSystemCode = obj.businessSystem_code\r\n      this.searchDataList.businessModuleCode = obj.businessModule_code\r\n      this.searchDataList.businessFunctionCode = obj.businessFunction_code\r\n      this.getTableData()\r\n    },\r\n    // 高级查询下拉框\r\n    itemChange(obj, form) {\r\n      console.log(obj, form)\r\n      if (obj.property === 'businessSystem') {\r\n        this.getBusinessModelCodeDatas({ businessType: '2', parentId: obj.node.id })\r\n      }\r\n      if (obj.property === 'businessModule') {\r\n        this.getBusinessModelCodeDatas({ businessType: '3', parentId: obj.node.id })\r\n      }\r\n    },\r\n    getChildrenData(datas) {\r\n      let that = this\r\n      datas.forEach(item => {\r\n        item.code = item.id\r\n        item.name = item.businessName\r\n        item.label = item.id + '-' + item.businessName\r\n        if (item.children) {\r\n          that.getChildrenData(item.children)\r\n        }\r\n      })\r\n\r\n      return datas\r\n    },\r\n    // // 获取业务模块\r\n    getBusinessModelCodeDatas(val) {\r\n      let that = this\r\n      HttpModule.getBusinessTreeData(val).then(res => {\r\n        if (res.code === '000000' && res.data.results) {\r\n          let treeResdata = that.getChildrenData(res.data.results)\r\n          const result = [\r\n            {\r\n              id: 'root',\r\n              label: '全部',\r\n              code: 'root',\r\n              name: '全部',\r\n              isleaf: '0',\r\n              children: treeResdata\r\n            }\r\n          ]\r\n          if (val.businessType === '1') {\r\n            that.queryConfig.forEach(item => {\r\n              if (item.field === 'businessSystem') {\r\n                console.log('result', result)\r\n                item.itemRender.options = result\r\n              }\r\n            })\r\n          } else if (val.businessType === '2') {\r\n            that.queryConfig.forEach(item => {\r\n              if (item.field === 'businessModule') {\r\n                item.itemRender.options = result\r\n              }\r\n            })\r\n          } else if (val.businessType === '3') {\r\n            that.queryConfig.forEach(item => {\r\n              if (item.field === 'businessFunction') {\r\n                item.itemRender.options = result\r\n              }\r\n            })\r\n          }\r\n        } else {\r\n          that.$message.warning('加载失败')\r\n        }\r\n      })\r\n    },\r\n    dialogClose() {\r\n      console.log(this.paymentLen)\r\n      this.formItemsConfigMessage.splice(1, this.paymentLen)\r\n      this.paymentLen = 0\r\n      let form = this.$refs.messageForm\r\n      form.clearValidate()\r\n      this.resetFormDataListMessage()\r\n      this.$parent.dialogVisible = false\r\n      this.$parent.queryTableDatas()\r\n    },\r\n    // 处理字符串\r\n    dealwithStr(str) {\r\n      let result = ''\r\n      if (str) {\r\n        if (str.substring(str.length - 7) === '0000000') {\r\n          result = '61'\r\n        } else if (str.substring(str.length - 5) === '00000') {\r\n          result = str.substring(0, 4)\r\n        } else if (str.substring(str.length - 3) === '000') {\r\n          result = str.substring(0, 6)\r\n        } else {\r\n          result = str\r\n        }\r\n        return result\r\n      }\r\n    },\r\n    // 获取生效范围\r\n    getWhereTree() {\r\n      this.defaultCheckedKeys = []\r\n      // let that = this\r\n      let result = this.dealwithStr(this.$store.state.userInfo.province)\r\n      // this.$store.state.userInfo.orgCode\r\n      let param = {\r\n        wheresql: 'and code like \\'' + result + '%\\'',\r\n        elementCode: 'admdiv',\r\n        // elementCode: 'AGENCY',\r\n        year: this.$store.state.userInfo.year,\r\n        province: this.$store.state.userInfo.province\r\n      }\r\n      let regulationType = this.regulationType\r\n      if (regulationType === '部门级') {\r\n        param.elementCode = 'DEPARTMENT'\r\n        param.wheresql = 'and code like \\'' + this.$store.state.userInfo.orgcode + '%\\''\r\n      }\r\n      if (regulationType === '财政级') {\r\n        param.elementCode = 'AGENCY'\r\n        param.wheresql = 'and province =' + this.$store.state.userInfo.province\r\n      }\r\n      HttpModule.getTreewhere(param).then(res => {\r\n        // console.log('that.getChildrenNewData(res.data)', that.getChildrenNewData(res.data))\r\n        // this.treeData = this.getChildrenNewData(res.data)\r\n        console.log(res.data, regulationType)\r\n        if (regulationType === '部门级' || regulationType === '财政级') {\r\n          // let treeResdata = this.getChildrenNewData1(res.data)\r\n          const result = [\r\n            {\r\n              id: 'root',\r\n              label: '全部',\r\n              code: 'root',\r\n              isleaf: '0',\r\n              disabled: true,\r\n              name: '全部',\r\n              children: this.getChildrenNewData(res.data)\r\n            }\r\n          ]\r\n          this.treeData = result\r\n        } else {\r\n          this.treeData = this.getChildrenNewData(res.data)\r\n        }\r\n        if (this.$parent.dialogTitle !== '新增') {\r\n          let tempArr = []\r\n          this.$parent.DetailData.regulationScope?.forEach(item => {\r\n            let str = item.mofDivId.toString()\r\n            tempArr.push(str)\r\n          })\r\n          this.$refs.rightTree.treeOptionFn().setCheckedKeys(tempArr)\r\n          this.defaultCheckedKeys = tempArr\r\n        } else {\r\n          let tempArr = []\r\n          tempArr.push('root')\r\n          let arr = []\r\n          this.scope = this.getArr(this.treeData, arr)\r\n          if (regulationType === '部门级') {\r\n            arr = []\r\n            this.scope = this.getArr(this.treeData, arr)\r\n          } else if (regulationType === '财政级') {\r\n            arr = []\r\n            this.scope = this.getArr1(this.treeData, arr)\r\n            console.log(this.scope)\r\n          }\r\n          this.$nextTick(() => {\r\n            let dataArr = []\r\n            this.scope.forEach(item => {\r\n              let str = ''\r\n              if (regulationType !== '系统级') {\r\n                str = item.agencyId.toString()\r\n              } else {\r\n                str = item.mofDivId.toString()\r\n              }\r\n              dataArr.push(str)\r\n            })\r\n            this.$refs.rightTree.treeOptionFn().setCheckedKeys(dataArr)\r\n            this.defaultCheckedKeys = dataArr\r\n          })\r\n        }\r\n      })\r\n    },\r\n    getArr(data, arr) {\r\n      data.forEach(item => {\r\n        if (item.isleaf) {\r\n          let obj = {\r\n            mofDivCode: '',\r\n            agencyCode: '',\r\n            mofDivId: item.id\r\n          }\r\n          obj.agencyId = item.code\r\n          arr.push(obj)\r\n        }\r\n        if (item.children) {\r\n          this.getArr(item.children, arr)\r\n        }\r\n      })\r\n      return arr\r\n    },\r\n    getArr1(data, arr) {\r\n      data.forEach(item => {\r\n        if (item.isleaf) {\r\n          let obj = {\r\n            mofDivCode: '',\r\n            agencyCode: '',\r\n            mofDivId: item.id\r\n          }\r\n          obj.agencyId = item.code\r\n          obj.agencyCode = item.name.split('-')[0]\r\n          arr.push(obj)\r\n        }\r\n        if (item.children) {\r\n          this.getArr1(item.children, arr)\r\n        }\r\n      })\r\n      return arr\r\n    },\r\n    // 保存新增的计划信息\r\n    doInsert() {\r\n      // // 校验判断\r\n      // let datas = this.$refs.monitorTableRef.getSelectionData()\r\n      // if (datas.length !== 1) {\r\n      //   this.$XModal.message({ status: 'warning', message: '请选择一条模板信息！' })\r\n      //   return\r\n      // }\r\n\r\n      // if (!this.monitorRuleName) {\r\n      //   this.$XModal.message({ status: 'warning', message: '请输入规则名称！' })\r\n      //   return\r\n      // }\r\n\r\n      // if (!this.policiesDescription) {\r\n      //   this.$XModal.message({ status: 'warning', message: '请选择预警提示！' })\r\n      //   return\r\n      // }\r\n      // this.$refs.mountTableRef.validate().then((res) => {\r\n      //   if (Object.keys(res).length > 0) {\r\n      //     let errors = Object.values(res)\r\n      //     for (let i = 0; i < errors.length; i++) {\r\n      //       this.$message({ type: 'warning', message: errors[i][0].rule.message })\r\n      //       return\r\n      //     }\r\n      //   }\r\n      // })\r\n      let that = this\r\n      // let datas1 = this.$refs.mountTableRef.getPureTableData().fullData\r\n      // // let regulationType = this.$store.state.curNavModule.f_FullName.substring(0, 3)\r\n      // let regulationType = this.regulationType\r\n      // if (regulationType === '系统级') {\r\n      //   regulationType = '1'\r\n      // } else if (regulationType === '部门级') {\r\n      //   regulationType = '3'\r\n      // } else if (regulationType === '财政级') {\r\n      //   regulationType = '2'\r\n      // }\r\n      // let param = {\r\n      //   'regulationName': that.monitorRuleName, // 规则名称\r\n      //   'regulationType': regulationType, // 规则类型：1.系统级  2.财政级  3.部门级\r\n      //   'warningLevel': that.warningLevel, // 预警级别\r\n      //   'handleType': that.handleType, // 处理方式\r\n      //   'regulationModelCode': that.regulationModelCode, // 模板编码\r\n      //   'regulationModelName': that.crTemplate, // 模板名称\r\n      //   'warningTips': that.policiesDescription, // 预警提示\r\n      //   'regulationStatus': this.$parent.regulationStatus, // 规则状态：1.新增  2.送审  3.审核\r\n      //   'isEnable': that.isEnable, // 是否启用：0.否  1.是\r\n      //   'regulationConfig': datas1,\r\n      //   'regulationScope': that.scope, // 规则生效范围{mofDivCode: '', angencyCode: ''}\r\n      //   menuName: this.$store.state.curNavModule.name\r\n      // }\r\n      let classCode = ''\r\n      if (that.regulationClass) {\r\n        let valArr = that.regulationClass.split('-')\r\n        classCode = valArr[0]\r\n      }\r\n\r\n      if (this.triggerClass === 1 && (this.businessFunctionName.length === 0 || this.businessFunctionName[0] === 'undefined')) {\r\n        this.$XModal.message({ status: 'warning', message: '请选择触发菜单！' })\r\n        return\r\n      }\r\n      console.log('debugger')\r\n      if (this.$parent.dialogTitle === '修改') {\r\n        const params = {\r\n          'regulationScope': that.scope, // 规则生效范围{mofDivCode: '', angencyCode: ''}\r\n          regulationCode: this.$parent.DetailData.regulationCode,\r\n          regulationName: this.$parent.DetailData.regulationName,\r\n          warningLevel: this.warningLevel,\r\n          triggerClass: this.triggerClass,\r\n          handleType: this.handleType,\r\n          menuName: this.$store.state.curNavModule.name,\r\n          regulationClass: classCode,\r\n          'menuIdList': this.businessFunctionCode.toString(), // 多菜单\r\n          'menuNameList': this.businessFunctionName.toString()\r\n        }\r\n        if (this.isSx) {\r\n          HttpModule.updateDataView(params).then(res => {\r\n            if (res.code === '000000') {\r\n              that.$message.success('修改成功')\r\n              console.log(this.paymentLen)\r\n              this.formItemsConfigMessage.splice(1, this.paymentLen)\r\n              this.paymentLen = 0\r\n              let form = this.$refs.messageForm\r\n              form.clearValidate()\r\n              this.resetFormDataListMessage()\r\n              that.$parent.dialogVisible = false\r\n              this.$parent.queryTableDatas()\r\n            } else {\r\n              that.$message.error('操作失败')\r\n            }\r\n          }).finally(() => {\r\n          // that.$parent.dialogVisible = false\r\n          })\r\n        } else {\r\n          HttpModule.updateData(params).then(res => {\r\n            if (res.code === '000000') {\r\n              that.$message.success('修改成功')\r\n              console.log(this.paymentLen)\r\n              this.formItemsConfigMessage.splice(1, this.paymentLen)\r\n              this.paymentLen = 0\r\n              let form = this.$refs.messageForm\r\n              form.clearValidate()\r\n              this.resetFormDataListMessage()\r\n              that.$parent.dialogVisible = false\r\n              this.$parent.queryTableDatas()\r\n            } else {\r\n              that.$message.error('操作失败')\r\n            }\r\n          }).finally(() => {\r\n          // that.$parent.dialogVisible = false\r\n          })\r\n        }\r\n      } else {\r\n        // HttpModule.addData(param).then(res => {\r\n        //   if (res.code === '000000') {\r\n        //     that.$message.success('新增成功')\r\n        //     that.$parent.dialogVisible = false\r\n        //     this.$parent.queryTableDatas()\r\n        //   } else {\r\n        //     that.$message.error('操作失败')\r\n        //   }\r\n        // }).finally(() => {\r\n        //   // that.$parent.dialogVisible = false\r\n        // })\r\n      }\r\n    },\r\n\r\n    // 选择业务系统\r\n    changeSysCode(val) {\r\n      console.log(val)\r\n      this.SysparentId = val\r\n      this.businessModuleCode = ''\r\n      let busName = this.businessSystemCodeoptions.find(item => {\r\n        return item.id === val\r\n      })\r\n      this.businessSystemName = busName.businessName\r\n      this.getModLists()\r\n    },\r\n    // 选择业务模块\r\n    changeModCode(val) {\r\n      console.log(val)\r\n      this.ModparentId = val\r\n      this.businessFunctionCodeModal = ''\r\n      this.businessFunctionCode = []\r\n      let busName = this.businessModuleCodeoptions.find(item => {\r\n        return item.id === val\r\n      })\r\n      this.businessModuleName = busName.businessName\r\n      if (this.isSx) {\r\n        this.getFunLists()\r\n      }\r\n    },\r\n    // 业务系统下拉树\r\n    getSysLists() {\r\n      const param = {\r\n        businessType: 1,\r\n        parentId: 0\r\n      }\r\n      this.addLoading = true\r\n      HttpModule.getbusLists(param).then(res => {\r\n        this.addLoading = false\r\n        if (res.code === '000000') {\r\n          this.businessSystemCodeoptions = res.data.results\r\n          if (this.$parent.dialogTitle === '新增') {\r\n            this.businessSystemCode = '1'\r\n            this.changeSysCode(this.businessSystemCode)\r\n          }\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 业务模块下拉树\r\n    getModLists() {\r\n      const param = {\r\n        businessType: 2,\r\n        parentId: this.SysparentId\r\n      }\r\n      this.addLoading = true\r\n      HttpModule.getbusLists(param).then(res => {\r\n        this.addLoading = false\r\n        if (res.code === '000000') {\r\n          this.businessModuleCodeoptions = res.data.results\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    // 业务功能下拉树\r\n    getFunLists() {\r\n      const param = {\r\n        businessType: 3,\r\n        parentId: this.ModparentId\r\n      }\r\n      this.addLoading = true\r\n      HttpModule.getbusLists(param).then(res => {\r\n        this.addLoading = false\r\n        if (res.code === '000000') {\r\n          this.businessFunctionCodeoptions = res.data.results\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    getRegulationChildrenData(datas) {\r\n      let that = this\r\n      datas.forEach(item => {\r\n        // item.code = item.code\r\n        item.name = item.ruleName\r\n        item.label = item.code + '-' + item.ruleName\r\n        if (item.children) {\r\n          that.getRegulationChildrenData(item.children)\r\n        }\r\n      })\r\n\r\n      return datas\r\n    },\r\n    getRegulation() {\r\n      HttpModule.getTree(0).then(res => {\r\n        if (res.code === '000000') {\r\n          let treeResdata = this.getRegulationChildrenData(res.data)\r\n          this.regulationClassoptions = treeResdata\r\n          this.regulationClassoptions.forEach(item => {\r\n            item.regulationName = item.code + '-' + item.ruleName\r\n          })\r\n        } else {\r\n          this.$message.error('下拉树加载失败')\r\n        }\r\n      })\r\n    },\r\n    // getRuletype() {\r\n    //   const params = {\r\n    //     'dictType': 'rule_type'\r\n    //   }\r\n    //   HttpModule.getRuletype(params).then(res => {\r\n    //     if (res.code === '000000') {\r\n    //       let treeResdata = this.getRuletypeChildrenData(res.data.results)\r\n    //       this.ruletypeoptions = treeResdata\r\n    //     } else {\r\n    //       this.$message.error('下拉树加载失败')\r\n    //     }\r\n    //   })\r\n    // },\r\n    getRuletypeChildrenData(datas) {\r\n      let that = this\r\n      datas.forEach(item => {\r\n        // item.code = item.code\r\n        item.name = item.dictInfoName\r\n        item.code = item.dictInfoCode\r\n        item.label = item.dictInfoCode + '-' + item.dictInfoName\r\n        if (item.children && item.children.length > 0) {\r\n          that.getRegulationChildrenData(item.children)\r\n          item.leaf = false\r\n        } else {\r\n          item.leaf = true\r\n        }\r\n      })\r\n\r\n      return datas\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  mounted() {\r\n  },\r\n  created() {\r\n    console.log(this.$parent.DetailData)\r\n    console.log(this.$store.state.userInfo.orgCode)\r\n    console.log(this.$parent.DetailData.regulationType)\r\n    this.param5 = this.transJson(this.$store.state.curNavModule.param5)\r\n    if (this.$parent.DetailData.regulationType === 1) {\r\n      this.regulationType = '系统级'\r\n    } else if (this.$parent.DetailData.regulationType === 2) {\r\n      this.regulationType = '财政级'\r\n    } else if (this.$parent.DetailData.regulationType === 3) {\r\n      this.regulationType = '部门级'\r\n    }\r\n    this.getWhereTree()\r\n    if (this.$parent.dialogTitle === '新增') {\r\n      this.getBusinessModelCodeDatas({ businessType: '1', parentId: 0 })\r\n      this.getTableData()\r\n    } else if (this.$parent.dialogTitle === '查看详情') {\r\n      this.warnType = this.$parent.DetailData.warnType\r\n      this.uploadFile = this.$parent.DetailData.uploadFile\r\n\r\n      this.ruleSetShow = false\r\n      this.ruleDesShow = true\r\n      this.appSetShow = false\r\n      this.effectiveShow = false\r\n      this.activeIndex = 1\r\n      this.monitorRuleName = this.$parent.DetailData.regulationName\r\n      this.warningLevel = this.$parent.DetailData.warningLevel\r\n      this.handleType = this.$parent.DetailData.handleType\r\n      this.regulationClass = this.$parent.DetailData.regulationClass + '-' + this.$parent.DetailData.regulationClassName\r\n      if (this.$parent.DetailData.regulationClassName === '三公') {\r\n        this.isShowRuletype = true\r\n        this.ruletype = this.$parent.DetailData.ruleTypeCode + '##' + this.$parent.DetailData.ruleTypeCode + '##' + this.$parent.DetailData.ruleTypeName\r\n      }\r\n      this.operationTableData = [this.$parent.DetailData.ruleTemplate]\r\n      this.triggerClass = this.$parent.DetailData?.triggerClass\r\n      this.ruleFlag = this.$parent.DetailData.ruleFlag\r\n      this.warnLocation = this.$parent.DetailData.warnLocation\r\n\r\n      this.crTemplate = this.$parent.DetailData.ruleTemplate.ruleTemplateName\r\n      this.businessSystemCode = parseInt(this.$parent.DetailData.businessSystemCode)\r\n      this.SysparentId = this.businessSystemCode\r\n      this.getModLists()\r\n      this.businessModuleCode = parseInt(this.$parent.DetailData.businessModuleCode)\r\n      this.ModparentId = this.businessModuleCode\r\n      if (this.isSx) {\r\n        this.getFunLists()\r\n        this.businessFunctionCode = this.$parent.DetailData.menuIdList.split(',')\r\n        this.businessFunctionName = this.$parent.DetailData.businessFunctionName\r\n      }\r\n      this.businessSystemName = this.$parent.DetailData.businessSystemName\r\n      this.businessModuleName = this.$parent.DetailData.businessModuleName\r\n\r\n      this.mountTableData = this.$parent.DetailData.regulationConfig\r\n\r\n      this.policiesDescription = this.$parent.DetailData.warningTips\r\n      this.fiRuleDesc = this.$parent.DetailData.fiRuleDesc\r\n      this.implDesc = this.$parent.DetailData.implDesc\r\n      this.isEnable = this.$parent.DetailData.isEnable\r\n      // 不可编辑\r\n      this.buttonConfig = {}\r\n      this.disabled = true\r\n      this.disabledBusinessFunction = true\r\n      this.disabledUpdate = true\r\n      this.editConfig = false\r\n    } else if (this.$parent.dialogTitle === '修改') {\r\n      this.warnType = this.$parent.DetailData.warnType\r\n      this.uploadFile = this.$parent.DetailData.uploadFile\r\n\r\n      this.ruleSetShow = false\r\n      this.ruleDesShow = true\r\n      this.appSetShow = false\r\n      this.effectiveShow = false\r\n      this.activeIndex = 1\r\n      this.monitorRuleName = this.$parent.DetailData.regulationName\r\n      this.warningLevel = this.$parent.DetailData.warningLevel\r\n      this.handleType = this.$parent.DetailData.handleType\r\n      this.triggerClass = this.$parent.DetailData.triggerClass\r\n      this.regulationClass = this.$parent.DetailData.regulationClass + '-' + this.$parent.DetailData.regulationClassName\r\n      if (this.$parent.DetailData.regulationClassName === '三公') {\r\n        this.isShowRuletype = true\r\n        this.ruletype = this.$parent.DetailData.ruleTypeCode + '##' + this.$parent.DetailData.ruleTypeCode + '##' + this.$parent.DetailData.ruleTypeName\r\n      }\r\n      this.operationTableData = [this.$parent.DetailData.ruleTemplate]\r\n      this.crTemplate = this.$parent.DetailData.ruleTemplate.ruleTemplateName\r\n      this.businessSystemCode = parseInt(this.$parent.DetailData.businessSystemCode)\r\n      this.SysparentId = this.businessSystemCode\r\n      this.getModLists()\r\n      this.businessModuleCode = parseInt(this.$parent.DetailData.businessModuleCode)\r\n      this.ModparentId = this.businessModuleCode\r\n      if (this.isSx) {\r\n        this.getFunLists()\r\n        this.businessFunctionCode = this.$parent.DetailData.menuIdList.split(',')\r\n        this.businessFunctionName = this.$parent.DetailData.businessFunctionName\r\n      }\r\n      this.businessSystemName = this.$parent.DetailData.businessSystemName\r\n      this.businessModuleName = this.$parent.DetailData.businessModuleName\r\n      // this.businessFunctionName = this.$parent.DetailData.businessFunctionName\r\n      this.mountTableData = this.$parent.DetailData.regulationConfig\r\n      this.ruleFlag = this.$parent.DetailData.ruleFlag\r\n      this.warnLocation = this.$parent.DetailData.warnLocation\r\n\r\n      this.policiesDescription = this.$parent.DetailData.warningTips\r\n      this.fiRuleDesc = this.$parent.DetailData.fiRuleDesc\r\n      this.implDesc = this.$parent.DetailData.implDesc\r\n      this.isEnable = this.$parent.DetailData.isEnable\r\n      this.scope = this.$parent.DetailData.regulationScope\r\n      // 不可编辑\r\n      this.buttonConfig = {}\r\n      this.disabled = true\r\n      this.editConfig = false\r\n    }\r\n    if (this.$parent.formDatas) {\r\n      this.formDatas = this.$parent.formDatas\r\n      if (this.formDatas.payment) {\r\n        this.formDatas.payment__multiple = this.formDatas.payment.split(',').slice(1)\r\n        if (this.isSx) {\r\n          this.formDatas.payment__multiple = this.formDatas.payment.split(',')\r\n        }\r\n        this.paymentLen = this.formDatas.payment__multiple.length\r\n        this.formDatas.payment__multiple.forEach((item, index) => {\r\n          let datas = {}\r\n          if (item === '1') {\r\n            datas = this.$parent.dialogTitle !== '新增' ? this.createPro(this.formItemsConfigMessage[0].itemRender.options[item], true) : this.createPro(this.formItemsConfigMessage[0].itemRender.options[item], false)\r\n          } else {\r\n            datas = this.$parent.dialogTitle !== '新增' ? this.createObj(this.formItemsConfigMessage[0].itemRender.options[item], true) : this.createObj(this.formItemsConfigMessage[0].itemRender.options[item], false)\r\n          }\r\n          this.formItemsConfigMessage.splice(1 + index, 0, datas)\r\n          // if (this.$parent.dialogTitle === '查看详情') {\r\n          //   this.formItemsConfigMessage.forEach(item => {\r\n          //     item.itemRender.props.disabled = true\r\n          //   })\r\n          // } else {\r\n          //   this.formItemsConfigMessage.forEach(item => {\r\n          //     item.itemRender.props.disabled = false\r\n          //   })\r\n          // }\r\n          // this.formDatas.agency_code = '000,000001,000002'\r\n          // this.formDatas.agency_name = '预算处预留,预算处预留,test单位新增'\r\n          this.formDatas.agency_code = this.formDatas.agencyCode\r\n          this.formDatas.agency_name = this.formDatas.agencyName\r\n          this.formDatas.pro_code = this.formDatas.proCode\r\n          this.formDatas.pro_name = this.formDatas.proName\r\n          this.formDatas.exp_func_code = this.formDatas.excFunCode\r\n          this.formDatas.exp_func_name = this.formDatas.excFunName\r\n          this.formDatas.dep_bgt_eco_code = this.formDatas.depBgtEcoCode\r\n          this.formDatas.dep_bgt_eco_name = this.formDatas.depBgtEcoName\r\n          this.formDatas.gov_bgt_eco_code = this.formDatas.govBgtEcoCode\r\n          this.formDatas.gov_bgt_eco_name = this.formDatas.govBgtEcoName\r\n          this.formDatas.cor_bgt_doc_no_code = this.formDatas.corBgtDocNoCode\r\n          this.formDatas.cor_bgt_doc_no_name = this.formDatas.corBgtDocNoName\r\n          // this.formDatas.agency_code_id = '5208FE4932F34E27B0A31BDDE2D0276A'\r\n          // let formDataParams = this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name].split(',')\r\n          // let paramsCodes = ''\r\n          // let paramsNames = ''\r\n          // formDataParams.forEach(item => {\r\n          //   item = item.split('-')\r\n          //   paramsCodes += item[0]\r\n          //   paramsNames += item[1]\r\n          // })\r\n          // this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + 'code'] = paramsCodes\r\n          // this.formDatas[this.formItemsConfigMessage[0].itemRender.options[item].name + 'name'] = paramsNames\r\n        })\r\n        console.log(this.formDatas)\r\n      }\r\n    }\r\n    if (this.$parent.dialogTitle === '查看详情' || this.$parent.dialogTitle === '修改') {\r\n      this.formItemsConfigMessage.forEach(item => {\r\n        item.itemRender.props.disabled = true\r\n      })\r\n    }\r\n    this.getSysLists()\r\n    this.getRegulation()\r\n    // if (this.isSx) {\r\n    //   this.getRuletype()\r\n    // }\r\n    // this.regulationType = this.$store.state.curNavModule.f_FullName.substring(0, 3)\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  .el-main {\r\n    overflow: visible;\r\n  }\r\n  .showMore {\r\n    min-width: 293px;\r\n    height: 40px;\r\n    line-height:40px;\r\n    background: #000 !important;\r\n    color: #fff;\r\n    text-align:center;\r\n    border-radius:5px;\r\n    font-size:12px;\r\n    position:absolute;\r\n    top:-40px;\r\n    z-index:1000;\r\n    display:none;\r\n    white-space:nowrap;\r\n  }\r\n  #nameId:hover .showMore{\r\n    display: block;\r\n  }\r\n  .payVoucherInput {\r\n    margin: 15px;\r\n    .el-card {\r\n      margin-top: 0\r\n    }\r\n  }\r\n  .setbtn{\r\n    width:100px;\r\n    height:45px;\r\n    float:left;\r\n    margin-right:20px;\r\n  }\r\n  .tabone{\r\n    width:100px;\r\n    height:40px;\r\n    text-align:center;\r\n    line-height:40px;\r\n    float:left;\r\n    border:1px solid #ccc;\r\n    border-radius:4px;\r\n  }\r\n  .tabone1{\r\n    width:100px;\r\n    height:40px;\r\n    text-align:center;\r\n    line-height:40px;\r\n    float:left;\r\n    border:1px solid #ccc;\r\n    background-color:#f2f2f2;\r\n    border-radius:4px;\r\n  }\r\n  .vxe-modal--wrapper .vxe-modal--box {\r\n    z-index: 0;\r\n  }\r\n  #bigbox {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: white;\r\n    z-index: 10;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    opacity: .3;\r\n  }\r\n  .el-row-item .font-set-small .hline{\r\n    width:72px;\r\n  }\r\n  .vxe-toolbar{\r\n    .vxe-button--wrapper{\r\n      display:flex;\r\n          justify-Content: end;\r\n    }\r\n  }\r\n</style>\r\n"]}]}