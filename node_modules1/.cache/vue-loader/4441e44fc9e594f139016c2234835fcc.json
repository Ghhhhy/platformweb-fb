{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\dynamicTableSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\dynamicTableSetting.vue","mtime":1694505522433},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVGFibGVDb25mTW9kYWwgZnJvbSAnLi90YWJsZUNvbmZNb2RhbC52dWUnDQppbXBvcnQgRm9ybUNvbmZNb2RhbCBmcm9tICcuL0Zvcm1Db25mTW9kYWwudnVlJw0KaW1wb3J0IEVudGVyaW5nRGVmYXVsdCBmcm9tICcuL2VudGVyaW5nRGVmYXVsdC52dWUnDQppbXBvcnQgZ2V0Rm9ybUNvbmZEYXRhIGZyb20gJy4vZm9ybUNvbmYuanMnDQppbXBvcnQgU3ViVGFiQ29uZmlnTW9kYWwgZnJvbSAnLi9TdWJUYWJDb25maWdNb2RhbC52dWUnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICcnLA0KICBjb21wb25lbnRzOiB7DQogICAgVGFibGVDb25mTW9kYWwsDQogICAgRm9ybUNvbmZNb2RhbCwNCiAgICBFbnRlcmluZ0RlZmF1bHQsDQogICAgU3ViVGFiQ29uZmlnTW9kYWwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBhbGxQcm9wRGF0YTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtZW51Z3VpZHM6IFtdLA0KICAgICAgY3VyQ29uZlR5cGU6ICd0YWJsZScsDQogICAgICBsZWZ0VmlzaWJsZTogdHJ1ZSwNCiAgICAgIGxlZnRUcmVlRGF0YTogW10sDQogICAgICBjdXJTcGxpdFBhbmVMZWZ0V2lkdGg6IDIwLA0KICAgICAgaXNTaG93UXVlcnlDb25kaXRpb25zOiBmYWxzZSwNCiAgICAgIHNlcnZlclVyaTogJ21wLWItcGVybS1zZXJ2aWNlL3YxL3RhYmxlY29uZi9tZW51Z3VpZCcsDQogICAgICB0cmVlUXVlcnlwYXJhbXM6IHsNCiAgICAgICAgbWVudWd1aWQ6ICd0ZXN0XzEyMzQ1NicsDQogICAgICAgIHVzZVJpZ2h0OiBmYWxzZSwNCiAgICAgICAgYmF0Y2hubzogMiwNCiAgICAgICAgZGF0YXR5cGU6IDUsDQogICAgICAgIGVsZUNvZGU6ICdERVBCR1RFQ08nLA0KICAgICAgICBzeHNwZWNyb2xlZ3VpZDogJzYzN0I2RDVBODIzRjQ1OUFCMzEzQ0JGOTRDODc3NjVCJw0KICAgICAgfSwNCiAgICAgIHRyZWVsZWZ0VHJlZUNvbmZpZzogew0KICAgICAgICBpbnB1dFZhbDogJycNCiAgICAgIH0sDQogICAgICB0cmVlQ29uZmlnOiB7DQogICAgICAgIGN1clJhZGlvOiAnemYnLA0KICAgICAgICByYWRpb0dyb3VwOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgY29kZTogJ3pmJywNCiAgICAgICAgICAgIGxhYmVsOiAn5pS/5bqc6YOo6Zeo5qCRJw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgY29kZTogJ3h1ZXhpYW8nLA0KICAgICAgICAgICAgbGFiZWw6ICflrabmoKHmoJEnDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBjb2RlOiAnamlnb3UnLA0KICAgICAgICAgICAgbGFiZWw6ICfmnLrmnoTmoJEnDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgbGVmdFRyZWVDb25maWc6IHsNCiAgICAgICAgaW5wdXRWYWw6ICcnDQogICAgICB9LA0KICAgICAgcGFnZXJDb25maWc6IHsNCiAgICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICAgIHRvdGFsOiAxMDANCiAgICAgIH0sDQogICAgICBjdXJUYWJsZUNvbmZEYXRhczogW10sDQogICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgIGN1clRhYmxlQ29uZkRhdGFzTWFwQXJyOiBbDQogICAgICAgIC8vIHsNCiAgICAgICAgLy8gICB0YWJsZU5hbWU6ICcxJywNCiAgICAgICAgLy8gICBidXNpbmVzc1RhYmxlTmFtZTogJzEnLA0KICAgICAgICAvLyAgIHRhYmxlTm90ZTogJzEnLA0KICAgICAgICAvLyAgIG1lYXN1cmluZ1VuaXQ6IDEsDQogICAgICAgIC8vICAgdmlld09yZGVyOiAnMDAxJywNCiAgICAgICAgLy8gICBlZGl0YWJsZUJhdGNoOiAnMDAxJywNCiAgICAgICAgLy8gICB0YWJsZVR5cGU6ICcwMDEnLA0KICAgICAgICAvLyAgIG5vdGU6ICcxJywNCiAgICAgICAgLy8gICBhdXRvQnVpbHRUYWJsZXM6IGZhbHNlLA0KICAgICAgICAvLyAgIGVkaXRibGU6IHRydWUsDQogICAgICAgIC8vICAgc2hvd0NoZWNrYm94OiB0cnVlLA0KICAgICAgICAvLyAgIGNhblVzZTogdHJ1ZSwNCiAgICAgICAgLy8gICBhU2luZ2xlVGFibGU6IGZhbHNlLA0KICAgICAgICAvLyAgIGJhdGNoTW9kaWZ5OiBmYWxzZSwNCiAgICAgICAgLy8gICByb3dDb25maWc6IGZhbHNlLA0KICAgICAgICAvLyAgIG5vUmVjb3JkSXNBbGxvd2VkVG9SZXBvcnQ6IHRydWUsDQogICAgICAgIC8vICAgc3VidG90YWxSb3dzOiB0cnVlDQogICAgICAgIC8vIH0NCiAgICAgIF0sDQogICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcDoge30sDQogICAgICBnbG9ibGVDb25maWdDcDogew0KICAgICAgICB0YWJsZU5hbWU6ICcnLA0KICAgICAgICBidXNpbmVzc1RhYmxlTmFtZTogJycsDQogICAgICAgIHRhYmxlTm90ZTogJycsDQogICAgICAgIG1lYXN1cmluZ1VuaXQ6ICcnLA0KICAgICAgICB2aWV3T3JkZXI6ICcnLA0KICAgICAgICBlZGl0YWJsZUJhdGNoOiAnJywNCiAgICAgICAgdGFibGVUeXBlOiAnJywNCiAgICAgICAgbm90ZTogJycsDQogICAgICAgIGF1dG9CdWlsdFRhYmxlczogZmFsc2UsDQogICAgICAgIGVkaXRibGU6IHRydWUsDQogICAgICAgIHNob3dDaGVja2JveDogdHJ1ZSwNCiAgICAgICAgY2FuVXNlOiB0cnVlLA0KICAgICAgICBhU2luZ2xlVGFibGU6IGZhbHNlLA0KICAgICAgICBiYXRjaE1vZGlmeTogZmFsc2UsDQogICAgICAgIHJvd0NvbmZpZzogZmFsc2UsDQogICAgICAgIG5vUmVjb3JkSXNBbGxvd2VkVG9SZXBvcnQ6IHRydWUsDQogICAgICAgIHN1YnRvdGFsUm93czogdHJ1ZQ0KICAgICAgfSwNCiAgICAgIHRvb2xiYXJDb25maWc6IHsNCiAgICAgICAgZGlzYWJsZWRNb25leUNvbnZlcnNpb246IGZhbHNlLA0KICAgICAgICAuLi5nZXRGb3JtQ29uZkRhdGEoJ3RhYmxlSW5mb3JDb25mJywgJ3Rvb2xiYXJDb25maWcnKQ0KICAgICAgfSwNCiAgICAgIHRhYmxlQ29uZmlnOiBnZXRGb3JtQ29uZkRhdGEoJ3RhYmxlSW5mb3JDb25mJywgJ3RhYmxlQ29uZmlnJyksDQogICAgICB0YWJsZUNvbHVtbnNDb25maWc6IGdldEZvcm1Db25mRGF0YSgNCiAgICAgICAgJ3RhYmxlSW5mb3JDb25mJywNCiAgICAgICAgJ3RhYmxlQ29sdW1uc0NvbmZpZycNCiAgICAgICksDQogICAgICB0YWJsZUNvbmZNb2RhbFZpc2libGU6IGZhbHNlLA0KICAgICAgZm9ybUNvbmZNb2RhbFZpc2libGU6IGZhbHNlLA0KICAgICAgZW50ZXJpbmdEZWZhdWx0VmlzaWJsZTogZmFsc2UsDQogICAgICBjdXJMZWZ0VHJlZUNsaWNrTm9kZToge30sDQogICAgICBlbnRlcmluZ0RlZmF1bHRGbGFnOiBmYWxzZSwNCiAgICAgIFN1YlRhYkNvbmZpZ1Zpc2libGU6IGZhbHNlDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGN1ck5hdk1vZHVsZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUNCiAgICB9LA0KICAgIHVzZXJJbmZvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZGVlcENvcHkob2JqKSB7DQogICAgICAvLyDmt7Hmi7fotJ3pgJrnlKjmlrnms5UNCiAgICAgIGxldCBtZSA9IHRoaXMNCiAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHJldHVybiBvYmoNCiAgICAgIGxldCBuZXdPYmogPSBvYmogaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge30NCiAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgbmV3T2JqW2tleV0gPQ0KICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JyA/IG1lLmRlZXBDb3B5KG9ialtrZXldKSA6IG9ialtrZXldDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBuZXdPYmoNCiAgICB9LA0KICAgIGpzb25TdHJpbmdpZnkoY29sdW1ucykgew0KICAgICAgLy8g5a+56LGh6L2s5o2i5oiQanNvbuWtl+espuS4sg0KICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGNvbHVtbnMsIGZ1bmN0aW9uIChrZXksIHZhbCkgew0KICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgIHJldHVybiB2YWwgKyAnJw0KICAgICAgICB9DQogICAgICAgIHJldHVybiB2YWwNCiAgICAgIH0pDQogICAgfSwNCiAgICBqc29uUGFyc2Uoc3RyKSB7DQogICAgICAvLyBqc29u5a2X56ym5Liy6L2s5o2i5oiQ5a+56LGhDQogICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIsIGZ1bmN0aW9uIChrLCB2KSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgdi5pbmRleE9mICYmDQogICAgICAgICAgICAodi5pbmRleE9mKCdmdW5jdGlvbicpID4gLTEgfHwgdi5pbmRleE9mKCc9PicpID4gLTEpDQogICAgICAgICAgKSB7DQogICAgICAgICAgICAvLyByZXR1cm4gZXZhbCgnKGZ1bmN0aW9uKCl7cmV0dXJuICcgKyB2ICsgJyB9KSgpJykNCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYw0KICAgICAgICAgICAgbGV0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ3JldHVybiAnICsgdikNCiAgICAgICAgICAgIHJldHVybiBmdW5jKCkNCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuIHYNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgIHJldHVybiB2DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBjaGFuZ2VJbnB1dCh2YWwpIHsNCiAgICAgIHRoaXMudHJlZWxlZnRUcmVlQ29uZmlnLmlucHV0VmFsID0gdmFsDQogICAgfSwNCiAgICBjb25mcmltRGF0YShjdXJUcmVlKSB7DQogICAgICB0aGlzLmNvbmZyaW1EYXRhLmN1clJhZGlvID0gY3VyVHJlZS5jb2RlDQogICAgICBzd2l0Y2ggKGN1clRyZWUuY29kZSkgew0KICAgICAgICBjYXNlICd6Zic6DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAneHVleGlhbyc6DQogICAgICAgICAgdGhpcy50YWJTdGF0dXNOdW1Db25maWdbJ3ljbCddID0gMTINCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlICdqaWdvdSc6DQogICAgICAgICAgYnJlYWsNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uU3BsaXRQYW5lUmVzaXplKGxlZnRXaWR0aCkgew0KICAgICAgaWYgKGxlZnRXaWR0aCA+IDEpIHsNCiAgICAgICAgdGhpcy5jdXJTcGxpdFBhbmVMZWZ0V2lkdGggPSBsZWZ0V2lkdGgNCiAgICAgICAgdGhpcy5sZWZ0VmlzaWJsZSA9IHRydWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMubGVmdFZpc2libGUgPSBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgYWpheERhdGEoeyBjdXJyZW50UGFnZSwgcGFnZVNpemUgfSkgew0KICAgICAgdGhpcy5wYWdlckNvbmZpZy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlDQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gT2JqZWN0LmFzc2lnbih0aGlzLnF1ZXJ5UGFyYW1zLCB7DQogICAgICAgIGN1cnJlbnRQYWdlLA0KICAgICAgICBwYWdlU2l6ZQ0KICAgICAgfSkNCiAgICAgIHRoaXMuZ2V0VGFibGVEYXRhcyhjdXJyZW50UGFnZSwgcGFnZVNpemUpDQogICAgfSwNCiAgICBnZXRUYWJsZURhdGFzKGN1cnJlbnRQYWdlLCBwYWdlU2l6ZSkgew0KICAgICAgLy8g5pyN5Yqh56uv5p+l6K+i5pWw5o2uDQogICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZQ0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICB0aGlzLiRodHRwLnBvc3QoJ3VybCcsIHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHNlbGYudGFibGVEYXRhID0gcmVzLmRhdGEubGlzdA0KICAgICAgICAgIHNlbGYucGFnZXJDb25maWcgPSB7DQogICAgICAgICAgICB0b3RhbDogcmVzLmRhdGEudG90YWwsDQogICAgICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICB0cmFuc2Zvcm1Db25sdW1zRGF0YVRvTmVzdChjb2x1bW5zKSB7DQogICAgICAvLyBjb2x1bW5z6L2s5YyW5Li6dnhlLXRhYmxlIGNvbHVtbnPmlbDmja7nu5PmnoQNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgY29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGNvbHVtbkluZGV4KSA9PiB7DQogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5jaGlsZHJlbikgJiYgY29sdW1uLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IHNlbGYudHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoY29sdW1uLmNoaWxkcmVuKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGNvbHVtbltjb2x1bW4ucmVuZGVyVHlwZV0gPSB7DQogICAgICAgICAgICBuYW1lOiBjb2x1bW4ucmVuZGVyTmFtZSwgLy8g5riy5p+T5Zmo5ZCNLA0KICAgICAgICAgICAgb3B0aW9uczogKChwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdvYmplY3QnKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZGVlcENvcHkocGFyYW1zKQ0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdzdHJpbmcnKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcw0KICAgICAgICAgICAgICAgICAgPyBwYXJhbXMuc3BsaXQoJysnKS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uc3BsaXQoJyMnKVswXSwNCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5zcGxpdCgnIycpWzFdDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICA6IFtdDQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KShjb2x1bW4ub3B0aW9ucyksIC8vIOS4i+aLieaVsOaNrua6kA0KICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBjb2x1bW4uZGVmYXVsdFZhbHVlLCAvLyDpu5jorqTlgLwNCiAgICAgICAgICAgIHByb3BzOiBjb2x1bW4ucHJvcHMgLy8g6aKd5aSW5Y+C5pWwDQogICAgICAgICAgfQ0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4uX1hJRA0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucmVuZGVyVHlwZQ0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucmVuZGVyTmFtZQ0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ub3B0aW9ucw0KICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucHJvcHMNCiAgICAgICAgICBkZWxldGUgY29sdW1uLmRlZmF1bHRWYWx1ZQ0KICAgICAgICAgIGRlbGV0ZSBzZWxmLmRlZXBDb3B5KGNvbHVtbi5wcm9wcykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiBjb2x1bW5zDQogICAgfSwNCiAgICB0cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGNvbHVtbnMpIHsNCiAgICAgIC8vIHZ4ZS10YWJsZSBjb2x1bW5z5pWw5o2u57uT5p6E6L2s5YyW5Li65Y2V5bGCY29sdW1ucw0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBjb2x1bW5zLmZvckVhY2goKGNvbHVtbiwgY29sdW1uSW5kZXgpID0+IHsNCiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sdW1uLmNoaWxkcmVuKSAmJiBjb2x1bW4uY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gc2VsZi50cmFuc2Zvcm1Db25sdW1zRGF0YVRvTmVzdChjb2x1bW4uY2hpbGRyZW4pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaWYgKGNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnZWRpdFJlbmRlcicpKSB7DQogICAgICAgICAgICBjb2x1bW4ucmVuZGVyVHlwZSA9ICdlZGl0UmVuZGVyJw0KICAgICAgICAgICAgY29sdW1uLnJlbmRlck5hbWUgPSBjb2x1bW4uZWRpdFJlbmRlci5uYW1lDQogICAgICAgICAgICBjb2x1bW4gPSBPYmplY3QuYXNzaWduKGNvbHVtbiwgc2VsZi5kZWVwQ29weShjb2x1bW4uZWRpdFJlbmRlcikpDQogICAgICAgICAgICBkZWxldGUgY29sdW1uLmVkaXRSZW5kZXINCiAgICAgICAgICB9IGVsc2UgaWYgKGNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnY2VsbFJlbmRlcicpKSB7DQogICAgICAgICAgICBjb2x1bW4ucmVuZGVyVHlwZSA9ICdjZWxsUmVuZGVyJw0KICAgICAgICAgICAgY29sdW1uLnJlbmRlck5hbWUgPSBjb2x1bW4uY2VsbFJlbmRlci5uYW1lDQogICAgICAgICAgICBjb2x1bW4gPSBPYmplY3QuYXNzaWduKGNvbHVtbiwgc2VsZi5kZWVwQ29weShjb2x1bW4uY2VsbFJlbmRlcikpDQogICAgICAgICAgfSBlbHNlIGlmIChjb2x1bW4uaGFzT3duUHJvcGVydHkoJ2l0ZW1SZW5kZXInKSkgew0KICAgICAgICAgICAgY29sdW1uLnJlbmRlclR5cGUgPSAnaXRlbVJlbmRlcicNCiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJOYW1lID0gY29sdW1uLml0ZW1SZW5kZXIubmFtZQ0KICAgICAgICAgICAgY29sdW1uID0gT2JqZWN0LmFzc2lnbihjb2x1bW4sIHNlbGYuZGVlcENvcHkoY29sdW1uLml0ZW1SZW5kZXIpKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChbJyRzZWxlY3QnLCAnJHZ4ZVNlbGVjdCcsICckdnhlRm9ybVNlbGVjdCcsICckdnhlU3dpdGNoJywgJyR2eGVSYWRpbycsICckdnhlU3dpdGNoJywgJyR2eGVDaGVja2JveCddLmluZGV4T2YoY29sdW1uLnJlbmRlck5hbWUpID49IDApIHsNCiAgICAgICAgICAgIGNvbHVtbi5vcHRpb25zID0gY29sdW1uLm9wdGlvbnMNCiAgICAgICAgICAgICAgLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSArICcjJyArIGl0ZW0ubGFiZWwNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmpvaW4oJysnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiBjb2x1bW5zDQogICAgfSwNCiAgICB0cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShpdGVtcykgew0KICAgICAgLy8gdnhlLXRhYmxlIGl0ZW1z5pWw5o2u57uT5p6E6L2s5YyW5Li65Y2V5bGCaXRlbXMNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7DQogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0uY2hpbGRyZW4pICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgaXRlbS5jaGlsZHJlbiA9IHNlbGYudHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoaXRlbS5jaGlsZHJlbikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnaXRlbVJlbmRlcicpKSB7DQogICAgICAgICAgICBpdGVtLnJlbmRlclR5cGUgPSAnaXRlbVJlbmRlcicNCiAgICAgICAgICAgIGl0ZW0ucmVuZGVyTmFtZSA9IGl0ZW0uaXRlbVJlbmRlci5uYW1lDQogICAgICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbihpdGVtLCBzZWxmLmRlZXBDb3B5KGl0ZW0uaXRlbVJlbmRlcikpDQogICAgICAgICAgICBkZWxldGUgaXRlbS5pdGVtUmVuZGVyDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChbJyRzZWxlY3QnLCAnJHZ4ZVNlbGVjdCcsICckdnhlRm9ybVJhZGlvJywgJyR2eGVGb3JtU2VsZWN0JywgJyR2eGVTd2l0Y2gnLCAnJHZ4ZVJhZGlvJywgJyR2eGVTd2l0Y2gnLCAnJHZ4ZUNoZWNrYm94JywgJyR2eGVGb3JtQ2hlY2tib3gnXS5pbmRleE9mKGl0ZW0ucmVuZGVyTmFtZSkgPj0gMCkgew0KICAgICAgICAgICAgaXRlbS5vcHRpb25zID0gQXJyYXkuaXNBcnJheShpdGVtLm9wdGlvbnMpID8gaXRlbS5vcHRpb25zDQogICAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgKyAnIycgKyBpdGVtLmxhYmVsDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC5qb2luKCcrJykgOiBpdGVtLm9wdGlvbnMNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXR1cm4gaXRlbXMNCiAgICB9LA0KICAgIGdldFRhYmxlQ29uZkJ5TWVudWd1aWQobWVudWd1aWQpIHsNCiAgICAgIC8vIOagueaNruiPnOWNlW1lbnVndWlk6I635Y+W5YW25LiL5omA5pyJ6KGo6YWN572uDQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICAgIHNlbGYuJGh0dHANCiAgICAgICAgICAuZ2V0KCdtcC1iLXBlcm0tc2VydmljZS92MS90YWJsZWNvbmYvbWVudWd1aWQnLCB7DQogICAgICAgICAgICBtZW51Z3VpZDogbWVudWd1aWQsDQogICAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHNlbGYudXNlckluZm8ucHJvdmluY2UsIC8vIOWMuuWIkg0KICAgICAgICAgICAgZmlzY2FseWVhcjogc2VsZi51c2VySW5mby55ZWFyIC8vIOW5tOS7vQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5yc2NvZGUgPT09ICcxMDAwMDAnKSB7DQogICAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpDQogICAgICAgICAgICAgIC8vIHJlc29sdmUoc2VsZi5nZW5lcmF0ZUN1clRhYmxlQ29uZkRhdGFNYXAocmVzLmRhdGEpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgcmVqZWN0KGVycm9yKQ0KICAgICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2VuZXJhdGVDdXJUYWJsZUNvbmZEYXRhTWFwKGN1ck1lbnVDb25mcykgew0KICAgICAgLy8g55Sf5oiQ5b2T5YmNbWVudeS4i+ihqOagvOaVsOaNruaYoOWwhA0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICBsZXQgcmVzdWx0T2JqID0ge30NCiAgICAgIGxldCBjdXJUYWJsZUNvbmZEYXRhc01hcCA9IHt9DQogICAgICBsZXQgY3VyVGFibGVDb25mRGF0YXNNYXBBcnIgPSBbXQ0KICAgICAgcmVzdWx0T2JqLmN1clRhYmxlQ29uZkRhdGFzID0gY3VyTWVudUNvbmZzDQogICAgICBjdXJNZW51Q29uZnMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgbGV0IHsgaXRlbXNDb25maWcsIGdsb2JhbENvbmZpZywgZm9ybUNvbmZpZyB9ID0gc2VsZi5qc29uUGFyc2UoDQogICAgICAgICAgaXRlbS5jb25maWd1cmUNCiAgICAgICAgKQ0KICAgICAgICBnbG9iYWxDb25maWcgPSBnbG9iYWxDb25maWcgfHwge30NCiAgICAgICAgaXRlbXNDb25maWcgPSBpdGVtc0NvbmZpZyB8fCBbXQ0KICAgICAgICBmb3JtQ29uZmlnID0gZm9ybUNvbmZpZyB8fCBbXQ0KICAgICAgICBsZXQgZ2xvYmFsQ29uZmlnQ3AgPSBPYmplY3QuYXNzaWduKA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRhYmxlbmFtZTogJycsDQogICAgICAgICAgICBidXNpbmVzc1RhYmxlTmFtZTogJycsDQogICAgICAgICAgICB0YWJsZU5vdGU6ICcnLA0KICAgICAgICAgICAgbWVhc3VyaW5nVW5pdDogJycsDQogICAgICAgICAgICB2aWV3T3JkZXI6ICcnLA0KICAgICAgICAgICAgZWRpdGFibGVCYXRjaDogJycsDQogICAgICAgICAgICB0YWJsZVR5cGU6ICcnLA0KICAgICAgICAgICAgbm90ZTogJycsDQogICAgICAgICAgICBhdXRvQnVpbHRUYWJsZXM6ICcnLA0KICAgICAgICAgICAgZWRpdGJsZTogJycsDQogICAgICAgICAgICBzaG93Q2hlY2tib3g6ICcnLA0KICAgICAgICAgICAgY2FuVXNlOiAnJywNCiAgICAgICAgICAgIGFTaW5nbGVUYWJsZTogJycsDQogICAgICAgICAgICBiYXRjaE1vZGlmeTogJycsDQogICAgICAgICAgICByb3dDb25maWc6ICcnLA0KICAgICAgICAgICAgbm9SZWNvcmRJc0FsbG93ZWRUb1JlcG9ydDogJycsDQogICAgICAgICAgICBzdWJ0b3RhbFJvd3M6ICcnDQogICAgICAgICAgfSwNCiAgICAgICAgICBnbG9iYWxDb25maWcsDQogICAgICAgICAgew0KICAgICAgICAgICAgLy8gdGFibGVuYW1lOiBpdGVtLnRhYmxlbmFtZSwNCiAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSwNCiAgICAgICAgICAgIHVwZGF0ZXRpbWU6IGl0ZW0udXBkYXRldGltZSwNCiAgICAgICAgICAgIG1lbnVuYW1lOiB0aGlzLmN1ckxlZnRUcmVlQ2xpY2tOb2RlLm5hbWUsDQogICAgICAgICAgICBpZDogaXRlbS5pZCwNCiAgICAgICAgICAgIG1lbnVndWlkOiBpdGVtLm1lbnVndWlkDQogICAgICAgICAgfQ0KICAgICAgICApDQogICAgICAgIGN1clRhYmxlQ29uZkRhdGFzTWFwQXJyLnB1c2goZ2xvYmFsQ29uZmlnQ3ApDQogICAgICAgIGN1clRhYmxlQ29uZkRhdGFzTWFwW2l0ZW0uaWRdID0gew0KICAgICAgICAgIGl0ZW1zQ29uZmlnOiBzZWxmLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpLA0KICAgICAgICAgIGZvcm1Db25maWc6IHNlbGYudHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoZm9ybUNvbmZpZyksDQogICAgICAgICAgaWQ6IGl0ZW0uaWQsDQogICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWdDcCwNCiAgICAgICAgICBtZW51Z3VpZDogaXRlbS5tZW51Z3VpZCwNCiAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJlc3VsdE9iai5jdXJUYWJsZUNvbmZEYXRhc01hcEFyciA9IGN1clRhYmxlQ29uZkRhdGFzTWFwQXJyDQogICAgICByZXN1bHRPYmouY3VyVGFibGVDb25mRGF0YXNNYXAgPSBjdXJUYWJsZUNvbmZEYXRhc01hcA0KICAgICAgcmV0dXJuIHJlc3VsdE9iag0KICAgIH0sDQogICAgc2V0TGVmdE1lbnVUcmVlKCkgew0KICAgICAgLy8g5Yqg6L295bem5L6n5qCRDQogICAgICB0aGlzLmxlZnRUcmVlRGF0YSA9IFtdLmNvbmNhdCh0aGlzLiRzdG9yZS5zdGF0ZS5zeXN0ZW1NZW51KQ0KICAgIH0sDQogICAgb25MZWZ0VHJlZU5vZGVDbGljayhub2RlLCBsZWZ0VHJlZSkgew0KICAgICAgLy8g5bem5L6n5qCR54K55Ye75LqL5Lu2DQogICAgICBpZiAoIShBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSkgew0KICAgICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgICAgdGhpcy5jdXJMZWZ0VHJlZUNsaWNrTm9kZSA9IG5vZGUNCiAgICAgICAgdGhpcy5nZXRUYWJsZUNvbmZCeU1lbnVndWlkKG5vZGUuZ3VpZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgc2VsZi4kbWVzc2FnZSh7DQogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiBg5b2T5YmN6I+c5Y2V5pWw5o2u5p+l6K+i5oiQ5YqfLOWFseiuoSgke3Jlcy5sZW5ndGh95p2hKWAsDQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHNlbGYuY3VyVGFibGVDb25mRGF0YXNNYXBBcnIgPSByZXMNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlZnJlc2hUYWJsZSgpIHsNCiAgICAgIC8vIOWIt+aWsOihqOagvA0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICB0aGlzLmdldFRhYmxlQ29uZkJ5TWVudWd1aWQodGhpcy5jdXJMZWZ0VHJlZUNsaWNrTm9kZS5ndWlkKS50aGVuKA0KICAgICAgICAocmVzKSA9PiB7DQogICAgICAgICAgc2VsZi4kbWVzc2FnZSh7DQogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAn5b2T5YmN6I+c5Y2V5pWw5o2u5bey5Yi35pawJywNCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgIH0pDQogICAgICAgICAgc2VsZi5jdXJUYWJsZUNvbmZEYXRhc01hcEFyciA9IHJlcw0KICAgICAgICAgIHNlbGYuJHJlZnMuYnNUYWJsZVJlZg0KICAgICAgICAgICAgLnRhYmxlT3B0aW9uRm4oKQ0KICAgICAgICAgICAgLnJlbG9hZERhdGEoc2VsZi5jdXJUYWJsZUNvbmZEYXRhc01hcEFycikudGhlbigoKSA9PiB7fSkuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgKQ0KICAgIH0sDQogICAgb25FZGl0VGFibGVDbGljaygpIHsNCiAgICAgIC8vIOe8lui+keeCueWHu+S6i+S7tg0KICAgICAgbGV0IHNlbGVjdGlvbiA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb24NCiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7DQogICAgICAgIGxldCB7IGl0ZW1zQ29uZmlnLCBnbG9iYWxDb25maWcsIGZvcm1Db25maWcgfSA9IHRoaXMuanNvblBhcnNlKA0KICAgICAgICAgIHNlbGVjdGlvblswXS5jb25maWd1cmUNCiAgICAgICAgKQ0KICAgICAgICBnbG9iYWxDb25maWcgPSBnbG9iYWxDb25maWcgfHwge30NCiAgICAgICAgaXRlbXNDb25maWcgPSBpdGVtc0NvbmZpZyB8fCBbXQ0KICAgICAgICBmb3JtQ29uZmlnID0gZm9ybUNvbmZpZyB8fCBbXQ0KICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsNCiAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywNCiAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKSwNCiAgICAgICAgICBmb3JtQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUl0ZW1zRGF0YVRvU2luZ2xlKGZvcm1Db25maWcpDQogICAgICAgIH0pDQogICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxWaXNpYmxlID0gdHJ1ZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuIDmnaHmlbDmja7ov5vooYznvJbovpEnLA0KICAgICAgICAgIHR5cGU6ICdpbmZvJw0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25FZGl0Rm9ybUNsaWNrKCkgew0KICAgICAgLy8g57yW6L6R54K55Ye75LqL5Lu2DQogICAgICBsZXQgc2VsZWN0aW9uID0gdGhpcy4kcmVmcy5ic1RhYmxlUmVmLnNlbGVjdGlvbg0KICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsNCiAgICAgICAgbGV0IHsgaXRlbXNDb25maWcsIGdsb2JhbENvbmZpZywgZm9ybUNvbmZpZyB9ID0gdGhpcy5qc29uUGFyc2UoDQogICAgICAgICAgc2VsZWN0aW9uWzBdLmNvbmZpZ3VyZQ0KICAgICAgICApDQogICAgICAgIGdsb2JhbENvbmZpZyA9IGdsb2JhbENvbmZpZyB8fCB7fQ0KICAgICAgICBpdGVtc0NvbmZpZyA9IGl0ZW1zQ29uZmlnIHx8IFtdDQogICAgICAgIGZvcm1Db25maWcgPSBmb3JtQ29uZmlnIHx8IFtdDQogICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgew0KICAgICAgICAgIGdsb2JhbENvbmZpZzogZ2xvYmFsQ29uZmlnLA0KICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpLA0KICAgICAgICAgIGZvcm1Db25maWc6IHRoaXMudHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoZm9ybUNvbmZpZykNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5mb3JtQ29uZk1vZGFsVmlzaWJsZSA9IHRydWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5LiA5p2h5pWw5o2u6L+b6KGM57yW6L6RJywNCiAgICAgICAgICB0eXBlOiAnaW5mbycNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uRWRpdENsaWNrKCkgew0KICAgICAgbGV0IHNlbGVjdGlvbiA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb24NCiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7DQogICAgICAgIGxldCB7IGl0ZW1zQ29uZmlnLCBnbG9iYWxDb25maWcsIHN1YlRhYkNvbmZpZywgZGVmYXVsdENvbmZpZyB9ID0gdGhpcy5qc29uUGFyc2UoDQogICAgICAgICAgc2VsZWN0aW9uWzBdLmNvbmZpZ3VyZQ0KICAgICAgICApDQogICAgICAgIGdsb2JhbENvbmZpZyA9IGdsb2JhbENvbmZpZyB8fCB7fQ0KICAgICAgICBpdGVtc0NvbmZpZyA9IGl0ZW1zQ29uZmlnIHx8IFtdDQogICAgICAgIHN1YlRhYkNvbmZpZyA9IHN1YlRhYkNvbmZpZyB8fCB7DQogICAgICAgICAgYnV0dG9uczogW10sDQogICAgICAgICAgYnV0dG9uc0luZm86IHt9DQogICAgICAgIH0NCiAgICAgICAgZGVmYXVsdENvbmZpZyA9IGRlZmF1bHRDb25maWcgfHwgW10NCiAgICAgICAgaWYgKHNlbGVjdGlvblswXS50eXBlID09PSAnZm9ybScgfHwgc2VsZWN0aW9uWzBdLnR5cGUgPT09ICdmb3JtQ29uZicgfHwgc2VsZWN0aW9uWzBdLnR5cGUgPT09ICdkZXRhaWwnIHx8IHNlbGVjdGlvblswXS50eXBlID09PSAnZGV0YWlsQ29uZicpIHsNCiAgICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsNCiAgICAgICAgICAgIGdsb2JhbENvbmZpZzogZ2xvYmFsQ29uZmlnLA0KICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KGl0ZW1zQ29uZmlnKSwNCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUl0ZW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5mb3JtQ29uZk1vZGFsVmlzaWJsZSA9IHRydWUNCiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb25bMF0udHlwZSA9PT0gJ3RhYlBhbmVDb25mJykgew0KICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgew0KICAgICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsDQogICAgICAgICAgICBpdGVtc0NvbmZpZ05lc3Q6IHRoaXMuZGVlcENvcHkoc3ViVGFiQ29uZmlnKSwNCiAgICAgICAgICAgIHN1YlRhYkNvbmZpZzogc3ViVGFiQ29uZmlnDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLlN1YlRhYkNvbmZpZ1Zpc2libGUgPSB0cnVlDQogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uWzBdLnR5cGUgPT09ICdlbnRlcmluZ0RlZmF1bHQnKSB7DQogICAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oc2VsZWN0aW9uWzBdLCB7DQogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywNCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnTmVzdDogdGhpcy5kZWVwQ29weShkZWZhdWx0Q29uZmlnKSwNCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoZGVmYXVsdENvbmZpZykNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMuZW50ZXJpbmdEZWZhdWx0VmlzaWJsZSA9IHRydWUNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsNCiAgICAgICAgICAgIGdsb2JhbENvbmZpZzogZ2xvYmFsQ29uZmlnLA0KICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KGl0ZW1zQ29uZmlnKSwNCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsVmlzaWJsZSA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuIDmnaHmlbDmja7ov5vooYznvJbovpEnLA0KICAgICAgICAgIHR5cGU6ICdpbmZvJw0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25BZGRDbGljaygpIHsNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgdGhpcy4kcmVmcy5ic1RhYmxlUmVmLmluc2VydFJvd0RhdGEoew0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgbWVudWd1aWQ6IHNlbGYuY3VyTGVmdFRyZWVDbGlja05vZGUuZ3VpZCwNCiAgICAgICAgICB0eXBlOiAndGFibGUnLA0KICAgICAgICAgIG9wdGlvblR5cGU6ICdhZGQnLA0KICAgICAgICAgIGlkOiBzZWxmLiRUb29sRm4udXRpbEZuLmdldFV1aWQoKSwNCiAgICAgICAgICBtZW51bmFtZTogc2VsZi5jdXJMZWZ0VHJlZUNsaWNrTm9kZS5uYW1lLA0KICAgICAgICAgIG1vZl9kaXZfY29kZTogc2VsZi51c2VySW5mby5wcm92aW5jZSwNCiAgICAgICAgICB0YWJsZW5hbWU6ICcnLA0KICAgICAgICAgIGZpc2NhbHllYXI6IHNlbGYudXNlckluZm8ueWVhciwNCiAgICAgICAgICBjb25maWd1cmU6IHNlbGYuanNvblN0cmluZ2lmeSh7DQogICAgICAgICAgICBnbG9iYWxDb25maWc6IHt9LCAvLyDlhajlsYDphY3nva4NCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnOiBbXSwgLy8g6aG56YWN572uDQogICAgICAgICAgICBwYWdlQ29uZmlnOiB7fSwgLy8g5YiG6aG16YWN572uDQogICAgICAgICAgICBlZGl0Q29uZmlnOiB7fSwgLy8g57yW6L6R6YWN572uDQogICAgICAgICAgICBlZGl0UnVsZXM6IHt9LCAvLyDmoKHpqozop4TliJkNCiAgICAgICAgICAgIGZvb3RlckNvbmZpZzoge30sIC8vIOihqOWwvumFjee9rg0KICAgICAgICAgICAgZGF0YUNvbmZpZzogew0KICAgICAgICAgICAgICBkYXRhU291Y2VUeXBlOiAncXVlcnknDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc3ViVGFiQ29uZmlnOiBbXSwNCiAgICAgICAgICAgIGRlZmF1bHRDb25maWc6IFtdIC8vIOW9leWFpem7mOiupOWAvA0KICAgICAgICAgIH0pDQogICAgICAgIC8vIG1lbnVndWlkOiAnMTIzNDU2Jw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgb25EZWxldGVDbGljaygpIHsNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgbGV0IGlkcyA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb24ubWFwKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICByZXR1cm4gaXRlbS5pZA0KICAgICAgfSkNCiAgICAgIGxldCBtZW51Z3VpZCA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb25bMF0ubWVudWd1aWQNCiAgICAgIHRoaXMubWVudWd1aWRzWzBdID0gbWVudWd1aWQNCiAgICAgIGlmIChpZHMubGVuZ3RoKSB7DQogICAgICAgIHNlbGYuJGNvbmZpcm0oJ+ehruWumuWIoOmZpO+8nycsICfmj5DnpLonLCB7DQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICBzZWxmLiRodHRwDQogICAgICAgICAgICAuZGVsKCdtcC1iLXBlcm0tc2VydmljZS92MS90YWJsZWNvbmYnLCB7DQogICAgICAgICAgICAgIG1vZl9kaXZfY29kZTogc2VsZi51c2VySW5mby5wcm92aW5jZSwgLy8g5Yy65YiSDQogICAgICAgICAgICAgIGZpc2NhbHllYXI6IHNlbGYudXNlckluZm8ueWVhciwgLy8g5bm05Lu9cw0KICAgICAgICAgICAgICBpZHM6IGlkcywNCiAgICAgICAgICAgICAgbWVudWd1aWRzOiB0aGlzLm1lbnVndWlkcw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJlcy5yc2NvZGUgPT09ICcxMDAwMDAnKSB7DQogICAgICAgICAgICAgICAgc2VsZi4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBg6YCJ5Lit55qEJHtpZHMubGVuZ3RofeadoeaVsOaNruW3suWIoOmZpGAsDQogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHNlbGYucmVmcmVzaFRhYmxlKCkNCiAgICAgICAgICAgICAgICAvLyByZXNvbHZlKHNlbGYuZ2VuZXJhdGVDdXJUYWJsZUNvbmZEYXRhTWFwKHJlcy5kYXRhKSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9KS5jYXRjaChlID0+IHsNCiAgICAgICAgICBzZWxmLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WPlua2iOWIoOmZpOaIkOWKnycpDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBvblRhYmxlQ2VsbENsaWNrKHsNCiAgICAgIHJvdywNCiAgICAgIHJvd0luZGV4LA0KICAgICAgJHJvd0luZGV4LA0KICAgICAgY29sdW1uLA0KICAgICAgY29sdW1uSW5kZXgsDQogICAgICAkY29sdW1uSW5kZXgsDQogICAgICB0cmlnZ2VyUmFkaW8sDQogICAgICB0cmlnZ2VyQ2hlY2tib3gsDQogICAgICB0cmlnZ2VyVHJlZU5vZGUsDQogICAgICB0cmlnZ2VyRXhwYW5kTm9kZSwNCiAgICAgICRldmVudA0KICAgIH0pIHsNCiAgICAgIC8vIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSB0aGlzLmN1clRhYmxlQ29uZkRhdGFzTWFwW3Jvdy5pZF0NCiAgICAgIC8vIHRoaXMuVGFibGVDb25mTW9kYWxWaXNpYmxlID0gdHJ1ZQ0KICAgIH0sDQogICAgLy8g5Yy65YiS6buY6K6k5YC8DQogICAgZ2V0UHJvdmluY2UoKSB7DQogICAgICBsZXQgb2JqID0gew0KICAgICAgICB2YWx1ZTogdGhpcy51c2VySW5mby5wcm92aW5jZSwNCiAgICAgICAgbGFiZWw6IHRoaXMudXNlckluZm8uYWRtZGl2bmFtZQ0KICAgICAgfQ0KICAgICAgbGV0IGZsYWcgPSBmYWxzZQ0KICAgICAgdGhpcy50YWJsZUNvbHVtbnNDb25maWdbMF0uZWRpdFJlbmRlci5vcHRpb25zLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGlmIChpdGVtLnZhbHVlID09PSB0aGlzLnVzZXJJbmZvLnByb3ZpbmNlKSB7DQogICAgICAgICAgZmxhZyA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIGlmICghZmxhZykgew0KICAgICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZ1swXS5lZGl0UmVuZGVyLm9wdGlvbnMucHVzaChvYmopDQogICAgICB9DQogICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZ1swXS5lZGl0UmVuZGVyLmRlZmF1bHRWYWx1ZSA9IHRoaXMudXNlckluZm8ucHJvdmluY2UNCiAgICB9LA0KICAgIC8vIOe8lui+keeahOaXtuWAmeW9leWFpem7mOiupOWAvOacieS4qum7mOiupGlkDQogICAgZWRpdENsb3NlZCh7IHJvdywgY29sdW1uIH0pIHsNCiAgICAgIC8vIGVudGVyaW5nRGVmYXVsdEZsYWfmoIfor4bvvIzlvZPmlLnov4fkuLrlvZXlhaXpu5jorqTlgLzlkI7vvIzlho3mm7TmlLnmiY3lvbHlk41pZOWPmOWMlg0KICAgICAgaWYgKHJvdy50eXBlID09PSAnZW50ZXJpbmdEZWZhdWx0Jykgew0KICAgICAgICByb3cuaWQgPSAnRDlBMEI1OEU1QzIyNDJGMzg2MEU2RDgxNTFDMjExQjInDQogICAgICAgIHJvdy5pZF9fdmlld1NvcnQgPSAnRDlBMEI1OEU1QzIyNDJGMzg2MEU2RDgxNTFDMjExQjInDQogICAgICAgIHRoaXMuZW50ZXJpbmdEZWZhdWx0RmxhZyA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAocm93LnR5cGUgIT09ICdlbnRlcmluZ0RlZmF1bHQnICYmIHRoaXMuZW50ZXJpbmdEZWZhdWx0RmxhZyA9PT0gdHJ1ZSkgew0KICAgICAgICByb3cuaWQgPSB0aGlzLiRUb29sRm4udXRpbEZuLmdldFV1aWQoKQ0KICAgICAgICByb3cuaWRfX3ZpZXdTb3J0ID0gcm93LmlkDQogICAgICAgIHRoaXMuZW50ZXJpbmdEZWZhdWx0RmxhZyA9IGZhbHNlDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuc2V0TGVmdE1lbnVUcmVlKCkNCiAgICBpZiAodGhpcy4kZ2xvYWJsZVRvb2xGbi5jdXJyZW50UHJvdmluY2UgPT09IHRoaXMuJGdsb2FibGVUb29sRm4uRnVKaWFuKSB7DQogICAgICB0aGlzLmdldFByb3ZpbmNlKCkNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdGFibGVDb25mTW9kYWxWaXNpYmxlOiB7DQogICAgICBoYW5kbGVyKG5ld3ZhbCkgew0KICAgICAgICAvLyBpZiAoIW5ld3ZhbCkgew0KICAgICAgICAvLyAgIHRoaXMucmVmcmVzaFRhYmxlKCkNCiAgICAgICAgLy8gfQ0KICAgICAgfSwNCiAgICAgIC8vIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIGZvcm1Db25mTW9kYWxWaXNpYmxlOiB7DQogICAgICBoYW5kbGVyKG5ld3ZhbCkgew0KICAgICAgICAvLyBpZiAoIW5ld3ZhbCkgew0KICAgICAgICAvLyAgIHRoaXMucmVmcmVzaFRhYmxlKCkNCiAgICAgICAgLy8gfQ0KICAgICAgfSwNCiAgICAgIC8vIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["dynamicTableSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dynamicTableSetting.vue","sourceRoot":"src/views/main/dynamicTableSetting","sourcesContent":["<!--  表格信息配置   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div class=\"height-all\">\r\n    <BsMainFormListLayout :left-visible.sync=\"leftVisible\">\r\n      <template v-slot:topTap>\r\n        <!-- <JsonEditor />  -->\r\n      </template>\r\n      <template v-slot:topTabPane> </template>\r\n      <template v-slot:query> </template>\r\n      <!-- leftVisible不为undefined为渲染mainTree和mainForm插槽 ，否则渲染mainCon插槽-->\r\n      <template v-slot:mainTree>\r\n        <div class=\"height-all left-tree-pane\">\r\n          <div class=\"mmc-left-tree-title\">\r\n            <BsTreeSet\r\n              :tree-config=\"treeConfig\"\r\n              @onAsideChange=\"leftVisible = false\"\r\n              @onChangeInput=\"changeInput\"\r\n              @onConfrimData=\"confrimData\"\r\n            />\r\n            <!-- <div class=\"mmc-title\">\r\n              <span class=\"fn-inline\">菜单树</span>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"mmc-left-tree-body\" style=\"height: calc(100% - 48px)\">\r\n            <BsBossTree\r\n              ref=\"testTree\"\r\n              is-need-root\r\n              :tree-props=\"{\r\n                label: 'name',\r\n                children: 'children',\r\n              }\"\r\n              open-loading\r\n              :is-server=\"false\"\r\n              :datas=\"leftTreeData\"\r\n              :server-uri=\"serverUri\"\r\n              :global-config=\"leftTreeConfig\"\r\n              :queryparams=\"treeQueryparams\"\r\n              :clickmethod=\"onLeftTreeNodeClick\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template v-slot:mainForm>\r\n        <BsTable\r\n          ref=\"bsTableRef\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"tableColumnsConfig\"\r\n          :table-data=\"curTableConfDatasMapArr\"\r\n          :toolbar-config=\"toolbarConfig\"\r\n          :pager-config=\"false\"\r\n          :edit-config=\"{}\"\r\n          @ajaxData=\"ajaxData\"\r\n          @editClosed=\"editClosed\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left\">\r\n              <div\r\n                v-if=\"leftVisible === false\"\r\n                class=\"table-toolbar-contro-leftvisible\"\r\n                @click=\"leftVisible = true\"\r\n              ></div>\r\n              <div class=\"table-toolbar-left-title\">\r\n                <span class=\"fn-inline\">{{\r\n                  (curLeftTreeClickNode.name ? curLeftTreeClickNode.name : '') + '菜单表配置'\r\n                }}</span>\r\n                <i class=\"fn-inline\"></i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <template v-slot:toolbar-custom-slot>\r\n            <div class=\"toolbar-slot-custom-slot fn-inline\">\r\n              <!-- <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表单项配置\"\r\n                @click=\"onEditFormClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表格列配置\"\r\n                @click=\"onEditTableClick\"\r\n              /> -->\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"新增\"\r\n                @click=\"onAddClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"删除\"\r\n                @click=\"onDeleteClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑\"\r\n                @click=\"onEditClick\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </BsTable>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <div>\r\n      <TableConfModal\r\n        v-if=\"tableConfModalVisible\"\r\n        :dialog-visible.sync=\"tableConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <FormConfModal\r\n        v-if=\"formConfModalVisible\"\r\n        :dialog-visible.sync=\"formConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <EnteringDefault\r\n        v-if=\"enteringDefaultVisible\"\r\n        :dialog-visible.sync=\"enteringDefaultVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <SubTabConfigModal\r\n        v-if=\"SubTabConfigVisible\"\r\n        :dialog-visible.sync=\"SubTabConfigVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TableConfModal from './tableConfModal.vue'\r\nimport FormConfModal from './FormConfModal.vue'\r\nimport EnteringDefault from './enteringDefault.vue'\r\nimport getFormConfData from './formConf.js'\r\nimport SubTabConfigModal from './SubTabConfigModal.vue'\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    TableConfModal,\r\n    FormConfModal,\r\n    EnteringDefault,\r\n    SubTabConfigModal\r\n  },\r\n  props: {\r\n    allPropData: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      menuguids: [],\r\n      curConfType: 'table',\r\n      leftVisible: true,\r\n      leftTreeData: [],\r\n      curSplitPaneLeftWidth: 20,\r\n      isShowQueryConditions: false,\r\n      serverUri: 'mp-b-perm-service/v1/tableconf/menuguid',\r\n      treeQueryparams: {\r\n        menuguid: 'test_123456',\r\n        useRight: false,\r\n        batchno: 2,\r\n        datatype: 5,\r\n        eleCode: 'DEPBGTECO',\r\n        sxspecroleguid: '637B6D5A823F459AB313CBF94C87765B'\r\n      },\r\n      treeleftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      treeConfig: {\r\n        curRadio: 'zf',\r\n        radioGroup: [\r\n          {\r\n            code: 'zf',\r\n            label: '政府部门树'\r\n          },\r\n          {\r\n            code: 'xuexiao',\r\n            label: '学校树'\r\n          },\r\n          {\r\n            code: 'jigou',\r\n            label: '机构树'\r\n          }\r\n        ]\r\n      },\r\n      leftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      pagerConfig: {\r\n        currentPage: 1,\r\n        total: 100\r\n      },\r\n      curTableConfDatas: [],\r\n      currentPage: 1,\r\n      curTableConfDatasMapArr: [\r\n        // {\r\n        //   tableName: '1',\r\n        //   businessTableName: '1',\r\n        //   tableNote: '1',\r\n        //   measuringUnit: 1,\r\n        //   viewOrder: '001',\r\n        //   editableBatch: '001',\r\n        //   tableType: '001',\r\n        //   note: '1',\r\n        //   autoBuiltTables: false,\r\n        //   editble: true,\r\n        //   showCheckbox: true,\r\n        //   canUse: true,\r\n        //   aSingleTable: false,\r\n        //   batchModify: false,\r\n        //   rowConfig: false,\r\n        //   noRecordIsAllowedToReport: true,\r\n        //   subtotalRows: true\r\n        // }\r\n      ],\r\n      curTableConfDatasMap: {},\r\n      globleConfigCp: {\r\n        tableName: '',\r\n        businessTableName: '',\r\n        tableNote: '',\r\n        measuringUnit: '',\r\n        viewOrder: '',\r\n        editableBatch: '',\r\n        tableType: '',\r\n        note: '',\r\n        autoBuiltTables: false,\r\n        editble: true,\r\n        showCheckbox: true,\r\n        canUse: true,\r\n        aSingleTable: false,\r\n        batchModify: false,\r\n        rowConfig: false,\r\n        noRecordIsAllowedToReport: true,\r\n        subtotalRows: true\r\n      },\r\n      toolbarConfig: {\r\n        disabledMoneyConversion: false,\r\n        ...getFormConfData('tableInforConf', 'toolbarConfig')\r\n      },\r\n      tableConfig: getFormConfData('tableInforConf', 'tableConfig'),\r\n      tableColumnsConfig: getFormConfData(\r\n        'tableInforConf',\r\n        'tableColumnsConfig'\r\n      ),\r\n      tableConfModalVisible: false,\r\n      formConfModalVisible: false,\r\n      enteringDefaultVisible: false,\r\n      curLeftTreeClickNode: {},\r\n      enteringDefaultFlag: false,\r\n      SubTabConfigVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.userInfo\r\n    }\r\n  },\r\n  methods: {\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    jsonStringify(columns) {\r\n      // 对象转换成json字符串\r\n      return JSON.stringify(columns, function (key, val) {\r\n        if (typeof val === 'function') {\r\n          return val + ''\r\n        }\r\n        return val\r\n      })\r\n    },\r\n    jsonParse(str) {\r\n      // json字符串转换成对象\r\n      return JSON.parse(str, function (k, v) {\r\n        try {\r\n          if (\r\n            v.indexOf &&\r\n            (v.indexOf('function') > -1 || v.indexOf('=>') > -1)\r\n          ) {\r\n            // return eval('(function(){return ' + v + ' })()')\r\n            // eslint-disable-next-line no-new-func\r\n            let func = new Function('return ' + v)\r\n            return func()\r\n          }\r\n          return v\r\n        } catch (e) {\r\n          return v\r\n        }\r\n      })\r\n    },\r\n    changeInput(val) {\r\n      this.treeleftTreeConfig.inputVal = val\r\n    },\r\n    confrimData(curTree) {\r\n      this.confrimData.curRadio = curTree.code\r\n      switch (curTree.code) {\r\n        case 'zf':\r\n          break\r\n        case 'xuexiao':\r\n          this.tabStatusNumConfig['ycl'] = 12\r\n          break\r\n        case 'jigou':\r\n          break\r\n      }\r\n    },\r\n    onSplitPaneResize(leftWidth) {\r\n      if (leftWidth > 1) {\r\n        this.curSplitPaneLeftWidth = leftWidth\r\n        this.leftVisible = true\r\n      } else {\r\n        this.leftVisible = false\r\n      }\r\n    },\r\n    ajaxData({ currentPage, pageSize }) {\r\n      this.pagerConfig.currentPage = currentPage\r\n      this.queryParams = Object.assign(this.queryParams, {\r\n        currentPage,\r\n        pageSize\r\n      })\r\n      this.getTableDatas(currentPage, pageSize)\r\n    },\r\n    getTableDatas(currentPage, pageSize) {\r\n      // 服务端查询数据\r\n      this.showLoading = true\r\n      let self = this\r\n      this.$http.post('url', this.queryParams).then((res) => {\r\n        if (res.code === 200) {\r\n          self.tableData = res.data.list\r\n          self.pagerConfig = {\r\n            total: res.data.total,\r\n            currentPage: currentPage\r\n          }\r\n          this.showLoading = false\r\n        }\r\n      })\r\n    },\r\n    transformConlumsDataToNest(columns) {\r\n      // columns转化为vxe-table columns数据结构\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          column[column.renderType] = {\r\n            name: column.renderName, // 渲染器名,\r\n            options: ((params) => {\r\n              if (typeof params === 'object') {\r\n                return self.deepCopy(params)\r\n              } else if (typeof params === 'string') {\r\n                return params\r\n                  ? params.split('+').map((item, index) => {\r\n                    return {\r\n                      value: item.split('#')[0],\r\n                      label: item.split('#')[1]\r\n                    }\r\n                  })\r\n                  : []\r\n              } else {\r\n                return params\r\n              }\r\n            })(column.options), // 下拉数据源\r\n            defaultValue: column.defaultValue, // 默认值\r\n            props: column.props // 额外参数\r\n          }\r\n          delete column._XID\r\n          delete column.renderType\r\n          delete column.renderName\r\n          delete column.options\r\n          delete column.props\r\n          delete column.defaultValue\r\n          delete self.deepCopy(column.props)\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformConlumsDataToSingle(columns) {\r\n      // vxe-table columns数据结构转化为单层columns\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          if (column.hasOwnProperty('editRender')) {\r\n            column.renderType = 'editRender'\r\n            column.renderName = column.editRender.name\r\n            column = Object.assign(column, self.deepCopy(column.editRender))\r\n            delete column.editRender\r\n          } else if (column.hasOwnProperty('cellRender')) {\r\n            column.renderType = 'cellRender'\r\n            column.renderName = column.cellRender.name\r\n            column = Object.assign(column, self.deepCopy(column.cellRender))\r\n          } else if (column.hasOwnProperty('itemRender')) {\r\n            column.renderType = 'itemRender'\r\n            column.renderName = column.itemRender.name\r\n            column = Object.assign(column, self.deepCopy(column.itemRender))\r\n          } else {\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox'].indexOf(column.renderName) >= 0) {\r\n            column.options = column.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+')\r\n          }\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformItemsDataToSingle(items) {\r\n      // vxe-table items数据结构转化为单层items\r\n      let self = this\r\n      items.forEach((item, itemIndex) => {\r\n        if (Array.isArray(item.children) && item.children.length) {\r\n          item.children = self.transformConlumsDataToNest(item.children)\r\n        } else {\r\n          if (item.hasOwnProperty('itemRender')) {\r\n            item.renderType = 'itemRender'\r\n            item.renderName = item.itemRender.name\r\n            item = Object.assign(item, self.deepCopy(item.itemRender))\r\n            delete item.itemRender\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormRadio', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox', '$vxeFormCheckbox'].indexOf(item.renderName) >= 0) {\r\n            item.options = Array.isArray(item.options) ? item.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+') : item.options\r\n          }\r\n        }\r\n      })\r\n      return items\r\n    },\r\n    getTableConfByMenuguid(menuguid) {\r\n      // 根据菜单menuguid获取其下所有表配置\r\n      let self = this\r\n      return new Promise((resolve, reject) => {\r\n        self.$http\r\n          .get('mp-b-perm-service/v1/tableconf/menuguid', {\r\n            menuguid: menuguid,\r\n            mof_div_code: self.userInfo.province, // 区划\r\n            fiscalyear: self.userInfo.year // 年份\r\n          })\r\n          .then((res) => {\r\n            if (res.rscode === '100000') {\r\n              resolve(res.data)\r\n              // resolve(self.generateCurTableConfDataMap(res.data))\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            reject(error)\r\n          })\r\n      })\r\n    },\r\n    generateCurTableConfDataMap(curMenuConfs) {\r\n      // 生成当前menu下表格数据映射\r\n      let self = this\r\n      let resultObj = {}\r\n      let curTableConfDatasMap = {}\r\n      let curTableConfDatasMapArr = []\r\n      resultObj.curTableConfDatas = curMenuConfs\r\n      curMenuConfs.forEach((item, index) => {\r\n        let { itemsConfig, globalConfig, formConfig } = self.jsonParse(\r\n          item.configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        let globalConfigCp = Object.assign(\r\n          {\r\n            tablename: '',\r\n            businessTableName: '',\r\n            tableNote: '',\r\n            measuringUnit: '',\r\n            viewOrder: '',\r\n            editableBatch: '',\r\n            tableType: '',\r\n            note: '',\r\n            autoBuiltTables: '',\r\n            editble: '',\r\n            showCheckbox: '',\r\n            canUse: '',\r\n            aSingleTable: '',\r\n            batchModify: '',\r\n            rowConfig: '',\r\n            noRecordIsAllowedToReport: '',\r\n            subtotalRows: ''\r\n          },\r\n          globalConfig,\r\n          {\r\n            // tablename: item.tablename,\r\n            type: item.type,\r\n            updatetime: item.updatetime,\r\n            menuname: this.curLeftTreeClickNode.name,\r\n            id: item.id,\r\n            menuguid: item.menuguid\r\n          }\r\n        )\r\n        curTableConfDatasMapArr.push(globalConfigCp)\r\n        curTableConfDatasMap[item.id] = {\r\n          itemsConfig: self.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: self.transformItemsDataToSingle(formConfig),\r\n          id: item.id,\r\n          globalConfig: globalConfigCp,\r\n          menuguid: item.menuguid,\r\n          type: item.type\r\n        }\r\n      })\r\n      resultObj.curTableConfDatasMapArr = curTableConfDatasMapArr\r\n      resultObj.curTableConfDatasMap = curTableConfDatasMap\r\n      return resultObj\r\n    },\r\n    setLeftMenuTree() {\r\n      // 加载左侧树\r\n      this.leftTreeData = [].concat(this.$store.state.systemMenu)\r\n    },\r\n    onLeftTreeNodeClick(node, leftTree) {\r\n      // 左侧树点击事件\r\n      if (!(Array.isArray(node.children) && node.children.length)) {\r\n        let self = this\r\n        this.curLeftTreeClickNode = node\r\n        this.getTableConfByMenuguid(node.guid).then((res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: `当前菜单数据查询成功,共计(${res.length}条)`,\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n        })\r\n      }\r\n    },\r\n    refreshTable() {\r\n      // 刷新表格\r\n      let self = this\r\n      this.getTableConfByMenuguid(this.curLeftTreeClickNode.guid).then(\r\n        (res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: '当前菜单数据已刷新',\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n          self.$refs.bsTableRef\r\n            .tableOptionFn()\r\n            .reloadData(self.curTableConfDatasMapArr).then(() => {}).catch(() => {\r\n            })\r\n        }\r\n      )\r\n    },\r\n    onEditTableClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.tableConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditFormClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.formConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditClick() {\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, subTabConfig, defaultConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        subTabConfig = subTabConfig || {\r\n          buttons: [],\r\n          buttonsInfo: {}\r\n        }\r\n        defaultConfig = defaultConfig || []\r\n        if (selection[0].type === 'form' || selection[0].type === 'formConf' || selection[0].type === 'detail' || selection[0].type === 'detailConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformItemsDataToSingle(itemsConfig)\r\n          })\r\n          this.formConfModalVisible = true\r\n        } else if (selection[0].type === 'tabPaneConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(subTabConfig),\r\n            subTabConfig: subTabConfig\r\n          })\r\n          this.SubTabConfigVisible = true\r\n        } else if (selection[0].type === 'enteringDefault') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(defaultConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(defaultConfig)\r\n          })\r\n          this.enteringDefaultVisible = true\r\n        } else {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(itemsConfig)\r\n          })\r\n          this.tableConfModalVisible = true\r\n        }\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onAddClick() {\r\n      let self = this\r\n      this.$refs.bsTableRef.insertRowData({\r\n        data: {\r\n          menuguid: self.curLeftTreeClickNode.guid,\r\n          type: 'table',\r\n          optionType: 'add',\r\n          id: self.$ToolFn.utilFn.getUuid(),\r\n          menuname: self.curLeftTreeClickNode.name,\r\n          mof_div_code: self.userInfo.province,\r\n          tablename: '',\r\n          fiscalyear: self.userInfo.year,\r\n          configure: self.jsonStringify({\r\n            globalConfig: {}, // 全局配置\r\n            itemsConfig: [], // 项配置\r\n            pageConfig: {}, // 分页配置\r\n            editConfig: {}, // 编辑配置\r\n            editRules: {}, // 校验规则\r\n            footerConfig: {}, // 表尾配置\r\n            dataConfig: {\r\n              dataSouceType: 'query'\r\n            },\r\n            subTabConfig: [],\r\n            defaultConfig: [] // 录入默认值\r\n          })\r\n        // menuguid: '123456'\r\n        }\r\n      })\r\n    },\r\n    onDeleteClick() {\r\n      let self = this\r\n      let ids = this.$refs.bsTableRef.selection.map((item, index) => {\r\n        return item.id\r\n      })\r\n      let menuguid = this.$refs.bsTableRef.selection[0].menuguid\r\n      this.menuguids[0] = menuguid\r\n      if (ids.length) {\r\n        self.$confirm('确定删除？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          self.$http\r\n            .del('mp-b-perm-service/v1/tableconf', {\r\n              mof_div_code: self.userInfo.province, // 区划\r\n              fiscalyear: self.userInfo.year, // 年份s\r\n              ids: ids,\r\n              menuguids: this.menuguids\r\n            })\r\n            .then((res) => {\r\n              if (res.rscode === '100000') {\r\n                self.$message({\r\n                  showClose: true,\r\n                  message: `选中的${ids.length}条数据已删除`,\r\n                  type: 'success'\r\n                })\r\n                self.refreshTable()\r\n                // resolve(self.generateCurTableConfDataMap(res.data))\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.log('error', error)\r\n            })\r\n        }).catch(e => {\r\n          self.$message.success('取消删除成功')\r\n        })\r\n      }\r\n    },\r\n    onTableCellClick({\r\n      row,\r\n      rowIndex,\r\n      $rowIndex,\r\n      column,\r\n      columnIndex,\r\n      $columnIndex,\r\n      triggerRadio,\r\n      triggerCheckbox,\r\n      triggerTreeNode,\r\n      triggerExpandNode,\r\n      $event\r\n    }) {\r\n      // this.tableConfModalParams = this.curTableConfDatasMap[row.id]\r\n      // this.TableConfModalVisible = true\r\n    },\r\n    // 区划默认值\r\n    getProvince() {\r\n      let obj = {\r\n        value: this.userInfo.province,\r\n        label: this.userInfo.admdivname\r\n      }\r\n      let flag = false\r\n      this.tableColumnsConfig[0].editRender.options.forEach(item => {\r\n        if (item.value === this.userInfo.province) {\r\n          flag = true\r\n        }\r\n      })\r\n      if (!flag) {\r\n        this.tableColumnsConfig[0].editRender.options.push(obj)\r\n      }\r\n      this.tableColumnsConfig[0].editRender.defaultValue = this.userInfo.province\r\n    },\r\n    // 编辑的时候录入默认值有个默认id\r\n    editClosed({ row, column }) {\r\n      // enteringDefaultFlag标识，当改过为录入默认值后，再更改才影响id变化\r\n      if (row.type === 'enteringDefault') {\r\n        row.id = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        row.id__viewSort = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        this.enteringDefaultFlag = true\r\n      } else if (row.type !== 'enteringDefault' && this.enteringDefaultFlag === true) {\r\n        row.id = this.$ToolFn.utilFn.getUuid()\r\n        row.id__viewSort = row.id\r\n        this.enteringDefaultFlag = false\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setLeftMenuTree()\r\n    if (this.$gloableToolFn.currentProvince === this.$gloableToolFn.FuJian) {\r\n      this.getProvince()\r\n    }\r\n  },\r\n  watch: {\r\n    tableConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    },\r\n    formConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.left-tree-pane {\r\n  .mmc-title {\r\n    height: 47px;\r\n    padding: 7px 15px;\r\n    line-height: 31px;\r\n    color: #464c5b;\r\n    font-size: 16px;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #dce3f3;\r\n    background-color: #e3f2fe;\r\n  }\r\n}\r\n</style>\r\n"]}]}