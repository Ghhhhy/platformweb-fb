{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\functionalComponent\\import\\importTable\\ImportTable.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\functionalComponent\\import\\importTable\\ImportTable.vue","mtime":1694505521742},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\css-loader\\dist\\cjs.js","mtime":1696752946978},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouaWR0dS10ZW1wbGF0ZS1nZW5lcmF0ZXsNCiAgIC5pbXBvcnQtZG93bmxvYWQtdGVtcGxhdGUtdXAgew0KICAgIHBhZGRpbmc6IDEwcHggNTBweCAxNXB4IDUwcHg7DQogICAgLmlkdHUtdGlwIHsNCiAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgIH0NCiAgICAuaWR0dS1kb3dubG9hZC10ZW1wbGF0ZSB7DQogICAgICBtYXJnaW46IDEwcHggMCAwIDA7DQogICAgfQ0KICAgIC5pZHR1LWltcG9ydCB7DQogICAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICNkOWQ5ZDk7DQogICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgIC5pZHR1LWltcG9ydC1idG46aG92ZXIgew0KICAgICAgICBvcGFjaXR5OiAwLjc1Ow0KICAgICAgfQ0KICAgICAgLmlkdHUtaW1wb3J0LXRpcCB7DQogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICB9DQogICAgICAuaWR0dS1pbXBvcnRGaWxlLXRpcHsNCiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICAgICAgbWFyZ2luLXRvcDogMDsNCiAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7DQogICAgICAgIGNvbG9yOiAjM2I5YWZiOw0KICAgICAgICBsaW5lLWhlaWdodDogMjBweDsNCiAgICAgICAgcGFkZGluZzogNXB4IDBweDsNCiAgICAgIH0NCiAgICB9DQogICAgLmlkdHUtaW1wb3J0LWJ0biB7DQogICAgICBtYXJnaW46IDIwcHggMCAwIDA7DQogICAgfQ0KICAgIC52eGUtZm9ybS0taXRlbSAudnhlLWZvcm0tLWl0ZW0taW5uZXIgLnZ4ZS1mb3JtLS1pdGVtLWNvbnRlbnR7DQogICAgICBkaXNwbGF5OmZsZXg7DQogICAgICAudnhlLWlucHV0LnNpemUtLW1lZGl1bSB7DQogICAgICAgIGZsZXg6MTsNCiAgICAgIH0NCiAgICAgIC5mZ3h7DQogICAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4Ow0KICAgICAgICBwYWRkaW5nOiAwIDEwcHg7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQoNCg=="},{"version":3,"sources":["ImportTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImportTable.vue","sourceRoot":"src/components/functionalComponent/import/importTable","sourcesContent":["<!--  导入表体弹框，支持解析嵌套表头   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div class=\"idtu-template-generate\">\r\n    <vxe-modal\r\n      v-model=\"importModalVisible\"\r\n      width=\"800\"\r\n      top=\"15\"\r\n      :position=\"{\r\n        top: '10%',\r\n      }\"\r\n      title=\"导入\"\r\n      @click=\"closeAndClear\"\r\n      @cancel=\"onCancelClick\"\r\n    >\r\n      <div class=\"import-download-template-up\">\r\n        <!-- 下载提示 -->\r\n        <div>\r\n          <div v-if=\"config.downloadTemplate || config.downloadSample\" class=\"idtu-tip\">\r\n            {{ config.reminder }}\r\n          </div>\r\n          <!-- 下载最新模板 -->\r\n          <div class=\"idtu-download-template\">\r\n            <vxe-button\r\n              v-if=\"config.downloadTemplate\"\r\n              class=\"btn\"\r\n              content=\"下载最新模板\"\r\n              @click=\"onDownloadTemplateClick\"\r\n            />\r\n            <vxe-button\r\n              v-if=\"config.downloadSample\"\r\n              class=\"btn\"\r\n              content=\"下载示例模板\"\r\n              @click=\"onDownloadSampleClick\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"idtu-import\">\r\n          <vxe-form\r\n            :data=\"config\"\r\n            size=\"medium\"\r\n            title-width=\"150\"\r\n            title-align=\"right\"\r\n            align=\"left\"\r\n            title-colon\r\n          >\r\n            <vxe-form-item v-if=\"config.showTheadSelect\" title=\"导入说明\" :span=\"24\">\r\n              <div class=\"idtu-import-tip\">\r\n                {{ config.instructions }}\r\n              </div>\r\n            </vxe-form-item>\r\n            <vxe-form-item title=\"导入选项\" :span=\"24\">\r\n              <template v-slot>\r\n                <div class=\"vxe-checkbox-group fn-inline\">\r\n                  <vxe-checkbox\r\n                    v-model=\"config.importThead\"\r\n                    label=\"isEOnlySourceField\"\r\n                    content=\"导入表头\"\r\n                    size=\"medium\"\r\n                  />\r\n                  <vxe-checkbox\r\n                    v-model=\"config.importTbody\"\r\n                    label=\"isExportOnlySourceField\"\r\n                    content=\"导入表体\"\r\n                    size=\"medium\"\r\n                  />\r\n                </div>\r\n              </template>\r\n            </vxe-form-item>\r\n            <vxe-form-item v-if=\"config.showTheadSelect\" title=\"指定表头行索引\" :span=\"24\">\r\n              <vxe-input v-model=\"config.theadRowIndexStart\" placeholder=\"开始行索引\" type=\"integer\" />\r\n              <span class=\"fgx\">-</span>\r\n              <vxe-input v-model=\"config.theadRowIndexEnd\" placeholder=\"结束行索引\" type=\"integer\" />\r\n            </vxe-form-item>\r\n            <vxe-form-item title=\"点击导入\" :span=\"24\">\r\n              <vxe-button\r\n                class=\"download-button-btn\"\r\n                type=\"text\"\r\n                status=\"primary\"\r\n                icon=\"fa fa-upload\"\r\n                content=\"点击导入文件\"\r\n                @click=\"onImportFileClick\"\r\n              />\r\n            </vxe-form-item>\r\n            <vxe-form-item v-if=\"config.filename !== ''\" title=\"导入文件名\" :span=\"24\">\r\n              <div class=\"idtu-importFile-tip\">\r\n                {{ config.filename }}\r\n              </div>\r\n            </vxe-form-item>\r\n          </vxe-form>\r\n\r\n        </div>\r\n        <div class=\"idtu-import-btn\">\r\n          <vxe-button\r\n            class=\"download-button-btn\"\r\n            status=\"primary\"\r\n            icon=\"fa fa-save\"\r\n            :disabled=\"config.filename === ''\"\r\n            content=\"导入\"\r\n            @click=\"onImportClick\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </vxe-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ImportTableUtilCb from './importTableUtil.js'\r\nexport default {\r\n  name: 'InvoicTable',\r\n  props: {\r\n    importModalVisible: {\r\n      type: Boolean\r\n    },\r\n    config: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          reminder: '请使用最新的导入模板,若是第一次,请在下方下载。',\r\n          instructions:\r\n            '导入模版只能为Excel,文件大小不能大于10M,内容为纯文本或数字填写.模板中科目名称和科目编码不能为空,其他信息请查看模板中说明。',\r\n          downloadTemplateText: '下载最新模版',\r\n          downloadTemplate: false, // 是否显示下载模版按钮\r\n          maxSize: 1024 * 1024 * 10, //  接受文件尺寸\r\n          acceptType: 'xlsx', // 接受文件类型\r\n          importThead: true, // 导入表头\r\n          importTbody: true, // 导入表体\r\n          showTheadSelect: true, // 显示表头行索引选择\r\n          theadRowIndexStart: 1, // 表头开始行索引\r\n          theadRowIndexEnd: 1, // 表头结束行索引\r\n          filename: '' // 文件名\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    // 关闭对话框\r\n    closeAndClear() {\r\n      this.importModalVisible = false\r\n    },\r\n    onDownloadTemplateClick() {\r\n      // 下载最新模板\r\n      this.$emit('onDownloadTemplateClick', {}, this)\r\n      if (typeof this.downloadTemplate === 'function') {\r\n        this.downloadTemplate(this)\r\n      }\r\n    },\r\n    onDownloadSampleClick() {\r\n      this.$emit('onDownloadSampleClick', {}, this)\r\n      if (typeof this.downloadSample === 'function') {\r\n        this.downloadSample(this)\r\n      }\r\n    },\r\n    onImportFileClick() {\r\n      // 选择文件\r\n      let self = this\r\n      if (typeof this.reSetConfig === 'function') {\r\n        ImportTableUtilCb.importExcel({ config: this.reSetConfig(this.config) }, (data) => {\r\n          self.curImportData = data\r\n          self.config.filename = data.filename\r\n        })\r\n      } else {\r\n        ImportTableUtilCb.importExcel({ config: this.config }, (data) => {\r\n          self.curImportData = data\r\n          self.config.filename = data.filename\r\n        })\r\n      }\r\n    },\r\n    onImportClick(data) { // 导入\r\n      let self = this\r\n      this.$emit('onImportClick', self.curImportData, this)\r\n      if (typeof this.importSuccess === 'function') {\r\n        this.importSuccess(self.curImportData, this)\r\n      }\r\n    },\r\n    onCancelClick() {\r\n      this.$emit('onCancel', this.content)\r\n      if (typeof this.cancel === 'function') {\r\n        this.cancel(this)\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (typeof this.importConfig === 'object') {\r\n      Object.assign(this.config, this.importConfig)\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {\r\n    importModalVisible: {\r\n      handler(newVal) {\r\n        this.$emit('update:importModalVisible', newVal)\r\n      },\r\n      immediate: true\r\n    },\r\n    config: {\r\n      handler(newVal) {\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.idtu-template-generate{\r\n   .import-download-template-up {\r\n    padding: 10px 50px 15px 50px;\r\n    .idtu-tip {\r\n      font-size: 14px;\r\n      font-weight: bold;\r\n    }\r\n    .idtu-download-template {\r\n      margin: 10px 0 0 0;\r\n    }\r\n    .idtu-import {\r\n      margin-top: 10px;\r\n      border: 1px dashed #d9d9d9;\r\n      box-sizing: border-box;\r\n      padding: 10px;\r\n      .idtu-import-btn:hover {\r\n        opacity: 0.75;\r\n      }\r\n      .idtu-import-tip {\r\n        text-align: left;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n      }\r\n      .idtu-importFile-tip{\r\n        text-align: left;\r\n        margin-top: 0;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n        background: transparent;\r\n        color: #3b9afb;\r\n        line-height: 20px;\r\n        padding: 5px 0px;\r\n      }\r\n    }\r\n    .idtu-import-btn {\r\n      margin: 20px 0 0 0;\r\n    }\r\n    .vxe-form--item .vxe-form--item-inner .vxe-form--item-content{\r\n      display:flex;\r\n      .vxe-input.size--medium {\r\n        flex:1;\r\n      }\r\n      .fgx{\r\n        line-height: 32px;\r\n        padding: 0 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n"]}]}