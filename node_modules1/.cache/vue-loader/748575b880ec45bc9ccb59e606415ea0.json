{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\Upload\\BossUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\Upload\\BossUpload.vue","mtime":1694505521679},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZhdWx0U2VydmVyVXJpIH0gZnJvbSAnLi9jb25maWcnDQppbXBvcnQgY29tVWkgZnJvbSAnQC9jb21wb25lbnRzL2luZGV4LmpzJw0KLy8gaW1wb3J0IEJhc2U2NCBmcm9tICdAL3V0aWxzL2Jhc2U2NCcNCmltcG9ydCBTdG9yZSBmcm9tICdAL3V0aWxzL3N0b3JlJw0KY29uc3QgVVNFUl9JTkZPID0gJ3VzZXJJbmZvJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQm9zc1VwbG9hZCcsDQogIHByb3BzOiB7DQogICAgaXNTaG93OiB7DQogICAgICB0eXBlOiBCb29sZWFuDQogICAgfSwNCiAgICBsaW1pdDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMQ0KICAgIH0sDQogICAgc2l6ZTogew0KICAgICAgLy8g6L6T5YWl5qGG5bC65a+4IG1lZGl1bS9zbWFsbC9taW5pDQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0sDQogICAgZWRpdEFjdGl2ZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4NCiAgICB9LA0KICAgIG9wZW5Mb2FkaW5nOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIHVuaXFlTmFtZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ2JzLXVwbG9hZF9faW5wdXQnDQogICAgfSwNCiAgICBxdWVyeXBhcmFtczogew0KICAgICAgLy8g5p+l6K+i5Y+C5pWwDQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9LA0KICAgIGRlbGV0ZXBhcmFtczogew0KICAgICAgLy8g5Yig6Zmk5Y+C5pWwDQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9LA0KICAgIGRvd25sb2FkcGFyYW1zOiB7DQogICAgICAvLyDkuIvovb3lj4LmlbANCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiB7fQ0KICAgICAgfQ0KICAgIH0sDQogICAgbWluU2VydmVyOiB7DQogICAgICAvLyDojrflj5bmlbDmja7orr/pl651cmnvvIzlj6/oh6rlrprkuYkNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQoKSB7DQogICAgICAgIHJldHVybiBkZWZhdWx0U2VydmVyVXJpDQogICAgICB9DQogICAgfSwNCiAgICBhZnRlclVwbG9hZDogew0KICAgICAgLy8g5LiK5Lyg5ZCO5Zue6LCDDQogICAgICB0eXBlOiBGdW5jdGlvbiwNCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uKGRhdGFzKSB7fQ0KICAgIH0sDQogICAgYWZ0ZXJEZWxldGU6IHsNCiAgICAgIC8vIOWIoOmZpOWQjuWbnuiwgw0KICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbihkYXRhcykge30NCiAgICB9LA0KICAgIHF1ZXJ5Q29uZmlnOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9LA0KICAgIGFjY2VwdDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ2ltYWdlLyosLmRvYywuZG9jeCwueGxzLC54bHN4LC50eHQsLnBkZiwuanBnLC5qcGVnLC5wbmcsLnR4dCwuN3osLnppcCwucmFyJw0KICAgICAgLy8g5LiK5Lyg5paH5Lu25qC85byP5LiN5q2j56Gu77yM5q2j56Gu5qC85byP5Li6ZG9j77yMZG9jeCDvvIx4bHPvvIx4bHN4IO+8jHR4dCDvvIxwZGbvvIxqcGfvvIxqcGVn77yMcG5nDQogICAgfQ0KDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNlcnZlclVyaToge30sDQogICAgICBjbGFzc05hbWU6IHRoaXMudW5pcWVOYW1lLA0KICAgICAgdXBsb2FkcGFyYW1zOiB0aGlzLnF1ZXJ5cGFyYW1zLA0KICAgICAgZGVscGFyYW1zOiB0aGlzLmRlbGV0ZXBhcmFtcywNCiAgICAgIGRvd25wYXJhbXM6IHRoaXMuZG93bmxvYWRwYXJhbXMsDQogICAgICB1c2VySW5mbzogU3RvcmUoVVNFUl9JTkZPKSwNCiAgICAgIHF1ZXJ5Q29uZmlnRm46IHRoaXMucXVlcnlDb25maWcNCg0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBtdWx0aXBsZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLmxpbWl0ID4gMQ0KICAgIH0sDQogICAgYXBwaWQoKSB7DQogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmFwcGlkID09PSB1bmRlZmluZWQgfHwNCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmFwcGlkID09PSAnJyB8fA0KICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJOYXZNb2R1bGUuYXBwaWQgPT09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuICdwYXknDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmFwcGlkDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQoNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgdXBsb2FkKCkgew0KICAgICAgY29uc3QgbW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGAke3RoaXMuY2xhc3NOYW1lfWApWzBdLnBhcmVudE5vZGUuY2hpbGRyZW5bMV0NCiAgICAgIG1tLmNsaWNrKCkNCiAgICB9LA0KICAgIC8vIOiOt+WPluWPguaVsA0KICAgIGdldFBhcmFtcyhmaWxlKSB7DQogICAgICBsZXQgcGFyYW0gPSBuZXcgRm9ybURhdGEoKSAvLyDliJvlu7pmb3Jt5a+56LGhDQogICAgICBwYXJhbS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKQ0KICAgICAgcGFyYW0uYXBwZW5kKCdmaWxlbmFtZScsIGZpbGUubmFtZSkNCiAgICAgIHBhcmFtLmFwcGVuZCgnYXBwaWQnLCB0aGlzLmFwcGlkKQ0KICAgICAgcGFyYW0uYXBwZW5kKCdiaWxsZ3VpZCcsIHRoaXMudXBsb2FkcGFyYW1zLmJpbGxndWlkIHx8ICcnKQ0KICAgICAgcGFyYW0uYXBwZW5kKCdkb2N0eXBlJywgdGhpcy51cGxvYWRwYXJhbXMuZG9jdHlwZSB8fCAnJykNCiAgICAgIHBhcmFtLmFwcGVuZCgneWVhcicsIHRoaXMudXNlckluZm8ueWVhcikNCiAgICAgIHBhcmFtLmFwcGVuZCgncHJvdmluY2UnLCB0aGlzLnVzZXJJbmZvLnByb3ZpbmNlKQ0KICAgICAgcGFyYW0uYXBwZW5kKCd1c2VyZ3VpZCcsIHRoaXMudXNlckluZm8uZ3VpZCkNCiAgICAgIGxldCBxdWVyeUNvbmZpZ0ZuS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMucXVlcnlDb25maWdGbikNCiAgICAgIGlmIChxdWVyeUNvbmZpZ0ZuS2V5cy5sZW5ndGgpIHsNCiAgICAgICAgcXVlcnlDb25maWdGbktleXMuZm9yRWFjaCgoa2V5KSA9PiB7DQogICAgICAgICAgcGFyYW0uYXBwZW5kKGtleSwgdGhpcy5xdWVyeUNvbmZpZ0ZuW2tleV0pDQogICAgICAgIH0pDQogICAgICB9DQogICAgICAvLyBwYXJhbS5hcHBlbmQoJ29sZG5vZGUnLCB0aGlzLnVwbG9hZHBhcmFtcy5vbGRub2RlIHx8ICcnKQ0KICAgICAgLy8gcGFyYW0uYXBwZW5kKCdzdGF0dXMnLCB0aGlzLnVwbG9hZHBhcmFtcy5zdGF0dXMgfHwgJycpDQogICAgICAvLyBwYXJhbS5hcHBlbmQoJ3RhYmxlbmFtZScsIHRoaXMudXBsb2FkcGFyYW1zLnRhYmxlbmFtZSB8fCAnJykNCiAgICAgIC8vIHBhcmFtLmFwcGVuZCgnY3Vycm5vZGUnLCB0aGlzLnVwbG9hZHBhcmFtcy5jdXJybm9kZSB8fCAnJykNCiAgICAgIC8vIHBhcmFtLmFwcGVuZCgnZ3VpZCcsIHRoaXMudXBsb2FkcGFyYW1zLmd1aWQgfHwgJycpDQogICAgICAvLyBwYXJhbS5hcHBlbmQoJ2d1aWRzJywgdGhpcy51cGxvYWRwYXJhbXMuZ3VpZHMgfHwgJycpDQogICAgICAvLyBwYXJhbS5hcHBlbmQoJ2RhdGF0eXBlJywgdGhpcy51cGxvYWRwYXJhbXMuZGF0YXR5cGUgfHwgJycpDQogICAgICAvLyBwYXJhbS5hcHBlbmQoJ2JhdGNobm8nLCB0aGlzLnVwbG9hZHBhcmFtcy5iYXRjaG5vIHx8ICcnKQ0KICAgICAgLy8gcGFyYW0uYXBwZW5kKCdyZXBvcnRndWlkJywgdGhpcy51cGxvYWRwYXJhbXMucmVwb3J0Z3VpZCB8fCAnJykNCiAgICAgIC8vIHBhcmFtLmFwcGVuZCgnZmllbGRzJywgdGhpcy51cGxvYWRwYXJhbXMuZmllbGRzIHx8ICcnKQ0KICAgICAgLy8gcGFyYW0uYXBwZW5kKCdjb21wbGV4JywgdGhpcy51cGxvYWRwYXJhbXMuY29tcGxleCB8fCAnJykNCiAgICAgIHJldHVybiBwYXJhbQ0KICAgIH0sDQoNCiAgICBvbmJlZm9yZVVwbG9hZChmaWxlKSB7DQogICAgICAvLyAg5qCh6aqM5aSE55CGDQogICAgICBpZiAoIXRoaXMuY2hlY2tBY2NlcHQoZmlsZSkpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICAvLyAg5qCh6aqM5aSE55CGDQogICAgICB0aGlzLm9wZW5Mb2FkaW5nICYmIGNvbVVpLnV0aWxzTGliLkxvYWRpbmdNYXJrLnNob3dMb2FkaW5nTWFyaygnJywgJ+S4iuS8oOS4rS4uLi4uLicpDQogICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLmdldFBhcmFtcyhmaWxlKQ0KICAgICAgdGhpcy4kaHR0cFt0aGlzLnNlcnZlclVyaS51cGxvYWQuYWpheFR5cGVdKHRoaXMuc2VydmVyVXJpLnVwbG9hZC5zZXJ2ZXJVcmksIHBhcmFtcywgbnVsbCwgJ211bHRpcGFydC9mb3JtLWRhdGEnLCAnb3BlbmFwaScpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5yc2NvZGUgPT09ICcxMDAwMDAnKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IHNob3dDbG9zZTogdHJ1ZSwgbWVzc2FnZTogJ+S4iuS8oOaIkOWKnyEnLCB0eXBlOiAnc3VjY2VzcycgfSkNCiAgICAgICAgICB0aGlzLmFmdGVyVXBsb2FkKGZpbGUsIHJlcy5kYXRhKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyBzaG93Q2xvc2U6IHRydWUsIG1lc3NhZ2U6ICfkuIrkvKDlpLHotKUhJywgdHlwZTogJ2Vycm9yJyB9KQ0KICAgICAgICB9DQogICAgICAgIHRoaXMub3BlbkxvYWRpbmcgJiYgY29tVWkudXRpbHNMaWIuTG9hZGluZ01hcmsucmVtb3ZlTG9hZGluZ01hcmsoKQ0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICB0aGlzLm9wZW5Mb2FkaW5nICYmIGNvbVVpLnV0aWxzTGliLkxvYWRpbmdNYXJrLnJlbW92ZUxvYWRpbmdNYXJrKCkNCiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZEZpbGU/LmNsZWFyRmlsZXMoKQ0KICAgICAgfSkNCiAgICB9LA0KDQogICAgY2hlY2tBY2NlcHQoZmlsZSkgew0KICAgICAgdmFyIGZpbGVTdWZmaXggPSBmaWxlLm5hbWUuc3Vic3RyaW5nKGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpICsgMSkNCiAgICAgIGlmICh0aGlzLmFjY2VwdCA9PT0gJyovKicpIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCg0KICAgICAgbGV0IGFjY2VwdEFyciA9IHRoaXMuYWNjZXB0LnNwbGl0KCcsJykNCiAgICAgIGxldCBhY2VlcHRzID0gYWNjZXB0QXJyLm1hcCgoaXRlbSwgaSkgPT4geyByZXR1cm4gaXRlbS50b0xvd2VyQ2FzZSgpIH0pDQogICAgICBpZiAoIWFjZWVwdHMuaW5jbHVkZXMoZmlsZVN1ZmZpeC50b0xvd2VyQ2FzZSgpKSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiBg5LiK5Lyg5paH5Lu25Y+q6IO95pivJHt0aGlzLmFjY2VwdH3moLzlvI8hYCwNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDkuIrkvKDmlofku7YNCiAgICB1cGxvYWRGaWxlcyhmaWxlcykgew0KICAgICAgY29uc29sZS5sb2coMzMsIGZpbGVzKQ0KICAgIH0sDQoNCiAgICAvLyDliKDpmaTljZXkuKrmiJblpJrkuKrmlofku7YNCiAgICBkZWxldGVGaWxlKCkgew0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBhcHBpZDogdGhpcy5hcHBpZCwNCiAgICAgICAgLi4udGhpcy5kZWxldGVwYXJhbXMNCiAgICAgIH0NCg0KICAgICAgdGhpcy4kaHR0cFt0aGlzLnNlcnZlclVyaS5kZWxldGUuYWpheFR5cGVdKHRoaXMuc2VydmVyVXJpLmRlbGV0ZS5zZXJ2ZXJVcmksIHBhcmFtcywgJycsICcnLCAncGFyYW1zJykudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLnJzY29kZSA9PT0gJzEwMDAwMCcpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgc2hvd0Nsb3NlOiB0cnVlLCBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScsIHR5cGU6ICdzdWNjZXNzJyB9KQ0KICAgICAgICAgIHRoaXMuYWZ0ZXJEZWxldGUoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyBzaG93Q2xvc2U6IHRydWUsIG1lc3NhZ2U6ICfliKDpmaTlpLHotKUhJywgdHlwZTogJ2Vycm9yJyB9KQ0KICAgICAgICB9DQogICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICB9KQ0KDQogICAgICAvLyB0aGlzLiRjb25maXJtKCfnoa7orqTopoHliKDpmaTlkJc/JywgJ+aPkOekuicsIHsNCiAgICAgIC8vICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgLy8gICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgIC8vICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAvLyB9KS50aGVuKCgpID0+IHsNCiAgICAgIC8vICAgdGhpcy4kaHR0cFt0aGlzLnNlcnZlclVyaS5kZWxldGUuYWpheFR5cGVdKHRoaXMuc2VydmVyVXJpLmRlbGV0ZS5zZXJ2ZXJVcmksIHBhcmFtcywgJycsICcnLCAncGFyYW1zJykudGhlbihyZXMgPT4gew0KICAgICAgLy8gICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgLy8gICAgICAgdGhpcy4kbWVzc2FnZSh7IHNob3dDbG9zZTogdHJ1ZSwgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnLCB0eXBlOiAnc3VjY2VzcycgfSkNCiAgICAgIC8vICAgICAgIHRoaXMuYWZ0ZXJEZWxldGUoKQ0KICAgICAgLy8gICAgIH0gZWxzZSB7DQogICAgICAvLyAgICAgICB0aGlzLiRtZXNzYWdlKHsgc2hvd0Nsb3NlOiB0cnVlLCBtZXNzYWdlOiAn5Yig6Zmk5aSx6LSlIScsIHR5cGU6ICdlcnJvcicgfSkNCiAgICAgIC8vICAgICB9DQogICAgICAvLyAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAvLyAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgLy8gICB9KQ0KICAgICAgLy8gfSkuY2F0Y2goKCkgPT4gew0KDQogICAgICAvLyB9KQ0KICAgIH0sDQoNCiAgICBkb3dubG9hZEZpbGVGaWxlKCkgew0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBhcHBpZDogdGhpcy5hcHBpZCwNCiAgICAgICAgLi4udGhpcy5kb3ducGFyYW1zDQogICAgICB9DQogICAgICB0aGlzLiRodHRwW3RoaXMuc2VydmVyVXJpLmZpbGVFeGlzdC5hamF4VHlwZV0odGhpcy5zZXJ2ZXJVcmkuZmlsZUV4aXN0LnNlcnZlclVyaSwgcGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKDU1NSwgdGhpcy4kaHR0cC5odHRwR2xvYmFsR2F0ZXdheUFnZW50KHRoaXMuc2VydmVyVXJpLmRvd25sb2FkLnNlcnZlclVyaSkpDQogICAgICAgICAgLy8gY29uc3QgdXJsT2JqID0gdGhpcy4kZ2xvYWJsZVRvb2xGbi5nZXRGaWxlVXJsKCkgKyAnL3YyL3N0cmVhbS9kb3dubG9hZCcNCiAgICAgICAgICAvLyBjb25zdCB1cmxPYmogPSAnaHR0cDovLzEwLjc3LjE4LjE3MjozMjMwNi92Mi9zdHJlYW0vZG93bmxvYWQnDQogICAgICAgICAgY29uc3QgdXJsT2JqID0gdGhpcy4kaHR0cC5odHRwR2xvYmFsR2F0ZXdheUFnZW50KCdmaWxlc2VydmljZS92Mi9zdHJlYW0vZG93bmxvYWQnKQ0KICAgICAgICAgIGNvbnN0IGRvd25Mb2FkVXJsID0gYCR7dXJsT2JqLmJhc2VVUkx9LyR7dXJsT2JqLnVybH0/YXBwaWQ9JHt0aGlzLmFwcGlkfSZmaWxlZ3VpZD0ke3RoaXMuZG93bnBhcmFtcy5maWxlZ3VpZH1gDQogICAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykNCiAgICAgICAgICBsaW5rLmhyZWYgPSBkb3duTG9hZFVybA0KICAgICAgICAgIC8vIGxpbmsuZG93bmxvYWQ9YOi3r+eUseWvvOWHuuihqC0ke2RheWpzKG5ldyBEYXRlKCkpLmZvcm1hdCgiWVlZWS1NTS1ERCBISDptbTpzcyIpfWAvL+i3qOWfn+S4iyDlkI3np7DkvJrlpLHmlYgg5peg5rOV6K6+572u5ZCN5a2XDQogICAgICAgICAgbGluay5jbGljaygpDQogICAgICAgICAgLy8g6YCa6L+HSlPmiZPlvIDmlrDnqpflj6PkvJrooqvmi6bmiKrvvIzmjaLkuIDnp43lrp7njrDmlrnlvI86IOWFiOaJk+W8gOmhtemdoiwg5ZCO5pu05pS56aG16Z2i5Zyw5Z2ADQogICAgICAgICAgLy8gbGV0IHRlbXB3aW5kb3cgPSB3aW5kb3cub3BlbignX2JsYW5rJykNCiAgICAgICAgICAvLyB0ZW1wd2luZG93LmxvY2F0aW9uID0gZG93bkxvYWRVcmwNCiAgICAgICAgICAvLyB3aW5kb3cub3Blbihkb3duTG9hZFVybCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgc2hvd0Nsb3NlOiB0cnVlLCBtZXNzYWdlOiAn5paH5Lu25LiN5a2Y5ZyoIScsIHR5cGU6ICdlcnJvcicgfSkNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRvd25sb2FkTW9yZUZpbGUoKSB7DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIGFwcGlkOiB0aGlzLmFwcGlkLA0KICAgICAgICBmaWxlZ3VpZDogdGhpcy5kb3ducGFyYW1zLmZpbGVndWlkDQogICAgICB9DQogICAgICB0aGlzLiRodHRwW3RoaXMuc2VydmVyVXJpLmZpbGVFeGlzdC5hamF4VHlwZV0odGhpcy5zZXJ2ZXJVcmkuZmlsZUV4aXN0LnNlcnZlclVyaSwgcGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgew0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKDU1NSwgdGhpcy4kaHR0cC5odHRwR2xvYmFsR2F0ZXdheUFnZW50KHRoaXMuc2VydmVyVXJpLmRvd25sb2FkLnNlcnZlclVyaSkpDQogICAgICAgICAgY29uc3QgdXJsT2JqID0gd2luZG93Lmdsb2FibGVUb29sRm4uc2VydmVyR2F0ZXdheU1hcC5kZXZlbG9wbWVudC5maWxlc2VydmljZSArICcvdjIvc3RyZWFtL2Rvd25sb2FkJw0KICAgICAgICAgIGNvbnN0IGRvd25Mb2FkVXJsID0gYCR7dXJsT2JqfT9hcHBpZD0ke3RoaXMuYXBwaWR9JmZpbGVndWlkPSR7cGFyYW1zLmZpbGVndWlkfWANCiAgICAgICAgICAvLyDpgJrov4dKU+aJk+W8gOaWsOeql+WPo+S8muiiq+aLpuaIqu+8jOaNouS4gOenjeWunueOsOaWueW8jzog5YWI5omT5byA6aG16Z2iLCDlkI7mm7TmlLnpobXpnaLlnLDlnYANCiAgICAgICAgICBsZXQgdGVtcHdpbmRvdyA9IHdpbmRvdy5vcGVuKCdfYmxhbmsnKQ0KICAgICAgICAgIHRlbXB3aW5kb3cubG9jYXRpb24gPSBkb3duTG9hZFVybA0KICAgICAgICAgIC8vIHdpbmRvdy5vcGVuKGRvd25Mb2FkVXJsKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyBzaG93Q2xvc2U6IHRydWUsIG1lc3NhZ2U6ICfmlofku7bkuI3lrZjlnKghJywgdHlwZTogJ2Vycm9yJyB9KQ0KICAgICAgICB9DQogICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICB9KQ0KICAgIH0sDQoNCiAgICBkb3dubG9hZEZpbGUoKSB7DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIGFwcGlkOiB0aGlzLmFwcGlkLA0KICAgICAgICAuLi50aGlzLmRvd25wYXJhbXMNCiAgICAgIH0NCiAgICAgIHRoaXMuJGh0dHBbdGhpcy5zZXJ2ZXJVcmkuZmlsZUV4aXN0LmFqYXhUeXBlXSh0aGlzLnNlcnZlclVyaS5maWxlRXhpc3Quc2VydmVyVXJpLCBwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5yc2NvZGUgPT09ICcxMDAwMDAnKSB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2coNTU1LCB0aGlzLiRodHRwLmh0dHBHbG9iYWxHYXRld2F5QWdlbnQodGhpcy5zZXJ2ZXJVcmkuZG93bmxvYWQuc2VydmVyVXJpKSkNCiAgICAgICAgICBjb25zdCB1cmxPYmogPSB0aGlzLiRodHRwLmh0dHBHbG9iYWxHYXRld2F5QWdlbnQodGhpcy5zZXJ2ZXJVcmkuZG93bmxvYWQuc2VydmVyVXJpKQ0KICAgICAgICAgIGNvbnN0IGRvd25Mb2FkVXJsID0gYCR7dXJsT2JqLmJhc2VVUkx9LyR7dXJsT2JqLnVybH0/YXBwaWQ9JHt0aGlzLmFwcGlkfSZmaWxlZ3VpZD0ke3RoaXMuZG93bnBhcmFtcy5maWxlZ3VpZH1gDQoNCiAgICAgICAgICAvLyDpgJrov4dKU+aJk+W8gOaWsOeql+WPo+S8muiiq+aLpuaIqu+8jOaNouS4gOenjeWunueOsOaWueW8jzog5YWI5omT5byA6aG16Z2iLCDlkI7mm7TmlLnpobXpnaLlnLDlnYANCiAgICAgICAgICBsZXQgdGVtcHdpbmRvdyA9IHdpbmRvdy5vcGVuKCdfYmxhbmsnKQ0KICAgICAgICAgIHRlbXB3aW5kb3cubG9jYXRpb24gPSBkb3duTG9hZFVybA0KICAgICAgICAgIC8vIHdpbmRvdy5vcGVuKGRvd25Mb2FkVXJsKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyBzaG93Q2xvc2U6IHRydWUsIG1lc3NhZ2U6ICfmlofku7bkuI3lrZjlnKghJywgdHlwZTogJ2Vycm9yJyB9KQ0KICAgICAgICB9DQogICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvLyDkuIvovb3pl67popgNCiAgICBkb3dubG9hZEZpbGVCYWsoKSB7DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIGFwcGlkOiB0aGlzLmFwcGlkLA0KICAgICAgICAuLi50aGlzLmRvd25wYXJhbXMNCiAgICAgIH0NCiAgICAgIHRoaXMuJGh0dHBbdGhpcy5zZXJ2ZXJVcmkuZG93bmxvYWQuYWpheFR5cGVdKHRoaXMuc2VydmVyVXJpLmRvd25sb2FkLnNlcnZlclVyaSwgcGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGNvbnN0IGNvZGUgPSByZXMuaGVhZGVycy5yc2NvZGUNCiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSByZXMuaGVhZGVycy5maWxlbmFtZQ0KICAgICAgICBpZiAoTnVtYmVyKGNvZGUpID09PSAxMDAwMDApIHsNCiAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGRlY29kZVVSSShmaWxlbmFtZSkNCiAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IHJlcy5kYXRhDQoNCiAgICAgICAgICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtmaWxlQ29udGVudF0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScgfSkNCg0KICAgICAgICAgIC8vIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbZmlsZUNvbnRlbnRdKQ0KICAgICAgICAgIGlmICgnZG93bmxvYWQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKSkgeyAvLyDpnZ5JReS4i+i9vQ0KICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKQ0KICAgICAgICAgICAgYS5kb3dubG9hZCA9IGZpbGVOYW1lDQogICAgICAgICAgICBhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICAgICAgICAgIGxldCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpDQogICAgICAgICAgICBhLmhyZWYgPSB1cmwNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSkNCiAgICAgICAgICAgIGEuY2xpY2soKQ0KICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpIC8vIOmHiuaUvlVSTCDlr7nosaENCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSkNCiAgICAgICAgICB9IGVsc2UgeyAvLyBJRTEwK+S4i+i9vQ0KICAgICAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZU5hbWUpDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoeyBzaG93Q2xvc2U6IHRydWUsIG1lc3NhZ2U6ICfkuIvovb3lvILluLghJywgdHlwZTogJ2Vycm9yJyB9KQ0KICAgICAgICB9DQogICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsgc2hvd0Nsb3NlOiB0cnVlLCBtZXNzYWdlOiAn5LiL6L295byC5bi4IScsIHR5cGU6ICdlcnJvcicgfSkNCiAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgfSkNCiAgICB9LA0KDQogICAgLy8g6I635Y+W5paH5Lu25YiX6KGoDQogICAgZ2V0RmlsZUxpc3QoKSB7DQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICB0aGlzLiRodHRwWydnZXQnXSgnZmlsZXNlcnZpY2UvdjIvZmlsZXMnLCB0aGlzLnF1ZXJ5cGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgaWYgKHJlcy5yc2NvZGUgPT09ICcxMDAwMDAnKSB7DQogICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhIHx8IHJlcy5yZXN1bHQpDQogICAgICAgICAgfQ0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIHJlamVjdChlcnIpDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvLyDmnI3liqHlj4LmlbDlkIjlubYNCiAgICBtaXhpbnNTZXJ2ZXJVcmkoKSB7DQogICAgICB0aGlzLnNlcnZlclVyaSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTZXJ2ZXJVcmksIHRoaXMubWluU2VydmVyKQ0KICAgIH0sDQoNCiAgICAvLyDkuIrkvKDmiJDlip/pkqnlrZANCiAgICB1cGxvYWRTdWNjZXNzKHJlcywgZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIGNvbnNvbGUubG9nKCdzdWNjZXNzJywgcmVzLCBmaWxlLCBmaWxlTGlzdCkNCiAgICB9LA0KDQogICAgLy8g5LiK5Lyg5aSx6LSl6ZKp5a2QDQogICAgdXBsb2FkRXJyb3IoZXJyLCBmaWxlLCBmaWxlTGlzdCkgew0KICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyLCBmaWxlLCBmaWxlTGlzdCkNCiAgICB9LA0KDQogICAgLy8g5LiK5Lyg6L+b5bqm6ZKp5a2QDQogICAgb25Qcm9ncmVzcyhlLCBmaWxlLCBmaWxlTGlzdCkgew0KICAgICAgY29uc29sZS5sb2coJ3Byb2dyZXNzJywgZSwgZmlsZSwgZmlsZUxpc3QpDQogICAgfSwNCg0KICAgIC8vIOmAieWImeaWh+S7tui2heWHuuacgOWkp+mZkOWItuS4quaVsA0KICAgIG9uRXhjZWVkKGZpbGVzLCBmaWxlTGlzdCkgew0KICAgICAgdGhpcy4kbWVzc2FnZSh7IHNob3dDbG9zZTogdHJ1ZSwgbWVzc2FnZTogYOmAieaLqeeahOaWh+S7tui2hei/h+acgOWkp+iuvue9ruaVsCR7dGhpcy5saW1pdH3kuoYhYCwgdHlwZTogJ2Vycm9yJyB9KQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLm1peGluc1NlcnZlclVyaSgpDQogIH0sDQogIHdhdGNoOiB7DQogICAgY2xhc3NOYW1lKHZhbCkgew0KICAgICAgdGhpcy5jbGFzc05hbWUgPSB2YWwNCiAgICB9LA0KICAgIG1pblNlcnZlcjogew0KICAgICAgaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsNCiAgICAgICAgdGhpcy5taXhpbnNTZXJ2ZXJVcmkoKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIHF1ZXJ5cGFyYW1zOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgICB0aGlzLnVwbG9hZHBhcmFtcyA9IHRoaXMucXVlcnlwYXJhbXMNCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICBkZWxldGVwYXJhbXM6IHsNCiAgICAgIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7DQogICAgICAgIHRoaXMuZGVscGFyYW1zID0gdGhpcy5kZWxldGVwYXJhbXMNCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfSwNCiAgICBkb3dubG9hZHBhcmFtczogew0KICAgICAgaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsNCiAgICAgICAgdGhpcy5kb3ducGFyYW1zID0gdGhpcy5kb3dubG9hZHBhcmFtcw0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIHF1ZXJ5Q29uZmlnOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgICB0aGlzLnF1ZXJ5Q29uZmlnRm4gPSBuZXdWYWx1ZQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["BossUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BossUpload.vue","sourceRoot":"src/components/Upload","sourcesContent":["<!--文件上传组件-->\r\n<template>\r\n  <div v-show=\"isShow\" class=\"bs-file__upload\">\r\n    <el-upload\r\n      ref=\"uploadFile\"\r\n      :show-file-list=\"false\"\r\n      :multiple=\"multiple\"\r\n      :limit=\"limit\"\r\n      :accept=\"accept\"\r\n      action=\"\"\r\n      :data=\"uploadparams\"\r\n      :on-success=\"uploadSuccess\"\r\n      :on-error=\"uploadError\"\r\n      :on-progress=\"onProgress\"\r\n      :before-upload=\"onbeforeUpload\"\r\n      :on-exceed=\"onExceed\"\r\n      :http-request=\"() => {}\"\r\n      style=\"display: inline-block;\"\r\n    >\r\n      <el-button size=\"small\" type=\"primary\" :class=\"className\">上传</el-button>\r\n    </el-upload>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defaultServerUri } from './config'\r\nimport comUi from '@/components/index.js'\r\n// import Base64 from '@/utils/base64'\r\nimport Store from '@/utils/store'\r\nconst USER_INFO = 'userInfo'\r\nexport default {\r\n  name: 'BossUpload',\r\n  props: {\r\n    isShow: {\r\n      type: Boolean\r\n    },\r\n    limit: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    size: {\r\n      // 输入框尺寸 medium/small/mini\r\n      type: String,\r\n      default: ''\r\n    },\r\n    editActived: {\r\n      type: Boolean\r\n    },\r\n    openLoading: {\r\n      type: Boolean,\r\n      default() {\r\n        return true\r\n      }\r\n    },\r\n    uniqeName: {\r\n      type: String,\r\n      default: 'bs-upload__input'\r\n    },\r\n    queryparams: {\r\n      // 查询参数\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    deleteparams: {\r\n      // 删除参数\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    downloadparams: {\r\n      // 下载参数\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    minServer: {\r\n      // 获取数据访问uri，可自定义\r\n      type: Object,\r\n      default() {\r\n        return defaultServerUri\r\n      }\r\n    },\r\n    afterUpload: {\r\n      // 上传后回调\r\n      type: Function,\r\n      default: function(datas) {}\r\n    },\r\n    afterDelete: {\r\n      // 删除后回调\r\n      type: Function,\r\n      default: function(datas) {}\r\n    },\r\n    queryConfig: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: 'image/*,.doc,.docx,.xls,.xlsx,.txt,.pdf,.jpg,.jpeg,.png,.txt,.7z,.zip,.rar'\r\n      // 上传文件格式不正确，正确格式为doc，docx ，xls，xlsx ，txt ，pdf，jpg，jpeg，png\r\n    }\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      serverUri: {},\r\n      className: this.uniqeName,\r\n      uploadparams: this.queryparams,\r\n      delparams: this.deleteparams,\r\n      downparams: this.downloadparams,\r\n      userInfo: Store(USER_INFO),\r\n      queryConfigFn: this.queryConfig\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    multiple() {\r\n      return this.limit > 1\r\n    },\r\n    appid() {\r\n      if (this.$store.state.curNavModule.appid === undefined ||\r\n        this.$store.state.curNavModule.appid === '' ||\r\n        this.$store.state.curNavModule.appid === null) {\r\n        return 'pay'\r\n      } else {\r\n        return this.$store.state.curNavModule.appid\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n\r\n  },\r\n\r\n  methods: {\r\n    upload() {\r\n      const mm = document.getElementsByClassName(`${this.className}`)[0].parentNode.children[1]\r\n      mm.click()\r\n    },\r\n    // 获取参数\r\n    getParams(file) {\r\n      let param = new FormData() // 创建form对象\r\n      param.append('file', file)\r\n      param.append('filename', file.name)\r\n      param.append('appid', this.appid)\r\n      param.append('billguid', this.uploadparams.billguid || '')\r\n      param.append('doctype', this.uploadparams.doctype || '')\r\n      param.append('year', this.userInfo.year)\r\n      param.append('province', this.userInfo.province)\r\n      param.append('userguid', this.userInfo.guid)\r\n      let queryConfigFnKeys = Object.keys(this.queryConfigFn)\r\n      if (queryConfigFnKeys.length) {\r\n        queryConfigFnKeys.forEach((key) => {\r\n          param.append(key, this.queryConfigFn[key])\r\n        })\r\n      }\r\n      // param.append('oldnode', this.uploadparams.oldnode || '')\r\n      // param.append('status', this.uploadparams.status || '')\r\n      // param.append('tablename', this.uploadparams.tablename || '')\r\n      // param.append('currnode', this.uploadparams.currnode || '')\r\n      // param.append('guid', this.uploadparams.guid || '')\r\n      // param.append('guids', this.uploadparams.guids || '')\r\n      // param.append('datatype', this.uploadparams.datatype || '')\r\n      // param.append('batchno', this.uploadparams.batchno || '')\r\n      // param.append('reportguid', this.uploadparams.reportguid || '')\r\n      // param.append('fields', this.uploadparams.fields || '')\r\n      // param.append('complex', this.uploadparams.complex || '')\r\n      return param\r\n    },\r\n\r\n    onbeforeUpload(file) {\r\n      //  校验处理\r\n      if (!this.checkAccept(file)) {\r\n        return\r\n      }\r\n      //  校验处理\r\n      this.openLoading && comUi.utilsLib.LoadingMark.showLoadingMark('', '上传中......')\r\n      const params = this.getParams(file)\r\n      this.$http[this.serverUri.upload.ajaxType](this.serverUri.upload.serverUri, params, null, 'multipart/form-data', 'openapi').then(res => {\r\n        if (res.rscode === '100000') {\r\n          this.$message({ showClose: true, message: '上传成功!', type: 'success' })\r\n          this.afterUpload(file, res.data)\r\n        } else {\r\n          this.$message({ showClose: true, message: '上传失败!', type: 'error' })\r\n        }\r\n        this.openLoading && comUi.utilsLib.LoadingMark.removeLoadingMark()\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.openLoading && comUi.utilsLib.LoadingMark.removeLoadingMark()\r\n      }).finally(() => {\r\n        this.$refs.uploadFile?.clearFiles()\r\n      })\r\n    },\r\n\r\n    checkAccept(file) {\r\n      var fileSuffix = file.name.substring(file.name.lastIndexOf('.') + 1)\r\n      if (this.accept === '*/*') {\r\n        return true\r\n      }\r\n\r\n      let acceptArr = this.accept.split(',')\r\n      let aceepts = acceptArr.map((item, i) => { return item.toLowerCase() })\r\n      if (!aceepts.includes(fileSuffix.toLowerCase())) {\r\n        this.$message({\r\n          message: `上传文件只能是${this.accept}格式!`,\r\n          type: 'warning'\r\n        })\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n\r\n    // 上传文件\r\n    uploadFiles(files) {\r\n      console.log(33, files)\r\n    },\r\n\r\n    // 删除单个或多个文件\r\n    deleteFile() {\r\n      const params = {\r\n        appid: this.appid,\r\n        ...this.deleteparams\r\n      }\r\n\r\n      this.$http[this.serverUri.delete.ajaxType](this.serverUri.delete.serverUri, params, '', '', 'params').then(res => {\r\n        if (res.rscode === '100000') {\r\n          this.$message({ showClose: true, message: '删除成功!', type: 'success' })\r\n          this.afterDelete()\r\n        } else {\r\n          this.$message({ showClose: true, message: '删除失败!', type: 'error' })\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n\r\n      // this.$confirm('确认要删除吗?', '提示', {\r\n      //   confirmButtonText: '确定',\r\n      //   cancelButtonText: '取消',\r\n      //   type: 'warning'\r\n      // }).then(() => {\r\n      //   this.$http[this.serverUri.delete.ajaxType](this.serverUri.delete.serverUri, params, '', '', 'params').then(res => {\r\n      //     if (res.rscode === '100000') {\r\n      //       this.$message({ showClose: true, message: '删除成功!', type: 'success' })\r\n      //       this.afterDelete()\r\n      //     } else {\r\n      //       this.$message({ showClose: true, message: '删除失败!', type: 'error' })\r\n      //     }\r\n      //   }).catch(err => {\r\n      //     console.log(err)\r\n      //   })\r\n      // }).catch(() => {\r\n\r\n      // })\r\n    },\r\n\r\n    downloadFileFile() {\r\n      const params = {\r\n        appid: this.appid,\r\n        ...this.downparams\r\n      }\r\n      this.$http[this.serverUri.fileExist.ajaxType](this.serverUri.fileExist.serverUri, params).then(res => {\r\n        if (res.rscode === '100000') {\r\n          // console.log(555, this.$http.httpGlobalGatewayAgent(this.serverUri.download.serverUri))\r\n          // const urlObj = this.$gloableToolFn.getFileUrl() + '/v2/stream/download'\r\n          // const urlObj = 'http://10.77.18.172:32306/v2/stream/download'\r\n          const urlObj = this.$http.httpGlobalGatewayAgent('fileservice/v2/stream/download')\r\n          const downLoadUrl = `${urlObj.baseURL}/${urlObj.url}?appid=${this.appid}&fileguid=${this.downparams.fileguid}`\r\n          let link = document.createElement('a')\r\n          link.href = downLoadUrl\r\n          // link.download=`路由导出表-${dayjs(new Date()).format(\"YYYY-MM-DD HH:mm:ss\")}`//跨域下 名称会失效 无法设置名字\r\n          link.click()\r\n          // 通过JS打开新窗口会被拦截，换一种实现方式: 先打开页面, 后更改页面地址\r\n          // let tempwindow = window.open('_blank')\r\n          // tempwindow.location = downLoadUrl\r\n          // window.open(downLoadUrl)\r\n        } else {\r\n          this.$message({ showClose: true, message: '文件不存在!', type: 'error' })\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    downloadMoreFile() {\r\n      const params = {\r\n        appid: this.appid,\r\n        fileguid: this.downparams.fileguid\r\n      }\r\n      this.$http[this.serverUri.fileExist.ajaxType](this.serverUri.fileExist.serverUri, params).then(res => {\r\n        if (res.rscode === '100000') {\r\n          // console.log(555, this.$http.httpGlobalGatewayAgent(this.serverUri.download.serverUri))\r\n          const urlObj = window.gloableToolFn.serverGatewayMap.development.fileservice + '/v2/stream/download'\r\n          const downLoadUrl = `${urlObj}?appid=${this.appid}&fileguid=${params.fileguid}`\r\n          // 通过JS打开新窗口会被拦截，换一种实现方式: 先打开页面, 后更改页面地址\r\n          let tempwindow = window.open('_blank')\r\n          tempwindow.location = downLoadUrl\r\n          // window.open(downLoadUrl)\r\n        } else {\r\n          this.$message({ showClose: true, message: '文件不存在!', type: 'error' })\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n\r\n    downloadFile() {\r\n      const params = {\r\n        appid: this.appid,\r\n        ...this.downparams\r\n      }\r\n      this.$http[this.serverUri.fileExist.ajaxType](this.serverUri.fileExist.serverUri, params).then(res => {\r\n        if (res.rscode === '100000') {\r\n          // console.log(555, this.$http.httpGlobalGatewayAgent(this.serverUri.download.serverUri))\r\n          const urlObj = this.$http.httpGlobalGatewayAgent(this.serverUri.download.serverUri)\r\n          const downLoadUrl = `${urlObj.baseURL}/${urlObj.url}?appid=${this.appid}&fileguid=${this.downparams.fileguid}`\r\n\r\n          // 通过JS打开新窗口会被拦截，换一种实现方式: 先打开页面, 后更改页面地址\r\n          let tempwindow = window.open('_blank')\r\n          tempwindow.location = downLoadUrl\r\n          // window.open(downLoadUrl)\r\n        } else {\r\n          this.$message({ showClose: true, message: '文件不存在!', type: 'error' })\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n\r\n    // 下载问题\r\n    downloadFileBak() {\r\n      const params = {\r\n        appid: this.appid,\r\n        ...this.downparams\r\n      }\r\n      this.$http[this.serverUri.download.ajaxType](this.serverUri.download.serverUri, params).then(res => {\r\n        const code = res.headers.rscode\r\n        const filename = res.headers.filename\r\n        if (Number(code) === 100000) {\r\n          const fileName = decodeURI(filename)\r\n          const fileContent = res.data\r\n\r\n          let blob = new Blob([fileContent], { type: 'application/octet-stream' })\r\n\r\n          // const blob = new Blob([fileContent])\r\n          if ('download' in document.createElement('a')) { // 非IE下载\r\n            const a = document.createElement('a')\r\n            a.download = fileName\r\n            a.style.display = 'none'\r\n            let url = URL.createObjectURL(blob)\r\n            a.href = url\r\n            document.body.appendChild(a)\r\n            a.click()\r\n            URL.revokeObjectURL(url) // 释放URL 对象\r\n            document.body.removeChild(a)\r\n          } else { // IE10+下载\r\n            navigator.msSaveBlob(blob, fileName)\r\n          }\r\n        } else {\r\n          this.$message({ showClose: true, message: '下载异常!', type: 'error' })\r\n        }\r\n      }).catch(err => {\r\n        this.$message({ showClose: true, message: '下载异常!', type: 'error' })\r\n        console.log(err)\r\n      })\r\n    },\r\n\r\n    // 获取文件列表\r\n    getFileList() {\r\n      return new Promise((resolve, reject) => {\r\n        this.$http['get']('fileservice/v2/files', this.queryparams).then(res => {\r\n          if (res.rscode === '100000') {\r\n            resolve(res.data || res.result)\r\n          }\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n\r\n    // 服务参数合并\r\n    mixinsServerUri() {\r\n      this.serverUri = Object.assign({}, defaultServerUri, this.minServer)\r\n    },\r\n\r\n    // 上传成功钩子\r\n    uploadSuccess(res, file, fileList) {\r\n      console.log('success', res, file, fileList)\r\n    },\r\n\r\n    // 上传失败钩子\r\n    uploadError(err, file, fileList) {\r\n      console.log('error', err, file, fileList)\r\n    },\r\n\r\n    // 上传进度钩子\r\n    onProgress(e, file, fileList) {\r\n      console.log('progress', e, file, fileList)\r\n    },\r\n\r\n    // 选则文件超出最大限制个数\r\n    onExceed(files, fileList) {\r\n      this.$message({ showClose: true, message: `选择的文件超过最大设置数${this.limit}了!`, type: 'error' })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.mixinsServerUri()\r\n  },\r\n  watch: {\r\n    className(val) {\r\n      this.className = val\r\n    },\r\n    minServer: {\r\n      handler(newValue, oldValue) {\r\n        this.mixinsServerUri()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    queryparams: {\r\n      handler(newValue, oldValue) {\r\n        this.uploadparams = this.queryparams\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    deleteparams: {\r\n      handler(newValue, oldValue) {\r\n        this.delparams = this.deleteparams\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    downloadparams: {\r\n      handler(newValue, oldValue) {\r\n        this.downparams = this.downloadparams\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    queryConfig: {\r\n      handler(newValue, oldValue) {\r\n        this.queryConfigFn = newValue\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}