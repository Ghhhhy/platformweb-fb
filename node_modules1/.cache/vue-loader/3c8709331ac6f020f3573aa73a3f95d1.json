{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\SubTabConfigModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\SubTabConfigModal.vue","mtime":1694505522433},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZ2V0Rm9ybUNvbmZEYXRhIGZyb20gJy4vZm9ybUNvbmYuanMnDQppbXBvcnQgRW50ZXJJdGVtQ29uZmlnTW9kYWwgZnJvbSAnLi9FbnRlckl0ZW1Db25maWdNb2RhbCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0Zvcm1Db25mTW9kYWwnLA0KICBjb21wb25lbnRzOiB7IEVudGVySXRlbUNvbmZpZ01vZGFsIH0sDQogIHByb3BzOiB7DQogICAgZGlhbG9nVmlzaWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQgKCkgew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KICAgIHBhcmFtczogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdCAoKSB7DQogICAgICAgIHJldHVybiB7fQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaWZSZW5kZXJGb3JtQ29uZlRhYmxlOiB0cnVlLA0KICAgICAgdG9vbGJhckNvbmZpZzogew0KICAgICAgICBkaXNhYmxlZE1vbmV5Q29udmVyc2lvbjogZmFsc2UsDQogICAgICAgIC4uLmdldEZvcm1Db25mRGF0YSgnc3ViVGFiQ29uZicsICd0b29sYmFyQ29uZmlnJykNCiAgICAgIH0sDQogICAgICB0YWJsZUNvbmZpZzogZ2V0Rm9ybUNvbmZEYXRhKCdzdWJUYWJDb25mJywgJ3RhYmxlQ29uZmlnJyksDQogICAgICB0YWJsZUNvbHVtbnNDb25maWcxOiBnZXRGb3JtQ29uZkRhdGEoJ3N1YlRhYkNvbmYnLCAnYnV0dG9uc0l0ZW1zQ29uZmlnJyksDQogICAgICB0YWJsZUNvbHVtbnNDb25maWcyOiBnZXRGb3JtQ29uZkRhdGEoJ3N1YlRhYkNvbmYnLCAnYnV0dG9uc0luZm9JdGVtc0NvbmZpZycpLA0KICAgICAgZm9ybUNvbmZpZ0RhdGExOiBnZXRGb3JtQ29uZkRhdGEoJ3N1YlRhYkNvbmYnLCAnZGVmYXVsdEl0ZW1zRGF0YXMnKSwNCiAgICAgIGZvcm1Db25maWdEYXRhMjogZ2V0Rm9ybUNvbmZEYXRhKCdzdWJUYWJDb25mJywgJ2RlZmF1bHRJdGVtc0RhdGFzJyksDQogICAgICBpdGVtVmlzaWJsZTogZmFsc2UsDQogICAgICBjb25maWdQYXJhbXM6IHt9LA0KICAgICAgcGFyYW1zQ3A6IHt9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb25FbnRlckNvbmZpZygpIHsNCiAgICAgIGxldCBzdWJUYWJDb25maWcgPSB0aGlzLmJlZm9yZVNhdmUoKQ0KICAgICAgLy8g5bCGanNvbui9rOaIkOWvueixoQ0KICAgICAgbGV0IHBhcmFtc0NvcHkgPSB0aGlzLmRlZXBDb3B5KHRoaXMucGFyYW1zQ3ApDQogICAgICBwYXJhbXNDb3B5LmNvbmZpZ3VyZSA9IHRoaXMuanNvblBhcnNlKA0KICAgICAgICBwYXJhbXNDb3B5LmNvbmZpZ3VyZQ0KICAgICAgKQ0KICAgICAgcGFyYW1zQ29weS5jb25maWd1cmUuc3ViVGFiQ29uZmlnID0gc3ViVGFiQ29uZmlnDQogICAgICB0aGlzLmNvbmZpZ1BhcmFtcyA9IHRoaXMuZGVlcENvcHkocGFyYW1zQ29weSkNCiAgICAgIHRoaXMuaXRlbVZpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICBvbkNlbGxDbGljayhvYmosIGNvbnRleHQsIGUpIHsNCiAgICAgIGxldCBrZXkgPSBvYmouY29sdW1uLnByb3BlcnR5DQogICAgICBpZiAoa2V5ID09PSAnc2VsZWN0XycpIHsNCiAgICAgICAgaWYgKG9iai5yb3cudGl0bGUgPT09ICcnKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7flhYjpgInmi6nopoHntKAnKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMudGFibGVDb2x1bW5zQ29uZmlnWzFdLmVkaXRSZW5kZXIucHJvcHMuY29uZmlnLmRpc2FibGVkID0gZmFsc2UNCiAgICAgICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZ1sxXS5lZGl0UmVuZGVyLnByb3BzLnF1ZXJ5cGFyYW1zLmVsZW1lbnRDb2RlID0gb2JqLnJvdy50aXRsZQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBkaWFsb2dDbG9zZSgpIHsNCiAgICAgIHRoaXMuaXRlbVZpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlQ2FsbGJhY2snKQ0KICAgIH0sDQogICAgZGVlcENvcHkob2JqKSB7DQogICAgICAvLyDmt7Hmi7fotJ3pgJrnlKjmlrnms5UNCiAgICAgIGxldCBtZSA9IHRoaXMNCiAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHJldHVybiBvYmoNCiAgICAgIGxldCBuZXdPYmogPSBvYmogaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge30NCiAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHsNCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgbmV3T2JqW2tleV0gPQ0KICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JyA/IG1lLmRlZXBDb3B5KG9ialtrZXldKSA6IG9ialtrZXldDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBuZXdPYmoNCiAgICB9LA0KICAgIGpzb25QYXJzZShzdHIpIHsNCiAgICAgIC8vIGpzb27lrZfnrKbkuLLovazmjaLmiJDlr7nosaENCiAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0ciwgZnVuY3Rpb24gKGssIHYpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICB2LmluZGV4T2YgJiYNCiAgICAgICAgICAgICh2LmluZGV4T2YoJ2Z1bmN0aW9uJykgPiAtMSB8fCB2LmluZGV4T2YoJz0+JykgPiAtMSkNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIC8vIHJldHVybiBldmFsKCcoZnVuY3Rpb24oKXtyZXR1cm4gJyArIHYgKyAnIH0pKCknKQ0KICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jDQogICAgICAgICAgICBsZXQgZnVuYyA9IG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyB2KQ0KICAgICAgICAgICAgcmV0dXJuIGZ1bmMoKQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gdg0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgcmV0dXJuIHYNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHRyYW5zZm9ybUl0ZW1zRGF0YVRvTmVzdChjb2x1bW5zKSB7DQogICAgICAvLyBjb2x1bW5z6L2s5YyW5Li6dnhlLXRhYmxlIGNvbHVtbnPmlbDmja7nu5PmnoQNCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgY29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGNvbHVtbkluZGV4KSA9PiB7DQogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5jaGlsZHJlbikgJiYgY29sdW1uLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IHNlbGYudHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoY29sdW1uLmNoaWxkcmVuKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGlmIChjb2x1bW5bJ3JlbmRlck5hbWUnXSkgew0KICAgICAgICAgICAgY29sdW1uWydpdGVtUmVuZGVyJ10gPSB7DQogICAgICAgICAgICAgIG5hbWU6IGNvbHVtbi5yZW5kZXJOYW1lLCAvLyDmuLLmn5PlmajlkI0sDQogICAgICAgICAgICAgIG9wdGlvbnM6ICgoYXJnKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSB7DQogICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5kZWVwQ29weShhcmcpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykgew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZyA/IGFyZy5zcGxpdCgnKycpLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGl0ZW0uc3BsaXQoJyMnKVswXSwgbGFiZWw6IGl0ZW0uc3BsaXQoJyMnKVsxXSB9DQogICAgICAgICAgICAgICAgICB9KSA6IFtdDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pKGNvbHVtbi5vcHRpb25zKSwgLy8g5LiL5ouJ5pWw5o2u5rqQDQogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogY29sdW1uLmRlZmF1bHRWYWx1ZSwgLy8g6buY6K6k5YC8DQogICAgICAgICAgICAgIHByb3BzOiBjb2x1bW4ucHJvcHMgLy8g6aKd5aSW5Y+C5pWwDQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGRlbGV0ZSBjb2x1bW5bJ2l0ZW1SZW5kZXInXQ0KICAgICAgICAgIH0NCiAgICAgICAgICBkZWxldGUgY29sdW1uLl9YSUQNCiAgICAgICAgICBkZWxldGUgY29sdW1uLnJlbmRlclR5cGUNCiAgICAgICAgICBkZWxldGUgY29sdW1uLnJlbmRlck5hbWUNCiAgICAgICAgICBkZWxldGUgY29sdW1uLm9wdGlvbnMNCiAgICAgICAgICBkZWxldGUgY29sdW1uLnByb3BzDQogICAgICAgICAgZGVsZXRlIGNvbHVtbi5kZWZhdWx0VmFsdWUNCiAgICAgICAgICBkZWxldGUgc2VsZi5kZWVwQ29weShjb2x1bW4ucHJvcHMpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICByZXR1cm4gY29sdW1ucw0KICAgIH0sDQogICAgLy8gb3B0aW9ucyDlpITnkIbmiJAgMSPlhoXlrrkrMiPlhoXlrrkNCiAgICBjaGFuZ2VPcHRpb25zKGRhdGEpIHsNCiAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgLy8g5aaC5p6c5pivb3B0aW9ucw0KICAgICAgICBpZiAoaXRlbS5vcHRpb25zKSB7DQogICAgICAgICAgbGV0IHN0ciA9ICcnDQogICAgICAgICAgaXRlbS5vcHRpb25zLmZvckVhY2goaXRlbTIgPT4gew0KICAgICAgICAgICAgc3RyICs9IGl0ZW0yWydjb2RlJ10gKyAnIycgKyBpdGVtMlsnbGFiZWwnXSArICcrJw0KICAgICAgICAgIH0pDQogICAgICAgICAgaXRlbS5vcHRpb25zID0gc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiBkYXRhDQogICAgfSwNCiAgICAvLyDlpITnkIZjcHTvvIzlpITnkIbmjInpkq7nu4TkvJrosIPnlKgNCiAgICBjaGFuZ2VDcHRMaXN0KGRhdGEpIHsNCiAgICAgIGxldCBrZXlBcnIgPSBbXQ0KICAgICAgLy8g6I635Y+W5pWw57uE55qEa2V55YC8DQogICAgICBmb3IgKGxldCBrZXkgaW4gZGF0YVswXSkgew0KICAgICAgICBrZXlBcnIucHVzaChrZXkpDQogICAgICB9DQogICAgICBsZXQgc3RyID0gJycNCiAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgLy8g5aaC5p6c5rKh5pyJb3B0aW9uc++8jOebtOaOpeWkhOeQhg0KICAgICAgICBzdHIgKz0gaXRlbVtrZXlBcnJbMF1dICsgJyMnICsgaXRlbVtrZXlBcnJbMV1dICsgJysnDQogICAgICB9KQ0KICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSkNCiAgICAgIHJldHVybiBzdHINCiAgICB9LA0KICAgIC8vIOWkhOeQhuaMiemSrue7hA0KICAgIGNoYW5nZUJ1dHRvbnNJbmZvKGRhdGEpIHsNCiAgICAgIGxldCBhcnIgPSBbXQ0KICAgICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHsNCiAgICAgICAgZGF0YVtrZXldLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgbGV0IGNoaWxkSXRlbSA9IGl0ZW0NCiAgICAgICAgICAvLyDnu5nmr4/kuIDpobnliqDkuKrniLbpobXnrb4NCiAgICAgICAgICBjaGlsZEl0ZW0ucGFyZW50Q29kZSA9IGtleQ0KICAgICAgICAgIC8vIOWmguaenOaciWNwdOaVsOe7hCDljZXni6zlpITnkIYNCiAgICAgICAgICBpZiAoaXRlbS5wYXJhbXMgJiYgaXRlbS5wYXJhbXMuY3B0TGlzdCkgew0KICAgICAgICAgICAgbGV0IGNwdEFyciA9IHRoaXMuY2hhbmdlQ3B0TGlzdChpdGVtLnBhcmFtcy5jcHRMaXN0KQ0KICAgICAgICAgICAgY2hpbGRJdGVtLmNwdExpc3QgPSBjcHRBcnINCiAgICAgICAgICB9DQogICAgICAgICAgYXJyLnB1c2goY2hpbGRJdGVtKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGFycg0KICAgIH0sDQogICAgLy8g5L+d5a2Y5YmN77yM5aSE55CG5aW9c3ViVGFiQ29uZmlnIOihqOagvCAtPiBqc+WvueixoQ0KICAgIGJlZm9yZVNhdmUoKSB7DQogICAgICBsZXQgc3ViVGFiQ29uZmlnID0gew0KICAgICAgICBjaGFuZ2VCdG5zOiB0cnVlLA0KICAgICAgICBidXR0b25zOiBbXSwNCiAgICAgICAgY3VyQnV0dG9uOiB7fSwNCiAgICAgICAgYnV0dG9uc0luZm86IHt9LA0KICAgICAgICBtZXRob2RzOiB7DQogICAgICAgICAgYnNUb29sYmFyQ2xpY2tFdmVudDogJycNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy8g5aSE55CG6aG1562+DQogICAgICBjb25zdCB7IGZ1bGxEYXRhOiB0YWJlbERhdGExIH0gPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuZ2V0VGFibGVEYXRhKCkNCiAgICAgIGxldCBidXR0b25zRGF0YSA9IHRoaXMuZGVlcENvcHkodGFiZWxEYXRhMSkNCiAgICAgIGJ1dHRvbnNEYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGlmIChpdGVtLm9wdGlvbnMpIHsNCiAgICAgICAgICBpdGVtLm9wdGlvbnMgPSBpdGVtLm9wdGlvbnMuc3BsaXQoJysnKS5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICByZXR1cm4geyBsYWJlbDogaXRlbS5zcGxpdCgnIycpWzFdLCBjb2RlOiBpdGVtLnNwbGl0KCcjJylbMF0gfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICBzdWJUYWJDb25maWcuYnV0dG9ucyA9IHRoaXMuY2xlYXJEYXRhUmVuZGVyRmllbGQoYnV0dG9uc0RhdGEpDQogICAgICAvLyDlpITnkIbnrKzkuIDkuKrpgInmi6npobXnrb4NCiAgICAgIGlmIChzdWJUYWJDb25maWcuYnV0dG9uc1swXS50eXBlICYmIHN1YlRhYkNvbmZpZy5idXR0b25zWzBdLnR5cGUgPT09ICdzZWxlY3QnKSB7DQogICAgICAgIGxldCBjdXJCdXR0b24gPSB0aGlzLmRlZXBDb3B5KHN1YlRhYkNvbmZpZy5idXR0b25zWzBdKQ0KICAgICAgICBpZiAoY3VyQnV0dG9uLm9wdGlvbnMpIHsNCiAgICAgICAgICBjdXJCdXR0b24uY3VyVmFsdWUgPSBjdXJCdXR0b24ub3B0aW9uc1swXS5jb2RlDQogICAgICAgIH0NCiAgICAgICAgZGVsZXRlIGN1ckJ1dHRvblsnb3B0aW9ucyddDQogICAgICAgIGRlbGV0ZSBjdXJCdXR0b25bJ19YSUQnXQ0KICAgICAgICBzdWJUYWJDb25maWcuY3VyQnV0dG9uID0gY3VyQnV0dG9uDQogICAgICB9IGVsc2Ugew0KICAgICAgICBzdWJUYWJDb25maWcuY3VyQnV0dG9uID0gc3ViVGFiQ29uZmlnLmJ1dHRvbnNbMF0NCiAgICAgIH0NCiAgICAgIC8vIOWkhOeQhuaMiemSrue7hA0KICAgICAgY29uc3QgeyBmdWxsRGF0YTogdGFiZWxEYXRhMiB9ID0gdGhpcy4kcmVmcy5ic1RhYmxlUmVmMi5nZXRUYWJsZURhdGEoKQ0KICAgICAgbGV0IGJ1dHRvbnNJbmZvRGF0YSA9IHRoaXMuZGVlcENvcHkodGFiZWxEYXRhMikNCiAgICAgIGxldCBidXR0b25zSW5mbyA9IHt9DQogICAgICBidXR0b25zSW5mb0RhdGEuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0uY3B0TGlzdCkgew0KICAgICAgICAgIGl0ZW0ucGFyYW1zLmNwdExpc3QgPSBpdGVtLmNwdExpc3Quc3BsaXQoJysnKS5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICByZXR1cm4geyBjcHROYW1lOiBpdGVtLnNwbGl0KCcjJylbMF0sIGxhYmVsOiBpdGVtLnNwbGl0KCcjJylbMV0gfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgZGVsZXRlIGl0ZW1bJ2NwdExpc3QnXQ0KICAgICAgICB9DQogICAgICAgIGlmICghYnV0dG9uc0luZm9baXRlbS5wYXJlbnRDb2RlXSkgew0KICAgICAgICAgIGJ1dHRvbnNJbmZvW2l0ZW0ucGFyZW50Q29kZV0gPSBbXQ0KICAgICAgICAgIGJ1dHRvbnNJbmZvW2l0ZW0ucGFyZW50Q29kZV0ucHVzaCh0aGlzLmNsZWFySXRlbShpdGVtKSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBidXR0b25zSW5mb1tpdGVtLnBhcmVudENvZGVdLnB1c2godGhpcy5jbGVhckl0ZW0oaXRlbSkpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICBzdWJUYWJDb25maWcuYnV0dG9uc0luZm8gPSBidXR0b25zSW5mbw0KICAgICAgcmV0dXJuIHN1YlRhYkNvbmZpZw0KICAgIH0sDQogICAgY2xlYXJJdGVtKGRhdGEpIHsNCiAgICAgIGZvciAobGV0IGtleSBpbiBkYXRhKSB7DQogICAgICAgIGlmIChrZXkuaW5kZXhPZignX18nKSA+PSAwKSB7DQogICAgICAgICAgZGVsZXRlIGRhdGFba2V5XQ0KICAgICAgICB9DQogICAgICAgIGlmIChkYXRhWydzdGF0dXMnXSA9PT0gJycpIHsNCiAgICAgICAgICBkZWxldGUgZGF0YVsnc3RhdHVzJ10NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgZGVsZXRlIGRhdGFbJ3BhcmVudENvZGUnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ2NwdExpc3QnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ19YSUQnXQ0KICAgICAgcmV0dXJuIGRhdGENCiAgICB9LA0KICAgIGpzb25TdHJpbmdpZnkoY29sdW1ucykgew0KICAgICAgLy8g5a+56LGh6L2s5o2i5oiQanNvbuWtl+espuS4sg0KICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGNvbHVtbnMsIGZ1bmN0aW9uKGtleSwgdmFsKSB7DQogICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7DQogICAgICAgICAgcmV0dXJuIHZhbCArICcnDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHZhbA0KICAgICAgfSkNCiAgICB9LA0KICAgIG9uQWRkUm93Q2xpY2sxKCkgew0KICAgICAgdGhpcy4kcmVmcy5ic1RhYmxlUmVmLmluc2VydFJvd0RhdGEoKQ0KICAgIH0sDQogICAgb25EZWxldGVSb3dDbGljazEoKSB7DQogICAgICB0aGlzLiRyZWZzLmJzVGFibGVSZWYuZGVsZXRlUm93RGF0YSgpDQogICAgfSwNCiAgICBvbkFkZFJvd0NsaWNrMigpIHsNCiAgICAgIHRoaXMuJHJlZnMuYnNUYWJsZVJlZjIuaW5zZXJ0Um93RGF0YSgpDQogICAgfSwNCiAgICBvbkRlbGV0ZVJvd0NsaWNrMigpIHsNCiAgICAgIHRoaXMuJHJlZnMuYnNUYWJsZVJlZjIuZGVsZXRlUm93RGF0YSgpDQogICAgfSwNCiAgICBnZXRTYXZlUGFyYW1zKG9iaikgew0KICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyAuLi50aGlzLnBhcmFtc0NwIH0sIHsgaXRlbXNDb25maWc6IFtdLCBmb3JtQ29uZmlnOiBbXSwgZ2xvYmFsQ29uZmlnOiB7fSB9LCBvYmopDQogICAgfSwNCiAgICBzYXZlVGFibGVDb25mKHRhYmxlQ29uZlN0cikgew0KICAgICAgLy8g5L+d5a2Y6KGo5qC86YWN572uDQogICAgICBsZXQgc2VsZiA9IHRoaXMNCiAgICAgIHRoaXMuJGh0dHBbc2VsZi5wYXJhbXMub3B0aW9uVHlwZSA9PT0gJ2FkZCcgPyAncG9zdCcgOiAncHV0J10oJ21wLWItcGVybS1zZXJ2aWNlL3YxL3RhYmxlY29uZicsIHRoaXMuZ2V0U2F2ZVBhcmFtcyh7DQogICAgICAgIGNvbmZpZ3VyZTogdGFibGVDb25mU3RyDQogICAgICB9KSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHNlbGYuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgc2VsZi4kZW1pdCgnY2xvc2VDYWxsYmFjaycpDQogICAgICAgICAgaWYgKHJlcy5yc2NvZGUgPT09ICcxMDAwMDAnKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgICBtZXNzYWdlOiBzZWxmLnBhcmFtcy5vcHRpb25UeXBlID09PSAnYWRkJyA/ICfmlbDmja7mlrDlop7miJDlip8nIDogJ+aVsOaNruS/neWtmOaIkOWKnycsDQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcikNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIG9uU2F2ZUNsaWNrKCkgew0KICAgICAgbGV0IHN1YlRhYkNvbmZpZyA9IHRoaXMuYmVmb3JlU2F2ZSgpDQogICAgICAvLyDlsIZqc29u6L2s5oiQ5a+56LGhDQogICAgICB0aGlzLnBhcmFtc0NwLmNvbmZpZ3VyZSA9IHRoaXMuanNvblBhcnNlKA0KICAgICAgICB0aGlzLnBhcmFtc0NwLmNvbmZpZ3VyZQ0KICAgICAgKQ0KICAgICAgdGhpcy5wYXJhbXNDcC5jb25maWd1cmUuc3ViVGFiQ29uZmlnID0gc3ViVGFiQ29uZmlnDQogICAgICAvLyDkv53lrZjngrnlh7vkuovku7YNCiAgICAgIGNvbnN0IHsgZnVsbERhdGEgfSA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5nZXRUYWJsZURhdGEoKQ0KICAgICAgaWYgKGZ1bGxEYXRhLmxlbmd0aCkgew0KICAgICAgICB0aGlzLnNhdmVUYWJsZUNvbmYoDQogICAgICAgICAgdGhpcy5qc29uU3RyaW5naWZ5KHRoaXMucGFyYW1zQ3AuY29uZmlndXJlKQ0KICAgICAgICApDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogJ+ayoeacieaVsOaNruWPr+S/neWtmO+8jOivt+mHjeaWsOW9leWFpe+8gScsDQogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBhZGRUYWJsZUNvbmYodGFibGVDb25mU3RyKSB7DQogICAgICAvLyDkv53lrZjooajmoLzphY3nva4NCiAgICAgIGxldCBzZWxmID0gdGhpcw0KICAgICAgdGhpcy4kaHR0cA0KICAgICAgICAucG9zdCgnbXAtYi1wZXJtLXNlcnZpY2UvdjEvdGFibGVjb25mJywgew0KICAgICAgICAgIGNvbmZpZ3VyZTogdGFibGVDb25mU3RyLA0KICAgICAgICAgIC8vIG1lbnVndWlkOiBzZWxmLnBhcmFtcy5tZW51Z3VpZCwNCiAgICAgICAgICAvLyB0eXBlOiBzZWxmLnBhcmFtcy50eXBlLA0KICAgICAgICAgIC8vIGlkOiBzZWxmLnBhcmFtcy5pZA0KICAgICAgICAgIHR5cGU6ICd0YWJsZUNvbmYnLA0KICAgICAgICAgIGlkOiBzZWxmLiRUb29sRm4udXRpbEZuLmdldFV1aWQoKSwNCiAgICAgICAgICBuYW1lOiAndGVzdERhdGEnLA0KICAgICAgICAgIG1lbnVndWlkOiAnMTIzNDU2Jw0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgaWYgKHJlcy5yc2NvZGUgPT09ICcxMDAwMDAnKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgICBtZXNzYWdlOiAn5pWw5o2u5L+d5a2Y5oiQ5YqfJywNCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgYXV0b0FkZE1pc3NpbmdUdHJpYnV0ZXMoY29uZmlnLCBkYXRhKSB7DQogICAgICAvLyDoh6rliqjooaXpvZDmiYDmnInnvLrlpLHlsZ7mgKcNCiAgICAgIGRhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgY29uZmlnLmZvckVhY2goKGNvbHVtbiwgY29sdW1uSW5kZXgpID0+IHsNCiAgICAgICAgICBpZiAoY29sdW1uLmZpZWxkKSB7DQogICAgICAgICAgICBpdGVtW2NvbHVtbi5maWVsZF0gPSBpdGVtW2NvbHVtbi5maWVsZF0gPT09IHVuZGVmaW5lZCB8fCBpdGVtW2NvbHVtbi5maWVsZF0gPT09IG51bGwgPyAnJyA6IGl0ZW1bY29sdW1uLmZpZWxkXQ0KICAgICAgICAgICAgaWYgKGNvbHVtbi5maWVsZC5pbmRleE9mKCdwcm9wcycpID49IDApIHsNCiAgICAgICAgICAgICAgaXRlbVtjb2x1bW4uZmllbGRdID0gaXRlbVtjb2x1bW4uZmllbGRdIHx8IHt9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICAgIHJldHVybiBkYXRhDQogICAgfSwNCiAgICBjbGVhckRhdGFSZW5kZXJGaWVsZChkYXRhKSB7DQogICAgICAvLyDliKDpmaR2aWV3U29ydOWtl+autQ0KICAgICAgbGV0IHNlbGYgPSB0aGlzDQogICAgICByZXR1cm4gZGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgIGxldCBpdGVtTiA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pDQogICAgICAgIE9iamVjdC5rZXlzKGl0ZW1OKS5mb3JFYWNoKChrZXksIGtpKSA9PiB7DQogICAgICAgICAgaWYgKGtleS5pbmRleE9mKCdfXycpID49IDApIHsNCiAgICAgICAgICAgIGRlbGV0ZSBpdGVtTltrZXldDQogICAgICAgICAgfQ0KICAgICAgICAgIGRlbGV0ZSBpdGVtTlsnaW5zZXJ0TWFyayddDQogICAgICAgICAgZGVsZXRlIGl0ZW1OWydkYXRlJ10NCiAgICAgICAgICBkZWxldGUgaXRlbU5bJ2lzTmV3J10NCiAgICAgICAgICBkZWxldGUgaXRlbU5bJ19YSUQnXQ0KICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW1OLmNoaWxkcmVuKSAmJiBpdGVtTi5jaGlsZHJlbi5sZW5ndGgpIHsNCiAgICAgICAgICAgIGl0ZW1OLmNoaWxkcmVuID0gc2VsZi5jbGVhckRhdGFSZW5kZXJGaWVsZChpdGVtTi5jaGlsZHJlbikNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIHJldHVybiBpdGVtTg0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFB1cmVDb25maWdEYXRhKGRhdGEpIHsNCiAgICAgIGRlbGV0ZSBkYXRhWydpdGVtc0NvbmZpZyddDQogICAgICBkZWxldGUgZGF0YVsnc3ViVGFiQ29uZmlnJ10NCiAgICAgIGRlbGV0ZSBkYXRhWydnbG9iYWxDb25maWcnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ3BhZ2VDb25maWcnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ2VkaXRDb25maWcnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ2VkaXRSdWxlcyddDQogICAgICBkZWxldGUgZGF0YVsnZm9vdGVyQ29uZmlnJ10NCiAgICAgIGRlbGV0ZSBkYXRhWydkYXRhQ29uZmlnJ10NCiAgICAgIGRlbGV0ZSBkYXRhWydpdGVtc0NvbmZpZ05lc3QnXQ0KICAgICAgZGVsZXRlIGRhdGFbJ19YSUQnXQ0KICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7DQogICAgICAgIGlmIChrZXkuaW5kZXhPZignX18nKSA+PSAwKSB7DQogICAgICAgICAgZGVsZXRlIGRhdGFba2V5XQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIGRhdGENCiAgICB9LA0KICAgIGluaXQoKSB7DQogICAgICB0aGlzLmZvcm1Db25maWdEYXRhMSA9IHRoaXMuY2hhbmdlT3B0aW9ucyh0aGlzLnBhcmFtcy5zdWJUYWJDb25maWcuYnV0dG9ucykNCiAgICAgIHRoaXMuZm9ybUNvbmZpZ0RhdGEyID0gdGhpcy5jaGFuZ2VCdXR0b25zSW5mbyh0aGlzLnBhcmFtcy5zdWJUYWJDb25maWcuYnV0dG9uc0luZm8pDQogICAgICB0aGlzLnBhcmFtc0NwID0gdGhpcy5nZXRQdXJlQ29uZmlnRGF0YSh0aGlzLmRlZXBDb3B5KHRoaXMucGFyYW1zKSkNCiAgICAgIHRoaXMuaWZSZW5kZXJGb3JtQ29uZlRhYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy5pZlJlbmRlckZvcm1Db25mVGFibGUgPSB0cnVlDQogICAgICB9KQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHt9LA0KICB3YXRjaDogew0KICAgIGRpYWxvZ1Zpc2libGU6IHsNCiAgICAgIGhhbmRsZXIobmV3dmFsKSB7DQogICAgICAgIGlmIChuZXd2YWwpIHsNCiAgICAgICAgICB0aGlzLmluaXQoKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpkaWFsb2dWaXNpYmxlJywgbmV3dmFsKQ0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9LA0KICAgIHBhcmFtczogew0KICAgICAgaGFuZGxlcihuZXd2YWwpIHsNCiAgICAgICAgdGhpcy5wYXJhbXNDcCA9IHRoaXMuZ2V0UHVyZUNvbmZpZ0RhdGEodGhpcy5wYXJhbXMpDQogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWdQYXJhbXMsIHRoaXMucGFyYW1zQ3ApDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["SubTabConfigModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SubTabConfigModal.vue","sourceRoot":"src/views/main/dynamicTableSetting","sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"dialogVisible\"\r\n    show-zoom\r\n    title=\"当前选中表表单配置\"\r\n    width=\"90%\"\r\n    height=\"90%\"\r\n    :position=\"{ top: '8%', left: '5%' }\"\r\n    resize\r\n    remember\r\n    class=\"conf-modal\"\r\n    transfer\r\n  >\r\n    <div class=\"height-all\">\r\n      <div class=\"main-modulebox-tabcon ofa pdl10 pdr10\" style=\"height: 41%;margin-bottom:10px;\">\r\n        <BsTable\r\n          v-if=\"ifRenderFormConfTable\"\r\n          ref=\"bsTableRef\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"tableColumnsConfig1\"\r\n          :table-data=\"formConfigData1\"\r\n          :edit-config=\"editConfig\"\r\n          :toolbar-config=\"toolbarConfig\"\r\n          :pager-config=\"false\"\r\n          @cellClick=\"onCellClick\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left tl\">\r\n              <vxe-button size=\"medium\" status=\"primary\" content=\"录入配置项\" @click=\"onEnterConfig\" />\r\n              <vxe-button size=\"medium\" status=\"primary\" content=\"新增行\" @click=\"onAddRowClick1\" />\r\n              <vxe-button size=\"medium\" status=\"primary\" content=\"删除行\" @click=\"onDeleteRowClick1\" />\r\n            </div>\r\n          </template>\r\n          <template v-slot:toolbar-custom-slot>\r\n            <div class=\"toolbar-slot-custom-slot fn-inline mgr15\">\r\n              <vxe-button size=\"medium\" status=\"primary\" content=\"保存\" @click=\"onSaveClick\" />\r\n            </div>\r\n          </template>\r\n        </BsTable>\r\n      </div>\r\n      <div class=\"main-modulebox-tabcon ofa pdl10 pdr10\" style=\"height: 50%\">\r\n        <BsTable\r\n          v-if=\"ifRenderFormConfTable\"\r\n          ref=\"bsTableRef2\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"tableColumnsConfig2\"\r\n          :table-data=\"formConfigData2\"\r\n          :edit-config=\"editConfig\"\r\n          :toolbar-config=\"toolbarConfig\"\r\n          :pager-config=\"false\"\r\n          @cellClick=\"onCellClick\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left tl\">\r\n              <vxe-button size=\"medium\" status=\"primary\" content=\"新增行\" @click=\"onAddRowClick2\" />\r\n              <vxe-button size=\"medium\" status=\"primary\" content=\"删除行\" @click=\"onDeleteRowClick2\" />\r\n            </div>\r\n          </template>\r\n        </BsTable>\r\n      </div>\r\n    </div>\r\n    <EnterItemConfigModal :item-visible.sync=\"itemVisible\" :config-params=\"configParams\" @onItemClose=\"dialogClose\" />\r\n  </vxe-modal>\r\n</template>\r\n<script>\r\nimport getFormConfData from './formConf.js'\r\nimport EnterItemConfigModal from './EnterItemConfigModal'\r\nexport default {\r\n  name: 'FormConfModal',\r\n  components: { EnterItemConfigModal },\r\n  props: {\r\n    dialogVisible: {\r\n      type: Boolean,\r\n      default () {\r\n        return false\r\n      }\r\n    },\r\n    params: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      ifRenderFormConfTable: true,\r\n      toolbarConfig: {\r\n        disabledMoneyConversion: false,\r\n        ...getFormConfData('subTabConf', 'toolbarConfig')\r\n      },\r\n      tableConfig: getFormConfData('subTabConf', 'tableConfig'),\r\n      tableColumnsConfig1: getFormConfData('subTabConf', 'buttonsItemsConfig'),\r\n      tableColumnsConfig2: getFormConfData('subTabConf', 'buttonsInfoItemsConfig'),\r\n      formConfigData1: getFormConfData('subTabConf', 'defaultItemsDatas'),\r\n      formConfigData2: getFormConfData('subTabConf', 'defaultItemsDatas'),\r\n      itemVisible: false,\r\n      configParams: {},\r\n      paramsCp: {}\r\n    }\r\n  },\r\n  methods: {\r\n    onEnterConfig() {\r\n      let subTabConfig = this.beforeSave()\r\n      // 将json转成对象\r\n      let paramsCopy = this.deepCopy(this.paramsCp)\r\n      paramsCopy.configure = this.jsonParse(\r\n        paramsCopy.configure\r\n      )\r\n      paramsCopy.configure.subTabConfig = subTabConfig\r\n      this.configParams = this.deepCopy(paramsCopy)\r\n      this.itemVisible = true\r\n    },\r\n    onCellClick(obj, context, e) {\r\n      let key = obj.column.property\r\n      if (key === 'select_') {\r\n        if (obj.row.title === '') {\r\n          this.$message.warning('请先选择要素')\r\n        } else {\r\n          this.tableColumnsConfig[1].editRender.props.config.disabled = false\r\n          this.tableColumnsConfig[1].editRender.props.queryparams.elementCode = obj.row.title\r\n        }\r\n      }\r\n    },\r\n    dialogClose() {\r\n      this.itemVisible = false\r\n      this.dialogVisible = false\r\n      this.$emit('closeCallback')\r\n    },\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    jsonParse(str) {\r\n      // json字符串转换成对象\r\n      return JSON.parse(str, function (k, v) {\r\n        try {\r\n          if (\r\n            v.indexOf &&\r\n            (v.indexOf('function') > -1 || v.indexOf('=>') > -1)\r\n          ) {\r\n            // return eval('(function(){return ' + v + ' })()')\r\n            // eslint-disable-next-line no-new-func\r\n            let func = new Function('return ' + v)\r\n            return func()\r\n          }\r\n          return v\r\n        } catch (e) {\r\n          return v\r\n        }\r\n      })\r\n    },\r\n    transformItemsDataToNest(columns) {\r\n      // columns转化为vxe-table columns数据结构\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          if (column['renderName']) {\r\n            column['itemRender'] = {\r\n              name: column.renderName, // 渲染器名,\r\n              options: ((arg) => {\r\n                if (typeof arg === 'object') {\r\n                  return self.deepCopy(arg)\r\n                } else if (typeof arg === 'string') {\r\n                  return arg ? arg.split('+').map((item, index) => {\r\n                    return { value: item.split('#')[0], label: item.split('#')[1] }\r\n                  }) : []\r\n                } else {\r\n                  return arg\r\n                }\r\n              })(column.options), // 下拉数据源\r\n              defaultValue: column.defaultValue, // 默认值\r\n              props: column.props // 额外参数\r\n            }\r\n          } else {\r\n            delete column['itemRender']\r\n          }\r\n          delete column._XID\r\n          delete column.renderType\r\n          delete column.renderName\r\n          delete column.options\r\n          delete column.props\r\n          delete column.defaultValue\r\n          delete self.deepCopy(column.props)\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    // options 处理成 1#内容+2#内容\r\n    changeOptions(data) {\r\n      data.forEach(item => {\r\n        // 如果是options\r\n        if (item.options) {\r\n          let str = ''\r\n          item.options.forEach(item2 => {\r\n            str += item2['code'] + '#' + item2['label'] + '+'\r\n          })\r\n          item.options = str.substring(0, str.length - 1)\r\n        }\r\n      })\r\n      return data\r\n    },\r\n    // 处理cpt，处理按钮组会调用\r\n    changeCptList(data) {\r\n      let keyArr = []\r\n      // 获取数组的key值\r\n      for (let key in data[0]) {\r\n        keyArr.push(key)\r\n      }\r\n      let str = ''\r\n      data.forEach(item => {\r\n        // 如果没有options，直接处理\r\n        str += item[keyArr[0]] + '#' + item[keyArr[1]] + '+'\r\n      })\r\n      str = str.substring(0, str.length - 1)\r\n      return str\r\n    },\r\n    // 处理按钮组\r\n    changeButtonsInfo(data) {\r\n      let arr = []\r\n      for (let key in data) {\r\n        data[key].forEach(item => {\r\n          let childItem = item\r\n          // 给每一项加个父页签\r\n          childItem.parentCode = key\r\n          // 如果有cpt数组 单独处理\r\n          if (item.params && item.params.cptList) {\r\n            let cptArr = this.changeCptList(item.params.cptList)\r\n            childItem.cptList = cptArr\r\n          }\r\n          arr.push(childItem)\r\n        })\r\n      }\r\n      return arr\r\n    },\r\n    // 保存前，处理好subTabConfig 表格 -> js对象\r\n    beforeSave() {\r\n      let subTabConfig = {\r\n        changeBtns: true,\r\n        buttons: [],\r\n        curButton: {},\r\n        buttonsInfo: {},\r\n        methods: {\r\n          bsToolbarClickEvent: ''\r\n        }\r\n      }\r\n      // 处理页签\r\n      const { fullData: tabelData1 } = this.$refs.bsTableRef.getTableData()\r\n      let buttonsData = this.deepCopy(tabelData1)\r\n      buttonsData.forEach(item => {\r\n        if (item.options) {\r\n          item.options = item.options.split('+').map(item => {\r\n            return { label: item.split('#')[1], code: item.split('#')[0] }\r\n          })\r\n        }\r\n      })\r\n      subTabConfig.buttons = this.clearDataRenderField(buttonsData)\r\n      // 处理第一个选择页签\r\n      if (subTabConfig.buttons[0].type && subTabConfig.buttons[0].type === 'select') {\r\n        let curButton = this.deepCopy(subTabConfig.buttons[0])\r\n        if (curButton.options) {\r\n          curButton.curValue = curButton.options[0].code\r\n        }\r\n        delete curButton['options']\r\n        delete curButton['_XID']\r\n        subTabConfig.curButton = curButton\r\n      } else {\r\n        subTabConfig.curButton = subTabConfig.buttons[0]\r\n      }\r\n      // 处理按钮组\r\n      const { fullData: tabelData2 } = this.$refs.bsTableRef2.getTableData()\r\n      let buttonsInfoData = this.deepCopy(tabelData2)\r\n      let buttonsInfo = {}\r\n      buttonsInfoData.forEach(item => {\r\n        if (item.cptList) {\r\n          item.params.cptList = item.cptList.split('+').map(item => {\r\n            return { cptName: item.split('#')[0], label: item.split('#')[1] }\r\n          })\r\n          delete item['cptList']\r\n        }\r\n        if (!buttonsInfo[item.parentCode]) {\r\n          buttonsInfo[item.parentCode] = []\r\n          buttonsInfo[item.parentCode].push(this.clearItem(item))\r\n        } else {\r\n          buttonsInfo[item.parentCode].push(this.clearItem(item))\r\n        }\r\n      })\r\n      subTabConfig.buttonsInfo = buttonsInfo\r\n      return subTabConfig\r\n    },\r\n    clearItem(data) {\r\n      for (let key in data) {\r\n        if (key.indexOf('__') >= 0) {\r\n          delete data[key]\r\n        }\r\n        if (data['status'] === '') {\r\n          delete data['status']\r\n        }\r\n      }\r\n      delete data['parentCode']\r\n      delete data['cptList']\r\n      delete data['_XID']\r\n      return data\r\n    },\r\n    jsonStringify(columns) {\r\n      // 对象转换成json字符串\r\n      return JSON.stringify(columns, function(key, val) {\r\n        if (typeof val === 'function') {\r\n          return val + ''\r\n        }\r\n        return val\r\n      })\r\n    },\r\n    onAddRowClick1() {\r\n      this.$refs.bsTableRef.insertRowData()\r\n    },\r\n    onDeleteRowClick1() {\r\n      this.$refs.bsTableRef.deleteRowData()\r\n    },\r\n    onAddRowClick2() {\r\n      this.$refs.bsTableRef2.insertRowData()\r\n    },\r\n    onDeleteRowClick2() {\r\n      this.$refs.bsTableRef2.deleteRowData()\r\n    },\r\n    getSaveParams(obj) {\r\n      return Object.assign({ ...this.paramsCp }, { itemsConfig: [], formConfig: [], globalConfig: {} }, obj)\r\n    },\r\n    saveTableConf(tableConfStr) {\r\n      // 保存表格配置\r\n      let self = this\r\n      this.$http[self.params.optionType === 'add' ? 'post' : 'put']('mp-b-perm-service/v1/tableconf', this.getSaveParams({\r\n        configure: tableConfStr\r\n      }))\r\n        .then((res) => {\r\n          self.dialogVisible = false\r\n          self.$emit('closeCallback')\r\n          if (res.rscode === '100000') {\r\n            this.$message({\r\n              showClose: true,\r\n              message: self.params.optionType === 'add' ? '数据新增成功' : '数据保存成功',\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    },\r\n    onSaveClick() {\r\n      let subTabConfig = this.beforeSave()\r\n      // 将json转成对象\r\n      this.paramsCp.configure = this.jsonParse(\r\n        this.paramsCp.configure\r\n      )\r\n      this.paramsCp.configure.subTabConfig = subTabConfig\r\n      // 保存点击事件\r\n      const { fullData } = this.$refs.bsTableRef.getTableData()\r\n      if (fullData.length) {\r\n        this.saveTableConf(\r\n          this.jsonStringify(this.paramsCp.configure)\r\n        )\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '没有数据可保存，请重新录入！',\r\n          type: 'success'\r\n        })\r\n      }\r\n    },\r\n    addTableConf(tableConfStr) {\r\n      // 保存表格配置\r\n      let self = this\r\n      this.$http\r\n        .post('mp-b-perm-service/v1/tableconf', {\r\n          configure: tableConfStr,\r\n          // menuguid: self.params.menuguid,\r\n          // type: self.params.type,\r\n          // id: self.params.id\r\n          type: 'tableConf',\r\n          id: self.$ToolFn.utilFn.getUuid(),\r\n          name: 'testData',\r\n          menuguid: '123456'\r\n        })\r\n        .then((res) => {\r\n          if (res.rscode === '100000') {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '数据保存成功',\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    },\r\n    autoAddMissingTtributes(config, data) {\r\n      // 自动补齐所有缺失属性\r\n      data.forEach((item, index) => {\r\n        config.forEach((column, columnIndex) => {\r\n          if (column.field) {\r\n            item[column.field] = item[column.field] === undefined || item[column.field] === null ? '' : item[column.field]\r\n            if (column.field.indexOf('props') >= 0) {\r\n              item[column.field] = item[column.field] || {}\r\n            }\r\n          }\r\n        })\r\n      })\r\n      return data\r\n    },\r\n    clearDataRenderField(data) {\r\n      // 删除viewSort字段\r\n      let self = this\r\n      return data.map((item, index) => {\r\n        let itemN = Object.assign({}, item)\r\n        Object.keys(itemN).forEach((key, ki) => {\r\n          if (key.indexOf('__') >= 0) {\r\n            delete itemN[key]\r\n          }\r\n          delete itemN['insertMark']\r\n          delete itemN['date']\r\n          delete itemN['isNew']\r\n          delete itemN['_XID']\r\n          if (Array.isArray(itemN.children) && itemN.children.length) {\r\n            itemN.children = self.clearDataRenderField(itemN.children)\r\n          }\r\n        })\r\n        return itemN\r\n      })\r\n    },\r\n    getPureConfigData(data) {\r\n      delete data['itemsConfig']\r\n      delete data['subTabConfig']\r\n      delete data['globalConfig']\r\n      delete data['pageConfig']\r\n      delete data['editConfig']\r\n      delete data['editRules']\r\n      delete data['footerConfig']\r\n      delete data['dataConfig']\r\n      delete data['itemsConfigNest']\r\n      delete data['_XID']\r\n      Object.keys(data).forEach((key) => {\r\n        if (key.indexOf('__') >= 0) {\r\n          delete data[key]\r\n        }\r\n      })\r\n      return data\r\n    },\r\n    init() {\r\n      this.formConfigData1 = this.changeOptions(this.params.subTabConfig.buttons)\r\n      this.formConfigData2 = this.changeButtonsInfo(this.params.subTabConfig.buttonsInfo)\r\n      this.paramsCp = this.getPureConfigData(this.deepCopy(this.params))\r\n      this.ifRenderFormConfTable = false\r\n      this.$nextTick(() => {\r\n        this.ifRenderFormConfTable = true\r\n      })\r\n    }\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n    dialogVisible: {\r\n      handler(newval) {\r\n        if (newval) {\r\n          this.init()\r\n        }\r\n        this.$emit('update:dialogVisible', newval)\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    params: {\r\n      handler(newval) {\r\n        this.paramsCp = this.getPureConfigData(this.params)\r\n        Object.assign(this.configParams, this.paramsCp)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n  .conf-modal {\r\n    .vxe-modal--content {\r\n      height: 100%;\r\n    }\r\n  }\r\n</style>\r\n"]}]}