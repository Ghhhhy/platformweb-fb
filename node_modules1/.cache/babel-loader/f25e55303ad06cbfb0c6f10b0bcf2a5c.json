{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\tool\\eval\\operator.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\tool\\eval\\operator.js","mtime":1694505521962},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZXNsaW50LWRpc2FibGUgKi8KCi8vIOW9k+aWsOeahOi/kOeul+espuazqOWGjOaXtgp2YXIgb3BlcmF0b3JMaXN0ZW5lciA9IFtdOwovLyDov5DnrpfnrKYKdmFyIG9wZXJhdG9yTGlzdCA9IFtdOwovKioNCiAqIOi/kOeul+espuWNleWFg++8jOWFvOWuuWllOA0KICovCmZ1bmN0aW9uIE9wZXJhdG9yVW5pdChuYW1lLCBsZXZlbCwgZnVuKSB7CiAgdGhpcy5uYW1lID0gbmFtZTsKICB0aGlzLmxldmVsID0gbGV2ZWw7CiAgdGhpcy5mdW4gPSBmdW47Cn0KT3BlcmF0b3JVbml0LnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uICgpIHsKICBpZiAodGhpcy5uYW1lID09IG51bGwgfHwgdGhpcy5uYW1lLnRyaW0oKS5sZW5ndGggPT0gMCB8fCB0aGlzLmxldmVsIDwgMCB8fCB0aGlzLmZ1biA9PSBudWxsKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ+i/kOeul+espuajgOafpeWksei0pScpOwogIH0KfTsKT3BlcmF0b3JVbml0LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAoY2ZnKSB7CiAgdmFyIGtleXMgPSBbJ25hbWUnLCAnbGV2ZWwnLCAnZnVuJ107CiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoY2ZnW2FdICE9IG51bGwpIHsKICAgICAgdGhpc1thXSA9IGNmZ1thXTsKICAgIH0KICB9LmJpbmQodGhpcykpOwp9OwovKioNCiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVt5re75Yqg5Y2V5YWD5bm25LiU6L+Q6KGMDQogKi8KZnVuY3Rpb24gYWRkT3BlcmF0b3IoaXRlbSkgewogIGlmIChpdGVtIGluc3RhbmNlb2YgT3BlcmF0b3JVbml0KSB7CiAgICBpdGVtLmNoZWNrKCk7CiAgICBvcGVyYXRvckxpc3QucHVzaChpdGVtKTsKICAgIC8vIOinpuWPkQogICAgdmFyIG1hcCA9IHt9OwogICAgb3BlcmF0b3JMaXN0LmZvckVhY2goZnVuY3Rpb24gKGEpIHsKICAgICAgbWFwW2EubmFtZV0gPSBhOwogICAgfSk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wZXJhdG9yTGlzdGVuZXIubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKG9wZXJhdG9yTGlzdGVuZXJbaV0pIHsKICAgICAgICBvcGVyYXRvckxpc3RlbmVyW2ldKG9wZXJhdG9yTGlzdCwgbWFwKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuOwogIH0KICB0aHJvdyBpdGVtOwp9CmZ1bmN0aW9uIHJlZ2lzdGVyT3BlcmF0b3IoY2ZnKSB7CiAgaWYgKGNmZy5vcGVyYXRvciA9PSBudWxsKSB7CiAgICB0aHJvdyAnb3BlcmF0b3LlsZ7mgKfkuI3og73kuLpudWxsJzsKICB9CiAgLy8gY2ZnLm9wZXJhdG9yCiAgdmFyIHNyYyA9IG51bGw7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVyYXRvckxpc3QubGVuZ3RoOyBpKyspIHsKICAgIGlmIChvcGVyYXRvckxpc3RbaV0gJiYgb3BlcmF0b3JMaXN0W2ldLm5hbWUgPT0gY2ZnLm9wZXJhdG9yKSB7CiAgICAgIHNyYyA9IG9wZXJhdG9yTGlzdFtpXTsKICAgICAgc3JjLmNvcHlUbyhjZmcpOwogICAgfQogIH0KICBpZiAoIXNyYykgewogICAgYWRkT3BlcmF0b3IobmV3IE9wZXJhdG9yVW5pdChjZmcub3BlcmF0b3IsIGNmZy5sZXZlbCwgY2ZnLmZ1bikpOwogIH0KfQptb2R1bGUuZXhwb3J0cyA9IHsKICBvcGVyYXRvckxpc3RlbmVyOiBvcGVyYXRvckxpc3RlbmVyLAogIHJlZ2lzdGVyT3BlcmF0b3I6IHJlZ2lzdGVyT3BlcmF0b3IKfTs="},{"version":3,"names":["operatorListener","operatorList","OperatorUnit","name","level","fun","prototype","check","trim","length","Error","copyTo","cfg","keys","forEach","a","bind","addOperator","item","push","map","i","registerOperator","operator","src","module","exports"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/components/tool/eval/operator.js"],"sourcesContent":["/* eslint-disable */\r\n\r\n// 当新的运算符注册时\r\nconst operatorListener = []\r\n// 运算符\r\nvar operatorList = []\r\n/**\r\n * 运算符单元，兼容ie8\r\n */\r\nfunction OperatorUnit(name, level, fun) {\r\n  this.name = name\r\n  this.level = level\r\n  this.fun = fun\r\n}\r\nOperatorUnit.prototype.check = function() {\r\n  if (this.name == null || this.name.trim().length == 0 || this.level < 0 || this.fun == null) {\r\n    throw new Error('运算符检查失败')\r\n  }\r\n}\r\nOperatorUnit.prototype.copyTo = function(cfg) {\r\n  let keys = ['name', 'level', 'fun']\r\n  keys.forEach(function(a) {\r\n    if (cfg[a] != null) {\r\n      this[a] = cfg[a]\r\n    }\r\n  }.bind(this))\r\n}\r\n/**\r\n * @param {Object} item添加单元并且运行\r\n */\r\nfunction addOperator(item) {\r\n  if (item instanceof OperatorUnit) {\r\n    item.check()\r\n    operatorList.push(item)\r\n    // 触发\r\n    let map = {}\r\n    operatorList.forEach((a) => {\r\n      map[a.name] = a\r\n    })\r\n    for (let i = 0; i < operatorListener.length; i++) {\r\n      if (operatorListener[i]) {\r\n        operatorListener[i](operatorList, map)\r\n      }\r\n    }\r\n    return\r\n  }\r\n  throw item\r\n}\r\n\r\nfunction registerOperator(cfg) {\r\n  if (cfg.operator == null) {\r\n    throw 'operator属性不能为null'\r\n  }\r\n  // cfg.operator\r\n  let src = null\r\n  for (let i = 0; i < operatorList.length; i++) {\r\n    if (operatorList[i] && operatorList[i].name == cfg.operator) {\r\n      src = operatorList[i]\r\n      src.copyTo(cfg)\r\n    }\r\n  }\r\n  if (!src) {\r\n    addOperator(new OperatorUnit(cfg.operator, cfg.level, cfg.fun))\r\n  }\r\n}\r\nmodule.exports = {\r\n  operatorListener,\r\n  registerOperator\r\n}\r\n"],"mappings":"AAAA;;AAEA;AACA,IAAMA,gBAAgB,GAAG,EAAE;AAC3B;AACA,IAAIC,YAAY,GAAG,EAAE;AACrB;AACA;AACA;AACA,SAASC,YAAYA,CAACC,IAAI,EAAEC,KAAK,EAAEC,GAAG,EAAE;EACtC,IAAI,CAACF,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,KAAK,GAAGA,KAAK;EAClB,IAAI,CAACC,GAAG,GAAGA,GAAG;AAChB;AACAH,YAAY,CAACI,SAAS,CAACC,KAAK,GAAG,YAAW;EACxC,IAAI,IAAI,CAACJ,IAAI,IAAI,IAAI,IAAI,IAAI,CAACA,IAAI,CAACK,IAAI,CAAC,CAAC,CAACC,MAAM,IAAI,CAAC,IAAI,IAAI,CAACL,KAAK,GAAG,CAAC,IAAI,IAAI,CAACC,GAAG,IAAI,IAAI,EAAE;IAC3F,MAAM,IAAIK,KAAK,CAAC,SAAS,CAAC;EAC5B;AACF,CAAC;AACDR,YAAY,CAACI,SAAS,CAACK,MAAM,GAAG,UAASC,GAAG,EAAE;EAC5C,IAAIC,IAAI,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC;EACnCA,IAAI,CAACC,OAAO,CAAC,UAASC,CAAC,EAAE;IACvB,IAAIH,GAAG,CAACG,CAAC,CAAC,IAAI,IAAI,EAAE;MAClB,IAAI,CAACA,CAAC,CAAC,GAAGH,GAAG,CAACG,CAAC,CAAC;IAClB;EACF,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;AACf,CAAC;AACD;AACA;AACA;AACA,SAASC,WAAWA,CAACC,IAAI,EAAE;EACzB,IAAIA,IAAI,YAAYhB,YAAY,EAAE;IAChCgB,IAAI,CAACX,KAAK,CAAC,CAAC;IACZN,YAAY,CAACkB,IAAI,CAACD,IAAI,CAAC;IACvB;IACA,IAAIE,GAAG,GAAG,CAAC,CAAC;IACZnB,YAAY,CAACa,OAAO,CAAC,UAACC,CAAC,EAAK;MAC1BK,GAAG,CAACL,CAAC,CAACZ,IAAI,CAAC,GAAGY,CAAC;IACjB,CAAC,CAAC;IACF,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGrB,gBAAgB,CAACS,MAAM,EAAEY,CAAC,EAAE,EAAE;MAChD,IAAIrB,gBAAgB,CAACqB,CAAC,CAAC,EAAE;QACvBrB,gBAAgB,CAACqB,CAAC,CAAC,CAACpB,YAAY,EAAEmB,GAAG,CAAC;MACxC;IACF;IACA;EACF;EACA,MAAMF,IAAI;AACZ;AAEA,SAASI,gBAAgBA,CAACV,GAAG,EAAE;EAC7B,IAAIA,GAAG,CAACW,QAAQ,IAAI,IAAI,EAAE;IACxB,MAAM,mBAAmB;EAC3B;EACA;EACA,IAAIC,GAAG,GAAG,IAAI;EACd,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpB,YAAY,CAACQ,MAAM,EAAEY,CAAC,EAAE,EAAE;IAC5C,IAAIpB,YAAY,CAACoB,CAAC,CAAC,IAAIpB,YAAY,CAACoB,CAAC,CAAC,CAAClB,IAAI,IAAIS,GAAG,CAACW,QAAQ,EAAE;MAC3DC,GAAG,GAAGvB,YAAY,CAACoB,CAAC,CAAC;MACrBG,GAAG,CAACb,MAAM,CAACC,GAAG,CAAC;IACjB;EACF;EACA,IAAI,CAACY,GAAG,EAAE;IACRP,WAAW,CAAC,IAAIf,YAAY,CAACU,GAAG,CAACW,QAAQ,EAAEX,GAAG,CAACR,KAAK,EAAEQ,GAAG,CAACP,GAAG,CAAC,CAAC;EACjE;AACF;AACAoB,MAAM,CAACC,OAAO,GAAG;EACf1B,gBAAgB,EAAhBA,gBAAgB;EAChBsB,gBAAgB,EAAhBA;AACF,CAAC"}]}