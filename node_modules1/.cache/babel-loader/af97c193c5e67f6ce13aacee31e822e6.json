{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableBak\\tool\\find.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableBak\\tool\\find.js","mtime":1694505521616},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQp2YXIgRmluZFRleHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEZpbmRUZXh0KHZOb2RlKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmluZFRleHQpOwogICAgdGhpcy5vVGV4dCA9IHZOb2RlOwogICAgdGhpcy50ZW1wID0gJyc7CiAgfQogIF9jcmVhdGVDbGFzcyhGaW5kVGV4dCwgW3sKICAgIGtleTogImNoZWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVjayh2YWx1ZSkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB2YXIgaW5wdXQgPSB2YWx1ZTsKICAgICAgbWUuY2FuY2VsLm9uY2xpY2soKTsKICAgICAgaWYgKCFpbnB1dCkgewogICAgICAgIGFsZXJ0KCfor7fovpPlhaXlhbPplK7lrZchJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIG1lLnByZUNvbnRleHQgPSBtZS5vVGV4dC5pbm5lckhUTUw7CiAgICAgIHZhciByZXN1bHQgPSBtZS5nZXRSZXMobWUucHJlQ29udGV4dCwgaW5wdXQpOwogICAgICB2YXIgcmVzTWFwID0gcmVzdWx0LnJlc01hcDsKICAgICAgdmFyIHJlc0xvZyA9IHJlc3VsdC5yZXNMb2c7CiAgICAgIC8vIGxldCB0aW1lMSA9ICtuZXcgRGF0ZSgpOwogICAgICBtZS5tYWtlRmxhZyhyZXNNYXApOwogICAgICAvLyBjb25zb2xlLmxvZygnaGFzaOafpeaJvjogJyArICgrbmV3IERhdGUoKSAtIHRpbWUxKSArICdtcycpOwogICAgICB2YXIgb2JqID0ge307CiAgICAgIGZvciAodmFyIGtleSBpbiByZXNMb2cpIHsKICAgICAgICBpZiAocmVzTG9nLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgIG9ialtrZXldID0gcmVzTG9nW2tleV0ubnVtOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInRlc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRlc3QodmFsdWUpIHsKICAgICAgLy8g5q2j5YiZCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBpbnB1dCA9IHZhbHVlOwogICAgICBtZS5jYW5jZWwoKTsKICAgICAgaWYgKCFpbnB1dCkgewogICAgICAgIGFsZXJ0KCfor7fovpPlhaXlhbPplK7lrZchJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIGxldCB0aW1lMiA9ICtuZXcgRGF0ZSgpOwogICAgICBtZS5maW5kKGlucHV0KTsKICAgICAgLy8gY29uc29sZS5sb2coJ+ato+WImeafpeaJvjogJyArICgrbmV3IERhdGUoKSAtIHRpbWUyKSArICdtcycpOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbmNlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICBpZiAoIW1lLnByZUNvbnRleHQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbWUub1RleHQuaW5uZXJIVE1MID0gbWUucHJlQ29udGV4dDsKICAgIH0KICAgIC8vIOato+WImQogIH0sIHsKICAgIGtleTogImZpbmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmQoaW5wdXQpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgLy8gY29uc29sZS50aW1lKCdSZWdFeHAgdGltZScpOwogICAgICB2YXIga2V5d29yZHMgPSBpbnB1dC5tYXRjaCgvW14s77yMO10rL2cpOwogICAgICB2YXIgcGF0dCA9IGtleXdvcmRzLmpvaW4oJ3wnKTsKICAgICAgdmFyIHN0ciA9IG1lLm9UZXh0LmlubmVySFRNTDsKICAgICAgbWUucHJlQ29udGV4dCA9IG1lLm9UZXh0LmlubmVySFRNTDsKICAgICAgdmFyIGtleXdvcmRSZSA9IG5ldyBSZWdFeHAoJygnICsgcGF0dCArICcpJywgJ2cnKTsKICAgICAgbWUudGVtcCA9IHN0ci5yZXBsYWNlKGtleXdvcmRSZSwgJzxiIGNsYXNzPSJzdHJlc3MiPiQxPC9iPicpOwogICAgICAvLyBjb25zb2xlLnRpbWVFbmQoJ1JlZ0V4cCB0aW1lJyk7CiAgICAgIG1lLm9UZXh0LmlubmVySFRNTCA9IG1lLnRlbXA7CiAgICB9CiAgICAvLyBoYXNoCiAgfSwgewogICAga2V5OiAibWFrZUZsYWciLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VGbGFnKHJlc01hcCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICAvLyBjb25zb2xlLnRpbWUoJ2hhc2ggdGltZScpOwogICAgICB2YXIgbmV3Q29uID0gW107CiAgICAgIHZhciBwID0gMDsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNNYXAubGVuZ3RoOyBpKyspIHsKICAgICAgICBuZXdDb24ucHVzaChtZS5wcmVDb250ZXh0LnN1YnN0cmluZyhwLCByZXNNYXBbaV0uYmVnaW4pLCAnPGIgY2xhc3M9InN0cmVzcyI+JywgbWUucHJlQ29udGV4dC5zdWJzdHJpbmcocmVzTWFwW2ldLmJlZ2luLCBwID0gcmVzTWFwW2ldLmVuZCksICc8L2I+Jyk7CiAgICAgIH0KICAgICAgbmV3Q29uLnB1c2gobWUucHJlQ29udGV4dC5zdWJzdHJpbmcocCkpOwogICAgICAvLyBjb25zb2xlLnRpbWVFbmQoJ2hhc2ggdGltZScpOwogICAgICBtZS5vVGV4dC5pbm5lckhUTUwgPSBuZXdDb24uam9pbignJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAic0tleVRvS2V5cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc0tleVRvS2V5cyhzS2V5KSB7CiAgICAgIC8vIOaKiuWtl+espuS4suS7pe+8jCzliIblibLmiJDmlbDnu4QKICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJ1ss77yM77ybO10nKTsKICAgICAgcmV0dXJuIHNLZXkuc3BsaXQocmVnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYWtlVHJlZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZVRyZWUoc3RyS2V5cykgewogICAgICB2YXIgaGFzaCA9IHt9OwogICAgICB2YXIgaEJyYW5jaCA9IGhhc2g7CiAgICAgIHZhciBrZXlDaGFyOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0cktleXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cktleXNbal0ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGtleUNoYXIgPSBzdHJLZXlzW2pdLmNoYXJBdChpKTsKICAgICAgICAgIGhCcmFuY2ggPSBoQnJhbmNoLmhhc093blByb3BlcnR5KGtleUNoYXIpID8gaEJyYW5jaFtrZXlDaGFyXSA6IGhCcmFuY2hba2V5Q2hhcl0gPSB7fTsKICAgICAgICB9CiAgICAgICAgaEJyYW5jaC5lbmQgPSB0cnVlOwogICAgICAgIGhCcmFuY2ggPSBoYXNoOwogICAgICB9CiAgICAgIHJldHVybiBoYXNoOwogICAgfQogIH0sIHsKICAgIGtleTogInNlYXJjaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoKGNvbnRleHQsIGhhc2gpIHsKICAgICAgdmFyIGhBdHRyOwogICAgICB2YXIgcFN0YXJ0ID0gMDsKICAgICAgdmFyIHBFbmQ7CiAgICAgIHZhciBtYXRjaDsKICAgICAgdmFyIG1MZXR0ZXI7CiAgICAgIHZhciBtV29yZDsKICAgICAgdmFyIGFyck1hdGNoID0gW107CiAgICAgIHZhciBhcnJMZW5ndGggPSAwOwogICAgICB2YXIgd29yZExvZyA9IHt9OwogICAgICB3aGlsZSAocFN0YXJ0IDwgY29udGV4dC5sZW5ndGgpIHsKICAgICAgICAvLyDlm57muq/oh7PmoLnpg6gKICAgICAgICBoQXR0ciA9IGhhc2g7CiAgICAgICAgcEVuZCA9IHBTdGFydDsKICAgICAgICBtV29yZCA9ICcnOwogICAgICAgIG1hdGNoID0gZmFsc2U7CiAgICAgICAgZG8gewogICAgICAgICAgbUxldHRlciA9IGNvbnRleHQuY2hhckF0KHBFbmQpOwogICAgICAgICAgLy8gaGFzaOWxnuaAp+afpeivouW5tuW+gOWPtuWtkOmdoOaLogogICAgICAgICAgaWYgKCEoaEF0dHIgPSBoQXR0clttTGV0dGVyXSkpIHsKICAgICAgICAgICAgcFN0YXJ0Kys7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbVdvcmQgKz0gbUxldHRlcjsKICAgICAgICAgIH0KICAgICAgICAgIHBFbmQrKzsKICAgICAgICAgIC8vIOWMuemFjXN1Y2Nlc3MKICAgICAgICAgIGlmIChoQXR0ci5lbmQgPT09IHRydWUpIHsKICAgICAgICAgICAgbWF0Y2ggPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gd2hpbGUgKHRydWUpOwogICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgYXJyTWF0Y2hbYXJyTGVuZ3RoXSA9IHsKICAgICAgICAgICAga2V5OiBtV29yZCwKICAgICAgICAgICAgYmVnaW46IHBTdGFydCAtIDEsCiAgICAgICAgICAgIGVuZDogcEVuZAogICAgICAgICAgfTsKICAgICAgICAgIC8vIOWFs+mUruivjeeahOS4quaVsAogICAgICAgICAgaWYgKHdvcmRMb2dbbVdvcmRdKSB7CiAgICAgICAgICAgIHdvcmRMb2dbbVdvcmRdLm51bSsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgd29yZExvZ1ttV29yZF0gPSB7CiAgICAgICAgICAgICAgbnVtOiAxCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgICBhcnJMZW5ndGggKz0gMTsKICAgICAgICAgIHBTdGFydCA9IHBFbmQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgcmVzTWFwOiBhcnJNYXRjaCwKICAgICAgICByZXNMb2c6IHdvcmRMb2cKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRSZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlcyhjb250ZXh0LCBzS2V5KSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBoYXNoID0gbWUubWFrZVRyZWUobWUuc0tleVRvS2V5cyhzS2V5KSk7CiAgICAgIHZhciByZXN1bHQgPSBtZS5zZWFyY2goY29udGV4dCwgaGFzaCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfV0pOwogIHJldHVybiBGaW5kVGV4dDsKfSgpOwpleHBvcnQgZGVmYXVsdCBGaW5kVGV4dDsKCi8vIHdpbmRvdy50ZXN0RmluZFRleHQgPSBuZXcgRmluZFRleHQoewovLyAgIGFyZWE6ICcjdGV4dCcsCi8vICAga2V5d29yZDogJyNrZXl3b3JkJywKLy8gICBjaGVjazogJyNidG4nLAovLyAgIGNhbmNlbDogJyNidG4yJywKLy8gICByZXN1bHQ6ICcjcmVzdWx0JwovLyB9KQ=="},{"version":3,"names":["FindText","vNode","_classCallCheck","oText","temp","_createClass","key","value","check","me","input","cancel","onclick","alert","preContext","innerHTML","result","getRes","resMap","resLog","makeFlag","obj","hasOwnProperty","num","test","find","keywords","match","patt","join","str","keywordRe","RegExp","replace","newCon","p","i","length","push","substring","begin","end","sKeyToKeys","sKey","reg","split","makeTree","strKeys","hash","hBranch","keyChar","j","charAt","search","context","hAttr","pStart","pEnd","mLetter","mWord","arrMatch","arrLength","wordLog"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/components/TableBak/tool/find.js"],"sourcesContent":["\r\nclass FindText {\r\n  constructor(vNode) {\r\n    this.oText = vNode\r\n    this.temp = ''\r\n  }\r\n  check(value) {\r\n    let me = this\r\n    let input = value\r\n    me.cancel.onclick()\r\n    if (!input) {\r\n      alert('请输入关键字!')\r\n      return\r\n    }\r\n    me.preContext = me.oText.innerHTML\r\n    let result = me.getRes(me.preContext, input)\r\n    let resMap = result.resMap\r\n    let resLog = result.resLog\r\n    // let time1 = +new Date();\r\n    me.makeFlag(resMap)\r\n    // console.log('hash查找: ' + (+new Date() - time1) + 'ms');\r\n    let obj = {}\r\n    for (let key in resLog) {\r\n      if (resLog.hasOwnProperty(key)) {\r\n        obj[key] = resLog[key].num\r\n      }\r\n    }\r\n  }\r\n  test(value) {\r\n    // 正则\r\n    let me = this\r\n    let input = value\r\n    me.cancel()\r\n    if (!input) {\r\n      alert('请输入关键字!')\r\n      return\r\n    }\r\n    // let time2 = +new Date();\r\n    me.find(input)\r\n    // console.log('正则查找: ' + (+new Date() - time2) + 'ms');\r\n  }\r\n  cancel() {\r\n    let me = this\r\n    if (!me.preContext) {\r\n      return\r\n    }\r\n    me.oText.innerHTML = me.preContext\r\n  }\r\n  // 正则\r\n  find(input) {\r\n    let me = this\r\n    // console.time('RegExp time');\r\n    let keywords = input.match(/[^,，;]+/g)\r\n    let patt = keywords.join('|')\r\n    let str = me.oText.innerHTML\r\n    me.preContext = me.oText.innerHTML\r\n    let keywordRe = new RegExp('(' + patt + ')', 'g')\r\n    me.temp = str.replace(keywordRe, '<b class=\"stress\">$1</b>')\r\n    // console.timeEnd('RegExp time');\r\n    me.oText.innerHTML = me.temp\r\n  }\r\n  // hash\r\n  makeFlag(resMap) {\r\n    let me = this\r\n    // console.time('hash time');\r\n    let newCon = []\r\n    let p = 0\r\n    for (let i = 0; i < resMap.length; i++) {\r\n      newCon.push(\r\n        me.preContext.substring(p, resMap[i].begin),\r\n        '<b class=\"stress\">',\r\n        me.preContext.substring(resMap[i].begin, p = resMap[i].end),\r\n        '</b>'\r\n      )\r\n    }\r\n    newCon.push(me.preContext.substring(p))\r\n    // console.timeEnd('hash time');\r\n    me.oText.innerHTML = newCon.join('')\r\n  }\r\n  sKeyToKeys(sKey) { // 把字符串以，,分割成数组\r\n    let reg = new RegExp('[,，；;]')\r\n    return sKey.split(reg)\r\n  }\r\n  makeTree(strKeys) {\r\n    let hash = {}\r\n    let hBranch = hash\r\n    let keyChar\r\n    for (let j = 0; j < strKeys.length; j++) {\r\n      for (let i = 0; i < strKeys[j].length; i++) {\r\n        keyChar = strKeys[j].charAt(i)\r\n        hBranch = hBranch.hasOwnProperty(keyChar)\r\n          ? hBranch[keyChar]\r\n          : hBranch[keyChar] = {}\r\n      }\r\n      hBranch.end = true\r\n      hBranch = hash\r\n    }\r\n    return hash\r\n  }\r\n  search(context, hash) {\r\n    let hAttr\r\n    let pStart = 0\r\n    let pEnd\r\n    let match\r\n    let mLetter\r\n    let mWord\r\n    let arrMatch = []\r\n    let arrLength = 0\r\n    let wordLog = {}\r\n    while (pStart < context.length) {\r\n      // 回溯至根部\r\n      hAttr = hash\r\n      pEnd = pStart\r\n      mWord = ''\r\n      match = false\r\n\r\n      do {\r\n        mLetter = context.charAt(pEnd)\r\n        // hash属性查询并往叶子靠拢\r\n        if (!(hAttr = hAttr[mLetter])) {\r\n          pStart++\r\n          break\r\n        } else {\r\n          mWord += mLetter\r\n        }\r\n        pEnd++\r\n        // 匹配success\r\n        if (hAttr.end === true) {\r\n          match = true\r\n        }\r\n      } while (true)\r\n\r\n      if (match) {\r\n        arrMatch[arrLength] = {\r\n          key: mWord,\r\n          begin: pStart - 1,\r\n          end: pEnd\r\n        }\r\n        // 关键词的个数\r\n        if (wordLog[mWord]) {\r\n          wordLog[mWord].num++\r\n        } else {\r\n          wordLog[mWord] = {\r\n            num: 1\r\n          }\r\n        }\r\n        arrLength += 1\r\n        pStart = pEnd\r\n      }\r\n    }\r\n    return {\r\n      resMap: arrMatch,\r\n      resLog: wordLog\r\n    }\r\n  }\r\n  getRes(context, sKey) {\r\n    let me = this\r\n    let hash = me.makeTree(me.sKeyToKeys(sKey))\r\n    let result = me.search(context, hash)\r\n    return result\r\n  }\r\n}\r\n\r\nexport default FindText\r\n\r\n// window.testFindText = new FindText({\r\n//   area: '#text',\r\n//   keyword: '#keyword',\r\n//   check: '#btn',\r\n//   cancel: '#btn2',\r\n//   result: '#result'\r\n// })\r\n"],"mappings":"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"}]}