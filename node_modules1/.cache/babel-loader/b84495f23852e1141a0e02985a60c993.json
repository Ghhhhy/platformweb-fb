{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\financial-portrayal\\hooks\\usePopulationBarChart.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\financial-portrayal\\hooks\\usePopulationBarChart.js","mtime":1694505522480},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQppbXBvcnQgeyByZWFjdGl2ZSwgdW5yZWYgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCB7IGdldEJhclNlcmllLCBnZXRDb2xvciwgZ2V0VG9vbHRpcEZvcm1hdHRlciwgZ2V0QXhpcywgZ2V0VG9vbHRpcCB9IGZyb20gJy4uL21vZGVsL2dldEVjaGFydHNDb25maWcnOwppbXBvcnQgeyBwb3B1bGF0aW9uWEF4aXMgfSBmcm9tICcuLi9tb2RlbC9kYXRhJzsKaW1wb3J0IHsgdXNlV2F0Y2hPcmlnaW5EYXRhQ2hhbmdlIH0gZnJvbSAnLi91c2VXYXRjaE9yaWdpbkRhdGFDaGFuZ2UnOwpleHBvcnQgdmFyIHVzZVBvcHVsYXRpb25CYXJDaGFydCA9IGZ1bmN0aW9uIHVzZVBvcHVsYXRpb25CYXJDaGFydChvcmlnaW5EYXRhKSB7CiAgLy8g5Yy65Z+f5Z+65pys5oOF5Ya1ID0+IOS6uuWPowogIHZhciBwb3B1bGF0aW9uQ2hhcnRPcHRpb24gPSByZWFjdGl2ZSh7CiAgICBkZXRhaWxUaXRsZTogJ+S6uuWPo++8iOS4h+S6uu+8iScsCiAgICB0b29sYm94OiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBmZWF0dXJlOiB7CiAgICAgICAgc2F2ZUFzSW1hZ2U6IHsKICAgICAgICAgIG5hbWU6ICfkurrlj6PvvIjkuIfkurrvvIknCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdG9vbHRpcDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBnZXRUb29sdGlwKCkpLCB7fSwgewogICAgICBmb3JtYXR0ZXI6IGdldFRvb2x0aXBGb3JtYXR0ZXIoJ3Nlcmllc05hbWUnKQogICAgfSksCiAgICB4QXhpczogZ2V0QXhpcyh7CiAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgIGRhdGE6IHBvcHVsYXRpb25YQXhpcygpCiAgICB9KSwKICAgIGxlZ2VuZDogewogICAgICBzaG93OiBmYWxzZQogICAgfSwKICAgIC8vIOiHquWumuS5iWxlZ2VuZAogICAgY3VzdG9tTGVnZW5kOiBbewogICAgICBsYWJlbDogJ+aIt+exjeS6uuWPoycsCiAgICAgIGNvbG9yOiBnZXRDb2xvcignYmx1ZScpCiAgICB9LCB7CiAgICAgIGxhYmVsOiAn5bi45L2P5Lq65Y+jJywKICAgICAgY29sb3I6IGdldENvbG9yKCdncmVlbicpCiAgICB9XSwKICAgIHNlcmllczogW10KICB9KTsKICB2YXIgdXBkYXRlU2VyaWVzID0gZnVuY3Rpb24gdXBkYXRlU2VyaWVzKGN1cnJlbnREYXRhKSB7CiAgICBwb3B1bGF0aW9uQ2hhcnRPcHRpb24uc2VyaWVzID0gW2dldEJhclNlcmllKHsKICAgICAgbmFtZTogJ+acrOacnycsCiAgICAgIGxhYmVsU2hvdzogdHJ1ZSwKICAgICAgZGF0YTogW3sKICAgICAgICBuYW1lOiAn5oi357GN5Lq65Y+jJywKICAgICAgICB2YWx1ZTogdW5yZWYoY3VycmVudERhdGEpLnJlZ2lzdGVyZWRSZXNpZGVuY2UgfHwgMCwKICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgIGNvbG9yOiBnZXRDb2xvcignYmx1ZScpCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+W4uOS9j+S6uuWPoycsCiAgICAgICAgdmFsdWU6IHVucmVmKGN1cnJlbnREYXRhKS5yZXNpZGVudFBvcHVsYXRpb24gfHwgMCwKICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgIGNvbG9yOiBnZXRDb2xvcignZ3JlZW4nKQogICAgICAgIH0KICAgICAgfV0KICAgIH0pLCBnZXRCYXJTZXJpZSh7CiAgICAgIG5hbWU6ICfkuIrlubTlkIzmnJ8nLAogICAgICBsYWJlbFNob3c6IHRydWUsCiAgICAgIGRhdGE6IFt7CiAgICAgICAgbmFtZTogJ+aIt+exjeS6uuWPoycsCiAgICAgICAgdmFsdWU6IHVucmVmKGN1cnJlbnREYXRhKS5yZWdpc3RlcmVkUmVzaWRlbmNlUGVyaW9kIHx8IDAsCiAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICBjb2xvcjogZ2V0Q29sb3IoJ2ZhZGVCbHVlJykKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5bi45L2P5Lq65Y+jJywKICAgICAgICB2YWx1ZTogdW5yZWYoY3VycmVudERhdGEpLnJlc2lkZW50UG9wdWxhdGlvblBlcmlvZCB8fCAwLAogICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgY29sb3I6IGdldENvbG9yKCdmYWRlR3JlZW4nKQogICAgICAgIH0KICAgICAgfV0KICAgIH0pXTsKICB9OwogIHVzZVdhdGNoT3JpZ2luRGF0YUNoYW5nZShvcmlnaW5EYXRhLCB1cGRhdGVTZXJpZXMpOwogIHJldHVybiB7CiAgICBwb3B1bGF0aW9uQ2hhcnRPcHRpb246IHBvcHVsYXRpb25DaGFydE9wdGlvbgogIH07Cn07"},{"version":3,"names":["reactive","unref","getBarSerie","getColor","getTooltipFormatter","getAxis","getTooltip","populationXAxis","useWatchOriginDataChange","usePopulationBarChart","originData","populationChartOption","detailTitle","toolbox","show","feature","saveAsImage","name","tooltip","_objectSpread","formatter","xAxis","type","data","legend","customLegend","label","color","series","updateSeries","currentData","labelShow","value","registeredResidence","itemStyle","residentPopulation","registeredResidencePeriod","residentPopulationPeriod"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/views/main/financial-portrayal/hooks/usePopulationBarChart.js"],"sourcesContent":["import { reactive, unref } from '@vue/composition-api'\r\nimport { getBarSerie, getColor, getTooltipFormatter, getAxis, getTooltip } from '../model/getEchartsConfig'\r\nimport { populationXAxis } from '../model/data'\r\nimport { useWatchOriginDataChange } from './useWatchOriginDataChange'\r\n\r\nexport const usePopulationBarChart = (originData) => {\r\n  // 区域基本情况 => 人口\r\n  const populationChartOption = reactive({\r\n    detailTitle: '人口（万人）',\r\n    toolbox: {\r\n      show: false,\r\n      feature: {\r\n        saveAsImage: {\r\n          name: '人口（万人）'\r\n        }\r\n      }\r\n    },\r\n    tooltip: {\r\n      ...getTooltip(),\r\n      formatter: getTooltipFormatter('seriesName')\r\n    },\r\n    xAxis: getAxis({ type: 'category', data: populationXAxis() }),\r\n    legend: {\r\n      show: false\r\n    },\r\n    // 自定义legend\r\n    customLegend: [\r\n      {\r\n        label: '户籍人口',\r\n        color: getColor('blue')\r\n      },\r\n      {\r\n        label: '常住人口',\r\n        color: getColor('green')\r\n      }\r\n    ],\r\n    series: []\r\n  })\r\n  const updateSeries = (currentData) => {\r\n    populationChartOption.series = [\r\n      getBarSerie({\r\n        name: '本期',\r\n        labelShow: true,\r\n        data: [\r\n          {\r\n            name: '户籍人口',\r\n            value: unref(currentData).registeredResidence || 0,\r\n            itemStyle: { color: getColor('blue') }\r\n          },\r\n          {\r\n            name: '常住人口',\r\n            value: unref(currentData).residentPopulation || 0,\r\n            itemStyle: { color: getColor('green') }\r\n          }\r\n        ]\r\n      }),\r\n      getBarSerie({\r\n        name: '上年同期',\r\n        labelShow: true,\r\n        data: [\r\n          {\r\n            name: '户籍人口',\r\n            value: unref(currentData).registeredResidencePeriod || 0,\r\n            itemStyle: { color: getColor('fadeBlue') }\r\n          },\r\n          {\r\n            name: '常住人口',\r\n            value: unref(currentData).residentPopulationPeriod || 0,\r\n            itemStyle: { color: getColor('fadeGreen') }\r\n          }\r\n        ]\r\n      })\r\n    ]\r\n  }\r\n  useWatchOriginDataChange(originData, updateSeries)\r\n\r\n  return {\r\n    populationChartOption\r\n  }\r\n}\r\n"],"mappings":";;;;;;AAAA,SAASA,QAAQ,EAAEC,KAAK,QAAQ,sBAAsB;AACtD,SAASC,WAAW,EAAEC,QAAQ,EAAEC,mBAAmB,EAAEC,OAAO,EAAEC,UAAU,QAAQ,2BAA2B;AAC3G,SAASC,eAAe,QAAQ,eAAe;AAC/C,SAASC,wBAAwB,QAAQ,4BAA4B;AAErE,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIC,UAAU,EAAK;EACnD;EACA,IAAMC,qBAAqB,GAAGX,QAAQ,CAAC;IACrCY,WAAW,EAAE,QAAQ;IACrBC,OAAO,EAAE;MACPC,IAAI,EAAE,KAAK;MACXC,OAAO,EAAE;QACPC,WAAW,EAAE;UACXC,IAAI,EAAE;QACR;MACF;IACF,CAAC;IACDC,OAAO,EAAAC,aAAA,CAAAA,aAAA,KACFb,UAAU,CAAC,CAAC;MACfc,SAAS,EAAEhB,mBAAmB,CAAC,YAAY;IAAC,EAC7C;IACDiB,KAAK,EAAEhB,OAAO,CAAC;MAAEiB,IAAI,EAAE,UAAU;MAAEC,IAAI,EAAEhB,eAAe,CAAC;IAAE,CAAC,CAAC;IAC7DiB,MAAM,EAAE;MACNV,IAAI,EAAE;IACR,CAAC;IACD;IACAW,YAAY,EAAE,CACZ;MACEC,KAAK,EAAE,MAAM;MACbC,KAAK,EAAExB,QAAQ,CAAC,MAAM;IACxB,CAAC,EACD;MACEuB,KAAK,EAAE,MAAM;MACbC,KAAK,EAAExB,QAAQ,CAAC,OAAO;IACzB,CAAC,CACF;IACDyB,MAAM,EAAE;EACV,CAAC,CAAC;EACF,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,WAAW,EAAK;IACpCnB,qBAAqB,CAACiB,MAAM,GAAG,CAC7B1B,WAAW,CAAC;MACVe,IAAI,EAAE,IAAI;MACVc,SAAS,EAAE,IAAI;MACfR,IAAI,EAAE,CACJ;QACEN,IAAI,EAAE,MAAM;QACZe,KAAK,EAAE/B,KAAK,CAAC6B,WAAW,CAAC,CAACG,mBAAmB,IAAI,CAAC;QAClDC,SAAS,EAAE;UAAEP,KAAK,EAAExB,QAAQ,CAAC,MAAM;QAAE;MACvC,CAAC,EACD;QACEc,IAAI,EAAE,MAAM;QACZe,KAAK,EAAE/B,KAAK,CAAC6B,WAAW,CAAC,CAACK,kBAAkB,IAAI,CAAC;QACjDD,SAAS,EAAE;UAAEP,KAAK,EAAExB,QAAQ,CAAC,OAAO;QAAE;MACxC,CAAC;IAEL,CAAC,CAAC,EACFD,WAAW,CAAC;MACVe,IAAI,EAAE,MAAM;MACZc,SAAS,EAAE,IAAI;MACfR,IAAI,EAAE,CACJ;QACEN,IAAI,EAAE,MAAM;QACZe,KAAK,EAAE/B,KAAK,CAAC6B,WAAW,CAAC,CAACM,yBAAyB,IAAI,CAAC;QACxDF,SAAS,EAAE;UAAEP,KAAK,EAAExB,QAAQ,CAAC,UAAU;QAAE;MAC3C,CAAC,EACD;QACEc,IAAI,EAAE,MAAM;QACZe,KAAK,EAAE/B,KAAK,CAAC6B,WAAW,CAAC,CAACO,wBAAwB,IAAI,CAAC;QACvDH,SAAS,EAAE;UAAEP,KAAK,EAAExB,QAAQ,CAAC,WAAW;QAAE;MAC5C,CAAC;IAEL,CAAC,CAAC,CACH;EACH,CAAC;EACDK,wBAAwB,CAACE,UAAU,EAAEmB,YAAY,CAAC;EAElD,OAAO;IACLlB,qBAAqB,EAArBA;EACF,CAAC;AACH,CAAC"}]}