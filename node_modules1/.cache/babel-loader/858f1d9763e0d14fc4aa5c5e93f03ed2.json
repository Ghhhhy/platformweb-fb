{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\PrintDrawer\\PrintPreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\PrintDrawer\\PrintPreview.vue","mtime":1694505521442},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUHJpbnRQcmV2aWV3JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNWaXNpYmxlOiBmYWxzZSwKICAgICAgdXNlckluZm86IHt9LAogICAgICBtZW51SWQ6ICcnLAogICAgICB0b2tlbmlkOiAnJywKICAgICAgcm9sZWd1aWQ6ICcnCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+WHreivgemihOiniCcKICAgIH0sCiAgICB2aXNpYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZ3VpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgLy8gY3B05ZCN5a2XCiAgICBjcHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnenp6cCcKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnb25DbG9zZScpOwogICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIHRoaXMuaXNWaXNpYmxlKTsKICAgIH0sCiAgICBjaGVja1JlcG9ydDogZnVuY3Rpb24gY2hlY2tSZXBvcnQoKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLiRnbG9hYmxlVG9vbEZuLmdldFJlcG9ydFVybCgpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUHJldmlld0NwdElkJykuaW5uZXJIVE1MID0gJzxpZnJhbWUgZnJhbWVib3JkZXI9bm8gd2lkdGg9MTAwJSBoZWlnaHQ9MTAwJSBzcmM9IicgKyB1cmwgKyAnL2ZpbmUtcmVwb3J0L2Jvc3MvUmVwb3J0U2VydmVyP3JlcG9ydGxldD0nICsgdGhpcy5jcHQgKyAnLmNwdCZpZD0nICsgdGhpcy5ndWlkICsgJyZ4PTEnICsgJyZtZW51Z3VpZD0nICsgdGhpcy5tZW51SWQgKyAnJnJvbGVndWlkPScgKyB0aGlzLnJvbGVndWlkICsgJyZ0b2tlbmlkPScgKyB0aGlzLnRva2VuaWQgKyAnJnVzZXJndWlkPScgKyB0aGlzLnVzZXJJbmZvLmd1aWQgKyAnJmZpc2NhbF95ZWFyPScgKyB0aGlzLnVzZXJJbmZvLnllYXIgKyAnJm1vZl9kaXZfY29kZT0nICsgdGhpcy51c2VySW5mby5wcm92aW5jZSArICciJyArICc+PC9pZnJhbWU+JzsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICB3YXRjaDogewogICAgdmlzaWJsZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgdGhpcy50b2tlbmlkID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRMb2dpbkF1dGhlbnRpY2F0aW9uLnRva2VuaWQ7CiAgICAgICAgdGhpcy5yb2xlZ3VpZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5yb2xlZ3VpZDsKICAgICAgICB0aGlzLm1lbnVJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkOwogICAgICAgIHRoaXMudXNlckluZm8gPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbzsKICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IG5ld1ZhbHVlOwogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2aXNpYmxlJywgbmV3VmFsdWUpOwogICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdHJ1ZSkgewogICAgICAgICAgc2V0VGltZW91dCh0aGlzLmNoZWNrUmVwb3J0LCAxMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","data","isVisible","userInfo","menuId","tokenid","roleguid","props","title","type","String","default","visible","Boolean","guid","cpt","methods","close","$emit","checkReport","url","$gloableToolFn","getReportUrl","document","getElementById","innerHTML","year","province","mounted","watch","handler","newValue","$store","getters","getLoginAuthentication","state","curNavModule","setTimeout"],"sources":["src/components/PrintDrawer/PrintPreview.vue"],"sourcesContent":["<template>\r\n  <el-drawer\r\n    size=\"50%\"\r\n    :visible.sync=\"isVisible\"\r\n    class=\"preview\"\r\n    @close=\"close\"\r\n  >\r\n    <div slot=\"title\">{{ title }}</div>\r\n    <div id=\"PreviewCptId\"></div>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PrintPreview',\r\n  data() {\r\n    return {\r\n      isVisible: false,\r\n      userInfo: {},\r\n      menuId: '',\r\n      tokenid: '',\r\n      roleguid: ''\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: '凭证预览'\r\n    },\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    guid: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // cpt名字\r\n    cpt: {\r\n      type: String,\r\n      default: 'zzzp'\r\n    }\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('onClose')\r\n      this.isVisible = false\r\n      this.$emit('update:visible', this.isVisible)\r\n    },\r\n    checkReport() {\r\n      let url = this.$gloableToolFn.getReportUrl()\r\n      document.getElementById('PreviewCptId').innerHTML = '<iframe frameborder=no width=100% height=100% src=\"' + url + '/fine-report/boss/ReportServer?reportlet=' + this.cpt + '.cpt&id=' + this.guid +\r\n        '&x=1' + '&menuguid=' + this.menuId +\r\n        '&roleguid=' + this.roleguid + '&tokenid=' + this.tokenid + '&userguid=' + this.userInfo.guid + '&fiscal_year=' + this.userInfo.year + '&mof_div_code=' + this.userInfo.province +\r\n        '\"' + '></iframe>'\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  watch: {\r\n    visible: {\r\n      handler(newValue) {\r\n        this.tokenid = this.$store.getters.getLoginAuthentication.tokenid\r\n        this.roleguid = this.$store.state.curNavModule.roleguid\r\n        this.menuId = this.$store.state.curNavModule.guid\r\n        this.userInfo = this.$store.state.userInfo\r\n        this.isVisible = newValue\r\n        this.$emit('update:visible', newValue)\r\n        if (newValue === true) {\r\n          setTimeout(this.checkReport, 10)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n.preview{\r\n  #PreviewCptId{\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;AAaA;EACAA,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,QAAA;MACAC,MAAA;MACAC,OAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,OAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAG,IAAA;MACAL,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACA;IACAI,GAAA;MACAN,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAK,OAAA;IACAC,KAAA,WAAAA,MAAA;MACA,KAAAC,KAAA;MACA,KAAAhB,SAAA;MACA,KAAAgB,KAAA,wBAAAhB,SAAA;IACA;IACAiB,WAAA,WAAAA,YAAA;MACA,IAAAC,GAAA,QAAAC,cAAA,CAAAC,YAAA;MACAC,QAAA,CAAAC,cAAA,iBAAAC,SAAA,2DAAAL,GAAA,sDAAAL,GAAA,qBAAAD,IAAA,GACA,6BAAAV,MAAA,GACA,oBAAAE,QAAA,sBAAAD,OAAA,uBAAAF,QAAA,CAAAW,IAAA,0BAAAX,QAAA,CAAAuB,IAAA,2BAAAvB,QAAA,CAAAwB,QAAA,GACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA,GAEA;EACAC,KAAA;IACAjB,OAAA;MACAkB,OAAA,WAAAA,QAAAC,QAAA;QACA,KAAA1B,OAAA,QAAA2B,MAAA,CAAAC,OAAA,CAAAC,sBAAA,CAAA7B,OAAA;QACA,KAAAC,QAAA,QAAA0B,MAAA,CAAAG,KAAA,CAAAC,YAAA,CAAA9B,QAAA;QACA,KAAAF,MAAA,QAAA4B,MAAA,CAAAG,KAAA,CAAAC,YAAA,CAAAtB,IAAA;QACA,KAAAX,QAAA,QAAA6B,MAAA,CAAAG,KAAA,CAAAhC,QAAA;QACA,KAAAD,SAAA,GAAA6B,QAAA;QACA,KAAAb,KAAA,mBAAAa,QAAA;QACA,IAAAA,QAAA;UACAM,UAAA,MAAAlB,WAAA;QACA;MACA;IACA;EACA;AACA"}]}