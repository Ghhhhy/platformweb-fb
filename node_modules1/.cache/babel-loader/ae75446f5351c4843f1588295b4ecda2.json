{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\OperationLog\\operationLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\OperationLog\\operationLog.vue","mtime":1694505521442},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ09wZXJhdGlvbkxvZycsCiAgcHJvcHM6IHsKICAgIHNob3dMb2dWaWV3OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGxvZ3NEYXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dzRGF0YXM6IFtdLAogICAgICBhbGxMb2dzRGF0YTogW10sCiAgICAgIHNob3dMb2dWaWV3czogdGhpcy5zaG93TG9nVmlldywKICAgICAgaXNTaG93OiB0cnVlLAogICAgICBuYW1lczogJ+WxleW8gOabtOWkmicsCiAgICAgIHNob3dNb3JlTGlzdDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgY29sc2U6IGZ1bmN0aW9uIGNvbHNlKCkgewogICAgICB0aGlzLiRwYXJlbnQuc2hvd0xvZ1ZpZXcgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNob3dMb2dWaWV3JywgZmFsc2UpOyAvLyDmlLnlj5jniLbnu4Tku7blj4LmlbDvvIznlKguc3luY+i1t+aViAogICAgfSwKICAgIHNob3dNb3JlOiBmdW5jdGlvbiBzaG93TW9yZSgpIHsKICAgICAgdGhpcy5zaG93TW9yZUxpc3QgPSAhdGhpcy5zaG93TW9yZUxpc3Q7CiAgICAgIHZhciBkZWVwVmFsdWUgPSB0aGlzLmRlZXBDb3B5KHRoaXMuYWxsTG9nc0RhdGEpOwogICAgICBpZiAodGhpcy5zaG93TW9yZUxpc3QpIHsKICAgICAgICB0aGlzLmxvZ3NEYXRhcyA9IGRlZXBWYWx1ZTsKICAgICAgICB0aGlzLm5hbWVzID0gJ+aUtui1t+abtOWkmic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5uYW1lcyA9ICflsZXlvIDmm7TlpJonOwogICAgICAgIHRoaXMubG9nc0RhdGFzLnNwbGljZSgzLCB0aGlzLmxvZ3NEYXRhcy5sZW5ndGggLSAzKTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyh0aGlzLmxvZ3NEYXRhcyk7CiAgICB9LAogICAgZGVlcENvcHk6IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgICAvLyDmt7Hmi7fotJ3pgJrnlKjmlrnms5UKICAgICAgLy8gdmFyIG5ld19hcnIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFycikpIC8vIOS4jeS7heWPr+aLt+i0neaVsOe7hOi/mOiDveaLt+i0neWvueixoe+8iCDkvYbkuI3og73mi7fotJ3lh73mlbDvvIkKICAgICAgLy8g5Y+q5ou36LSd5a+56LGhCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIGlmIChfdHlwZW9mKG9iaikgIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIG9iajsKICAgICAgLy8g5qC55o2ub2Jq55qE57G75Z6L5Yik5pat5piv5paw5bu65LiA5Liq5pWw57uE6L+Y5piv5LiA5Liq5a+56LGhCiAgICAgIHZhciBuZXdPYmogPSBvYmogaW5zdGFuY2VvZiBBcnJheSA/IFtdIDoge307CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICAvLyDpgY3ljoZvYmos5bm25LiU5Yik5pat5pivb2Jq55qE5bGe5oCn5omN5ou36LSdCiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICAvLyDliKTmlq3lsZ7mgKflgLznmoTnsbvlnovvvIzlpoLmnpzmmK/lr7nosaHpgJLlvZLosIPnlKjmt7Hmi7fotJ0KICAgICAgICAgIG5ld09ialtrZXldID0gX3R5cGVvZihvYmpba2V5XSkgPT09ICdvYmplY3QnID8gbWUuZGVlcENvcHkob2JqW2tleV0pIDogb2JqW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBuZXdPYmo7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIHdhdGNoOiB7CiAgICBsb2dzRGF0YTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgdGhpcy5hbGxMb2dzRGF0YSA9IHRoaXMuZGVlcENvcHkobmV3VmFsdWUpOwogICAgICAgIHRoaXMubG9nc0RhdGFzID0gdGhpcy5kZWVwQ29weShuZXdWYWx1ZSk7CiAgICAgICAgaWYgKG5ld1ZhbHVlLmxlbmd0aCA+IDMpIHsKICAgICAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubG9nc0RhdGFzLmxlbmd0aCAtIDMpOwogICAgICAgICAgdGhpcy5sb2dzRGF0YXMuc3BsaWNlKDAsIHRoaXMubG9nc0RhdGFzLmxlbmd0aCAtIDMpOwogICAgICAgICAgLy8gY29uc29sZS5sb2coZGVlcFZhbHVlLCBkZWVwVmFsdWUuc3BsaWNlKDMsIGRlZXBWYWx1ZS5sZW5ndGggKyAxKSwgZGVlcFZhbHVlLmxlbmd0aCArIDEpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmxvZ3NEYXRhcyA9IHRoaXMuZGVlcENvcHkobmV3VmFsdWUpOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvZ3NEYXRhcyA9IHRoaXMubG9nc0RhdGFzLnJldmVyc2UoKTsKICAgICAgICB0aGlzLmFsbExvZ3NEYXRhID0gdGhpcy5hbGxMb2dzRGF0YS5yZXZlcnNlKCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIHNob3dMb2dWaWV3OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICB0aGlzLnNob3dMb2dWaWV3cyA9IG5ld1ZhbHVlOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"names":["name","props","showLogView","type","Boolean","default","_default","logsData","Array","data","logsDatas","allLogsData","showLogViews","isShow","names","showMoreList","computed","methods","colse","$parent","$emit","showMore","deepValue","deepCopy","splice","length","console","log","obj","me","_typeof","newObj","key","hasOwnProperty","created","mounted","watch","handler","newValue","reverse","deep","immediate"],"sources":["src/components/OperationLog/operationLog.vue"],"sourcesContent":["<template>\r\n  <!-- 操作日志 -->\r\n  <el-drawer\r\n    style=\"z-index:5000;\"\r\n    :visible.sync=\"showLogViews\"\r\n    :append-to-body=\"true\"\r\n    :show-close=\"true\"\r\n    size=\"40%\"\r\n    :with-header=\"false\"\r\n    @closed=\"colse\"\r\n  >\r\n    <div class=\"drawer-title\">\r\n      <p>操作日志</p>\r\n    </div>\r\n    <div class=\"drawer-block\">\r\n      <ul>\r\n        <li\r\n          v-for=\"(log, index) in logsDatas\"\r\n          :key=\"log.logId\"\r\n        >\r\n          <div class=\"drawer-circular\"></div>\r\n          <div class=\"drawer-straight\">{{ log.actionName }}</div>\r\n          <div class=\"drawer-right\">\r\n            <div class=\"journal\">\r\n              <!-- <p>{{ log.nodeName }}</p> -->\r\n              <p>操作人员： {{ log.actionUser }}      &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 操作时间： {{ log.actionTime }}</p>\r\n            </div>\r\n            <div class=\"journal-buttom\">\r\n              <!-- <p>{{ log.dutyName }}</p> -->\r\n              <p v-if=\"logsDatas[index].message !== ''\"> 意见：{{ log.message }}</p>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <button v-if=\"isShow\" class=\"Morebutton\" @click=\"showMore\">{{ names }}&nbsp<img :style=\"showMoreList ? 'transform: scaleY(-1);' : ''\" src=\"@/assets/img/focusPayment/drop-down-arrow.svg\" alt=\"\"></button>\r\n    </div>\r\n  </el-drawer>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'OperationLog',\r\n  props: {\r\n    showLogView: {\r\n      type: Boolean,\r\n      default() {\r\n        return false\r\n      }\r\n    },\r\n    logsData: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      logsDatas: [],\r\n      allLogsData: [],\r\n      showLogViews: this.showLogView,\r\n      isShow: true,\r\n      names: '展开更多',\r\n      showMoreList: false\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    colse() {\r\n      this.$parent.showLogView = false\r\n      this.$emit('update:showLogView', false) // 改变父组件参数，用.sync起效\r\n    },\r\n    showMore() {\r\n      this.showMoreList = !this.showMoreList\r\n      let deepValue = this.deepCopy(this.allLogsData)\r\n      if (this.showMoreList) {\r\n        this.logsDatas = deepValue\r\n        this.names = '收起更多'\r\n      } else {\r\n        this.names = '展开更多'\r\n        this.logsDatas.splice(3, this.logsDatas.length - 3)\r\n      }\r\n      console.log(this.logsDatas)\r\n    },\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      // var new_arr = JSON.parse(JSON.stringify(arr)) // 不仅可拷贝数组还能拷贝对象（ 但不能拷贝函数）\r\n      // 只拷贝对象\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      // 根据obj的类型判断是新建一个数组还是一个对象\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        // 遍历obj,并且判断是obj的属性才拷贝\r\n        if (obj.hasOwnProperty(key)) {\r\n          // 判断属性值的类型，如果是对象递归调用深拷贝\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n    logsData: {\r\n      handler(newValue) {\r\n        this.allLogsData = this.deepCopy(newValue)\r\n        this.logsDatas = this.deepCopy(newValue)\r\n        if (newValue.length > 3) {\r\n          this.isShow = true\r\n          console.log(this.logsDatas.length - 3)\r\n          this.logsDatas.splice(0, this.logsDatas.length - 3)\r\n          // console.log(deepValue, deepValue.splice(3, deepValue.length + 1), deepValue.length + 1)\r\n        } else {\r\n          this.isShow = false\r\n          this.logsDatas = this.deepCopy(newValue)\r\n        }\r\n        this.logsDatas = this.logsDatas.reverse()\r\n        this.allLogsData = this.allLogsData.reverse()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    showLogView: {\r\n      handler(newValue) {\r\n        this.showLogViews = newValue\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.el-drawer{\r\n  overflow-y:auto;\r\n}\r\n.drawer-title{\r\n  height:48px;\r\n  width:100%;\r\n  border-bottom: 1px solid #E8E8E8;\r\n  p{\r\n    font-size: 16px;\r\n    line-height: 48px;\r\n    color:#1D1F25;\r\n    padding-left:14px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n.drawer-block{\r\n  margin-bottom: 48px;\r\n  .Morebutton{\r\n    img{\r\n      position: relative;\r\n      top: -3px;\r\n      left: 5px;\r\n    }\r\n    padding-right: 7px;\r\n    width:96px;\r\n    height:32px;\r\n    font-size: 12px;\r\n    line-height: 22px;\r\n    border:1px solid #CCD2D8;\r\n    border-radius: 5%;\r\n    margin-left: 12px;\r\n    background:#fff;\r\n    color:rgb(57, 57, 61);\r\n  }\r\n  ul{\r\n    margin-bottom: -10px;\r\n    li:first-child{\r\n      margin-top:24px;\r\n      .drawer-circular{\r\n        margin-left:15px;\r\n        width: 20px;\r\n        height: 20px;\r\n        background:url(../../assets/img/focusPayment/提交节点icon.svg);\r\n        border-radius: 50%;\r\n      }\r\n      .drawer-straight{\r\n        position: relative;\r\n        left: 30px;\r\n        top:-20px;\r\n        height: 20px;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n        line-height: 20px;\r\n        // border-left: 2px solid #E4E7ED;\r\n      }\r\n      .drawer-right{\r\n        top:-17px;\r\n      }\r\n    }\r\n    li:last-child{\r\n      .drawer-right{\r\n        padding-bottom: 24px;\r\n        .journal{\r\n          margin-top:5px;\r\n        }\r\n      }\r\n    }\r\n    li{\r\n      .drawer-circular{\r\n        margin-left:20px;\r\n        width: 8px;\r\n        height: 8px;\r\n        // position: absolute;\r\n        background:rgb(121, 124, 131);\r\n        border-radius: 50%;\r\n      }\r\n      .drawer-straight{\r\n        margin-left:21px;\r\n        position: relative;\r\n        left: 30px;\r\n        top:-15px;\r\n        height: 20px;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n        line-height: 20px;\r\n        color:#2E3133;\r\n      }\r\n      .drawer-right{\r\n        box-sizing:border-box;\r\n        padding-bottom: 10px;\r\n        border-left: 2px solid #E4E7ED;\r\n        left: 24px;\r\n        position: relative;\r\n        padding-left: 24px;\r\n        top: -10px;\r\n        .journal{\r\n          margin-right: 48px;\r\n          margin-top:5px;\r\n          p{\r\n            font-size: 12px;\r\n            line-height: 17px;\r\n            color:#5C6166\r\n          }\r\n          display: flex;\r\n          justify-content: space-between;\r\n        }\r\n        .journal-buttom{\r\n          padding-left: 15px;\r\n          margin-right: 48px;\r\n          overflow: hidden;\r\n          min-height: 30px;\r\n          // height:40px;\r\n          p:nth-child(1){\r\n            // padding:12px 0 0 16px;\r\n            font-size: 12px;\r\n            min-height: 30px;\r\n            word-wrap: break-word;\r\n            word-break: break-all;\r\n            margin-top: 5px;\r\n            color:#5C6166;\r\n            line-height: 30px\r\n          }\r\n          p:nth-child(2){\r\n            // padding:12px 0 0 16px;\r\n            //height: 30px;\r\n            word-break: break-all;\r\n            line-height: 30px;\r\n            // border-top: 5px solid white;\r\n            font-size: 12px;\r\n            // line-height: 17px;\r\n            color:#5C6166\r\n          }\r\n          background: var(--hightlight-color) 100%\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;EACAA,IAAA;EACAC,KAAA;IACAC,WAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IACAC,QAAA;MACAJ,IAAA,EAAAK,KAAA;MACAH,OAAA,WAAAC,SAAA;QACA;MACA;IACA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,WAAA;MACAC,YAAA,OAAAV,WAAA;MACAW,MAAA;MACAC,KAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;EACAC,OAAA;IACAC,KAAA,WAAAA,MAAA;MACA,KAAAC,OAAA,CAAAjB,WAAA;MACA,KAAAkB,KAAA;IACA;IACAC,QAAA,WAAAA,SAAA;MACA,KAAAN,YAAA,SAAAA,YAAA;MACA,IAAAO,SAAA,QAAAC,QAAA,MAAAZ,WAAA;MACA,SAAAI,YAAA;QACA,KAAAL,SAAA,GAAAY,SAAA;QACA,KAAAR,KAAA;MACA;QACA,KAAAA,KAAA;QACA,KAAAJ,SAAA,CAAAc,MAAA,SAAAd,SAAA,CAAAe,MAAA;MACA;MACAC,OAAA,CAAAC,GAAA,MAAAjB,SAAA;IACA;IACAa,QAAA,WAAAA,SAAAK,GAAA;MACA;MACA;MACA;MACA,IAAAC,EAAA;MACA,IAAAC,OAAA,CAAAF,GAAA,kBAAAA,GAAA,kBAAAA,GAAA;MACA;MACA,IAAAG,MAAA,GAAAH,GAAA,YAAApB,KAAA;MACA,SAAAwB,GAAA,IAAAJ,GAAA;QACA;QACA,IAAAA,GAAA,CAAAK,cAAA,CAAAD,GAAA;UACA;UACAD,MAAA,CAAAC,GAAA,IACAF,OAAA,CAAAF,GAAA,CAAAI,GAAA,kBAAAH,EAAA,CAAAN,QAAA,CAAAK,GAAA,CAAAI,GAAA,KAAAJ,GAAA,CAAAI,GAAA;QACA;MACA;MACA,OAAAD,MAAA;IACA;EACA;EACAG,OAAA,WAAAA,QAAA,GACA;EACAC,OAAA,WAAAA,QAAA;EACAC,KAAA;IACA7B,QAAA;MACA8B,OAAA,WAAAA,QAAAC,QAAA;QACA,KAAA3B,WAAA,QAAAY,QAAA,CAAAe,QAAA;QACA,KAAA5B,SAAA,QAAAa,QAAA,CAAAe,QAAA;QACA,IAAAA,QAAA,CAAAb,MAAA;UACA,KAAAZ,MAAA;UACAa,OAAA,CAAAC,GAAA,MAAAjB,SAAA,CAAAe,MAAA;UACA,KAAAf,SAAA,CAAAc,MAAA,SAAAd,SAAA,CAAAe,MAAA;UACA;QACA;UACA,KAAAZ,MAAA;UACA,KAAAH,SAAA,QAAAa,QAAA,CAAAe,QAAA;QACA;QACA,KAAA5B,SAAA,QAAAA,SAAA,CAAA6B,OAAA;QACA,KAAA5B,WAAA,QAAAA,WAAA,CAAA4B,OAAA;MACA;MACAC,IAAA;MACAC,SAAA;IACA;IACAvC,WAAA;MACAmC,OAAA,WAAAA,QAAAC,QAAA;QACA,KAAA1B,YAAA,GAAA0B,QAAA;MACA;MACAE,IAAA;MACAC,SAAA;IACA;EACA;AACA"}]}