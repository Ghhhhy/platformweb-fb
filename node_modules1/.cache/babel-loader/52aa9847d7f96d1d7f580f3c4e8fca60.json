{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\manageSystem\\table\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\manageSystem\\table\\Main.vue","mtime":1694505522857},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IFRhYmxlQ29uZk1vZGFsIGZyb20gJy4vdGFibGVDb25mTW9kYWwudnVlJzsKaW1wb3J0IEZvcm1Db25mTW9kYWwgZnJvbSAnLi9Gb3JtQ29uZk1vZGFsLnZ1ZSc7CmltcG9ydCBFbnRlcmluZ0RlZmF1bHQgZnJvbSAnLi9lbnRlcmluZ0RlZmF1bHQudnVlJzsKaW1wb3J0IGdldEZvcm1Db25mRGF0YSBmcm9tICcuL2Zvcm1Db25mLmpzJzsKaW1wb3J0IFN1YlRhYkNvbmZpZ01vZGFsIGZyb20gJy4vU3ViVGFiQ29uZmlnTW9kYWwudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICcnLAogIGNvbXBvbmVudHM6IHsKICAgIFRhYmxlQ29uZk1vZGFsOiBUYWJsZUNvbmZNb2RhbCwKICAgIEZvcm1Db25mTW9kYWw6IEZvcm1Db25mTW9kYWwsCiAgICBFbnRlcmluZ0RlZmF1bHQ6IEVudGVyaW5nRGVmYXVsdCwKICAgIFN1YlRhYkNvbmZpZ01vZGFsOiBTdWJUYWJDb25maWdNb2RhbAogIH0sCiAgcHJvcHM6IHsKICAgIGFsbFByb3BEYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudWd1aWRzOiBbXSwKICAgICAgY3VyQ29uZlR5cGU6ICd0YWJsZScsCiAgICAgIGxlZnRWaXNpYmxlOiB0cnVlLAogICAgICBsZWZ0VHJlZURhdGE6IFtdLAogICAgICBjdXJTcGxpdFBhbmVMZWZ0V2lkdGg6IDIwLAogICAgICBpc1Nob3dRdWVyeUNvbmRpdGlvbnM6IGZhbHNlLAogICAgICBzZXJ2ZXJVcmk6ICdtcC1iLXBlcm0tc2VydmljZS92MS90YWJsZWNvbmYvbWVudWd1aWQnLAogICAgICB0cmVlUXVlcnlwYXJhbXM6IHsKICAgICAgICBtZW51Z3VpZDogJ3Rlc3RfMTIzNDU2JywKICAgICAgICB1c2VSaWdodDogZmFsc2UsCiAgICAgICAgYmF0Y2hubzogMiwKICAgICAgICBkYXRhdHlwZTogNSwKICAgICAgICBlbGVDb2RlOiAnREVQQkdURUNPJywKICAgICAgICBzeHNwZWNyb2xlZ3VpZDogJzYzN0I2RDVBODIzRjQ1OUFCMzEzQ0JGOTRDODc3NjVCJwogICAgICB9LAogICAgICB0cmVlbGVmdFRyZWVDb25maWc6IHsKICAgICAgICBpbnB1dFZhbDogJycKICAgICAgfSwKICAgICAgdHJlZUNvbmZpZzogewogICAgICAgIGN1clJhZGlvOiAnemYnLAogICAgICAgIHJhZGlvR3JvdXA6IFt7CiAgICAgICAgICBjb2RlOiAnemYnLAogICAgICAgICAgbGFiZWw6ICfmlL/lupzpg6jpl6jmoJEnCiAgICAgICAgfSwgewogICAgICAgICAgY29kZTogJ3h1ZXhpYW8nLAogICAgICAgICAgbGFiZWw6ICflrabmoKHmoJEnCiAgICAgICAgfSwgewogICAgICAgICAgY29kZTogJ2ppZ291JywKICAgICAgICAgIGxhYmVsOiAn5py65p6E5qCRJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGxlZnRUcmVlQ29uZmlnOiB7CiAgICAgICAgaW5wdXRWYWw6ICcnCiAgICAgIH0sCiAgICAgIHBhZ2VyQ29uZmlnOiB7CiAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgdG90YWw6IDEwMAogICAgICB9LAogICAgICBjdXJUYWJsZUNvbmZEYXRhczogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcEFycjogWwogICAgICAgIC8vIHsKICAgICAgICAvLyAgIHRhYmxlTmFtZTogJzEnLAogICAgICAgIC8vICAgYnVzaW5lc3NUYWJsZU5hbWU6ICcxJywKICAgICAgICAvLyAgIHRhYmxlTm90ZTogJzEnLAogICAgICAgIC8vICAgbWVhc3VyaW5nVW5pdDogMSwKICAgICAgICAvLyAgIHZpZXdPcmRlcjogJzAwMScsCiAgICAgICAgLy8gICBlZGl0YWJsZUJhdGNoOiAnMDAxJywKICAgICAgICAvLyAgIHRhYmxlVHlwZTogJzAwMScsCiAgICAgICAgLy8gICBub3RlOiAnMScsCiAgICAgICAgLy8gICBhdXRvQnVpbHRUYWJsZXM6IGZhbHNlLAogICAgICAgIC8vICAgZWRpdGJsZTogdHJ1ZSwKICAgICAgICAvLyAgIHNob3dDaGVja2JveDogdHJ1ZSwKICAgICAgICAvLyAgIGNhblVzZTogdHJ1ZSwKICAgICAgICAvLyAgIGFTaW5nbGVUYWJsZTogZmFsc2UsCiAgICAgICAgLy8gICBiYXRjaE1vZGlmeTogZmFsc2UsCiAgICAgICAgLy8gICByb3dDb25maWc6IGZhbHNlLAogICAgICAgIC8vICAgbm9SZWNvcmRJc0FsbG93ZWRUb1JlcG9ydDogdHJ1ZSwKICAgICAgICAvLyAgIHN1YnRvdGFsUm93czogdHJ1ZQogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgY3VyVGFibGVDb25mRGF0YXNNYXA6IHt9LAogICAgICBnbG9ibGVDb25maWdDcDogewogICAgICAgIHRhYmxlTmFtZTogJycsCiAgICAgICAgYnVzaW5lc3NUYWJsZU5hbWU6ICcnLAogICAgICAgIHRhYmxlTm90ZTogJycsCiAgICAgICAgbWVhc3VyaW5nVW5pdDogJycsCiAgICAgICAgdmlld09yZGVyOiAnJywKICAgICAgICBlZGl0YWJsZUJhdGNoOiAnJywKICAgICAgICB0YWJsZVR5cGU6ICcnLAogICAgICAgIG5vdGU6ICcnLAogICAgICAgIGF1dG9CdWlsdFRhYmxlczogZmFsc2UsCiAgICAgICAgZWRpdGJsZTogdHJ1ZSwKICAgICAgICBzaG93Q2hlY2tib3g6IHRydWUsCiAgICAgICAgY2FuVXNlOiB0cnVlLAogICAgICAgIGFTaW5nbGVUYWJsZTogZmFsc2UsCiAgICAgICAgYmF0Y2hNb2RpZnk6IGZhbHNlLAogICAgICAgIHJvd0NvbmZpZzogZmFsc2UsCiAgICAgICAgbm9SZWNvcmRJc0FsbG93ZWRUb1JlcG9ydDogdHJ1ZSwKICAgICAgICBzdWJ0b3RhbFJvd3M6IHRydWUKICAgICAgfSwKICAgICAgdG9vbGJhckNvbmZpZzogX29iamVjdFNwcmVhZCh7CiAgICAgICAgZGlzYWJsZWRNb25leUNvbnZlcnNpb246IHRydWUKICAgICAgfSwgZ2V0Rm9ybUNvbmZEYXRhKCd0YWJsZUluZm9yQ29uZicsICd0b29sYmFyQ29uZmlnJykpLAogICAgICB0YWJsZUNvbmZpZzogZ2V0Rm9ybUNvbmZEYXRhKCd0YWJsZUluZm9yQ29uZicsICd0YWJsZUNvbmZpZycpLAogICAgICB0YWJsZUNvbHVtbnNDb25maWc6IGdldEZvcm1Db25mRGF0YSgndGFibGVJbmZvckNvbmYnLCAndGFibGVDb2x1bW5zQ29uZmlnJyksCiAgICAgIHRhYmxlQ29uZk1vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm1Db25mTW9kYWxWaXNpYmxlOiBmYWxzZSwKICAgICAgZW50ZXJpbmdEZWZhdWx0VmlzaWJsZTogZmFsc2UsCiAgICAgIGN1ckxlZnRUcmVlQ2xpY2tOb2RlOiB7fSwKICAgICAgZW50ZXJpbmdEZWZhdWx0RmxhZzogZmFsc2UsCiAgICAgIFN1YlRhYkNvbmZpZ1Zpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1ck5hdk1vZHVsZTogZnVuY3Rpb24gY3VyTmF2TW9kdWxlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlOwogICAgfSwKICAgIHVzZXJJbmZvOiBmdW5jdGlvbiB1c2VySW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGVlcENvcHk6IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgICAvLyDmt7Hmi7fotJ3pgJrnlKjmlrnms5UKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgaWYgKF90eXBlb2Yob2JqKSAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gb2JqOwogICAgICB2YXIgbmV3T2JqID0gb2JqIGluc3RhbmNlb2YgQXJyYXkgPyBbXSA6IHt9OwogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICBuZXdPYmpba2V5XSA9IF90eXBlb2Yob2JqW2tleV0pID09PSAnb2JqZWN0JyA/IG1lLmRlZXBDb3B5KG9ialtrZXldKSA6IG9ialtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbmV3T2JqOwogICAgfSwKICAgIGpzb25TdHJpbmdpZnk6IGZ1bmN0aW9uIGpzb25TdHJpbmdpZnkoY29sdW1ucykgewogICAgICAvLyDlr7nosaHovazmjaLmiJBqc29u5a2X56ym5LiyCiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjb2x1bW5zLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHsKICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgcmV0dXJuIHZhbCArICcnOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdmFsOwogICAgICB9KTsKICAgIH0sCiAgICBqc29uUGFyc2U6IGZ1bmN0aW9uIGpzb25QYXJzZShzdHIpIHsKICAgICAgLy8ganNvbuWtl+espuS4sui9rOaNouaIkOWvueixoQogICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIsIGZ1bmN0aW9uIChrLCB2KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICh2LmluZGV4T2YgJiYgKHYuaW5kZXhPZignZnVuY3Rpb24nKSA+IC0xIHx8IHYuaW5kZXhPZignPT4nKSA+IC0xKSkgewogICAgICAgICAgICAvLyByZXR1cm4gZXZhbCgnKGZ1bmN0aW9uKCl7cmV0dXJuICcgKyB2ICsgJyB9KSgpJykKICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jCiAgICAgICAgICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gJyArIHYpOwogICAgICAgICAgICByZXR1cm4gZnVuYygpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHY7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmV0dXJuIHY7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VJbnB1dDogZnVuY3Rpb24gY2hhbmdlSW5wdXQodmFsKSB7CiAgICAgIHRoaXMudHJlZWxlZnRUcmVlQ29uZmlnLmlucHV0VmFsID0gdmFsOwogICAgfSwKICAgIGNvbmZyaW1EYXRhOiBmdW5jdGlvbiBjb25mcmltRGF0YShjdXJUcmVlKSB7CiAgICAgIHRoaXMuY29uZnJpbURhdGEuY3VyUmFkaW8gPSBjdXJUcmVlLmNvZGU7CiAgICAgIHN3aXRjaCAoY3VyVHJlZS5jb2RlKSB7CiAgICAgICAgY2FzZSAnemYnOgogICAgICAgICAgY29uc29sZS5sb2coJ+WIh+aNouaIkOaUv+W6nOagkeadoeS7tu+8jOWKoOi9veaUv+W6nOagkS4uLicpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAneHVleGlhbyc6CiAgICAgICAgICBjb25zb2xlLmxvZygn5YiH5o2i5oiQ5a2m5qCh5qCR5p2h5Lu277yM5Yqg6L295a2m5qCh5qCRLi4uJyk7CiAgICAgICAgICB0aGlzLnRhYlN0YXR1c051bUNvbmZpZ1sneWNsJ10gPSAxMjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2ppZ291JzoKICAgICAgICAgIGNvbnNvbGUubG9nKCfliIfmjaLmiJDmnLrmnoTmoJHmnaHku7bvvIzliqDovb3mnLrmnoTmoJEuLi4nKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgb25TcGxpdFBhbmVSZXNpemU6IGZ1bmN0aW9uIG9uU3BsaXRQYW5lUmVzaXplKGxlZnRXaWR0aCkgewogICAgICBpZiAobGVmdFdpZHRoID4gMSkgewogICAgICAgIHRoaXMuY3VyU3BsaXRQYW5lTGVmdFdpZHRoID0gbGVmdFdpZHRoOwogICAgICAgIHRoaXMubGVmdFZpc2libGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubGVmdFZpc2libGUgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFqYXhEYXRhOiBmdW5jdGlvbiBhamF4RGF0YShfcmVmKSB7CiAgICAgIHZhciBjdXJyZW50UGFnZSA9IF9yZWYuY3VycmVudFBhZ2UsCiAgICAgICAgcGFnZVNpemUgPSBfcmVmLnBhZ2VTaXplOwogICAgICB0aGlzLnBhZ2VyQ29uZmlnLmN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2U7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSBPYmplY3QuYXNzaWduKHRoaXMucXVlcnlQYXJhbXMsIHsKICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsCiAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplCiAgICAgIH0pOwogICAgICB0aGlzLmdldFRhYmxlRGF0YXMoY3VycmVudFBhZ2UsIHBhZ2VTaXplKTsKICAgIH0sCiAgICBnZXRUYWJsZURhdGFzOiBmdW5jdGlvbiBnZXRUYWJsZURhdGFzKGN1cnJlbnRQYWdlLCBwYWdlU2l6ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAvLyDmnI3liqHnq6/mn6Xor6LmlbDmja4KICAgICAgdGhpcy5zaG93TG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy4kaHR0cC5wb3N0KCd1cmwnLCB0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgc2VsZi50YWJsZURhdGEgPSByZXMuZGF0YS5saXN0OwogICAgICAgICAgc2VsZi5wYWdlckNvbmZpZyA9IHsKICAgICAgICAgICAgdG90YWw6IHJlcy5kYXRhLnRvdGFsLAogICAgICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UKICAgICAgICAgIH07CiAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3Q6IGZ1bmN0aW9uIHRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0KGNvbHVtbnMpIHsKICAgICAgLy8gY29sdW1uc+i9rOWMluS4unZ4ZS10YWJsZSBjb2x1bW5z5pWw5o2u57uT5p6ECiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4sIGNvbHVtbkluZGV4KSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sdW1uLmNoaWxkcmVuKSAmJiBjb2x1bW4uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBjb2x1bW4uY2hpbGRyZW4gPSBzZWxmLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0KGNvbHVtbi5jaGlsZHJlbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbHVtbltjb2x1bW4ucmVuZGVyVHlwZV0gPSB7CiAgICAgICAgICAgIG5hbWU6IGNvbHVtbi5yZW5kZXJOYW1lLAogICAgICAgICAgICAvLyDmuLLmn5PlmajlkI0sCiAgICAgICAgICAgIG9wdGlvbnM6IGZ1bmN0aW9uIChwYXJhbXMpIHsKICAgICAgICAgICAgICBpZiAoX3R5cGVvZihwYXJhbXMpID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZGVlcENvcHkocGFyYW1zKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zID8gcGFyYW1zLnNwbGl0KCcrJykubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnNwbGl0KCcjJylbMF0sCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0uc3BsaXQoJyMnKVsxXQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSkgOiBbXTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtczsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0oY29sdW1uLm9wdGlvbnMpLAogICAgICAgICAgICAvLyDkuIvmi4nmlbDmja7mupAKICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBjb2x1bW4uZGVmYXVsdFZhbHVlLAogICAgICAgICAgICAvLyDpu5jorqTlgLwKICAgICAgICAgICAgcHJvcHM6IGNvbHVtbi5wcm9wcyAvLyDpop3lpJblj4LmlbAKICAgICAgICAgIH07CgogICAgICAgICAgZGVsZXRlIGNvbHVtbi5fWElEOwogICAgICAgICAgZGVsZXRlIGNvbHVtbi5yZW5kZXJUeXBlOwogICAgICAgICAgZGVsZXRlIGNvbHVtbi5yZW5kZXJOYW1lOwogICAgICAgICAgZGVsZXRlIGNvbHVtbi5vcHRpb25zOwogICAgICAgICAgZGVsZXRlIGNvbHVtbi5wcm9wczsKICAgICAgICAgIGRlbGV0ZSBjb2x1bW4uZGVmYXVsdFZhbHVlOwogICAgICAgICAgZGVsZXRlIHNlbGYuZGVlcENvcHkoY29sdW1uLnByb3BzKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gY29sdW1uczsKICAgIH0sCiAgICB0cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlOiBmdW5jdGlvbiB0cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGNvbHVtbnMpIHsKICAgICAgLy8gdnhlLXRhYmxlIGNvbHVtbnPmlbDmja7nu5PmnoTovazljJbkuLrljZXlsYJjb2x1bW5zCiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4sIGNvbHVtbkluZGV4KSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sdW1uLmNoaWxkcmVuKSAmJiBjb2x1bW4uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBjb2x1bW4uY2hpbGRyZW4gPSBzZWxmLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0KGNvbHVtbi5jaGlsZHJlbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChjb2x1bW4uaGFzT3duUHJvcGVydHkoJ2VkaXRSZW5kZXInKSkgewogICAgICAgICAgICBjb2x1bW4ucmVuZGVyVHlwZSA9ICdlZGl0UmVuZGVyJzsKICAgICAgICAgICAgY29sdW1uLnJlbmRlck5hbWUgPSBjb2x1bW4uZWRpdFJlbmRlci5uYW1lOwogICAgICAgICAgICBjb2x1bW4gPSBPYmplY3QuYXNzaWduKGNvbHVtbiwgc2VsZi5kZWVwQ29weShjb2x1bW4uZWRpdFJlbmRlcikpOwogICAgICAgICAgICBkZWxldGUgY29sdW1uLmVkaXRSZW5kZXI7CiAgICAgICAgICB9IGVsc2UgaWYgKGNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnY2VsbFJlbmRlcicpKSB7CiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJUeXBlID0gJ2NlbGxSZW5kZXInOwogICAgICAgICAgICBjb2x1bW4ucmVuZGVyTmFtZSA9IGNvbHVtbi5jZWxsUmVuZGVyLm5hbWU7CiAgICAgICAgICAgIGNvbHVtbiA9IE9iamVjdC5hc3NpZ24oY29sdW1uLCBzZWxmLmRlZXBDb3B5KGNvbHVtbi5jZWxsUmVuZGVyKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnaXRlbVJlbmRlcicpKSB7CiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJUeXBlID0gJ2l0ZW1SZW5kZXInOwogICAgICAgICAgICBjb2x1bW4ucmVuZGVyTmFtZSA9IGNvbHVtbi5pdGVtUmVuZGVyLm5hbWU7CiAgICAgICAgICAgIGNvbHVtbiA9IE9iamVjdC5hc3NpZ24oY29sdW1uLCBzZWxmLmRlZXBDb3B5KGNvbHVtbi5pdGVtUmVuZGVyKSk7CiAgICAgICAgICB9IGVsc2Uge30KICAgICAgICAgIGlmIChbJyRzZWxlY3QnLCAnJHZ4ZVNlbGVjdCcsICckdnhlRm9ybVNlbGVjdCcsICckdnhlU3dpdGNoJywgJyR2eGVSYWRpbycsICckdnhlU3dpdGNoJywgJyR2eGVDaGVja2JveCddLmluZGV4T2YoY29sdW1uLnJlbmRlck5hbWUpID49IDApIHsKICAgICAgICAgICAgY29sdW1uLm9wdGlvbnMgPSBjb2x1bW4ub3B0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgKyAnIycgKyBpdGVtLmxhYmVsOwogICAgICAgICAgICB9KS5qb2luKCcrJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGNvbHVtbnM7CiAgICB9LAogICAgdHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGU6IGZ1bmN0aW9uIHRyYW5zZm9ybUl0ZW1zRGF0YVRvU2luZ2xlKGl0ZW1zKSB7CiAgICAgIC8vIHZ4ZS10YWJsZSBpdGVtc+aVsOaNrue7k+aehOi9rOWMluS4uuWNleWxgml0ZW1zCiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaXRlbUluZGV4KSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5jaGlsZHJlbikgJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4gPSBzZWxmLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0KGl0ZW0uY2hpbGRyZW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnaXRlbVJlbmRlcicpKSB7CiAgICAgICAgICAgIGl0ZW0ucmVuZGVyVHlwZSA9ICdpdGVtUmVuZGVyJzsKICAgICAgICAgICAgaXRlbS5yZW5kZXJOYW1lID0gaXRlbS5pdGVtUmVuZGVyLm5hbWU7CiAgICAgICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKGl0ZW0sIHNlbGYuZGVlcENvcHkoaXRlbS5pdGVtUmVuZGVyKSk7CiAgICAgICAgICAgIGRlbGV0ZSBpdGVtLml0ZW1SZW5kZXI7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoWyckc2VsZWN0JywgJyR2eGVTZWxlY3QnLCAnJHZ4ZUZvcm1SYWRpbycsICckdnhlRm9ybVNlbGVjdCcsICckdnhlU3dpdGNoJywgJyR2eGVSYWRpbycsICckdnhlU3dpdGNoJywgJyR2eGVDaGVja2JveCcsICckdnhlRm9ybUNoZWNrYm94J10uaW5kZXhPZihpdGVtLnJlbmRlck5hbWUpID49IDApIHsKICAgICAgICAgICAgaXRlbS5vcHRpb25zID0gQXJyYXkuaXNBcnJheShpdGVtLm9wdGlvbnMpID8gaXRlbS5vcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSArICcjJyArIGl0ZW0ubGFiZWw7CiAgICAgICAgICAgIH0pLmpvaW4oJysnKSA6IGl0ZW0ub3B0aW9uczsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gaXRlbXM7CiAgICB9LAogICAgZ2V0VGFibGVDb25mQnlNZW51Z3VpZDogZnVuY3Rpb24gZ2V0VGFibGVDb25mQnlNZW51Z3VpZChtZW51Z3VpZCkgewogICAgICAvLyDmoLnmja7oj5zljZVtZW51Z3VpZOiOt+WPluWFtuS4i+aJgOacieihqOmFjee9rgogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgc2VsZi4kaHR0cC5nZXQoJ21wLWItcGVybS1zZXJ2aWNlL3YxL3RhYmxlY29uZi9tZW51Z3VpZCcsIHsKICAgICAgICAgIG1lbnVndWlkOiBtZW51Z3VpZCwKICAgICAgICAgIG1vZl9kaXZfY29kZTogc2VsZi51c2VySW5mby5wcm92aW5jZSwKICAgICAgICAgIC8vIOWMuuWIkgogICAgICAgICAgZmlzY2FseWVhcjogc2VsZi51c2VySW5mby55ZWFyIC8vIOW5tOS7vQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5yc2NvZGUgPT09ICcxMDAwMDAnKSB7CiAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgICAgICAvLyByZXNvbHZlKHNlbGYuZ2VuZXJhdGVDdXJUYWJsZUNvbmZEYXRhTWFwKHJlcy5kYXRhKSkKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdlbmVyYXRlQ3VyVGFibGVDb25mRGF0YU1hcDogZnVuY3Rpb24gZ2VuZXJhdGVDdXJUYWJsZUNvbmZEYXRhTWFwKGN1ck1lbnVDb25mcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgLy8g55Sf5oiQ5b2T5YmNbWVudeS4i+ihqOagvOaVsOaNruaYoOWwhAogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciByZXN1bHRPYmogPSB7fTsKICAgICAgdmFyIGN1clRhYmxlQ29uZkRhdGFzTWFwID0ge307CiAgICAgIHZhciBjdXJUYWJsZUNvbmZEYXRhc01hcEFyciA9IFtdOwogICAgICByZXN1bHRPYmouY3VyVGFibGVDb25mRGF0YXMgPSBjdXJNZW51Q29uZnM7CiAgICAgIGN1ck1lbnVDb25mcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHZhciBfc2VsZiRqc29uUGFyc2UgPSBzZWxmLmpzb25QYXJzZShpdGVtLmNvbmZpZ3VyZSksCiAgICAgICAgICBpdGVtc0NvbmZpZyA9IF9zZWxmJGpzb25QYXJzZS5pdGVtc0NvbmZpZywKICAgICAgICAgIGdsb2JhbENvbmZpZyA9IF9zZWxmJGpzb25QYXJzZS5nbG9iYWxDb25maWcsCiAgICAgICAgICBmb3JtQ29uZmlnID0gX3NlbGYkanNvblBhcnNlLmZvcm1Db25maWc7CiAgICAgICAgZ2xvYmFsQ29uZmlnID0gZ2xvYmFsQ29uZmlnIHx8IHt9OwogICAgICAgIGl0ZW1zQ29uZmlnID0gaXRlbXNDb25maWcgfHwgW107CiAgICAgICAgZm9ybUNvbmZpZyA9IGZvcm1Db25maWcgfHwgW107CiAgICAgICAgdmFyIGdsb2JhbENvbmZpZ0NwID0gT2JqZWN0LmFzc2lnbih7CiAgICAgICAgICB0YWJsZW5hbWU6ICcnLAogICAgICAgICAgYnVzaW5lc3NUYWJsZU5hbWU6ICcnLAogICAgICAgICAgdGFibGVOb3RlOiAnJywKICAgICAgICAgIG1lYXN1cmluZ1VuaXQ6ICcnLAogICAgICAgICAgdmlld09yZGVyOiAnJywKICAgICAgICAgIGVkaXRhYmxlQmF0Y2g6ICcnLAogICAgICAgICAgdGFibGVUeXBlOiAnJywKICAgICAgICAgIG5vdGU6ICcnLAogICAgICAgICAgYXV0b0J1aWx0VGFibGVzOiAnJywKICAgICAgICAgIGVkaXRibGU6ICcnLAogICAgICAgICAgc2hvd0NoZWNrYm94OiAnJywKICAgICAgICAgIGNhblVzZTogJycsCiAgICAgICAgICBhU2luZ2xlVGFibGU6ICcnLAogICAgICAgICAgYmF0Y2hNb2RpZnk6ICcnLAogICAgICAgICAgcm93Q29uZmlnOiAnJywKICAgICAgICAgIG5vUmVjb3JkSXNBbGxvd2VkVG9SZXBvcnQ6ICcnLAogICAgICAgICAgc3VidG90YWxSb3dzOiAnJwogICAgICAgIH0sIGdsb2JhbENvbmZpZywgewogICAgICAgICAgLy8gdGFibGVuYW1lOiBpdGVtLnRhYmxlbmFtZSwKICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSwKICAgICAgICAgIHVwZGF0ZXRpbWU6IGl0ZW0udXBkYXRldGltZSwKICAgICAgICAgIG1lbnVuYW1lOiBfdGhpczIuY3VyTGVmdFRyZWVDbGlja05vZGUubmFtZSwKICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgbWVudWd1aWQ6IGl0ZW0ubWVudWd1aWQKICAgICAgICB9KTsKICAgICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcEFyci5wdXNoKGdsb2JhbENvbmZpZ0NwKTsKICAgICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcFtpdGVtLmlkXSA9IHsKICAgICAgICAgIGl0ZW1zQ29uZmlnOiBzZWxmLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpLAogICAgICAgICAgZm9ybUNvbmZpZzogc2VsZi50cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShmb3JtQ29uZmlnKSwKICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWdDcCwKICAgICAgICAgIG1lbnVndWlkOiBpdGVtLm1lbnVndWlkLAogICAgICAgICAgdHlwZTogaXRlbS50eXBlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHJlc3VsdE9iai5jdXJUYWJsZUNvbmZEYXRhc01hcEFyciA9IGN1clRhYmxlQ29uZkRhdGFzTWFwQXJyOwogICAgICByZXN1bHRPYmouY3VyVGFibGVDb25mRGF0YXNNYXAgPSBjdXJUYWJsZUNvbmZEYXRhc01hcDsKICAgICAgcmV0dXJuIHJlc3VsdE9iajsKICAgIH0sCiAgICBzZXRMZWZ0TWVudVRyZWU6IGZ1bmN0aW9uIHNldExlZnRNZW51VHJlZSgpIHsKICAgICAgLy8g5Yqg6L295bem5L6n5qCRCiAgICAgIHRoaXMubGVmdFRyZWVEYXRhID0gW10uY29uY2F0KHRoaXMuJHN0b3JlLnN0YXRlLnN5c3RlbU1lbnUpOwogICAgfSwKICAgIG9uTGVmdFRyZWVOb2RlQ2xpY2s6IGZ1bmN0aW9uIG9uTGVmdFRyZWVOb2RlQ2xpY2sobm9kZSwgbGVmdFRyZWUpIHsKICAgICAgLy8g5bem5L6n5qCR54K55Ye75LqL5Lu2CiAgICAgIGlmICghKEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGgpKSB7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIHRoaXMuY3VyTGVmdFRyZWVDbGlja05vZGUgPSBub2RlOwogICAgICAgIHRoaXMuZ2V0VGFibGVDb25mQnlNZW51Z3VpZChub2RlLmd1aWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgc2VsZi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIlx1NUY1M1x1NTI0RFx1ODNEQ1x1NTM1NVx1NjU3MFx1NjM2RVx1NjdFNVx1OEJFMlx1NjIxMFx1NTI5RixcdTUxNzFcdThCQTEoIi5jb25jYXQocmVzLmxlbmd0aCwgIlx1Njc2MSkiKSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICAgIHNlbGYuY3VyVGFibGVDb25mRGF0YXNNYXBBcnIgPSByZXM7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZWZyZXNoVGFibGU6IGZ1bmN0aW9uIHJlZnJlc2hUYWJsZSgpIHsKICAgICAgLy8g5Yi35paw6KGo5qC8CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy5nZXRUYWJsZUNvbmZCeU1lbnVndWlkKHRoaXMuY3VyTGVmdFRyZWVDbGlja05vZGUuZ3VpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgc2VsZi4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5b2T5YmN6I+c5Y2V5pWw5o2u5bey5Yi35pawJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pOwogICAgICAgIHNlbGYuY3VyVGFibGVDb25mRGF0YXNNYXBBcnIgPSByZXM7CiAgICAgICAgc2VsZi4kcmVmcy5ic1RhYmxlUmVmLnRhYmxlT3B0aW9uRm4oKS5yZWxvYWREYXRhKHNlbGYuY3VyVGFibGVDb25mRGF0YXNNYXBBcnIpLnRoZW4oZnVuY3Rpb24gKCkge30pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uRWRpdFRhYmxlQ2xpY2s6IGZ1bmN0aW9uIG9uRWRpdFRhYmxlQ2xpY2soKSB7CiAgICAgIC8vIOe8lui+keeCueWHu+S6i+S7tgogICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy4kcmVmcy5ic1RhYmxlUmVmLnNlbGVjdGlvbjsKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICB2YXIgX3RoaXMkanNvblBhcnNlID0gdGhpcy5qc29uUGFyc2Uoc2VsZWN0aW9uWzBdLmNvbmZpZ3VyZSksCiAgICAgICAgICBpdGVtc0NvbmZpZyA9IF90aGlzJGpzb25QYXJzZS5pdGVtc0NvbmZpZywKICAgICAgICAgIGdsb2JhbENvbmZpZyA9IF90aGlzJGpzb25QYXJzZS5nbG9iYWxDb25maWcsCiAgICAgICAgICBmb3JtQ29uZmlnID0gX3RoaXMkanNvblBhcnNlLmZvcm1Db25maWc7CiAgICAgICAgZ2xvYmFsQ29uZmlnID0gZ2xvYmFsQ29uZmlnIHx8IHt9OwogICAgICAgIGl0ZW1zQ29uZmlnID0gaXRlbXNDb25maWcgfHwgW107CiAgICAgICAgZm9ybUNvbmZpZyA9IGZvcm1Db25maWcgfHwgW107CiAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oc2VsZWN0aW9uWzBdLCB7CiAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpLAogICAgICAgICAgZm9ybUNvbmZpZzogdGhpcy50cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShmb3JtQ29uZmlnKQogICAgICAgIH0pOwogICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuIDmnaHmlbDmja7ov5vooYznvJbovpEnLAogICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkVkaXRGb3JtQ2xpY2s6IGZ1bmN0aW9uIG9uRWRpdEZvcm1DbGljaygpIHsKICAgICAgLy8g57yW6L6R54K55Ye75LqL5Lu2CiAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uOwogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHZhciBfdGhpcyRqc29uUGFyc2UyID0gdGhpcy5qc29uUGFyc2Uoc2VsZWN0aW9uWzBdLmNvbmZpZ3VyZSksCiAgICAgICAgICBpdGVtc0NvbmZpZyA9IF90aGlzJGpzb25QYXJzZTIuaXRlbXNDb25maWcsCiAgICAgICAgICBnbG9iYWxDb25maWcgPSBfdGhpcyRqc29uUGFyc2UyLmdsb2JhbENvbmZpZywKICAgICAgICAgIGZvcm1Db25maWcgPSBfdGhpcyRqc29uUGFyc2UyLmZvcm1Db25maWc7CiAgICAgICAgZ2xvYmFsQ29uZmlnID0gZ2xvYmFsQ29uZmlnIHx8IHt9OwogICAgICAgIGl0ZW1zQ29uZmlnID0gaXRlbXNDb25maWcgfHwgW107CiAgICAgICAgZm9ybUNvbmZpZyA9IGZvcm1Db25maWcgfHwgW107CiAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oc2VsZWN0aW9uWzBdLCB7CiAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpLAogICAgICAgICAgZm9ybUNvbmZpZzogdGhpcy50cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShmb3JtQ29uZmlnKQogICAgICAgIH0pOwogICAgICAgIHRoaXMuZm9ybUNvbmZNb2RhbFZpc2libGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeS4gOadoeaVsOaNrui/m+ihjOe8lui+kScsCiAgICAgICAgICB0eXBlOiAnaW5mbycKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uRWRpdENsaWNrOiBmdW5jdGlvbiBvbkVkaXRDbGljaygpIHsKICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb247CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgdmFyIF90aGlzJGpzb25QYXJzZTMgPSB0aGlzLmpzb25QYXJzZShzZWxlY3Rpb25bMF0uY29uZmlndXJlKSwKICAgICAgICAgIGl0ZW1zQ29uZmlnID0gX3RoaXMkanNvblBhcnNlMy5pdGVtc0NvbmZpZywKICAgICAgICAgIGdsb2JhbENvbmZpZyA9IF90aGlzJGpzb25QYXJzZTMuZ2xvYmFsQ29uZmlnLAogICAgICAgICAgc3ViVGFiQ29uZmlnID0gX3RoaXMkanNvblBhcnNlMy5zdWJUYWJDb25maWcsCiAgICAgICAgICBkZWZhdWx0Q29uZmlnID0gX3RoaXMkanNvblBhcnNlMy5kZWZhdWx0Q29uZmlnOwogICAgICAgIGdsb2JhbENvbmZpZyA9IGdsb2JhbENvbmZpZyB8fCB7fTsKICAgICAgICBpdGVtc0NvbmZpZyA9IGl0ZW1zQ29uZmlnIHx8IFtdOwogICAgICAgIHN1YlRhYkNvbmZpZyA9IHN1YlRhYkNvbmZpZyB8fCB7CiAgICAgICAgICBidXR0b25zOiBbXSwKICAgICAgICAgIGJ1dHRvbnNJbmZvOiB7fQogICAgICAgIH07CiAgICAgICAgZGVmYXVsdENvbmZpZyA9IGRlZmF1bHRDb25maWcgfHwgW107CiAgICAgICAgaWYgKHNlbGVjdGlvblswXS50eXBlID09PSAnZm9ybScgfHwgc2VsZWN0aW9uWzBdLnR5cGUgPT09ICdmb3JtQ29uZicgfHwgc2VsZWN0aW9uWzBdLnR5cGUgPT09ICdkZXRhaWwnIHx8IHNlbGVjdGlvblswXS50eXBlID09PSAnZGV0YWlsQ29uZicpIHsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KGl0ZW1zQ29uZmlnKSwKICAgICAgICAgICAgaXRlbXNDb25maWc6IHRoaXMudHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZm9ybUNvbmZNb2RhbFZpc2libGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uWzBdLnR5cGUgPT09ICd0YWJQYW5lQ29uZicpIHsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KHN1YlRhYkNvbmZpZyksCiAgICAgICAgICAgIHN1YlRhYkNvbmZpZzogc3ViVGFiQ29uZmlnCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuU3ViVGFiQ29uZmlnVmlzaWJsZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb25bMF0udHlwZSA9PT0gJ2VudGVyaW5nRGVmYXVsdCcpIHsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KGRlZmF1bHRDb25maWcpLAogICAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGRlZmF1bHRDb25maWcpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZW50ZXJpbmdEZWZhdWx0VmlzaWJsZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KGl0ZW1zQ29uZmlnKSwKICAgICAgICAgICAgaXRlbXNDb25maWc6IHRoaXMudHJhbnNmb3JtQ29ubHVtc0RhdGFUb1NpbmdsZShpdGVtc0NvbmZpZykKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFZpc2libGUgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuIDmnaHmlbDmja7ov5vooYznvJbovpEnLAogICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkFkZENsaWNrOiBmdW5jdGlvbiBvbkFkZENsaWNrKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5pbnNlcnRSb3dEYXRhKHsKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBtZW51Z3VpZDogc2VsZi5jdXJMZWZ0VHJlZUNsaWNrTm9kZS5ndWlkLAogICAgICAgICAgdHlwZTogJ3RhYmxlJywKICAgICAgICAgIG9wdGlvblR5cGU6ICdhZGQnLAogICAgICAgICAgaWQ6IHNlbGYuJFRvb2xGbi51dGlsRm4uZ2V0VXVpZCgpLAogICAgICAgICAgbWVudW5hbWU6IHNlbGYuY3VyTGVmdFRyZWVDbGlja05vZGUubmFtZSwKICAgICAgICAgIHRhYmxlbmFtZTogJycsCiAgICAgICAgICBjb25maWd1cmU6IHNlbGYuanNvblN0cmluZ2lmeSh7CiAgICAgICAgICAgIGdsb2JhbENvbmZpZzoge30sCiAgICAgICAgICAgIC8vIOWFqOWxgOmFjee9rgogICAgICAgICAgICBpdGVtc0NvbmZpZzogW10sCiAgICAgICAgICAgIC8vIOmhuemFjee9rgogICAgICAgICAgICBwYWdlQ29uZmlnOiB7fSwKICAgICAgICAgICAgLy8g5YiG6aG16YWN572uCiAgICAgICAgICAgIGVkaXRDb25maWc6IHt9LAogICAgICAgICAgICAvLyDnvJbovpHphY3nva4KICAgICAgICAgICAgZWRpdFJ1bGVzOiB7fSwKICAgICAgICAgICAgLy8g5qCh6aqM6KeE5YiZCiAgICAgICAgICAgIGZvb3RlckNvbmZpZzoge30sCiAgICAgICAgICAgIC8vIOihqOWwvumFjee9rgogICAgICAgICAgICBkYXRhQ29uZmlnOiB7CiAgICAgICAgICAgICAgZGF0YVNvdWNlVHlwZTogJ3F1ZXJ5JwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWJUYWJDb25maWc6IFtdLAogICAgICAgICAgICBkZWZhdWx0Q29uZmlnOiBbXSAvLyDlvZXlhaXpu5jorqTlgLwKICAgICAgICAgIH0pCiAgICAgICAgICAvLyBtZW51Z3VpZDogJzEyMzQ1NicKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uRGVsZXRlQ2xpY2s6IGZ1bmN0aW9uIG9uRGVsZXRlQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gaXRlbS5pZDsKICAgICAgfSk7CiAgICAgIHZhciBtZW51Z3VpZCA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb25bMF0ubWVudWd1aWQ7CiAgICAgIHRoaXMubWVudWd1aWRzWzBdID0gbWVudWd1aWQ7CiAgICAgIGlmIChpZHMubGVuZ3RoKSB7CiAgICAgICAgc2VsZi4kY29uZmlybSgn56Gu5a6a5Yig6Zmk77yfJywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZWxmLiRodHRwLmRlbCgnbXAtYi1wZXJtLXNlcnZpY2UvdjEvdGFibGVjb25mJywgewogICAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHNlbGYudXNlckluZm8ucHJvdmluY2UsCiAgICAgICAgICAgIC8vIOWMuuWIkgogICAgICAgICAgICBmaXNjYWx5ZWFyOiBzZWxmLnVzZXJJbmZvLnllYXIsCiAgICAgICAgICAgIC8vIOW5tOS7vXMKICAgICAgICAgICAgaWRzOiBpZHMsCiAgICAgICAgICAgIG1lbnVndWlkczogX3RoaXMzLm1lbnVndWlkcwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgewogICAgICAgICAgICAgIHNlbGYuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgbWVzc2FnZTogIlx1OTAwOVx1NEUyRFx1NzY4NCIuY29uY2F0KGlkcy5sZW5ndGgsICJcdTY3NjFcdTY1NzBcdTYzNkVcdTVERjJcdTUyMjBcdTk2NjQiKSwKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHNlbGYucmVmcmVzaFRhYmxlKCk7CiAgICAgICAgICAgICAgLy8gcmVzb2x2ZShzZWxmLmdlbmVyYXRlQ3VyVGFibGVDb25mRGF0YU1hcChyZXMuZGF0YSkpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgc2VsZi4kbWVzc2FnZS5zdWNjZXNzKCflj5bmtojliKDpmaTmiJDlip8nKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uVGFibGVDZWxsQ2xpY2s6IGZ1bmN0aW9uIG9uVGFibGVDZWxsQ2xpY2soX3JlZjIpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYyLnJvdywKICAgICAgICByb3dJbmRleCA9IF9yZWYyLnJvd0luZGV4LAogICAgICAgICRyb3dJbmRleCA9IF9yZWYyLiRyb3dJbmRleCwKICAgICAgICBjb2x1bW4gPSBfcmVmMi5jb2x1bW4sCiAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmMi5jb2x1bW5JbmRleCwKICAgICAgICAkY29sdW1uSW5kZXggPSBfcmVmMi4kY29sdW1uSW5kZXgsCiAgICAgICAgdHJpZ2dlclJhZGlvID0gX3JlZjIudHJpZ2dlclJhZGlvLAogICAgICAgIHRyaWdnZXJDaGVja2JveCA9IF9yZWYyLnRyaWdnZXJDaGVja2JveCwKICAgICAgICB0cmlnZ2VyVHJlZU5vZGUgPSBfcmVmMi50cmlnZ2VyVHJlZU5vZGUsCiAgICAgICAgdHJpZ2dlckV4cGFuZE5vZGUgPSBfcmVmMi50cmlnZ2VyRXhwYW5kTm9kZSwKICAgICAgICAkZXZlbnQgPSBfcmVmMi4kZXZlbnQ7CiAgICB9IC8vIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSB0aGlzLmN1clRhYmxlQ29uZkRhdGFzTWFwW3Jvdy5pZF0KICAgIC8vIHRoaXMuVGFibGVDb25mTW9kYWxWaXNpYmxlID0gdHJ1ZQogICAgLAogICAgLy8g5Yy65YiS6buY6K6k5YC8CiAgICBnZXRQcm92aW5jZTogZnVuY3Rpb24gZ2V0UHJvdmluY2UoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgb2JqID0gewogICAgICAgIHZhbHVlOiB0aGlzLnVzZXJJbmZvLnByb3ZpbmNlLAogICAgICAgIGxhYmVsOiB0aGlzLnVzZXJJbmZvLmFkbWRpdm5hbWUKICAgICAgfTsKICAgICAgdmFyIGZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy50YWJsZUNvbHVtbnNDb25maWdbMF0uZWRpdFJlbmRlci5vcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gX3RoaXM0LnVzZXJJbmZvLnByb3ZpbmNlKSB7CiAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoIWZsYWcpIHsKICAgICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZ1swXS5lZGl0UmVuZGVyLm9wdGlvbnMucHVzaChvYmopOwogICAgICB9CiAgICAgIHRoaXMudGFibGVDb2x1bW5zQ29uZmlnWzBdLmVkaXRSZW5kZXIuZGVmYXVsdFZhbHVlID0gdGhpcy51c2VySW5mby5wcm92aW5jZTsKICAgIH0sCiAgICAvLyDnvJbovpHnmoTml7blgJnlvZXlhaXpu5jorqTlgLzmnInkuKrpu5jorqRpZAogICAgZWRpdENsb3NlZDogZnVuY3Rpb24gZWRpdENsb3NlZChfcmVmMykgewogICAgICB2YXIgcm93ID0gX3JlZjMucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWYzLmNvbHVtbjsKICAgICAgLy8gZW50ZXJpbmdEZWZhdWx0RmxhZ+agh+ivhu+8jOW9k+aUuei/h+S4uuW9leWFpem7mOiupOWAvOWQju+8jOWGjeabtOaUueaJjeW9seWTjWlk5Y+Y5YyWCiAgICAgIGlmIChyb3cudHlwZSA9PT0gJ2VudGVyaW5nRGVmYXVsdCcpIHsKICAgICAgICByb3cuaWQgPSAnRDlBMEI1OEU1QzIyNDJGMzg2MEU2RDgxNTFDMjExQjInOwogICAgICAgIHJvdy5pZF9fdmlld1NvcnQgPSAnRDlBMEI1OEU1QzIyNDJGMzg2MEU2RDgxNTFDMjExQjInOwogICAgICAgIHRoaXMuZW50ZXJpbmdEZWZhdWx0RmxhZyA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAocm93LnR5cGUgIT09ICdlbnRlcmluZ0RlZmF1bHQnICYmIHRoaXMuZW50ZXJpbmdEZWZhdWx0RmxhZyA9PT0gdHJ1ZSkgewogICAgICAgIHJvdy5pZCA9IHRoaXMuJFRvb2xGbi51dGlsRm4uZ2V0VXVpZCgpOwogICAgICAgIHJvdy5pZF9fdmlld1NvcnQgPSByb3cuaWQ7CiAgICAgICAgdGhpcy5lbnRlcmluZ0RlZmF1bHRGbGFnID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldExlZnRNZW51VHJlZSgpOwogICAgaWYgKHRoaXMuJGdsb2FibGVUb29sRm4uY3VycmVudFByb3ZpbmNlID09PSB0aGlzLiRnbG9hYmxlVG9vbEZuLkZ1SmlhbikgewogICAgICB0aGlzLmdldFByb3ZpbmNlKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdGFibGVDb25mTW9kYWxWaXNpYmxlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3dmFsKSB7CiAgICAgICAgLy8gaWYgKCFuZXd2YWwpIHsKICAgICAgICAvLyAgIHRoaXMucmVmcmVzaFRhYmxlKCkKICAgICAgICAvLyB9CiAgICAgIH0sCiAgICAgIC8vIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIGZvcm1Db25mTW9kYWxWaXNpYmxlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3dmFsKSB7CiAgICAgICAgLy8gaWYgKCFuZXd2YWwpIHsKICAgICAgICAvLyAgIHRoaXMucmVmcmVzaFRhYmxlKCkKICAgICAgICAvLyB9CiAgICAgIH0sCiAgICAgIC8vIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"names":["TableConfModal","FormConfModal","EnteringDefault","getFormConfData","SubTabConfigModal","name","components","props","allPropData","type","Object","default","_default","data","menuguids","curConfType","leftVisible","leftTreeData","curSplitPaneLeftWidth","isShowQueryConditions","serverUri","treeQueryparams","menuguid","useRight","batchno","datatype","eleCode","sxspecroleguid","treeleftTreeConfig","inputVal","treeConfig","curRadio","radioGroup","code","label","leftTreeConfig","pagerConfig","currentPage","total","curTableConfDatas","curTableConfDatasMapArr","curTableConfDatasMap","globleConfigCp","tableName","businessTableName","tableNote","measuringUnit","viewOrder","editableBatch","tableType","note","autoBuiltTables","editble","showCheckbox","canUse","aSingleTable","batchModify","rowConfig","noRecordIsAllowedToReport","subtotalRows","toolbarConfig","_objectSpread","disabledMoneyConversion","tableConfig","tableColumnsConfig","tableConfModalVisible","formConfModalVisible","enteringDefaultVisible","curLeftTreeClickNode","enteringDefaultFlag","SubTabConfigVisible","computed","curNavModule","$store","state","userInfo","methods","deepCopy","obj","me","_typeof","newObj","Array","key","hasOwnProperty","jsonStringify","columns","JSON","stringify","val","jsonParse","str","parse","k","v","indexOf","func","Function","e","changeInput","confrimData","curTree","console","log","tabStatusNumConfig","onSplitPaneResize","leftWidth","ajaxData","_ref","pageSize","queryParams","assign","getTableDatas","_this","showLoading","self","$http","post","then","res","tableData","list","transformConlumsDataToNest","forEach","column","columnIndex","isArray","children","length","renderType","renderName","options","params","split","map","item","index","value","defaultValue","_XID","transformConlumsDataToSingle","editRender","cellRender","itemRender","join","transformItemsDataToSingle","items","itemIndex","getTableConfByMenuguid","Promise","resolve","reject","get","mof_div_code","province","fiscalyear","year","rscode","catch","error","generateCurTableConfDataMap","curMenuConfs","_this2","resultObj","_self$jsonParse","configure","itemsConfig","globalConfig","formConfig","globalConfigCp","tablename","updatetime","menuname","id","push","setLeftMenuTree","concat","systemMenu","onLeftTreeNodeClick","node","leftTree","guid","$message","showClose","message","refreshTable","$refs","bsTableRef","tableOptionFn","reloadData","err","onEditTableClick","selection","_this$jsonParse","tableConfModalParams","onEditFormClick","_this$jsonParse2","onEditClick","_this$jsonParse3","subTabConfig","defaultConfig","buttons","buttonsInfo","itemsConfigNest","onAddClick","insertRowData","optionType","$ToolFn","utilFn","getUuid","pageConfig","editConfig","editRules","footerConfig","dataConfig","dataSouceType","onDeleteClick","_this3","ids","$confirm","confirmButtonText","cancelButtonText","del","success","onTableCellClick","_ref2","row","rowIndex","$rowIndex","$columnIndex","triggerRadio","triggerCheckbox","triggerTreeNode","triggerExpandNode","$event","getProvince","_this4","admdivname","flag","editClosed","_ref3","id__viewSort","mounted","$gloableToolFn","currentProvince","FuJian","watch","handler","newval","immediate"],"sources":["src/views/manageSystem/table/Main.vue"],"sourcesContent":["<!--  表格信息配置   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div class=\"height-all\">\r\n    <BsMainFormListLayout :left-visible.sync=\"leftVisible\">\r\n      <template v-slot:topTap>\r\n        <!-- <BsJsonEditor />  -->\r\n      </template>\r\n      <template v-slot:topTabPane> </template>\r\n      <template v-slot:query> </template>\r\n      <!-- leftVisible不为undefined为渲染mainTree和mainForm插槽 ，否则渲染mainCon插槽-->\r\n      <template v-slot:mainTree>\r\n        <div class=\"height-all left-tree-pane\">\r\n          <div class=\"mmc-left-tree-title\">\r\n            <BsTreeSet\r\n              :tree-config=\"treeConfig\"\r\n              @onAsideChange=\"leftVisible = false\"\r\n              @onChangeInput=\"changeInput\"\r\n              @onConfrimData=\"confrimData\"\r\n            />\r\n            <!-- <div class=\"mmc-title\">\r\n              <span class=\"fn-inline\">菜单树</span>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"mmc-left-tree-body\" style=\"height: calc(100% - 48px)\">\r\n            <BsBossTree\r\n              ref=\"testTree\"\r\n              is-need-root\r\n              :tree-props=\"{\r\n                label: 'name',\r\n                children: 'children',\r\n              }\"\r\n              open-loading\r\n              :is-server=\"false\"\r\n              :datas=\"leftTreeData\"\r\n              :server-uri=\"serverUri\"\r\n              :global-config=\"leftTreeConfig\"\r\n              :queryparams=\"treeQueryparams\"\r\n              :clickmethod=\"onLeftTreeNodeClick\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template v-slot:mainForm>\r\n        <BsTable1\r\n          ref=\"bsTableRef\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"tableColumnsConfig\"\r\n          :table-data=\"curTableConfDatasMapArr\"\r\n          :toolbar-config=\"toolbarConfig\"\r\n          :pager-config=\"false\"\r\n          :edit-config=\"{}\"\r\n          @ajaxData=\"ajaxData\"\r\n          @editClosed=\"editClosed\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left\">\r\n              <div\r\n                v-if=\"leftVisible === false\"\r\n                class=\"table-toolbar-contro-leftvisible\"\r\n                @click=\"leftVisible = true\"\r\n              ></div>\r\n              <div class=\"table-toolbar-left-title\">\r\n                <span class=\"fn-inline\">{{\r\n                  (curLeftTreeClickNode.name ? curLeftTreeClickNode.name : '') + '菜单表配置'\r\n                }}</span>\r\n                <i class=\"fn-inline\"></i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <template v-slot:toolbar-custom-slot>\r\n            <div class=\"toolbar-slot-custom-slot fn-inline\">\r\n              <!-- <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表单项配置\"\r\n                @click=\"onEditFormClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表格列配置\"\r\n                @click=\"onEditTableClick\"\r\n              /> -->\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"新增\"\r\n                @click=\"onAddClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"删除\"\r\n                @click=\"onDeleteClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑\"\r\n                @click=\"onEditClick\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </BsTable1>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <div>\r\n      <TableConfModal\r\n        v-if=\"tableConfModalVisible\"\r\n        :dialog-visible.sync=\"tableConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <FormConfModal\r\n        v-if=\"formConfModalVisible\"\r\n        :dialog-visible.sync=\"formConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <EnteringDefault\r\n        v-if=\"enteringDefaultVisible\"\r\n        :dialog-visible.sync=\"enteringDefaultVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <SubTabConfigModal\r\n        v-if=\"SubTabConfigVisible\"\r\n        :dialog-visible.sync=\"SubTabConfigVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TableConfModal from './tableConfModal.vue'\r\nimport FormConfModal from './FormConfModal.vue'\r\nimport EnteringDefault from './enteringDefault.vue'\r\nimport getFormConfData from './formConf.js'\r\nimport SubTabConfigModal from './SubTabConfigModal.vue'\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    TableConfModal,\r\n    FormConfModal,\r\n    EnteringDefault,\r\n    SubTabConfigModal\r\n  },\r\n  props: {\r\n    allPropData: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      menuguids: [],\r\n      curConfType: 'table',\r\n      leftVisible: true,\r\n      leftTreeData: [],\r\n      curSplitPaneLeftWidth: 20,\r\n      isShowQueryConditions: false,\r\n      serverUri: 'mp-b-perm-service/v1/tableconf/menuguid',\r\n      treeQueryparams: {\r\n        menuguid: 'test_123456',\r\n        useRight: false,\r\n        batchno: 2,\r\n        datatype: 5,\r\n        eleCode: 'DEPBGTECO',\r\n        sxspecroleguid: '637B6D5A823F459AB313CBF94C87765B'\r\n      },\r\n      treeleftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      treeConfig: {\r\n        curRadio: 'zf',\r\n        radioGroup: [\r\n          {\r\n            code: 'zf',\r\n            label: '政府部门树'\r\n          },\r\n          {\r\n            code: 'xuexiao',\r\n            label: '学校树'\r\n          },\r\n          {\r\n            code: 'jigou',\r\n            label: '机构树'\r\n          }\r\n        ]\r\n      },\r\n      leftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      pagerConfig: {\r\n        currentPage: 1,\r\n        total: 100\r\n      },\r\n      curTableConfDatas: [],\r\n      currentPage: 1,\r\n      curTableConfDatasMapArr: [\r\n        // {\r\n        //   tableName: '1',\r\n        //   businessTableName: '1',\r\n        //   tableNote: '1',\r\n        //   measuringUnit: 1,\r\n        //   viewOrder: '001',\r\n        //   editableBatch: '001',\r\n        //   tableType: '001',\r\n        //   note: '1',\r\n        //   autoBuiltTables: false,\r\n        //   editble: true,\r\n        //   showCheckbox: true,\r\n        //   canUse: true,\r\n        //   aSingleTable: false,\r\n        //   batchModify: false,\r\n        //   rowConfig: false,\r\n        //   noRecordIsAllowedToReport: true,\r\n        //   subtotalRows: true\r\n        // }\r\n      ],\r\n      curTableConfDatasMap: {},\r\n      globleConfigCp: {\r\n        tableName: '',\r\n        businessTableName: '',\r\n        tableNote: '',\r\n        measuringUnit: '',\r\n        viewOrder: '',\r\n        editableBatch: '',\r\n        tableType: '',\r\n        note: '',\r\n        autoBuiltTables: false,\r\n        editble: true,\r\n        showCheckbox: true,\r\n        canUse: true,\r\n        aSingleTable: false,\r\n        batchModify: false,\r\n        rowConfig: false,\r\n        noRecordIsAllowedToReport: true,\r\n        subtotalRows: true\r\n      },\r\n      toolbarConfig: {\r\n        disabledMoneyConversion: true,\r\n        ...getFormConfData('tableInforConf', 'toolbarConfig')\r\n      },\r\n      tableConfig: getFormConfData('tableInforConf', 'tableConfig'),\r\n      tableColumnsConfig: getFormConfData(\r\n        'tableInforConf',\r\n        'tableColumnsConfig'\r\n      ),\r\n      tableConfModalVisible: false,\r\n      formConfModalVisible: false,\r\n      enteringDefaultVisible: false,\r\n      curLeftTreeClickNode: {},\r\n      enteringDefaultFlag: false,\r\n      SubTabConfigVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.userInfo\r\n    }\r\n  },\r\n  methods: {\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    jsonStringify(columns) {\r\n      // 对象转换成json字符串\r\n      return JSON.stringify(columns, function (key, val) {\r\n        if (typeof val === 'function') {\r\n          return val + ''\r\n        }\r\n        return val\r\n      })\r\n    },\r\n    jsonParse(str) {\r\n      // json字符串转换成对象\r\n      return JSON.parse(str, function (k, v) {\r\n        try {\r\n          if (\r\n            v.indexOf &&\r\n            (v.indexOf('function') > -1 || v.indexOf('=>') > -1)\r\n          ) {\r\n            // return eval('(function(){return ' + v + ' })()')\r\n            // eslint-disable-next-line no-new-func\r\n            let func = new Function('return ' + v)\r\n            return func()\r\n          }\r\n          return v\r\n        } catch (e) {\r\n          return v\r\n        }\r\n      })\r\n    },\r\n    changeInput(val) {\r\n      this.treeleftTreeConfig.inputVal = val\r\n    },\r\n    confrimData(curTree) {\r\n      this.confrimData.curRadio = curTree.code\r\n      switch (curTree.code) {\r\n        case 'zf':\r\n          console.log('切换成政府树条件，加载政府树...')\r\n          break\r\n        case 'xuexiao':\r\n          console.log('切换成学校树条件，加载学校树...')\r\n          this.tabStatusNumConfig['ycl'] = 12\r\n          break\r\n        case 'jigou':\r\n          console.log('切换成机构树条件，加载机构树...')\r\n          break\r\n      }\r\n    },\r\n    onSplitPaneResize(leftWidth) {\r\n      if (leftWidth > 1) {\r\n        this.curSplitPaneLeftWidth = leftWidth\r\n        this.leftVisible = true\r\n      } else {\r\n        this.leftVisible = false\r\n      }\r\n    },\r\n    ajaxData({ currentPage, pageSize }) {\r\n      this.pagerConfig.currentPage = currentPage\r\n      this.queryParams = Object.assign(this.queryParams, {\r\n        currentPage,\r\n        pageSize\r\n      })\r\n      this.getTableDatas(currentPage, pageSize)\r\n    },\r\n    getTableDatas(currentPage, pageSize) {\r\n      // 服务端查询数据\r\n      this.showLoading = true\r\n      let self = this\r\n      this.$http.post('url', this.queryParams).then((res) => {\r\n        if (res.code === 200) {\r\n          self.tableData = res.data.list\r\n          self.pagerConfig = {\r\n            total: res.data.total,\r\n            currentPage: currentPage\r\n          }\r\n          this.showLoading = false\r\n        }\r\n      })\r\n    },\r\n    transformConlumsDataToNest(columns) {\r\n      // columns转化为vxe-table columns数据结构\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          column[column.renderType] = {\r\n            name: column.renderName, // 渲染器名,\r\n            options: ((params) => {\r\n              if (typeof params === 'object') {\r\n                return self.deepCopy(params)\r\n              } else if (typeof params === 'string') {\r\n                return params\r\n                  ? params.split('+').map((item, index) => {\r\n                    return {\r\n                      value: item.split('#')[0],\r\n                      label: item.split('#')[1]\r\n                    }\r\n                  })\r\n                  : []\r\n              } else {\r\n                return params\r\n              }\r\n            })(column.options), // 下拉数据源\r\n            defaultValue: column.defaultValue, // 默认值\r\n            props: column.props // 额外参数\r\n          }\r\n          delete column._XID\r\n          delete column.renderType\r\n          delete column.renderName\r\n          delete column.options\r\n          delete column.props\r\n          delete column.defaultValue\r\n          delete self.deepCopy(column.props)\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformConlumsDataToSingle(columns) {\r\n      // vxe-table columns数据结构转化为单层columns\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          if (column.hasOwnProperty('editRender')) {\r\n            column.renderType = 'editRender'\r\n            column.renderName = column.editRender.name\r\n            column = Object.assign(column, self.deepCopy(column.editRender))\r\n            delete column.editRender\r\n          } else if (column.hasOwnProperty('cellRender')) {\r\n            column.renderType = 'cellRender'\r\n            column.renderName = column.cellRender.name\r\n            column = Object.assign(column, self.deepCopy(column.cellRender))\r\n          } else if (column.hasOwnProperty('itemRender')) {\r\n            column.renderType = 'itemRender'\r\n            column.renderName = column.itemRender.name\r\n            column = Object.assign(column, self.deepCopy(column.itemRender))\r\n          } else {\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox'].indexOf(column.renderName) >= 0) {\r\n            column.options = column.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+')\r\n          }\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformItemsDataToSingle(items) {\r\n      // vxe-table items数据结构转化为单层items\r\n      let self = this\r\n      items.forEach((item, itemIndex) => {\r\n        if (Array.isArray(item.children) && item.children.length) {\r\n          item.children = self.transformConlumsDataToNest(item.children)\r\n        } else {\r\n          if (item.hasOwnProperty('itemRender')) {\r\n            item.renderType = 'itemRender'\r\n            item.renderName = item.itemRender.name\r\n            item = Object.assign(item, self.deepCopy(item.itemRender))\r\n            delete item.itemRender\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormRadio', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox', '$vxeFormCheckbox'].indexOf(item.renderName) >= 0) {\r\n            item.options = Array.isArray(item.options) ? item.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+') : item.options\r\n          }\r\n        }\r\n      })\r\n      return items\r\n    },\r\n    getTableConfByMenuguid(menuguid) {\r\n      // 根据菜单menuguid获取其下所有表配置\r\n      let self = this\r\n      return new Promise((resolve, reject) => {\r\n        self.$http\r\n          .get('mp-b-perm-service/v1/tableconf/menuguid', {\r\n            menuguid: menuguid,\r\n            mof_div_code: self.userInfo.province, // 区划\r\n            fiscalyear: self.userInfo.year // 年份\r\n          })\r\n          .then((res) => {\r\n            if (res.rscode === '100000') {\r\n              resolve(res.data)\r\n              // resolve(self.generateCurTableConfDataMap(res.data))\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            reject(error)\r\n          })\r\n      })\r\n    },\r\n    generateCurTableConfDataMap(curMenuConfs) {\r\n      // 生成当前menu下表格数据映射\r\n      let self = this\r\n      let resultObj = {}\r\n      let curTableConfDatasMap = {}\r\n      let curTableConfDatasMapArr = []\r\n      resultObj.curTableConfDatas = curMenuConfs\r\n      curMenuConfs.forEach((item, index) => {\r\n        let { itemsConfig, globalConfig, formConfig } = self.jsonParse(\r\n          item.configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        let globalConfigCp = Object.assign(\r\n          {\r\n            tablename: '',\r\n            businessTableName: '',\r\n            tableNote: '',\r\n            measuringUnit: '',\r\n            viewOrder: '',\r\n            editableBatch: '',\r\n            tableType: '',\r\n            note: '',\r\n            autoBuiltTables: '',\r\n            editble: '',\r\n            showCheckbox: '',\r\n            canUse: '',\r\n            aSingleTable: '',\r\n            batchModify: '',\r\n            rowConfig: '',\r\n            noRecordIsAllowedToReport: '',\r\n            subtotalRows: ''\r\n          },\r\n          globalConfig,\r\n          {\r\n            // tablename: item.tablename,\r\n            type: item.type,\r\n            updatetime: item.updatetime,\r\n            menuname: this.curLeftTreeClickNode.name,\r\n            id: item.id,\r\n            menuguid: item.menuguid\r\n          }\r\n        )\r\n        curTableConfDatasMapArr.push(globalConfigCp)\r\n        curTableConfDatasMap[item.id] = {\r\n          itemsConfig: self.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: self.transformItemsDataToSingle(formConfig),\r\n          id: item.id,\r\n          globalConfig: globalConfigCp,\r\n          menuguid: item.menuguid,\r\n          type: item.type\r\n        }\r\n      })\r\n      resultObj.curTableConfDatasMapArr = curTableConfDatasMapArr\r\n      resultObj.curTableConfDatasMap = curTableConfDatasMap\r\n      return resultObj\r\n    },\r\n    setLeftMenuTree() {\r\n      // 加载左侧树\r\n      this.leftTreeData = [].concat(this.$store.state.systemMenu)\r\n    },\r\n    onLeftTreeNodeClick(node, leftTree) {\r\n      // 左侧树点击事件\r\n      if (!(Array.isArray(node.children) && node.children.length)) {\r\n        let self = this\r\n        this.curLeftTreeClickNode = node\r\n        this.getTableConfByMenuguid(node.guid).then((res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: `当前菜单数据查询成功,共计(${res.length}条)`,\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n        })\r\n      }\r\n    },\r\n    refreshTable() {\r\n      // 刷新表格\r\n      let self = this\r\n      this.getTableConfByMenuguid(this.curLeftTreeClickNode.guid).then(\r\n        (res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: '当前菜单数据已刷新',\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n          self.$refs.bsTableRef\r\n            .tableOptionFn()\r\n            .reloadData(self.curTableConfDatasMapArr).then(() => {}).catch(err => {\r\n              console.log(err)\r\n            })\r\n        }\r\n      )\r\n    },\r\n    onEditTableClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.tableConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditFormClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.formConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditClick() {\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, subTabConfig, defaultConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        subTabConfig = subTabConfig || {\r\n          buttons: [],\r\n          buttonsInfo: {}\r\n        }\r\n        defaultConfig = defaultConfig || []\r\n        if (selection[0].type === 'form' || selection[0].type === 'formConf' || selection[0].type === 'detail' || selection[0].type === 'detailConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformItemsDataToSingle(itemsConfig)\r\n          })\r\n          this.formConfModalVisible = true\r\n        } else if (selection[0].type === 'tabPaneConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(subTabConfig),\r\n            subTabConfig: subTabConfig\r\n          })\r\n          this.SubTabConfigVisible = true\r\n        } else if (selection[0].type === 'enteringDefault') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(defaultConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(defaultConfig)\r\n          })\r\n          this.enteringDefaultVisible = true\r\n        } else {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(itemsConfig)\r\n          })\r\n          this.tableConfModalVisible = true\r\n        }\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onAddClick() {\r\n      let self = this\r\n      this.$refs.bsTableRef.insertRowData({\r\n        data: {\r\n          menuguid: self.curLeftTreeClickNode.guid,\r\n          type: 'table',\r\n          optionType: 'add',\r\n          id: self.$ToolFn.utilFn.getUuid(),\r\n          menuname: self.curLeftTreeClickNode.name,\r\n          tablename: '',\r\n          configure: self.jsonStringify({\r\n            globalConfig: {}, // 全局配置\r\n            itemsConfig: [], // 项配置\r\n            pageConfig: {}, // 分页配置\r\n            editConfig: {}, // 编辑配置\r\n            editRules: {}, // 校验规则\r\n            footerConfig: {}, // 表尾配置\r\n            dataConfig: {\r\n              dataSouceType: 'query'\r\n            },\r\n            subTabConfig: [],\r\n            defaultConfig: [] // 录入默认值\r\n          })\r\n        // menuguid: '123456'\r\n        }\r\n      })\r\n    },\r\n    onDeleteClick() {\r\n      let self = this\r\n      let ids = this.$refs.bsTableRef.selection.map((item, index) => {\r\n        return item.id\r\n      })\r\n      let menuguid = this.$refs.bsTableRef.selection[0].menuguid\r\n      this.menuguids[0] = menuguid\r\n      if (ids.length) {\r\n        self.$confirm('确定删除？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          self.$http\r\n            .del('mp-b-perm-service/v1/tableconf', {\r\n              mof_div_code: self.userInfo.province, // 区划\r\n              fiscalyear: self.userInfo.year, // 年份s\r\n              ids: ids,\r\n              menuguids: this.menuguids\r\n            })\r\n            .then((res) => {\r\n              if (res.rscode === '100000') {\r\n                self.$message({\r\n                  showClose: true,\r\n                  message: `选中的${ids.length}条数据已删除`,\r\n                  type: 'success'\r\n                })\r\n                self.refreshTable()\r\n                // resolve(self.generateCurTableConfDataMap(res.data))\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.log(error)\r\n            })\r\n        }).catch(e => {\r\n          self.$message.success('取消删除成功')\r\n        })\r\n      }\r\n    },\r\n    onTableCellClick({\r\n      row,\r\n      rowIndex,\r\n      $rowIndex,\r\n      column,\r\n      columnIndex,\r\n      $columnIndex,\r\n      triggerRadio,\r\n      triggerCheckbox,\r\n      triggerTreeNode,\r\n      triggerExpandNode,\r\n      $event\r\n    }) {\r\n      // this.tableConfModalParams = this.curTableConfDatasMap[row.id]\r\n      // this.TableConfModalVisible = true\r\n    },\r\n    // 区划默认值\r\n    getProvince() {\r\n      let obj = {\r\n        value: this.userInfo.province,\r\n        label: this.userInfo.admdivname\r\n      }\r\n      let flag = false\r\n      this.tableColumnsConfig[0].editRender.options.forEach(item => {\r\n        if (item.value === this.userInfo.province) {\r\n          flag = true\r\n        }\r\n      })\r\n      if (!flag) {\r\n        this.tableColumnsConfig[0].editRender.options.push(obj)\r\n      }\r\n      this.tableColumnsConfig[0].editRender.defaultValue = this.userInfo.province\r\n    },\r\n    // 编辑的时候录入默认值有个默认id\r\n    editClosed({ row, column }) {\r\n      // enteringDefaultFlag标识，当改过为录入默认值后，再更改才影响id变化\r\n      if (row.type === 'enteringDefault') {\r\n        row.id = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        row.id__viewSort = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        this.enteringDefaultFlag = true\r\n      } else if (row.type !== 'enteringDefault' && this.enteringDefaultFlag === true) {\r\n        row.id = this.$ToolFn.utilFn.getUuid()\r\n        row.id__viewSort = row.id\r\n        this.enteringDefaultFlag = false\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setLeftMenuTree()\r\n    if (this.$gloableToolFn.currentProvince === this.$gloableToolFn.FuJian) {\r\n      this.getProvince()\r\n    }\r\n  },\r\n  watch: {\r\n    tableConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    },\r\n    formConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.left-tree-pane {\r\n  .mmc-title {\r\n    height: 47px;\r\n    padding: 7px 15px;\r\n    line-height: 31px;\r\n    color: #464c5b;\r\n    font-size: 16px;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #dce3f3;\r\n    background-color: #e3f2fe;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}