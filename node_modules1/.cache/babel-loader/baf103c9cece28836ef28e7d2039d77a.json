{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\InvoiceTable\\InvoiceTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\InvoiceTable\\InvoiceTable.vue","mtime":1694505521442},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyWyJAQGl0ZXJhdG9yIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfQovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHV0aWwgZnJvbSAnQC9jb21wb25lbnRzL3Rvb2wvdXRpbC5qcyc7CmltcG9ydCB7IGNvbW1vbkZuIH0gZnJvbSAnLi9jb21tb24uanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0ludm9pY1RhYmxlJywKICBwcm9wczogewogICAgaXRlbUNvbmZpZzogewogICAgICB0eXBlOiBbQXJyYXksIE9iamVjdF0sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbe31dOwogICAgICB9CiAgICB9LAogICAgZGF0YUxpc3Q6IHsKICAgICAgdHlwZTogW0FycmF5LCBPYmplY3RdLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50UmVxdWVzdEl0ZW06ICcnLAogICAgICBpdGVtQ29uZmlnSW46IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLml0ZW1Db25maWcpLAogICAgICByZUZyZXNoOiB0cnVlLAogICAgICBpbmRleDogMQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIOaKiumHkemineWNg+WIhuS9jeagvOW8j+aYvuekug0KICAgICAqLwogICAgY2hhbmdlRm9ybWF0OiBmdW5jdGlvbiBjaGFuZ2VGb3JtYXQoaXRlbSkgewogICAgICB0aGlzLmRhdGFMaXN0W2l0ZW0ubW9kZWxdID0gY29tbW9uRm4uZm9ybWF0KE51bWJlcih0aGlzLmRhdGFMaXN0W2l0ZW0ubW9kZWxdKS50b0ZpeGVkKDIpKTsKICAgIH0sCiAgICBzZXRUcmVlRGF0YTogZnVuY3Rpb24gc2V0VHJlZURhdGEodmFsLCBlLCBfcmVmKSB7CiAgICAgIHZhciBlbGVtZW50Q29kZSA9IF9yZWYuZWxlbWVudENvZGU7CiAgICAgIC8vIOaJi+WKqOS4unRyZWVpbnB1dOeahGlkLGNvZGUsbmFtZei1i+WAvAogICAgICBlbGVtZW50Q29kZSA9IGVsZW1lbnRDb2RlLnRvTG93ZXJDYXNlKCk7CiAgICAgIHZhciBkYXRhID0ge307CiAgICAgIE9iamVjdC5hc3NpZ24oZGF0YSwgdGhpcy5kYXRhTGlzdCk7CiAgICAgIGRhdGFbZWxlbWVudENvZGUgKyAnX2lkJ10gPSB2YWwuaWQ7CiAgICAgIGRhdGFbZWxlbWVudENvZGUgKyAnX2NvZGUnXSA9IHZhbC5jb2RlOwogICAgICBkYXRhW2VsZW1lbnRDb2RlICsgJ19uYW1lJ10gPSB2YWwubmFtZTsKICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7CiAgICAgIHRoaXMuZG9WYWxpZGF0ZSh7CiAgICAgICAgZmllbGQ6IGVsZW1lbnRDb2RlCiAgICAgIH0sIGZhbHNlKTsKICAgIH0sCiAgICBjbGVhclZhbGlkYXRlOiBmdW5jdGlvbiBjbGVhclZhbGlkYXRlKF9yZWYyKSB7CiAgICAgIHZhciB2YWx1ZSA9IF9yZWYyLnZhbHVlLAogICAgICAgICRldmVudCA9IF9yZWYyLiRldmVudDsKICAgICAgdmFyIGVsZW1lbnQgPSAkZXZlbnQucGF0aFsyXTsKICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgI0RDREZFNic7CiAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZhbGlkLXRpcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICB9LAogICAgLy8g5qCh6aqM5re75Yqg5o+Q56S65L+h5oGvCiAgICBkb1ZhbGlkYXRlOiBmdW5jdGlvbiBkb1ZhbGlkYXRlKGl0ZW0sIHZhbGlkYXRlcykgewogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgaXRlbS5maWVsZCk7CiAgICAgIGlmICh2YWxpZGF0ZXMgPT09IHRydWUpIHsKICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jykuc3R5bGUuYm9yZGVyID0gJzFweCByZWQgc29saWQnOwogICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZhbGlkLXRpcCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZhbGlkLXRpcCcpLmlubmVySFRNTCA9IGl0ZW0ubWVzc2FnZSB8fCAn6K+36L6T5YWlJyArIGl0ZW0ubmFtZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jykuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjRENERkU2JzsKICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy52YWxpZC10aXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB9CiAgICB9LAogICAgLyoqDQogICAgICog5b2T55So5oi36L6T5YWl5pe2DQogICAgICog5a+55Y2V5LiqSXRlbei/m+ihjOagoemqjA0KICAgICAqLwogICAgdmFsaWRhdGVJdGVtOiBmdW5jdGlvbiB2YWxpZGF0ZUl0ZW0oaXRlbSkgewogICAgICBpZiAoaXRlbS50eXBlID09PSAndGV4dCcgJiYgaXRlbS5yZXF1aXJlZCkgewogICAgICAgIGlmICghc2VsZi5kYXRhTGlzdFtpdGVtLmZpZWxkXSB8fCAoc2VsZi5kYXRhTGlzdFtpdGVtLmZpZWxkXSArICcnKS5pbmNsdWRlcygnaW5pdElkJykpIHsKICAgICAgICAgIHRoaXMuZG9WYWxpZGF0ZShpdGVtLCB0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5kb1ZhbGlkYXRlKGl0ZW0sIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmj5DkuqTml7Yg6aqM6K+B6Z2e56m6CiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vIOagoemqjOmdnuepugogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciB2YWxpZGF0ZXMgPSBmYWxzZTsKICAgICAgdGhpcy5pdGVtQ29uZmlnLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0JyAmJiBpdGVtLnJlcXVpcmVkKSB7CiAgICAgICAgICBpZiAoIXNlbGYuZGF0YUxpc3RbaXRlbS5maWVsZF0gfHwgKHNlbGYuZGF0YUxpc3RbaXRlbS5maWVsZF0gKyAnJykuaW5jbHVkZXMoJ2luaXRJZCcpKSB7CiAgICAgICAgICAgIHZhbGlkYXRlcyA9IHRydWU7CiAgICAgICAgICAgIF90aGlzLmRvVmFsaWRhdGUoaXRlbSwgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5kb1ZhbGlkYXRlKGl0ZW0sIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoIXZhbGlkYXRlcykgewogICAgICAgIHRoaXMuaXRlbUNvbmZpZy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIC8vIOWNg+WIhuS9jei9rOaVsOWtlwogICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21vbmV5JykgewogICAgICAgICAgICBfdGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsXSA9IGNvbW1vbkZuLnRob3VzYW5kVG9OdW0oX3RoaXMuZGF0YUxpc3RbaXRlbS5tb2RlbF0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiB2YWxpZGF0ZXM7CiAgICB9LAogICAgYXBwZW5kTWV0aG9kOiBmdW5jdGlvbiBhcHBlbmRNZXRob2QoY29kZSkgewogICAgICB0aGlzLiRlbWl0KCdhcHBlbmRNZXRob2QnLCBjb2RlKTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB0aGlzLmluZGV4Kys7CiAgICB9LAogICAgLy8g6L2s5o2i6YeR6aKd5aSn5bCP5YaZCiAgICB0cmFuc2ZlclVwcGVyOiBmdW5jdGlvbiB0cmFuc2ZlclVwcGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5pdGVtQ29uZmlnLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtb25leScpIHsKICAgICAgICAgIF90aGlzMi5kYXRhTGlzdFtpdGVtLm1vZGVsICsgJ19iaWcnXSA9IHV0aWwudHJhbnNmb3JtRm4uZGlnaXRVcHBlcmNhc2UoX3RoaXMyLmRhdGFMaXN0W2l0ZW0ubW9kZWxdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8qKg0KICAgICAqIOW9k+aVsOaNruWPkeeUn+aUueWPmOaXtuinpuWPkeS6i+S7tg0KICAgICAqIFRvZG8NCiAgICAgKiDlhYjmiorpnZ7nqbrmoKHpqozorr7kuLrnqbog5Lul5ZCO5pyJ5q2j5YiZ5qCh6aqM5pe25YaN5pS55Li66YeN5paw5qCh6aqMDQogICAgICog5YaN6Kem5Y+RaXRlbmNoYW5nZeS6i+S7tiAg5L6b5Lia5Yqh5aSE55CG5pWw5o2uDQogICAgICovCiAgICBpdGVtQ2hhbmdlOiBmdW5jdGlvbiBpdGVtQ2hhbmdlKCRldmVudCwgaXRlbSkgewogICAgICB0aGlzLnZhbGlkYXRlSXRlbShpdGVtKTsKICAgICAgdGhpcy4kZW1pdCgnaXRlbUNoYW5nZScsIGl0ZW0ubW9kZWwsIHRoaXMuZGF0YUxpc3RbaXRlbS5tb2RlbF0sIHRoaXMuZGF0YUxpc3QsIHRoaXMuaXRlbUNvbmZpZyk7CiAgICB9LAogICAgLyoqDQogICAgICog5riF6Zmk5Y2D5YiG5L2N5qih5byPDQogICAgICovCiAgICBjbGVhckZvcm1hdDogZnVuY3Rpb24gY2xlYXJGb3JtYXQoaXRlbSkgewogICAgICBpZiAodGhpcy5kYXRhTGlzdFtpdGVtLm1vZGVsXSAhPT0gJycpIHsKICAgICAgICB0aGlzLmRhdGFMaXN0W2l0ZW0ubW9kZWxdID0gY29tbW9uRm4udGhvdXNhbmRUb051bSh0aGlzLmRhdGFMaXN0W2l0ZW0ubW9kZWxdKTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGFMaXN0OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmRhdGFMaXN0JywgdGhpcy5kYXRhTGlzdCk7CiAgICAgICAgdGhpcy50cmFuc2ZlclVwcGVyKCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"names":["util","commonFn","name","props","itemConfig","type","Array","Object","default","_default","dataList","data","currentRequestItem","itemConfigIn","_toConsumableArray","reFresh","index","methods","changeFormat","item","model","format","Number","toFixed","setTreeData","val","e","_ref","elementCode","toLowerCase","assign","id","code","doValidate","field","clearValidate","_ref2","value","$event","element","path","querySelector","style","border","display","validates","document","innerHTML","message","validateItem","required","self","includes","validate","_this","map","thousandToNum","appendMethod","$emit","refresh","transferUpper","_this2","transformFn","digitUppercase","itemChange","clearFormat","watch","handler","newValue","oldValue","deep","immediate"],"sources":["src/components/InvoiceTable/InvoiceTable.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-card\r\n      shadow=\"always\"\r\n      style=\"padding:20px 0\"\r\n    >\r\n      <div class=\"invoic\">\r\n        <!-- 左侧发票装饰 -->\r\n        <div class=\"vouLDiv-left\">\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n        </div>\r\n        <!-- 发票区 -->\r\n        <div v-if=\"reFresh\" :key=\"index\" class=\"invoic-table\">\r\n          <div v-for=\"item in itemConfig\" :key=\"item.name\" class=\"invoic-table-item\" :style=\"{ gridColumnStart: 'span ' + item.col,gridRowStart: 'span ' + item.row }\">\r\n            <!-- 遍历渲染组件 -->\r\n            <div v-if=\"item.type === 'text'\" :class=\"item.row > 1 ? 'invoic-table-item-multiple-text' : 'invoic-table-item-text'\">\r\n              <span v-if=\"item.required === true\" style=\"color:red;\">*</span>\r\n              {{ item.name }}\r\n            </div>\r\n            <div v-else-if=\"item.type === 'input'\" :id=\"item.model\" class=\"invoic-table-item-input\">\r\n              <vxe-input\r\n                v-model=\"dataList[item.model]\"\r\n                :placeholder=\"item.placeholder\"\r\n                :disabled=\"item.disabled\"\r\n                @suffix-click=\"appendMethod(item.appendMethod)\"\r\n                @change=\"clearValidate\"\r\n                @input=\"itemChange($event,item)\"\r\n              >\r\n                <template v-if=\"item.append\" v-slot:suffix>\r\n                  <i><img src=\"~@/assets/img/basic/person.svg\"></i>\r\n                </template>\r\n              </vxe-input>\r\n              <div class=\"valid-tip\"></div>\r\n            </div>\r\n            <!-- 若果是金额类型,则只允许输入数字 -->\r\n            <div v-else-if=\"item.type === 'money'\" :id=\"item.model\" class=\"invoic-table-item-input\">\r\n              <vxe-input\r\n                v-model=\"dataList[item.model]\"\r\n                align=\"right\"\r\n                :disabled=\"item.disabled\"\r\n                @blur=\"changeFormat(item)\"\r\n                @focus=\"clearFormat(item)\"\r\n                @input=\"itemChange($event,item)\"\r\n              />\r\n              <div class=\"valid-tip\"></div>\r\n            </div>\r\n            <div v-else-if=\"item.type === 'treeInput'\" :id=\"item.model\" class=\"invoic-table-item-treeInput\">\r\n              <BsTreeInput\r\n                ref=\"testTreeInput\"\r\n                v-model=\"dataList[item.model]\"\r\n                :is-server=\"true\"\r\n                :edit-config=\"item.editConfig\"\r\n                :elecode=\"item.elecode\"\r\n                :server-uri=\"item.serverUri\"\r\n                :disabled=\"item.disabled\"\r\n                :queryparams=\"item.queryparams\"\r\n                :isleaf=\"item.isleaf\"\r\n                :dropdownmethod=\"setTreeData\"\r\n                @input=\"itemChange($event,item)\"\r\n              />\r\n              <div class=\"valid-tip\"></div>\r\n            </div>\r\n            <div v-else-if=\"item.type === 'vxe-select'\" :id=\"item.model\" class=\"invoic-table-item-select\">\r\n              <vxe-select v-model=\"dataList[item.model]\" :placeholder=\"item.placeholder\" @input=\"itemChange($event,item)\">\r\n                <vxe-option\r\n                  v-for=\"option in item.options\"\r\n                  :key=\"option.value\"\r\n                  :value=\"option.value\"\r\n                  :label=\"option.label\"\r\n                />\r\n              </vxe-select>\r\n              <div class=\"valid-tip\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 右侧发票装饰 -->\r\n        <div class=\"vouLDiv-right\">\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n          <div class=\"borderCircle\"></div>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport util from '@/components/tool/util.js'\r\nimport { commonFn } from './common.js'\r\nexport default {\r\n  name: 'InvoicTable',\r\n  props: {\r\n    itemConfig: {\r\n      type: [Array, Object],\r\n      default() {\r\n        return [\r\n          {\r\n\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    dataList: {\r\n      type: [Array, Object],\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentRequestItem: '',\r\n      itemConfigIn: [...this.itemConfig],\r\n      reFresh: true,\r\n      index: 1\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 把金额千分位格式显示\r\n     */\r\n    changeFormat(item) {\r\n      this.dataList[item.model] = commonFn.format(Number(this.dataList[item.model]).toFixed(2))\r\n    },\r\n    setTreeData(val, e, { elementCode }) {\r\n      // 手动为treeinput的id,code,name赋值\r\n      elementCode = elementCode.toLowerCase()\r\n      let data = {}\r\n      Object.assign(data, this.dataList)\r\n      data[elementCode + '_id'] = val.id\r\n      data[elementCode + '_code'] = val.code\r\n      data[elementCode + '_name'] = val.name\r\n      this.dataList = data\r\n      this.doValidate({ field: elementCode }, false)\r\n    },\r\n    clearValidate({ value, $event }) {\r\n      let element = $event.path[2]\r\n      element.querySelector('input').style.border = '1px solid #DCDFE6'\r\n      element.querySelector('.valid-tip').style.display = 'none'\r\n    },\r\n    // 校验添加提示信息\r\n    doValidate(item, validates) {\r\n      let element = document.querySelector('#' + item.field)\r\n      if (validates === true) {\r\n        element.querySelector('input').style.border = '1px red solid'\r\n        element.querySelector('.valid-tip').style.display = 'block'\r\n        element.querySelector('.valid-tip').innerHTML = item.message || '请输入' + item.name\r\n      } else {\r\n        element.querySelector('input').style.border = '1px solid #DCDFE6'\r\n        element.querySelector('.valid-tip').style.display = 'none'\r\n      }\r\n    },\r\n    /**\r\n     * 当用户输入时\r\n     * 对单个Item进行校验\r\n     */\r\n    validateItem(item) {\r\n      if (item.type === 'text' && item.required) {\r\n        if (!self.dataList[item.field] || (self.dataList[item.field] + '').includes('initId')) {\r\n          this.doValidate(item, true)\r\n        } else {\r\n          this.doValidate(item, false)\r\n        }\r\n      }\r\n    },\r\n    // 提交时 验证非空\r\n    validate() {\r\n      // 校验非空\r\n      var self = this\r\n      var validates = false\r\n      this.itemConfig.map(item => {\r\n        if (item.type === 'text' && item.required) {\r\n          if (!self.dataList[item.field] || (self.dataList[item.field] + '').includes('initId')) {\r\n            validates = true\r\n            this.doValidate(item, true)\r\n          } else {\r\n            this.doValidate(item, false)\r\n          }\r\n        }\r\n      })\r\n      if (!validates) {\r\n        this.itemConfig.map(item => {\r\n          // 千分位转数字\r\n          if (item.type === 'money') {\r\n            this.dataList[item.model] = commonFn.thousandToNum(this.dataList[item.model])\r\n          }\r\n        })\r\n      }\r\n      return validates\r\n    },\r\n    appendMethod(code) {\r\n      this.$emit('appendMethod', code)\r\n    },\r\n    refresh() {\r\n      this.index++\r\n    },\r\n    // 转换金额大小写\r\n    transferUpper() {\r\n      this.itemConfig.map(item => {\r\n        if (item.type === 'money') {\r\n          this.dataList[item.model + '_big'] = util.transformFn.digitUppercase(this.dataList[item.model])\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 当数据发生改变时触发事件\r\n     * Todo\r\n     * 先把非空校验设为空 以后有正则校验时再改为重新校验\r\n     * 再触发itenchange事件  供业务处理数据\r\n     */\r\n    itemChange($event, item) {\r\n      this.validateItem(item)\r\n      this.$emit('itemChange', item.model, this.dataList[item.model], this.dataList, this.itemConfig)\r\n    },\r\n    /**\r\n     * 清除千分位模式\r\n     */\r\n    clearFormat(item) {\r\n      if (this.dataList[item.model] !== '') {\r\n        this.dataList[item.model] = commonFn.thousandToNum(this.dataList[item.model])\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    dataList: {\r\n      handler(newValue, oldValue) {\r\n        this.$emit('update:dataList', this.dataList)\r\n        this.transferUpper()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.invoic{\r\n  display: grid;\r\n  width: 100%;\r\n  grid-template-columns: 4fr 92fr 4fr;\r\n  align-items: center;\r\n  /*发票表格样式*/\r\n  .invoic-table{\r\n    display: grid;\r\n    grid-template-columns: repeat(10,1fr);\r\n    grid-auto-rows: 58px;\r\n    border: 1px solid #0c9fe3;\r\n    border-bottom: 2px solid #0c9fe3;\r\n    border-left: 2px solid #0c9fe3;\r\n    width: 100%;\r\n  }\r\n  .invoic-table-item{\r\n    border-right: 0.5px solid #0c9fe3;\r\n    border-top: 0.5px solid #0c9fe3;\r\n    color: #0c9fe3;\r\n    .valid-tip{\r\n      color: red;\r\n      font-size: 8px;\r\n      text-align: right;\r\n    }\r\n  }\r\n  // 标题\r\n  .invoic-table-item-text{\r\n    width: 100%;\r\n    height: 100%;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    overflow:hidden;\r\n  }\r\n  //跨越多行的标题\r\n  .invoic-table-item-multiple-text{\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n    letter-spacing: 5px;\r\n    width: 60%;\r\n    writing-mode: tb-rl;\r\n  }\r\n  //输入框\r\n  .invoic-table-item-input{\r\n    width: calc(100% - 16px);\r\n    height: calc(100% - 16px);\r\n    padding: 10px;\r\n    .vxe-input {\r\n      font-size: 14px;\r\n      height: 38px;\r\n      width: 100%;\r\n    }\r\n    .vxe-input--inner[disabled] {\r\n      color: #000;\r\n      font-weight: 700;\r\n    }\r\n  }\r\n  .borderCircle{\r\n    width: 16px;\r\n    height: 16px;\r\n    border-radius: 50%;\r\n    background-color: #f3f8ff;\r\n    margin-bottom: 23px;\r\n  }\r\n  .vouLDiv-right .borderCircle{\r\n  margin-left: calc(100% - 14px);\r\n  }\r\n  .invoic-table-item-treeInput{\r\n    width: calc(100% - 16px);\r\n    padding:8px\r\n  }\r\n  /**\r\n   select框的样式\r\n  */\r\n  .invoic-table-item-select{\r\n    width: calc(100% - 16px);\r\n    height: calc(100% - 16px);\r\n    padding: 10px;\r\n    .vxe-select{\r\n      width: 100%;\r\n      height: 38px;\r\n    }\r\n    .vxe-input {\r\n      font-size: 14px;\r\n      height: 38px;\r\n      width: 100%;\r\n    }\r\n\r\n  }\r\n}\r\n\r\n</style>\r\n"],"mappings":"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"}]}