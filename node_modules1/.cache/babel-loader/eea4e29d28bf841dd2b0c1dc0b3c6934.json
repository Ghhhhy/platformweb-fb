{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\hooks\\useIs.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\handlingOfViolations\\hooks\\useIs.js","mtime":1694576524769},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29tcHV0ZWQsIHVucmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgeyBSb3V0ZXJQYXRoRW51bSwgV2FybkxldmVsRW51bSB9IGZyb20gJy4uL21vZGVsL2VudW0nOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CgovKioNCiAqIOWIpOaWreebuOWFs2hvb2sNCiAqIEBwYXJhbSBwYWdlUGF0aCDpobXpnaLot6/nlLENCiAqIEBwYXJhbSBjdXJyZW50Tm9kZSDlvZPliY3pgInkuK3oioLngrkNCiAqIEBwYXJhbSBjaGVja2VkSXRlbXNPYmog5b2T5YmN5Yu+6YCJ5YiX6KGoDQogKiBAcmV0dXJuIHt7aXNEaXZpc2lvblJlQXVkaXQ6IENvbXB1dGVkUmVmPGJvb2xlYW4+LCBpc0JsdWVXYXJuTGV2ZWw6IENvbXB1dGVkUmVmPGJvb2xlYW4+LCBpc1VuaXRGZWVkYmFja1BhZ2U6IENvbXB1dGVkUmVmPGJvb2xlYW4+fX0NCiAqLwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VJcyhjdXJyZW50Tm9kZSwgcGFnZVBhdGgsIGNoZWNrZWRJdGVtc09iaikgewogIC8vIOaYr+WQpuaYr+WkhOWupOWkjeWuoemhtemdou+8iOe7iOWuoe+8iQogIHZhciBpc0RpdmlzaW9uUmVBdWRpdCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB1bnJlZihwYWdlUGF0aCkgPT09IFJvdXRlclBhdGhFbnVtKCkuRElWSVNJT05fUkVBVURJVDsKICB9KTsKCiAgLy8g5piv5ZCm5piv5Y2V5L2N5Y+N6aaI6aG16Z2iCiAgdmFyIGlzVW5pdEZlZWRiYWNrUGFnZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB1bnJlZihwYWdlUGF0aCkuaW5kZXhPZignbml0RmVlZGJhY2snKSAhPT0gLTEgfHwgdW5yZWYocGFnZVBhdGgpID09PSBSb3V0ZXJQYXRoRW51bSgpLkRJVklTSU9OX0ZFRURfQkFDSzsKICB9KTsKICAvLyDmmK/lkKbmmK/ljZXkvY3pobXpnaLvvIjljZXkvY3lj43ppojjgIHljZXkvY3lrqHmoLjvvIkKICB2YXIgaXNVbml0TWVudSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAhIVtSb3V0ZXJQYXRoRW51bSgpLlVOSVRfRkVFREJBQ0ssIFJvdXRlclBhdGhFbnVtKCkuVU5JVF9BVURJVF0uaW5jbHVkZXModW5yZWYocGFnZVBhdGgpKTsKICB9KTsKCiAgLy8g5piv5ZCm6JOd6Imy6aKE6K2mCiAgdmFyIGlzQmx1ZVdhcm5MZXZlbCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdW5yZWY7CiAgICByZXR1cm4gKChfdW5yZWYgPSB1bnJlZihjdXJyZW50Tm9kZSkpID09PSBudWxsIHx8IF91bnJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3VucmVmLndhcm5MZXZlbCkgPT09IFdhcm5MZXZlbEVudW0uQkxVRTsKICB9KTsKCiAgLy8g5piv5ZCm5YWB6K6456aB5q2i5pON5L2cCiAgLy8g6Z2e5Y2V5L2N6YCB5a6h44CB5Y+N6aaIICYm77yI5aaC5p6c5piv5om56YeP5pON5L2c5YiZ5Yik5pat5b2T5YmN5Yu+6YCJ5YiX6KGo5Lit5piv5ZCm5a2Y5Zyo5qmZ6Imy6aKE6K2m77yM5ZCm5Yik5pat5b2T5YmN6YCJ5Lit5aSE55CG5Y2V5piv5ZCm5piv5qmZ6Imy6aKE6K2m77yJCiAgdmFyIGlzQWxsb3dEaXNhYmxlZCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIGNvbnNvbGUubG9nKCfliKTmlq3mmK/lkKbljZXkvY0nLCB1bnJlZihpc1VuaXRNZW51KSk7CiAgICBpZiAodW5yZWYoaXNVbml0TWVudSkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgLy8gU0gg6ZyA5rGCIOm7hOiJsumihOitpuOAgeiTneiJsumihOitpuWcqOWkhOeQhuaXtu+8jOWOu+aOieKAnOemgeatouKAnOaMiemSrgogICAgaWYgKHN0b3JlLnN0YXRlLnVzZXJJbmZvLnByb3ZpbmNlLnN0YXJ0c1dpdGgoJzMxJykpIHsKICAgICAgcmV0dXJuIHVucmVmKGNoZWNrZWRJdGVtc09iaikubGVuZ3RoID8gdW5yZWYoY2hlY2tlZEl0ZW1zT2JqKS5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ud2FybkxldmVsICE9PSBXYXJuTGV2ZWxFbnVtLllFTExPVyAmJiBpdGVtLndhcm5MZXZlbCAhPT0gV2FybkxldmVsRW51bS5CTFVFOwogICAgICB9KSA6IHVucmVmKGN1cnJlbnROb2RlKS53YXJuTGV2ZWwgIT09IFdhcm5MZXZlbEVudW0uWUVMTE9XICYmIHVucmVmKGN1cnJlbnROb2RlKS53YXJuTGV2ZWwgIT09IFdhcm5MZXZlbEVudW0uQkxVRTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIOagueaNruebkeaOp+WkhOeQhuaWueW8j+adpeWIpOaWreaYr+WQpuaYvuekuuemgeatouaMiemSrgogICAgICByZXR1cm4gdW5yZWYoY2hlY2tlZEl0ZW1zT2JqKS5sZW5ndGggPyB1bnJlZihjaGVja2VkSXRlbXNPYmopLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS53YXJuVGlwcyA9PT0gJ+itpuekuic7CiAgICAgIH0pIDogdW5yZWYoY3VycmVudE5vZGUpLndhcm5UaXBzID09PSAn6K2m56S6JzsKICAgIH0KICB9KTsKCiAgLy8g5piv5ZCm5piv5aSE5a6kCiAgdmFyIGlzRGl2aXNpb25QYWdlID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIFtSb3V0ZXJQYXRoRW51bS5ESVZJU0lPTl9SRUFVRElULCBSb3V0ZXJQYXRoRW51bS5ESVZJU0lPTl9BVURJVF0uaW5jbHVkZXModW5yZWYocGFnZVBhdGgpKTsKICB9KTsKICByZXR1cm4gewogICAgaXNEaXZpc2lvblJlQXVkaXQ6IGlzRGl2aXNpb25SZUF1ZGl0LAogICAgaXNVbml0RmVlZGJhY2tQYWdlOiBpc1VuaXRGZWVkYmFja1BhZ2UsCiAgICBpc0JsdWVXYXJuTGV2ZWw6IGlzQmx1ZVdhcm5MZXZlbCwKICAgIGlzQWxsb3dEaXNhYmxlZDogaXNBbGxvd0Rpc2FibGVkLAogICAgaXNEaXZpc2lvblBhZ2U6IGlzRGl2aXNpb25QYWdlCiAgfTsKfQ=="},{"version":3,"names":["computed","unref","RouterPathEnum","WarnLevelEnum","store","useIs","currentNode","pagePath","checkedItemsObj","isDivisionReAudit","DIVISION_REAUDIT","isUnitFeedbackPage","indexOf","DIVISION_FEED_BACK","isUnitMenu","UNIT_FEEDBACK","UNIT_AUDIT","includes","isBlueWarnLevel","_unref","warnLevel","BLUE","isAllowDisabled","console","log","state","userInfo","province","startsWith","length","some","item","YELLOW","warnTips","isDivisionPage","DIVISION_AUDIT"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/views/main/handlingOfViolations/hooks/useIs.js"],"sourcesContent":["import { computed, unref } from '@vue/composition-api'\r\nimport { RouterPathEnum, WarnLevelEnum } from '../model/enum'\r\nimport store from '@/store'\r\n\r\n/**\r\n * 判断相关hook\r\n * @param pagePath 页面路由\r\n * @param currentNode 当前选中节点\r\n * @param checkedItemsObj 当前勾选列表\r\n * @return {{isDivisionReAudit: ComputedRef<boolean>, isBlueWarnLevel: ComputedRef<boolean>, isUnitFeedbackPage: ComputedRef<boolean>}}\r\n */\r\nexport default function useIs(currentNode, pagePath, checkedItemsObj) {\r\n  // 是否是处室复审页面（终审）\r\n  const isDivisionReAudit = computed(() => {\r\n    return unref(pagePath) === RouterPathEnum().DIVISION_REAUDIT\r\n  })\r\n\r\n  // 是否是单位反馈页面\r\n  const isUnitFeedbackPage = computed(() => {\r\n    return unref(pagePath).indexOf('nitFeedback') !== -1 || unref(pagePath) === RouterPathEnum().DIVISION_FEED_BACK\r\n  })\r\n  // 是否是单位页面（单位反馈、单位审核）\r\n  const isUnitMenu = computed(() => {\r\n    return !![RouterPathEnum().UNIT_FEEDBACK, RouterPathEnum().UNIT_AUDIT].includes(unref(pagePath))\r\n  })\r\n\r\n  // 是否蓝色预警\r\n  const isBlueWarnLevel = computed(() => {\r\n    return unref(currentNode)?.warnLevel === WarnLevelEnum.BLUE\r\n  })\r\n\r\n  // 是否允许禁止操作\r\n  // 非单位送审、反馈 &&（如果是批量操作则判断当前勾选列表中是否存在橙色预警，否判断当前选中处理单是否是橙色预警）\r\n  const isAllowDisabled = computed(() => {\r\n    console.log('判断是否单位', unref(isUnitMenu))\r\n    if (unref(isUnitMenu)) {\r\n      return false\r\n    }\r\n    // SH 需求 黄色预警、蓝色预警在处理时，去掉“禁止“按钮\r\n    if (store.state.userInfo.province.startsWith('31')) {\r\n      return unref(checkedItemsObj).length\r\n        ? unref(checkedItemsObj).some(item => item.warnLevel !== WarnLevelEnum.YELLOW && item.warnLevel !== WarnLevelEnum.BLUE)\r\n        : (unref(currentNode).warnLevel !== WarnLevelEnum.YELLOW && unref(currentNode).warnLevel !== WarnLevelEnum.BLUE)\r\n    } else {\r\n      // 根据监控处理方式来判断是否显示禁止按钮\r\n      return unref(checkedItemsObj).length\r\n        ? unref(checkedItemsObj).some(item => item.warnTips === '警示')\r\n        : unref(currentNode).warnTips === '警示'\r\n    }\r\n  })\r\n\r\n  // 是否是处室\r\n  const isDivisionPage = computed(() => {\r\n    return [RouterPathEnum.DIVISION_REAUDIT, RouterPathEnum.DIVISION_AUDIT].includes(unref(pagePath))\r\n  })\r\n\r\n  return {\r\n    isDivisionReAudit,\r\n    isUnitFeedbackPage,\r\n    isBlueWarnLevel,\r\n    isAllowDisabled,\r\n    isDivisionPage\r\n  }\r\n}\r\n"],"mappings":"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"}]}