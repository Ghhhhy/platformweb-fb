{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\financial-portrayal\\hooks\\useHeaderSearch.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\financial-portrayal\\hooks\\useHeaderSearch.js","mtime":1694505522464},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwovLyDpobbpg6jnrZvpgIkKZXhwb3J0IHZhciB1c2VIZWFkZXJTZWFyY2ggPSBmdW5jdGlvbiB1c2VIZWFkZXJTZWFyY2goKSB7CiAgLy8g6buY6K6k5pel5pyfKOaXtumXtOaIsykKICB2YXIgZGVmYXVsdERhdGUgPSByZWYobmV3IERhdGUoKS5nZXRUaW1lKCkpOwogIC8vIOW9k+WJjWRhdGUtcGlja2Vy6YCJ5Lit55qE5pel5pyfCiAgdmFyIGN1cnJlbnREYXRlID0gcmVmKGRlZmF1bHREYXRlLnZhbHVlKTsKICAvLyDljLrliJLmoJHpu5jorqTpgInkuK3nmoRjb2RlCiAgdmFyIGRlZmF1bHRNb2ZEaXZDb2RlID0gcmVmKCcnKTsKICAvLyDlvZPliY3ljLrliJLmoJHpgInkuK1jb2RlCiAgdmFyIGN1cnJlbnRNb2ZEaXZDb2RlID0gcmVmKCcnKTsKICAvLyDljLrliJLmoJHpgInkuK3liIfmjaIKICB2YXIgdHJlZVNlbGVjdENoYW5nZSA9IGZ1bmN0aW9uIHRyZWVTZWxlY3RDaGFuZ2UoY29kZSkgewogICAgY3VycmVudE1vZkRpdkNvZGUudmFsdWUgPSBjb2RlOwogIH07CiAgLy8g5pel5pyf5YiH5o2iCiAgdmFyIGRhdGVDaGFuZ2VIYW5kbGUgPSBmdW5jdGlvbiBkYXRlQ2hhbmdlSGFuZGxlKHRpbWVzdGFtcCkgewogICAgY3VycmVudERhdGUudmFsdWUgPSB0aW1lc3RhbXA7CiAgfTsKCiAgLy8g6K+35rGC5omA6ZyA5Y+C5pWwIOS4u+imgeaYr+aPkOS+m+e7meWtkOWtmee7hOS7tuS9v+eUqO+8iOWtkOWtmee7hOS7tuiHquihjOebkeWQrOaUueWPmO+8jOmHjeaWsOivt+axguabtOaWsOaVsOaNru+8iQogIHZhciByZXFTZWFyY2hQYXJhbXMgPSByZWYoewogICAgbW9mRGl2Q29kZTogZGVmYXVsdE1vZkRpdkNvZGUudmFsdWUgfHwgJycsCiAgICBmaXNjYWxZZWFyOiBuZXcgRGF0ZShkZWZhdWx0RGF0ZS52YWx1ZSB8fCAnJykuZ2V0RnVsbFllYXIoKSwKICAgIGFjY3RQZXJpb2Q6IG5ldyBEYXRlKGRlZmF1bHREYXRlLnZhbHVlIHx8ICcnKS5nZXRNb250aCgpICsgMSwKICAgIG1vbnRoOiBuZXcgRGF0ZShkZWZhdWx0RGF0ZS52YWx1ZSB8fCAnJykuZ2V0TW9udGgoKSArIDEKICB9KTsKCiAgLy8g54K55Ye75pCc57Si6K6+572u6K+35rGC5Y+C5pWwCiAgdmFyIHNldFJlcVNlYXJjaFBhcmFtcyA9IGZ1bmN0aW9uIHNldFJlcVNlYXJjaFBhcmFtcygpIHsKICAgIHJlcVNlYXJjaFBhcmFtcy52YWx1ZSA9IHsKICAgICAgbW9mRGl2Q29kZTogY3VycmVudE1vZkRpdkNvZGUudmFsdWUgfHwgJycsCiAgICAgIGZpc2NhbFllYXI6IG5ldyBEYXRlKGN1cnJlbnREYXRlLnZhbHVlIHx8ICcnKS5nZXRGdWxsWWVhcigpLAogICAgICBhY2N0UGVyaW9kOiBuZXcgRGF0ZShjdXJyZW50RGF0ZS52YWx1ZSB8fCAnJykuZ2V0TW9udGgoKSArIDEsCiAgICAgIG1vbnRoOiBuZXcgRGF0ZShjdXJyZW50RGF0ZS52YWx1ZSB8fCAnJykuZ2V0TW9udGgoKSArIDEKICAgIH07CiAgfTsKCiAgLy8g54K55Ye76YeN572u5oGi5aSN6buY6K6k5YC8CiAgdmFyIHJlc2V0UmVxU2VhcmNoUGFyYW1zID0gZnVuY3Rpb24gcmVzZXRSZXFTZWFyY2hQYXJhbXMoKSB7CiAgICByZXFTZWFyY2hQYXJhbXMudmFsdWUgPSB7CiAgICAgIG1vZkRpdkNvZGU6IGRlZmF1bHRNb2ZEaXZDb2RlLnZhbHVlIHx8ICcnLAogICAgICBmaXNjYWxZZWFyOiBuZXcgRGF0ZShkZWZhdWx0RGF0ZS52YWx1ZSB8fCAnJykuZ2V0RnVsbFllYXIoKSwKICAgICAgYWNjdFBlcmlvZDogbmV3IERhdGUoZGVmYXVsdERhdGUudmFsdWUgfHwgJycpLmdldE1vbnRoKCkgKyAxLAogICAgICBtb250aDogbmV3IERhdGUoZGVmYXVsdERhdGUudmFsdWUgfHwgJycpLmdldE1vbnRoKCkgKyAxCiAgICB9OwogIH07CiAgcmV0dXJuIHsKICAgIGRlZmF1bHREYXRlOiBkZWZhdWx0RGF0ZSwKICAgIGRlZmF1bHRNb2ZEaXZDb2RlOiBkZWZhdWx0TW9mRGl2Q29kZSwKICAgIHRyZWVTZWxlY3RDaGFuZ2U6IHRyZWVTZWxlY3RDaGFuZ2UsCiAgICBkYXRlQ2hhbmdlSGFuZGxlOiBkYXRlQ2hhbmdlSGFuZGxlLAogICAgcmVxU2VhcmNoUGFyYW1zOiByZXFTZWFyY2hQYXJhbXMsCiAgICBzZXRSZXFTZWFyY2hQYXJhbXM6IHNldFJlcVNlYXJjaFBhcmFtcywKICAgIHJlc2V0UmVxU2VhcmNoUGFyYW1zOiByZXNldFJlcVNlYXJjaFBhcmFtcwogIH07Cn07"},{"version":3,"names":["ref","useHeaderSearch","defaultDate","Date","getTime","currentDate","value","defaultMofDivCode","currentMofDivCode","treeSelectChange","code","dateChangeHandle","timestamp","reqSearchParams","mofDivCode","fiscalYear","getFullYear","acctPeriod","getMonth","month","setReqSearchParams","resetReqSearchParams"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/views/main/financial-portrayal/hooks/useHeaderSearch.js"],"sourcesContent":["import { ref } from '@vue/composition-api'\r\n// 顶部筛选\r\nexport const useHeaderSearch = () => {\r\n  // 默认日期(时间戳)\r\n  const defaultDate = ref(new Date().getTime())\r\n  // 当前date-picker选中的日期\r\n  const currentDate = ref(defaultDate.value)\r\n  // 区划树默认选中的code\r\n  const defaultMofDivCode = ref('')\r\n  // 当前区划树选中code\r\n  const currentMofDivCode = ref('')\r\n  // 区划树选中切换\r\n  const treeSelectChange = code => {\r\n    currentMofDivCode.value = code\r\n  }\r\n  // 日期切换\r\n  const dateChangeHandle = timestamp => {\r\n    currentDate.value = timestamp\r\n  }\r\n\r\n  // 请求所需参数 主要是提供给子孙组件使用（子孙组件自行监听改变，重新请求更新数据）\r\n  const reqSearchParams = ref({\r\n    mofDivCode: defaultMofDivCode.value || '',\r\n    fiscalYear: new Date(defaultDate.value || '').getFullYear(),\r\n    acctPeriod: new Date(defaultDate.value || '').getMonth() + 1,\r\n    month: new Date(defaultDate.value || '').getMonth() + 1\r\n  })\r\n\r\n  // 点击搜索设置请求参数\r\n  const setReqSearchParams = () => {\r\n    reqSearchParams.value = {\r\n      mofDivCode: currentMofDivCode.value || '',\r\n      fiscalYear: new Date(currentDate.value || '').getFullYear(),\r\n      acctPeriod: new Date(currentDate.value || '').getMonth() + 1,\r\n      month: new Date(currentDate.value || '').getMonth() + 1\r\n    }\r\n  }\r\n\r\n  // 点击重置恢复默认值\r\n  const resetReqSearchParams = () => {\r\n    reqSearchParams.value = {\r\n      mofDivCode: defaultMofDivCode.value || '',\r\n      fiscalYear: new Date(defaultDate.value || '').getFullYear(),\r\n      acctPeriod: new Date(defaultDate.value || '').getMonth() + 1,\r\n      month: new Date(defaultDate.value || '').getMonth() + 1\r\n    }\r\n  }\r\n  return {\r\n    defaultDate,\r\n    defaultMofDivCode,\r\n    treeSelectChange,\r\n    dateChangeHandle,\r\n    reqSearchParams,\r\n    setReqSearchParams,\r\n    resetReqSearchParams\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,sBAAsB;AAC1C;AACA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;EACnC;EACA,IAAMC,WAAW,GAAGF,GAAG,CAAC,IAAIG,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;EAC7C;EACA,IAAMC,WAAW,GAAGL,GAAG,CAACE,WAAW,CAACI,KAAK,CAAC;EAC1C;EACA,IAAMC,iBAAiB,GAAGP,GAAG,CAAC,EAAE,CAAC;EACjC;EACA,IAAMQ,iBAAiB,GAAGR,GAAG,CAAC,EAAE,CAAC;EACjC;EACA,IAAMS,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGC,IAAI,EAAI;IAC/BF,iBAAiB,CAACF,KAAK,GAAGI,IAAI;EAChC,CAAC;EACD;EACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGC,SAAS,EAAI;IACpCP,WAAW,CAACC,KAAK,GAAGM,SAAS;EAC/B,CAAC;;EAED;EACA,IAAMC,eAAe,GAAGb,GAAG,CAAC;IAC1Bc,UAAU,EAAEP,iBAAiB,CAACD,KAAK,IAAI,EAAE;IACzCS,UAAU,EAAE,IAAIZ,IAAI,CAACD,WAAW,CAACI,KAAK,IAAI,EAAE,CAAC,CAACU,WAAW,CAAC,CAAC;IAC3DC,UAAU,EAAE,IAAId,IAAI,CAACD,WAAW,CAACI,KAAK,IAAI,EAAE,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG,CAAC;IAC5DC,KAAK,EAAE,IAAIhB,IAAI,CAACD,WAAW,CAACI,KAAK,IAAI,EAAE,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG;EACxD,CAAC,CAAC;;EAEF;EACA,IAAME,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;IAC/BP,eAAe,CAACP,KAAK,GAAG;MACtBQ,UAAU,EAAEN,iBAAiB,CAACF,KAAK,IAAI,EAAE;MACzCS,UAAU,EAAE,IAAIZ,IAAI,CAACE,WAAW,CAACC,KAAK,IAAI,EAAE,CAAC,CAACU,WAAW,CAAC,CAAC;MAC3DC,UAAU,EAAE,IAAId,IAAI,CAACE,WAAW,CAACC,KAAK,IAAI,EAAE,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG,CAAC;MAC5DC,KAAK,EAAE,IAAIhB,IAAI,CAACE,WAAW,CAACC,KAAK,IAAI,EAAE,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG;IACxD,CAAC;EACH,CAAC;;EAED;EACA,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAA,EAAS;IACjCR,eAAe,CAACP,KAAK,GAAG;MACtBQ,UAAU,EAAEP,iBAAiB,CAACD,KAAK,IAAI,EAAE;MACzCS,UAAU,EAAE,IAAIZ,IAAI,CAACD,WAAW,CAACI,KAAK,IAAI,EAAE,CAAC,CAACU,WAAW,CAAC,CAAC;MAC3DC,UAAU,EAAE,IAAId,IAAI,CAACD,WAAW,CAACI,KAAK,IAAI,EAAE,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG,CAAC;MAC5DC,KAAK,EAAE,IAAIhB,IAAI,CAACD,WAAW,CAACI,KAAK,IAAI,EAAE,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAG;IACxD,CAAC;EACH,CAAC;EACD,OAAO;IACLhB,WAAW,EAAXA,WAAW;IACXK,iBAAiB,EAAjBA,iBAAiB;IACjBE,gBAAgB,EAAhBA,gBAAgB;IAChBE,gBAAgB,EAAhBA,gBAAgB;IAChBE,eAAe,EAAfA,eAAe;IACfO,kBAAkB,EAAlBA,kBAAkB;IAClBC,oBAAoB,EAApBA;EACF,CAAC;AACH,CAAC"}]}