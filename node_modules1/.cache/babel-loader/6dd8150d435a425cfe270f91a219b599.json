{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\EnterItemConfigModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\EnterItemConfigModal.vue","mtime":1694505522433},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRW50ZXJJdGVtQ29uZmlnTW9kYWwnLAogIHByb3BzOiB7CiAgICBpdGVtVmlzaWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGNvbmZpZ1BhcmFtczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGpzb25EYXRhOiB7CiAgICAgICAgY29uZmlndXJlOiB7CiAgICAgICAgICBpdGVtc0NvbmZpZzogW10sCiAgICAgICAgICBnbG9iYWxDb25maWc6IHt9LAogICAgICAgICAgcGFnZUNvbmZpZzoge30sCiAgICAgICAgICBlZGl0Q29uZmlnOiB7fSwKICAgICAgICAgIGVkaXRSdWxlczoge30sCiAgICAgICAgICBmb290ZXJDb25maWc6IHt9LAogICAgICAgICAgZGF0YUNvbmZpZzogewogICAgICAgICAgICBkYXRhU291Y2VUeXBlOiAnJwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgZWRpdG9yVmlzaWJsZTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNhdmVJdGVtQ2xpY2s6IGZ1bmN0aW9uIG9uU2F2ZUl0ZW1DbGljayh0YWJsZUNvbmZTdHIpIHsKICAgICAgLy8g5L+d5a2Y6KGo5qC86YWN572uCiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy5qc29uRGF0YS5jb25maWd1cmUgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmpzb25EYXRhLmNvbmZpZ3VyZSk7CiAgICAgIHRoaXMuJGh0dHBbc2VsZi5jb25maWdQYXJhbXMub3B0aW9uVHlwZSA9PT0gJ2FkZCcgPyAncG9zdCcgOiAncHV0J10oJ21wLWItcGVybS1zZXJ2aWNlL3YxL3RhYmxlY29uZicsIHRoaXMuanNvbkRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgewogICAgICAgICAgc2VsZi5pdGVtVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgc2VsZi5lZGl0b3JWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICBzZWxmLiRlbWl0KCdvbkl0ZW1DbG9zZScpOwogICAgICAgICAgc2VsZi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogc2VsZi5wYXJhbXMub3B0aW9uVHlwZSA9PT0gJ2FkZCcgPyAn5pWw5o2u5paw5aKe5oiQ5YqfJyA6ICfmlbDmja7kv53lrZjmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBvblN0b3BJdGVtQ2xpY2s6IGZ1bmN0aW9uIG9uU3RvcEl0ZW1DbGljaygpIHsKICAgICAgdGhpcy5lZGl0b3JWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuaXRlbVZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBpdGVtQ2xvc2U6IGZ1bmN0aW9uIGl0ZW1DbG9zZSgpIHsKICAgICAgdGhpcy5lZGl0b3JWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuaXRlbVZpc2libGUgPSBmYWxzZTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICB3YXRjaDogewogICAgaXRlbVZpc2libGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSkgewogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTppdGVtVmlzaWJsZScsIG5ld1ZhbHVlKTsKICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuZWRpdG9yVmlzaWJsZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBjb25maWdQYXJhbXM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSkgewogICAgICAgIHRoaXMuanNvbkRhdGEgPSBuZXdWYWx1ZTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","props","itemVisible","type","Boolean","default","configParams","Object","_default","data","jsonData","configure","itemsConfig","globalConfig","pageConfig","editConfig","editRules","footerConfig","dataConfig","dataSouceType","editorVisible","methods","onSaveItemClick","tableConfStr","self","JSON","stringify","$http","optionType","then","res","rscode","$emit","$message","showClose","message","params","catch","error","console","log","onStopItemClick","itemClose","created","watch","handler","newValue","immediate","deep"],"sources":["src/views/main/dynamicTableSetting/EnterItemConfigModal.vue"],"sourcesContent":["<template>\r\n  <vxe-modal\r\n    v-model=\"itemVisible\"\r\n    show-zoom\r\n    resize\r\n    transfer\r\n    width=\"90%\"\r\n    height=\"90%\"\r\n    title=\"录入配置项\"\r\n    class=\"item-config\"\r\n    @close=\"itemClose\"\r\n  >\r\n    <BsJsonEditor v-if=\"editorVisible\" v-model=\"jsonData\" :read-only=\"false\" />\r\n    <div style=\"height:40px\" class=\"item-btn\">\r\n      <vxe-button size=\"medium\" content=\"取消\" style=\"margin-left:10px\" @click=\"onStopItemClick\" />\r\n      <vxe-button size=\"medium\" status=\"primary\" content=\"保存\" @click=\"onSaveItemClick\" />\r\n    </div>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'EnterItemConfigModal',\r\n  props: {\r\n    itemVisible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    configParams: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      jsonData: {\r\n        configure: {\r\n          itemsConfig: [],\r\n          globalConfig: {},\r\n          pageConfig: {},\r\n          editConfig: {},\r\n          editRules: {},\r\n          footerConfig: {},\r\n          dataConfig: {\r\n            dataSouceType: ''\r\n          }\r\n        }\r\n      },\r\n      editorVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    onSaveItemClick(tableConfStr) {\r\n      // 保存表格配置\r\n      let self = this\r\n      this.jsonData.configure = JSON.stringify(this.jsonData.configure)\r\n      this.$http[self.configParams.optionType === 'add' ? 'post' : 'put']('mp-b-perm-service/v1/tableconf', this.jsonData)\r\n        .then((res) => {\r\n          if (res.rscode === '100000') {\r\n            self.itemVisible = false\r\n            self.editorVisible = false\r\n            self.$emit('onItemClose')\r\n            self.$message({\r\n              showClose: true,\r\n              message: self.params.optionType === 'add' ? '数据新增成功' : '数据保存成功',\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    },\r\n    onStopItemClick() {\r\n      this.editorVisible = false\r\n      this.itemVisible = false\r\n    },\r\n    itemClose() {\r\n      this.editorVisible = false\r\n      this.itemVisible = false\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  watch: {\r\n    itemVisible: {\r\n      handler(newValue) {\r\n        this.$emit('update:itemVisible', newValue)\r\n        if (newValue === true) {\r\n          this.editorVisible = true\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    configParams: {\r\n      handler(newValue) {\r\n        this.jsonData = newValue\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  .item-config {\r\n    .T-editor-json {\r\n      height: 90%;\r\n\r\n      .jsoneditor-vue {\r\n        height: 100%;\r\n      }\r\n    }\r\n\r\n    .item-btn {\r\n      margin:20px 0 0 0;\r\n      height: 40px;\r\n      display: flex;\r\n      flex-direction: row-reverse;\r\n    }\r\n  }\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;EACAA,IAAA;EACAC,KAAA;IACAC,WAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,YAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA,WAAAG,SAAA;QACA;MACA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;QACAC,SAAA;UACAC,WAAA;UACAC,YAAA;UACAC,UAAA;UACAC,UAAA;UACAC,SAAA;UACAC,YAAA;UACAC,UAAA;YACAC,aAAA;UACA;QACA;MACA;MACAC,aAAA;IACA;EACA;EACAC,OAAA;IACAC,eAAA,WAAAA,gBAAAC,YAAA;MACA;MACA,IAAAC,IAAA;MACA,KAAAd,QAAA,CAAAC,SAAA,GAAAc,IAAA,CAAAC,SAAA,MAAAhB,QAAA,CAAAC,SAAA;MACA,KAAAgB,KAAA,CAAAH,IAAA,CAAAlB,YAAA,CAAAsB,UAAA,oEAAAlB,QAAA,EACAmB,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,MAAA;UACAP,IAAA,CAAAtB,WAAA;UACAsB,IAAA,CAAAJ,aAAA;UACAI,IAAA,CAAAQ,KAAA;UACAR,IAAA,CAAAS,QAAA;YACAC,SAAA;YACAC,OAAA,EAAAX,IAAA,CAAAY,MAAA,CAAAR,UAAA;YACAzB,IAAA;UACA;QACA;MACA,GACAkC,KAAA,WAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,UAAAF,KAAA;MACA;IACA;IACAG,eAAA,WAAAA,gBAAA;MACA,KAAArB,aAAA;MACA,KAAAlB,WAAA;IACA;IACAwC,SAAA,WAAAA,UAAA;MACA,KAAAtB,aAAA;MACA,KAAAlB,WAAA;IACA;EACA;EACAyC,OAAA,WAAAA,QAAA,GAEA;EACAC,KAAA;IACA1C,WAAA;MACA2C,OAAA,WAAAA,QAAAC,QAAA;QACA,KAAAd,KAAA,uBAAAc,QAAA;QACA,IAAAA,QAAA;UACA,KAAA1B,aAAA;QACA;MACA;MACA2B,SAAA;IACA;IACAzC,YAAA;MACAuC,OAAA,WAAAA,QAAAC,QAAA;QACA,KAAApC,QAAA,GAAAoC,QAAA;MACA;MACAE,IAAA;MACAD,SAAA;IACA;EACA;AACA"}]}