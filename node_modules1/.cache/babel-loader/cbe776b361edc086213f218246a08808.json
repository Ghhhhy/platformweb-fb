{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\tool\\eval\\stringCompile.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\tool\\eval\\stringCompile.js","mtime":1694505521962},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZXNsaW50LWRpc2FibGUgKi8KCnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vb3BlcmF0b3IuanMnKSwKICBvcGVyYXRvckxpc3RlbmVyID0gX3JlcXVpcmUub3BlcmF0b3JMaXN0ZW5lcjsKLy/ov5DooYznjq/looPnmoTkuIDkupvpgILphY0KdmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoJy4vZW52LmpzJyksCiAgZ2V0VVVJRCA9IF9yZXF1aXJlMi5nZXRVVUlELAogIGZpbmRCeUluZGV4ID0gX3JlcXVpcmUyLmZpbmRCeUluZGV4LAogIGZpbmRTdHJBbmRTcGxpdCA9IF9yZXF1aXJlMi5maW5kU3RyQW5kU3BsaXQsCiAgX3JlcXVpcmUyJGNvbnN0YW50ID0gX3JlcXVpcmUyLmNvbnN0YW50LAogIG9wZXJhdFVuaXRUeXBlID0gX3JlcXVpcmUyJGNvbnN0YW50Lm9wZXJhdFVuaXRUeXBlLAogIGZpbmRWYWx1ZUR5bmFtaWNUeXBlID0gX3JlcXVpcmUyJGNvbnN0YW50LmZpbmRWYWx1ZUR5bmFtaWNUeXBlLAogIHRocmVlRXllRHluYW1pY1R5cGUgPSBfcmVxdWlyZTIkY29uc3RhbnQudGhyZWVFeWVEeW5hbWljVHlwZSwKICBmdW5EeW5hbWljVHlwZSA9IF9yZXF1aXJlMiRjb25zdGFudC5mdW5EeW5hbWljVHlwZSwKICBydW5EeW5hbWljVHlwZSA9IF9yZXF1aXJlMiRjb25zdGFudC5ydW5EeW5hbWljVHlwZTsKLyoqDQogKiDmn6Xmib7mnIDov5HnmoTlrZfnrKYNCiAqLwpmdW5jdGlvbiBmaW5kTmVhcmVzdFN0cihzdHIsIG9wZW4sIGNsb3NlKSB7CiAgdmFyIGZpbmRTdHIgPSB0cnVlOwogIGZpbmRTdHJBbmRTcGxpdChzdHIsICIoIiwgIikiLCBmdW5jdGlvbiAodG1wc3RyLCBmaW5kKSB7CiAgICBpZiAoZmluZCAmJiBmaW5kU3RyKSB7CiAgICAgIGZpbmRTdHIgPSBmYWxzZTsKICAgICAgc3RyID0gdG1wc3RyOwogICAgfQogIH0pOwogIHJldHVybiAhZmluZFN0ciA/IHsKICAgIHZhbHVlOiBzdHIsCiAgICBzY3JpcHRTdHI6ICIiLmNvbmNhdChvcGVuKS5jb25jYXQoc3RyKS5jb25jYXQoY2xvc2UpCiAgfSA6IHt9Owp9Ci8qKg0KICog57yW6K+R5byV55So5Y+Y6YePDQogKiBAcGFyYW0ge09iamVjdH0gc3RyDQogKi8KZnVuY3Rpb24gY29tcGlsZVJlZmVyZW5jZShzdHIpIHsKICB2YXIgdmFycyA9IFtdOwogIC8v5Y+Y6YeP5pW055CGCiAgZmluZFN0ckFuZFNwbGl0KHN0ciwgIlsiLCAiXSIsIGZ1bmN0aW9uICh0bXBzdHIsIGZpbmQpIHsKICAgIGlmIChmaW5kKSB7CiAgICAgIHZhciB1bml0ID0gY3JlYXRlRHluYW1pY1VuaXQocnVuRHluYW1pY1R5cGUsIHRtcHN0cik7CiAgICAgIHVuaXQuc2NyaXB0cyA9IHNjcmlwdENvbXBpbGUodG1wc3RyKTsKICAgICAgdmFycy5wdXNoKHVuaXQpOwogICAgfSBlbHNlIHsKICAgICAgdG1wc3RyLnNwbGl0KCIuIikuZm9yRWFjaChmdW5jdGlvbiAoYSkgewogICAgICAgIGlmIChhICYmIGEubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFycy5wdXNoKHVzZWRVbml0TWFwcGVyWyJzdHJpbmciXS5mdW4oYSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHZhcnM7Cn0KdmFyIHN5bnRheENoYWluLCBvcGVyYXRvck1hcDsKLy/lvZPov5DnrpfnrKbop4TliJnmlLnlj5jml7YKb3BlcmF0b3JMaXN0ZW5lci5wdXNoKGZ1bmN0aW9uIChsaXN0LCBtYXApIHsKICBvcGVyYXRvck1hcCA9IG1hcDsKICB2YXIgcmVzID0gW107CiAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7CiAgICB2YXIga2V5ID0gYS5uYW1lOwogICAgcmVzLnB1c2goewogICAgICBuYW1lOiBrZXksCiAgICAgIHR5cGU6IG9wZXJhdFVuaXRUeXBlLAogICAgICBmdW46IGZ1bmN0aW9uIGZ1bihjb250ZW50KSB7CiAgICAgICAgYWRkQ29kZUJ1ZmZlcihjb250ZW50LAogICAgICAgIC8v5Y+q5qOA5p+l57G75Z6L5Y2z5Y+vCiAgICAgICAgY3JlYXRlT3BlcmF0VW5pdCh0aGlzLm5hbWUpKTsKICAgICAgfQogICAgfSk7CiAgfSk7CiAgdW5DaGFuZ2VTeW50YXhDaGFpbi5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gcmVzLnB1c2goYSk7CiAgfSk7CiAgc3ludGF4Q2hhaW4gPSByZXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIGIubmFtZS5sZW5ndGggLSBhLm5hbWUubGVuZ3RoOwogIH0pOwp9KTsKLy/kuI3lj5jnmoTor63ms5UKdmFyIHVuQ2hhbmdlU3ludGF4Q2hhaW4gPSBbCi8v54K5CnsKICBuYW1lOiAiLiIsCiAgdHlwZTogcnVuRHluYW1pY1R5cGUsCiAgZnVuOiBmdW5jdGlvbiBmdW4oY29udGVudCwgc3RyKSB7CiAgICB2YXIgYXJySW5kZXggPSBjb250ZW50LmNvZGVCdWZmZXIubGVuZ3RoIC0gMTsKICAgIHZhciBpdGVtID0gY29udGVudC5jb2RlQnVmZmVyW2FyckluZGV4XTsKICAgIGlmIChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHVuZGVmaW5lZCkgewogICAgICB0aHJvd1N5bnRheEVycm9yKHN0cik7CiAgICB9CiAgICBpdGVtLnZhbHVlICs9IHRoaXMubmFtZTsKICB9Cn0sCi8v5bCP5ous5Y+3CnsKICBuYW1lOiAiKCIsCiAgdHlwZTogcnVuRHluYW1pY1R5cGUsCiAgZnVuOiBmdW5jdGlvbiBmdW4oY29udGVudCwgc3RyKSB7CiAgICB2YXIgX2ZpbmROZWFyZXN0U3RyID0gZmluZE5lYXJlc3RTdHIoc3RyLnN1YnN0cmluZyhjb250ZW50LmluZGV4LCBzdHIubGVuZ3RoKSwgIigiLCAiKSIpLAogICAgICB2YWx1ZSA9IF9maW5kTmVhcmVzdFN0ci52YWx1ZSwKICAgICAgc2NyaXB0U3RyID0gX2ZpbmROZWFyZXN0U3RyLnNjcmlwdFN0cjsKICAgIGNvbnRlbnQuaW5kZXggKz0gc2NyaXB0U3RyLmxlbmd0aDsKICAgIHZhciBjb2RlQnVmZmVyID0gY29udGVudC5jb2RlQnVmZmVyOwogICAgLy/mt7vliqAKICAgIHZhciBpdGVtID0gY29kZUJ1ZmZlcltjb2RlQnVmZmVyLmxlbmd0aCAtIDFdOwogICAgaWYgKGl0ZW0gJiYgb3BlcmF0VW5pdFR5cGUgIT0gaXRlbS50eXBlKSB7CiAgICAgIC8v6K6+572u5Li65pa55rOVCiAgICAgIGl0ZW0udHlwZSA9IGZ1bkR5bmFtaWNUeXBlOwogICAgICBpdGVtLnZhcnMgPSBpdGVtLnZhbHVlOwogICAgICBpdGVtLnZhbHVlICs9IHNjcmlwdFN0cjsKICAgICAgaXRlbS5wYXJhbXMgPSB2YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIC8v6K6+572u5Yqo5oCB5omn6KGM5Y2V5YWDCiAgICAgIHZhciB1bml0ID0gY3JlYXRlRHluYW1pY1VuaXQocnVuRHluYW1pY1R5cGUsIHNjcmlwdFN0cik7CiAgICAgIGFkZENvZGVCdWZmZXIoY29udGVudCwgdW5pdCk7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9LAovL+S4ieebrui/kOeul+espgp7CiAgbmFtZTogIj8iLAogIHR5cGU6IHJ1bkR5bmFtaWNUeXBlLAogIGZ1bjogZnVuY3Rpb24gZnVuKGNvbnRlbnQsIHN0cikgewogICAgdmFyIGNvZGVCdWZmZXIgPSBjb250ZW50LmNvZGVCdWZmZXI7CiAgICBpZiAoY29kZUJ1ZmZlci5sZW5ndGggPiAwKSB7CiAgICAgIHZhciBsaW1pdDsKICAgICAgaWYgKChsaW1pdCA9IHN0ci5sYXN0SW5kZXhPZigiOiIpKSAmJiBsaW1pdCA+IGNvbnRlbnQuaW5kZXgpIHsKICAgICAgICAvL+S4ieebrgogICAgICAgIHZhciB1bml0ID0gY3JlYXRlRHluYW1pY1VuaXQodGhyZWVFeWVEeW5hbWljVHlwZSwgc3RyKTsKICAgICAgICAvL+S5i+WJjQogICAgICAgIHVuaXQuY2hlY2tDb2RlcyA9IHNjcmlwdENvbXBpbGUoc3RyLnN1YnN0cigwLCBjb250ZW50LmluZGV4KSk7CiAgICAgICAgLy/mib7liLDmiJDlip/nmoTooajovr7lvI8KICAgICAgICB1bml0LmNvcnJlY3RDb2RlcyA9IHNjcmlwdENvbXBpbGUoc3RyLnN1YnN0cmluZyhjb250ZW50LmluZGV4ICsgMSwgbGltaXQpKTsKICAgICAgICAvL+aJvuWIsOWksei0peeahOihqOi+vuW8jwogICAgICAgIHVuaXQuZXJyb3JDb2RlcyA9IHNjcmlwdENvbXBpbGUoc3RyLnN1YnN0cmluZyhsaW1pdCArIDEsIHN0ci5sZW5ndGgpKTsKICAgICAgICBjb250ZW50LmNvZGVCdWZmZXIgPSBbdW5pdF07CiAgICAgICAgY29udGVudC5pbmRleCA9IHN0ci5sZW5ndGg7CiAgICAgIH0KICAgIH0KICB9Cn1dOwovL+mdmeaAgeWNleWFgwpmdW5jdGlvbiBjcmVhdGVTdGF0aWNVbml0KHR5cGUsIHZhbHVlKSB7CiAgcmV0dXJuIHsKICAgIHR5cGU6IHR5cGUsCiAgICBjb250cm9sOiAxLAogICAgdmFsdWU6IHZhbHVlLAogICAgaXNTdGF0aWM6IHRydWUKICB9Owp9Ci8v6L+Q566X56ym5Y2V5YWDCmZ1bmN0aW9uIGNyZWF0ZU9wZXJhdFVuaXQoc3RyKSB7CiAgcmV0dXJuIHsKICAgIHR5cGU6IG9wZXJhdFVuaXRUeXBlLAogICAgY29udHJvbDogMCwKICAgIHZhbHVlOiBTdHJpbmcoc3RyKSwKICAgIGlzU3RhdGljOiB0cnVlCiAgfTsKfQovL+WKqOaAgeaJp+ihjOWNleWFgwpmdW5jdGlvbiBjcmVhdGVEeW5hbWljVW5pdCh0eXBlLCB2YWx1ZSkgewogIHJldHVybiB7CiAgICB0eXBlOiB0eXBlLAogICAgY29udHJvbDogMSwKICAgIHZhbHVlOiBTdHJpbmcodmFsdWUpLAogICAgaXNTdGF0aWM6IGZhbHNlCiAgfTsKfQp2YXIgdXNlZFVuaXRCdWlsZGVyID0gW3sKICAvL+aVsOWtlwogIHJlZzogLyheXGQrJHwoXlxkKz9cLnswLDF9XGQrJCkpLywKICB0eXBlOiAibnVtYmVyIiwKICBsZXZlbDogMiwKICBmdW46IGZ1bmN0aW9uIGZ1bihzdHIpIHsKICAgIHJldHVybiBjcmVhdGVTdGF0aWNVbml0KDEsIHN0cik7CiAgfQp9LCB7CiAgLy/lrZfnrKbkuLIKICByZWc6IC9eKCd8IikuKignfCIpJC8sCiAgdHlwZTogInN0cmluZyIsCiAgbGV2ZWw6IDIsCiAgZnVuOiBmdW5jdGlvbiBmdW4oc3RyKSB7CiAgICB2YXIgcmVzOwogICAgaWYgKHJlcyA9IC9eWyciXSguKilbJyJdJC8uZXhlYyhzdHIpKSB7CiAgICAgIHN0ciA9IFN0cmluZyhyZXNbMV0pOwogICAgfQogICAgcmV0dXJuIGNyZWF0ZVN0YXRpY1VuaXQoMiwgc3RyKTsKICB9Cn0sIHsKICAvL+W8leeUqAogIHR5cGU6ICJyZWZlcmVuY2UiLAogIGxldmVsOiAzLAogIHJlZzogL14oW2Etel18XF8pLiokL2ksCiAgZnVuOiBmdW5jdGlvbiBmdW4oc3RyKSB7CiAgICByZXR1cm4gY3JlYXRlRHluYW1pY1VuaXQoZmluZFZhbHVlRHluYW1pY1R5cGUsIHN0cik7CiAgfQp9XS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgcmV0dXJuIGIubGV2ZWwgLSBhLmxldmVsOwp9KTsKLy/ljZXlhYPmmKDlsIQKdmFyIHVzZWRVbml0TWFwcGVyID0gZnVuY3Rpb24gKCkgewogIHZhciBtYXAgPSB7fTsKICB1c2VkVW5pdEJ1aWxkZXIuZm9yRWFjaChmdW5jdGlvbiAoYSkgewogICAgbWFwW2EudHlwZV0gPSBhOwogIH0pOwogIHJldHVybiBtYXA7Cn0oKTsKLy/mo4Dmn6Uv5Yib5bu655So5oi35Y2V5YWDCmZ1bmN0aW9uIGNoZWNrQW5kQ3JlYXRlVXNlZFVuaXQoc3RyKSB7CiAgLy/ljrvmjonpppbkvY3nqbrmoLwKICB2YXIgdW5pdDsKICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZWRVbml0QnVpbGRlci5sZW5ndGg7IGkrKykgewogICAgdW5pdCA9IHVzZWRVbml0QnVpbGRlcltpXTsKICAgIGlmICh1bml0LnJlZy50ZXN0KHN0cikpIHsKICAgICAgcmV0dXJuIHVuaXQuZnVuKHN0cik7CiAgICB9CiAgfQogIHRocm93U3ludGF4RXJyb3Ioc3RyKTsKfQo7Ci8v5re75Yqg5Y2V5YWDCmZ1bmN0aW9uIGFkZENvZGVCdWZmZXIoY29udGVudCwgaXRlbSkgewogIHZhciB1cDsKICAvL+WmguaenOS4jeaYr+S4gOS4qui/kOeul+espuS4lOS5i+WJjeaciei/nue7reeahO+8jOmCo+S5iOS4jemcgOimgeaLhuW8gOavlOWmguivtE1hdGgubWF4CiAgaWYgKGNvbnRlbnQuY29kZUJ1ZmZlci5sZW5ndGggPiAwICYmIGl0ZW0udHlwZSAhPSBvcGVyYXRVbml0VHlwZSkgewogICAgdXAgPSBjb250ZW50LmNvZGVCdWZmZXJbY29udGVudC5jb2RlQnVmZmVyLmxlbmd0aCAtIDFdOwogICAgaWYgKHVwLnR5cGUgPT0gb3BlcmF0VW5pdFR5cGUpIHsKICAgICAgdXAgPSBudWxsOwogICAgfQogIH0KICBpZiAodXApIHsKICAgIHVwLnZhbHVlICs9IGl0ZW0udmFsdWU7CiAgfSBlbHNlIHsKICAgIGNvbnRlbnQuY29kZUJ1ZmZlci5wdXNoKGl0ZW0pOwogIH0KfQovL+aVtOeQhuaWueazleWPguaVsApmdW5jdGlvbiBwYXNlRnVuUGFyYW1zKHN0cikgewogIHZhciBicmFja2V0c0luZGV4ID0gMDsKICB2YXIgbGFzdEluZGV4ID0gMDsKICAvL+WPguaVsAogIHZhciBwYXJhbXMgPSBbXSwKICAgIGNoYXJ0bXA7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsKICAgIGNoYXJ0bXAgPSBzdHIuY2hhckF0KGkpOwogICAgaWYgKGNoYXJ0bXAgPT0gIigiKSB7CiAgICAgIGJyYWNrZXRzSW5kZXgrKzsKICAgIH0gZWxzZSBpZiAoY2hhcnRtcCA9PSAiKSIpIHsKICAgICAgYnJhY2tldHNJbmRleC0tOwogICAgfSBlbHNlIGlmIChjaGFydG1wID09ICIsIiAmJiBicmFja2V0c0luZGV4ID09IDApIHsKICAgICAgcGFyYW1zLnB1c2goc3RyLnN1YnN0cmluZyhsYXN0SW5kZXgsIGkpKTsKICAgICAgbGFzdEluZGV4ID0gaSArIDE7CiAgICB9CiAgfQogIGlmIChsYXN0SW5kZXggPCBzdHIubGVuZ3RoKSB7CiAgICBwYXJhbXMucHVzaChzdHIuc3Vic3RyaW5nKGxhc3RJbmRleCwgc3RyLmxlbmd0aCkpOwogIH0KICByZXR1cm4gcGFyYW1zOwp9Ci8qKg0KICog57yW6K+RDQogKiBAcGFyYW0ge09iamVjdH0gc3RyDQogKi8KZnVuY3Rpb24gc3RyaW5nQ29tcGlsZShzdHIpIHsKICB2YXIgY29udGVudCA9IHsKICAgIGluZGV4OiAwLAogICAgY29kZUJ1ZmZlcjogW10KICB9OwogIHZhciBtaW5JbmRleCwgbWluU3ludGF4LCB0bXBzdHI7CiAgd2hpbGUgKGNvbnRlbnQuaW5kZXggPCBzdHIubGVuZ3RoKSB7CiAgICBtaW5JbmRleCA9IDB4N2ZmZmZmZmY7CiAgICBtaW5TeW50YXggPSBudWxsOwogICAgc3ludGF4Q2hhaW4uZm9yRWFjaChmdW5jdGlvbiAoc3ludGF4KSB7CiAgICAgIHZhciBpID0gZmluZEJ5SW5kZXgoc3RyLCBzeW50YXgubmFtZSwgY29udGVudC5pbmRleCk7CiAgICAgIGlmIChpID4gLTEgJiYgaSA8IG1pbkluZGV4KSB7CiAgICAgICAgbWluSW5kZXggPSBpOwogICAgICAgIG1pblN5bnRheCA9IHN5bnRheDsKICAgICAgfQogICAgfSk7CiAgICBtaW5JbmRleCA9IE1hdGgubWluKG1pbkluZGV4LCBzdHIubGVuZ3RoKTsKICAgIGlmIChjb250ZW50LmluZGV4IDwgbWluSW5kZXgpIHsKICAgICAgYWRkQ29kZUJ1ZmZlcihjb250ZW50LAogICAgICAvL+WPquajgOafpeexu+Wei+WNs+WPrwogICAgICBjaGVja0FuZENyZWF0ZVVzZWRVbml0KHN0ci5zdWJzdHJpbmcoY29udGVudC5pbmRleCwgbWluSW5kZXgpKSk7CiAgICB9CiAgICBjb250ZW50LmluZGV4ID0gbWluSW5kZXg7CiAgICBpZiAobWluU3ludGF4KSB7CiAgICAgIGlmIChtaW5TeW50YXguZnVuKGNvbnRlbnQsIHN0cikgIT09IGZhbHNlKSB7CiAgICAgICAgY29udGVudC5pbmRleCArPSBtaW5TeW50YXgubmFtZS5sZW5ndGg7CiAgICAgIH0KICAgIH0KICB9CiAgdmFyIGJ1ZmZlciA9IGNvbnRlbnQuY29kZUJ1ZmZlcjsKICBidWZmZXIuZm9yRWFjaChmdW5jdGlvbiAoYSkgewogICAgaWYgKGEuaXNTdGF0aWMpIHsKICAgICAgdmFyIG51bVR5cGUgPSB1c2VkVW5pdE1hcHBlclsibnVtYmVyIl07CiAgICAgIGlmIChvcGVyYXRVbml0VHlwZSAhPT0gYS50eXBlICYmIG51bVR5cGUucmVnLnRlc3QoYS52YWx1ZSkpIHsKICAgICAgICAvL+aVsOWtl+WIpOaWrQogICAgICAgIGEudmFsdWUgPSBOdW1iZXIoYS52YWx1ZSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHN3aXRjaCAoYS50eXBlKSB7CiAgICAgICAgY2FzZSBydW5EeW5hbWljVHlwZToKICAgICAgICAgIC8v6ZyA6KaB6K6h566X55qECiAgICAgICAgICB2YXIgcmVzOwogICAgICAgICAgaWYgKHJlcyA9IC9eXCgoLispXCkkLy5leGVjKGEudmFsdWUpKSB7CiAgICAgICAgICAgIGEuc2NyaXB0cyA9IHNjcmlwdENvbXBpbGUocmVzWzFdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgZnVuRHluYW1pY1R5cGU6CiAgICAgICAgICAvL+aWueazlQogICAgICAgICAgYS52YXJzID0gY29tcGlsZVJlZmVyZW5jZShhLnZhcnMpOwogICAgICAgICAgYS5wYXJhbXMgPSBwYXNlRnVuUGFyYW1zKGEucGFyYW1zKS5tYXAoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgcmV0dXJuIHNjcmlwdENvbXBpbGUoYSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgZmluZFZhbHVlRHluYW1pY1R5cGU6CiAgICAgICAgICAvL+Wvu+WdgAogICAgICAgICAgYS5zY3JpcHRzID0gY29tcGlsZVJlZmVyZW5jZShhLnZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgdGhyZWVFeWVEeW5hbWljVHlwZToKICAgICAgICAgIC8v5LiJ55uuIAogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGNvbnNvbGUubG9nKGEpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gYnVmZmVyOwp9Ci8qKg0KICog5oGi5aSN5a2X56ym5LiyDQogKi8KZnVuY3Rpb24gcmVjb3ZlcnlDaGFyUG9vbChjaGFyUG9vbCwgY29kZXMpIHsKICBpZiAoY29kZXMpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGNvZGUgPSBjb2Rlc1tpXTsKICAgICAgaWYgKGNvZGUgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgIHJlY292ZXJ5Q2hhclBvb2woY2hhclBvb2wsIGNvZGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChjb2RlLmlzU3RhdGljICYmIGNoYXJQb29sW2NvZGUudmFsdWVdKSB7CiAgICAgICAgICBjb2RlLnZhbHVlID0gY2hhclBvb2xbY29kZS52YWx1ZV07CiAgICAgICAgICAvL+mihOWumueahAogICAgICAgICAgY29kZS5yZXNlcnZlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmVjb3ZlcnlDaGFyUG9vbChjaGFyUG9vbCwgY29kZS52YXJzKTsKICAgICAgICByZWNvdmVyeUNoYXJQb29sKGNoYXJQb29sLCBjb2RlLnBhcmFtcyk7CiAgICAgICAgcmVjb3ZlcnlDaGFyUG9vbChjaGFyUG9vbCwgY29kZS5zY3JpcHRzKTsKICAgICAgfQogICAgfQogIH0KfQovKioNCiAqIOmHjeaOkuW6jw0KICogQHBhcmFtIHtPYmplY3R9IHNjcmlwdHMNCiAqLwpmdW5jdGlvbiBvcGVyYXRvckNvbXBpbGUoY29kZVNvdXJjZSkgewogIC8v57yW6K+RCiAgdmFyCiAgICAvL+aTjeS9nOespuagiAogICAgc3RhY2sgPSBbXSwKICAgIC8v5Luj56CBCiAgICBjb2RlcyA9IFtdLAogICAgLy/ljZXlhYPooagKICAgIHVuaXRzID0gW10sCiAgICAvL+aTjeS9nOespuWIl+ihqAogICAgb3BlcmF0b3JzID0gWwogICAgLy/nrKzkuIDkuKrkuI3lpITnkIbvvIzlhY3lvpflh7rnjrAxK251bGznmoTnjrDosaEKICAgIG51bGxdLAogICAgb3BlcmF0b3IsCiAgICB1bml0OwogIHdoaWxlIChjb2RlU291cmNlLmxlbmd0aCA+IDApIHsKICAgIHVuaXQgPSBjb2RlU291cmNlLnNoaWZ0KCk7CiAgICAodW5pdC50eXBlID09IG9wZXJhdFVuaXRUeXBlID8gb3BlcmF0b3JzIDogdW5pdHMpLnB1c2godW5pdCk7CiAgfQogIGZvciAodmFyIGkgPSAwOyBpIDwgdW5pdHMubGVuZ3RoOyBpKyspIHsKICAgIG9wZXJhdG9yID0gb3BlcmF0b3JzW2ldOwogICAgaWYgKG9wZXJhdG9yICE9IG51bGwpIHsKICAgICAgLy/mjInnhafov5DnrpfnrKbkvJjlhYjnuqflpITnkIYKICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDAgJiYgb3BlcmF0b3JNYXBbb3BlcmF0b3IudmFsdWVdLmxldmVsIDw9IG9wZXJhdG9yTWFwW3N0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlXS5sZXZlbCkgewogICAgICAgIGNvZGVzLnB1c2goc3RhY2sucG9wKCkpOwogICAgICB9CiAgICAgIHN0YWNrLnB1c2gob3BlcmF0b3IpOwogICAgfQogICAgY29kZXMucHVzaCh1bml0c1tpXSk7CiAgfQogIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7CiAgICBjb2Rlcy5wdXNoKHN0YWNrLnBvcCgpKTsKICB9CiAgcmV0dXJuIGNvZGVzOwp9CmZ1bmN0aW9uIHNjcmlwdENvbXBpbGUoc3RyKSB7CiAgaWYgKC9cZFwtXC1cZC8udGVzdChzdHIpKSB7CiAgICB0aHJvdyAiSW52YWxpZCBsZWZ0LWhhbmQgc2lkZSBleHByZXNzaW9uIGluIHBvc3RmaXggb3BlcmF0aW9uIjsKICB9CiAgLy/ljrvmjonpppblsL7nqbrlrZfnrKbkuLIKICBzdHIgPSBzdHIucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCAiIikuCiAgLy/lpITnkIbotJ/mlbAs5q+U5aaCLTHovazlj5jkuLowLTEKICByZXBsYWNlKC9eXC1cZHxbXD1cK1w6XDxcPlx8XCZdXC1cZC9nLCBmdW5jdGlvbiAoYSkgewogICAgdmFyIHJlZ3JlczsKICAgIGlmIChyZWdyZXMgPSAvKC4rKVwtKC4rKS8uZXhlYyhhKSkgewogICAgICByZXR1cm4gIiIuY29uY2F0KHJlZ3Jlc1sxXSwgIjAtIikuY29uY2F0KHJlZ3Jlc1syXSk7CiAgICB9CiAgICByZXR1cm4gIjAiLmNvbmNhdChhKTsKICB9KTsKICB2YXIgY2hhclBvb2wgPSB7fTsKICAiXCInIi5zcGxpdCgiIikuZm9yRWFjaChmdW5jdGlvbiAoYSkgewogICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgiIi5jb25jYXQoYSwgIihbXiIpLmNvbmNhdChhLCAiXSspIikuY29uY2F0KGEpLCAiZyIpLCBmdW5jdGlvbiAoYiwgdG1wKSB7CiAgICAgIHZhciBpZCA9ICJzdHJpIi5jb25jYXQoZ2V0VVVJRCgyOCkpOwogICAgICBjaGFyUG9vbFtpZF0gPSB0bXA7CiAgICAgIHJldHVybiBpZDsKICAgIH0pOwogIH0pOwogIHZhciBjb2RlcyA9IHN0cmluZ0NvbXBpbGUoc3RyKTsKICByZWNvdmVyeUNoYXJQb29sKGNoYXJQb29sLCBjb2Rlcyk7CiAgcmV0dXJuIG9wZXJhdG9yQ29tcGlsZShjb2Rlcyk7Cn0KbW9kdWxlLmV4cG9ydHMgPSB7CiAgc2NyaXB0Q29tcGlsZTogc2NyaXB0Q29tcGlsZQp9Ow=="},{"version":3,"names":["_require","require","operatorListener","_require2","getUUID","findByIndex","findStrAndSplit","_require2$constant","constant","operatUnitType","findValueDynamicType","threeEyeDynamicType","funDynamicType","runDynamicType","findNearestStr","str","open","close","findStr","tmpstr","find","value","scriptStr","concat","compileReference","vars","unit","createDynamicUnit","scripts","scriptCompile","push","split","forEach","a","length","usedUnitMapper","fun","syntaxChain","operatorMap","list","map","res","key","name","type","content","addCodeBuffer","createOperatUnit","unChangeSyntaxChain","sort","b","arrIndex","codeBuffer","item","undefined","throwSyntaxError","_findNearestStr","substring","index","params","limit","lastIndexOf","checkCodes","substr","correctCodes","errorCodes","createStaticUnit","control","isStatic","String","usedUnitBuilder","reg","level","exec","checkAndCreateUsedUnit","i","test","up","paseFunParams","bracketsIndex","lastIndex","chartmp","charAt","stringCompile","minIndex","minSyntax","syntax","Math","min","buffer","numType","Number","console","log","recoveryCharPool","charPool","codes","code","Array","reserve","operatorCompile","codeSource","stack","units","operators","operator","shift","pop","replace","regres","RegExp","tmp","id","module","exports"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/components/tool/eval/stringCompile.js"],"sourcesContent":["/* eslint-disable */\r\n\r\nconst {\r\n\t//运算符类型\r\n\toperatorListener\r\n} = require('./operator.js');\r\n//运行环境的一些适配\r\nconst {\r\n\tgetUUID,\r\n\tfindByIndex,\r\n\tfindStrAndSplit,\r\n\tconstant: {\r\n\t\t//常量\r\n\t\toperatUnitType,\r\n\t\tfindValueDynamicType,\r\n\t\t//三目运算符\r\n\t\tthreeEyeDynamicType,\r\n\t\t//方法\r\n\t\tfunDynamicType,\r\n\t\t//需要计算的参数\r\n\t\trunDynamicType,\r\n\t}\r\n} = require('./env.js');\r\n/**\r\n * 查找最近的字符\r\n */\r\nfunction findNearestStr(str, open, close) {\r\n\tvar findStr = true;\r\n\tfindStrAndSplit(str, \"(\", \")\", (tmpstr, find) => {\r\n\t\tif (find && findStr) {\r\n\t\t\tfindStr = false;\r\n\t\t\tstr = tmpstr;\r\n\t\t}\r\n\t});\r\n\treturn !findStr ? {\r\n\t\tvalue: str,\r\n\t\tscriptStr: `${open}${str}${close}`\r\n\t} : {};\r\n}\r\n/**\r\n * 编译引用变量\r\n * @param {Object} str\r\n */\r\nfunction compileReference(str) {\r\n\tlet vars = [];\r\n\t//变量整理\r\n\tfindStrAndSplit(str, \"[\", \"]\", (tmpstr, find) => {\r\n\t\tif (find) {\r\n\t\t\tlet unit = createDynamicUnit(runDynamicType, tmpstr);\r\n\t\t\tunit.scripts = scriptCompile(tmpstr);\r\n\t\t\tvars.push(unit);\r\n\t\t} else {\r\n\t\t\ttmpstr.split(\".\").forEach((a) => {\r\n\t\t\t\tif (a && a.length > 0) {\r\n\t\t\t\t\tvars.push(usedUnitMapper[\"string\"].fun(a));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\treturn vars;\r\n}\r\nvar syntaxChain, operatorMap;\r\n//当运算符规则改变时\r\noperatorListener.push((list, map) => {\r\n\toperatorMap = map;\r\n\tvar res = [];\r\n\tlist.forEach((a) => {\r\n\t\tlet key = a.name;\r\n\t\tres.push({\r\n\t\t\tname: key,\r\n\t\t\ttype: operatUnitType,\r\n\t\t\tfun (content) {\r\n\t\t\t\taddCodeBuffer(content,\r\n\t\t\t\t\t//只检查类型即可\r\n\t\t\t\t\tcreateOperatUnit(this.name));\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tunChangeSyntaxChain.forEach((a) => res.push(a));\r\n\tsyntaxChain = res.sort((a, b) => {\r\n\t\treturn b.name.length - a.name.length;\r\n\t});\r\n});\r\n//不变的语法\r\nconst unChangeSyntaxChain = [\r\n\t//点\r\n\t{\r\n\t\tname: \".\",\r\n\t\ttype: runDynamicType,\r\n\t\tfun(content, str) {\r\n\t\t\tconst arrIndex = content.codeBuffer.length - 1;\r\n\t\t\tlet item = content.codeBuffer[arrIndex];\r\n\t\t\tif (item === null || item === undefined) {\r\n\t\t\t\tthrowSyntaxError(str);\r\n\t\t\t}\r\n\t\t\titem.value += this.name;\r\n\t\t}\r\n\t},\r\n\t//小括号\r\n\t{\r\n\t\tname: \"(\",\r\n\t\ttype: runDynamicType,\r\n\t\tfun(content, str) {\r\n\t\t\tconst {\r\n\t\t\t\tvalue,\r\n\t\t\t\tscriptStr\r\n\t\t\t} = findNearestStr(str.substring(content.index, str.length), \"(\", \")\");\r\n\t\t\tcontent.index += scriptStr.length;\r\n\t\t\tconst codeBuffer = content.codeBuffer;\r\n\t\t\t//添加\r\n\t\t\tlet item = codeBuffer[codeBuffer.length - 1];\r\n\t\t\tif (item && operatUnitType != item.type) {\r\n\t\t\t\t//设置为方法\r\n\t\t\t\titem.type = funDynamicType;\r\n\t\t\t\titem.vars = item.value;\r\n\t\t\t\titem.value += scriptStr;\r\n\t\t\t\titem.params = value;\r\n\t\t\t} else {\r\n\t\t\t\t//设置动态执行单元\r\n\t\t\t\tlet unit = createDynamicUnit(runDynamicType, scriptStr);\r\n\t\t\t\taddCodeBuffer(content, unit);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\t//三目运算符\r\n\t{\r\n\t\tname: \"?\",\r\n\t\ttype: runDynamicType,\r\n\t\tfun(content, str) {\r\n\t\t\tconst codeBuffer = content.codeBuffer;\r\n\t\t\tif (codeBuffer.length > 0) {\r\n\t\t\t\tlet limit;\r\n\t\t\t\tif ((limit = str.lastIndexOf(\":\")) && limit > content.index) {\r\n\t\t\t\t\t//三目\r\n\t\t\t\t\tlet unit = createDynamicUnit(threeEyeDynamicType, str);\r\n\t\t\t\t\t//之前\r\n\t\t\t\t\tunit.checkCodes = scriptCompile(str.substr(0, content.index));\r\n\t\t\t\t\t//找到成功的表达式\r\n\t\t\t\t\tunit.correctCodes = scriptCompile(str.substring(content.index + 1, limit));\r\n\t\t\t\t\t//找到失败的表达式\r\n\t\t\t\t\tunit.errorCodes = scriptCompile(str.substring(limit + 1, str.length));\r\n\t\t\t\t\tcontent.codeBuffer = [unit];\r\n\t\t\t\t\tcontent.index = str.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n];\r\n//静态单元\r\nfunction createStaticUnit(type, value) {\r\n\treturn {\r\n\t\ttype: type,\r\n\t\tcontrol: 1,\r\n\t\tvalue: value,\r\n\t\tisStatic: true\r\n\t};\r\n}\r\n//运算符单元\r\nfunction createOperatUnit(str) {\r\n\treturn {\r\n\t\ttype: operatUnitType,\r\n\t\tcontrol: 0,\r\n\t\tvalue: String(str),\r\n\t\tisStatic: true\r\n\t};\r\n}\r\n//动态执行单元\r\nfunction createDynamicUnit(type, value) {\r\n\treturn {\r\n\t\ttype: type,\r\n\t\tcontrol: 1,\r\n\t\tvalue: String(value),\r\n\t\tisStatic: false\r\n\t};\r\n}\r\nconst usedUnitBuilder = [{\r\n\t//数字\r\n\treg: /(^\\d+$|(^\\d+?\\.{0,1}\\d+$))/,\r\n\ttype: \"number\",\r\n\tlevel: 2,\r\n\tfun: (str) => createStaticUnit(1, str)\r\n}, {\r\n\t//字符串\r\n\treg: /^('|\").*('|\")$/,\r\n\ttype: \"string\",\r\n\tlevel: 2,\r\n\tfun: (str) => {\r\n\t\tlet res;\r\n\t\tif (res = /^['\"](.*)['\"]$/.exec(str)) {\r\n\t\t\tstr = String(res[1]);\r\n\t\t}\r\n\t\treturn createStaticUnit(2, str);\r\n\t}\r\n}, {\r\n\t//引用\r\n\ttype: \"reference\",\r\n\tlevel: 3,\r\n\treg: /^([a-z]|\\_).*$/i,\r\n\tfun: (str) => {\r\n\t\treturn createDynamicUnit(findValueDynamicType, str);\r\n\t},\r\n}].sort((a, b) => b.level - a.level);\r\n//单元映射\r\nconst usedUnitMapper = (() => {\r\n\tlet map = {};\r\n\tusedUnitBuilder.forEach((a) => {\r\n\t\tmap[a.type] = a;\r\n\t});\r\n\treturn map;\r\n})();\r\n//检查/创建用户单元\r\nfunction checkAndCreateUsedUnit(str) {\r\n\t//去掉首位空格\r\n\tlet unit;\r\n\tfor (let i = 0; i < usedUnitBuilder.length; i++) {\r\n\t\tunit = usedUnitBuilder[i];\r\n\t\tif (unit.reg.test(str)) {\r\n\t\t\treturn unit.fun(str);\r\n\t\t}\r\n\t}\r\n\tthrowSyntaxError(str);\r\n};\r\n//添加单元\r\nfunction addCodeBuffer(content, item) {\r\n\tlet up;\r\n\t//如果不是一个运算符且之前有连续的，那么不需要拆开比如说Math.max\r\n\tif (content.codeBuffer.length > 0 && item.type != operatUnitType) {\r\n\t\tup = content.codeBuffer[content.codeBuffer.length - 1];\r\n\t\tif (up.type == operatUnitType) {\r\n\t\t\tup = null;\r\n\t\t}\r\n\t}\r\n\tif (up) {\r\n\t\tup.value += item.value;\r\n\t} else {\r\n\t\tcontent.codeBuffer.push(item);\r\n\t}\r\n}\r\n//整理方法参数\r\nfunction paseFunParams(str) {\r\n\tlet bracketsIndex = 0;\r\n\tlet lastIndex = 0;\r\n\t//参数\r\n\tlet params = [],\r\n\t\tchartmp;\r\n\tfor (let i = 0; i < str.length; i++) {\r\n\t\tchartmp = str.charAt(i);\r\n\t\tif (chartmp == \"(\") {\r\n\t\t\tbracketsIndex++;\r\n\t\t} else if (chartmp == \")\") {\r\n\t\t\tbracketsIndex--;\r\n\t\t} else if (chartmp == \",\" && bracketsIndex == 0) {\r\n\t\t\tparams.push(str.substring(lastIndex, i));\r\n\t\t\tlastIndex = i + 1;\r\n\t\t}\r\n\t}\r\n\tif (lastIndex < str.length) {\r\n\t\tparams.push(str.substring(lastIndex, str.length));\r\n\t}\r\n\treturn params;\r\n}\r\n/**\r\n * 编译\r\n * @param {Object} str\r\n */\r\nfunction stringCompile(str) {\r\n\tconst content = {\r\n\t\tindex: 0,\r\n\t\tcodeBuffer: []\r\n\t};\r\n\tvar minIndex, minSyntax, tmpstr;\r\n\twhile (content.index < str.length) {\r\n\t\tminIndex = 0x7fffffff;\r\n\t\tminSyntax = null;\r\n\t\tsyntaxChain.forEach((syntax) => {\r\n\t\t\tlet i = findByIndex(str, syntax.name, content.index);\r\n\t\t\tif (i > -1 && i < minIndex) {\r\n\t\t\t\tminIndex = i;\r\n\t\t\t\tminSyntax = syntax;\r\n\t\t\t}\r\n\t\t});\r\n\t\tminIndex = Math.min(minIndex, str.length);\r\n\t\tif (content.index < minIndex) {\r\n\t\t\taddCodeBuffer(content,\r\n\t\t\t\t//只检查类型即可\r\n\t\t\t\tcheckAndCreateUsedUnit(str.substring(content.index, minIndex)));\r\n\t\t}\r\n\t\tcontent.index = minIndex;\r\n\t\tif (minSyntax) {\r\n\t\t\tif (minSyntax.fun(content, str) !== false) {\r\n\t\t\t\tcontent.index += minSyntax.name.length;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tlet buffer = content.codeBuffer;\r\n\tbuffer.forEach((a) => {\r\n\t\tif (a.isStatic) {\r\n\t\t\tlet numType = usedUnitMapper[\"number\"];\r\n\t\t\tif (operatUnitType !== a.type && numType.reg.test(a.value)) {\r\n\t\t\t\t//数字判断\r\n\t\t\t\ta.value = Number(a.value);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tswitch (a.type) {\r\n\t\t\t\tcase runDynamicType:\r\n\t\t\t\t\t//需要计算的\r\n\t\t\t\t\tlet res;\r\n\t\t\t\t\tif (res = /^\\((.+)\\)$/.exec(a.value)) {\r\n\t\t\t\t\t\ta.scripts = scriptCompile(res[1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase funDynamicType:\r\n\t\t\t\t\t//方法\r\n\t\t\t\t\ta.vars = compileReference(a.vars);\r\n\t\t\t\t\ta.params = paseFunParams(a.params).map((a) => scriptCompile(a));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase findValueDynamicType:\r\n\t\t\t\t\t//寻址\r\n\t\t\t\t\ta.scripts = compileReference(a.value);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase threeEyeDynamicType:\r\n\t\t\t\t\t//三目 \r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.log(a);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\treturn buffer;\r\n}\r\n/**\r\n * 恢复字符串\r\n */\r\nfunction recoveryCharPool(charPool, codes) {\r\n\tif (codes) {\r\n\t\tfor (let i = 0; i < codes.length; i++) {\r\n\t\t\tlet code = codes[i];\r\n\t\t\tif (code instanceof Array) {\r\n\t\t\t\trecoveryCharPool(charPool, code);\r\n\t\t\t} else {\r\n\t\t\t\tif (code.isStatic && charPool[code.value]) {\r\n\t\t\t\t\tcode.value = charPool[code.value];\r\n\t\t\t\t\t//预定的\r\n\t\t\t\t\tcode.reserve=true;\r\n\t\t\t\t}\r\n\t\t\t\trecoveryCharPool(charPool, code.vars);\r\n\t\t\t\trecoveryCharPool(charPool, code.params);\r\n\t\t\t\trecoveryCharPool(charPool, code.scripts);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n/**\r\n * 重排序\r\n * @param {Object} scripts\r\n */\r\nfunction operatorCompile(codeSource) {\r\n\t//编译\r\n\tlet\r\n\t\t//操作符栈\r\n\t\tstack = [],\r\n\t\t//代码\r\n\t\tcodes = [],\r\n\t\t//单元表\r\n\t\tunits = [],\r\n\t\t//操作符列表\r\n\t\toperators = [\r\n\t\t\t//第一个不处理，免得出现1+null的现象\r\n\t\t\tnull\r\n\t\t],\r\n\t\toperator, unit;\r\n\twhile (codeSource.length > 0) {\r\n\t\tunit = codeSource.shift();\r\n\t\t((unit.type == operatUnitType) ? operators : units).push(unit);\r\n\t}\r\n\tfor (let i = 0; i < units.length; i++) {\r\n\t\toperator = operators[i];\r\n\t\tif (operator != null) {\r\n\t\t\t//按照运算符优先级处理\r\n\t\t\twhile (stack.length > 0 && operatorMap[operator.value].level <= operatorMap[stack[stack.length - 1].value]\r\n\t\t\t\t.level) {\r\n\t\t\t\tcodes.push(stack.pop());\r\n\t\t\t}\r\n\t\t\tstack.push(operator);\r\n\t\t}\r\n\t\tcodes.push(units[i]);\r\n\t}\r\n\twhile (stack.length > 0) {\r\n\t\tcodes.push(stack.pop());\r\n\t}\r\n\treturn codes;\r\n}\r\n\r\nfunction scriptCompile(str) {\r\n\tif (/\\d\\-\\-\\d/.test(str)) {\r\n\t\tthrow \"Invalid left-hand side expression in postfix operation\";\r\n\t}\r\n\t//去掉首尾空字符串\r\n\tstr = str.replace(/(^\\s*)|(\\s*$)/g, \"\").\r\n\t//处理负数,比如-1转变为0-1\r\n\treplace(/^\\-\\d|[\\=\\+\\:\\<\\>\\|\\&]\\-\\d/g, (a) => {\r\n\t\tlet regres;\r\n\t\tif (regres = /(.+)\\-(.+)/.exec(a)) {\r\n\t\t\treturn `${regres[1]}0-${regres[2]}`;\r\n\t\t}\r\n\t\treturn `0${a}`;\r\n\t});\r\n\tlet charPool = {};\r\n\t`\"'`.split(\"\").forEach((a) => {\r\n\t\tstr = str.replace(new RegExp(`${a}([^${a}]+)${a}`, \"g\"), (b, tmp) => {\r\n\t\t\tlet id = `stri${getUUID(28)}`;\r\n\t\t\tcharPool[id] = tmp;\r\n\t\t\treturn id;\r\n\t\t});\r\n\t});\r\n\tlet codes = stringCompile(str);\r\n\trecoveryCharPool(charPool, codes);\r\n\treturn operatorCompile(codes);\r\n}\r\nmodule.exports = {\r\n\tscriptCompile\r\n};\r\n"],"mappings":"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"}]}