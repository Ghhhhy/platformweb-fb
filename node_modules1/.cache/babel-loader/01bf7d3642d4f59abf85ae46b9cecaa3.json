{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\api\\frame\\common\\file.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\api\\frame\\common\\file.js","mtime":1694505520291},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfQpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByWyJAQGl0ZXJhdG9yIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9CmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQppbXBvcnQgeyBkZWwsIGdldCwgcG9zdCB9IGZyb20gJ0AvYXBpL2h0dHAnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZS9pbmRleCc7CgovKioNCiAqIOaWh+S7tuaTjeS9nA0KICog5a+55o6l5bmz5Y+wDQogKi8KCi8qKg0KICog6I635Y+W5paH5Lu25L+h5oGvDQogKiBAcGFyYW0gcGFyYW1zDQogKiBAcmV0dXJuIHtQcm9taXNlIHwgUHJvbWlzZTx1bmtub3duPn0NCiAqLwpleHBvcnQgZnVuY3Rpb24gZ2V0RmlsZXMoKSB7CiAgdmFyIGJpbGxndWlkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKICB2YXIgX3N0b3JlJHN0YXRlJHVzZXJJbmZvID0gc3RvcmUuc3RhdGUudXNlckluZm8sCiAgICB5ZWFyID0gX3N0b3JlJHN0YXRlJHVzZXJJbmZvLnllYXIsCiAgICBwcm92aW5jZSA9IF9zdG9yZSRzdGF0ZSR1c2VySW5mby5wcm92aW5jZTsKICB2YXIgcGFyYW1zID0gewogICAgeWVhcjogeWVhciwKICAgIHByb3ZpbmNlOiBwcm92aW5jZSwKICAgIGJpbGxndWlkOiBiaWxsZ3VpZAogIH07CiAgcmV0dXJuIGdldCgnZmlsZXNlcnZpY2UvdjIvZmlsZXMnLCBwYXJhbXMpOwp9CgovKioNCiAqIOWIoOmZpOaWh+S7tg0KICogQHBhcmFtIHBhcmFtcw0KICogQHJldHVybiB7UHJvbWlzZSB8IFByb21pc2U8dW5rbm93bj59DQogKi8KZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUZpbGUoZmlsZWd1aWRzKSB7CiAgdmFyIF9zdG9yZSRzdGF0ZSR1c2VySW5mbzIgPSBzdG9yZS5zdGF0ZS51c2VySW5mby5hcHAsCiAgICBfc3RvcmUkc3RhdGUkdXNlckluZm8zID0gX3N0b3JlJHN0YXRlJHVzZXJJbmZvMiA9PT0gdm9pZCAwID8ge30gOiBfc3RvcmUkc3RhdGUkdXNlckluZm8yLAogICAgYXBwaWQgPSBfc3RvcmUkc3RhdGUkdXNlckluZm8zLmd1aWQ7CiAgcmV0dXJuIGRlbCgiZmlsZXNlcnZpY2UvdjIvZmlsZXM/ZmlsZWd1aWRzPSIuY29uY2F0KGZpbGVndWlkcywgIiZhcHBpZD0iKS5jb25jYXQoYXBwaWQpKTsKfQoKLyoqDQogKiDkuIrkvKDmlofku7YNCiAqIEBwYXJhbSBwYXJhbXMNCiAqIEByZXR1cm4ge1Byb21pc2UgfCBQcm9taXNlPHVua25vd24+fQ0KICovCmV4cG9ydCBmdW5jdGlvbiB1cGxvYWRGaWxlKHBhcmFtcykgewogIHZhciBfc3RvcmUkc3RhdGUkdXNlckluZm80ID0gc3RvcmUuc3RhdGUudXNlckluZm8sCiAgICB5ZWFyID0gX3N0b3JlJHN0YXRlJHVzZXJJbmZvNC55ZWFyLAogICAgX3N0b3JlJHN0YXRlJHVzZXJJbmZvNSA9IF9zdG9yZSRzdGF0ZSR1c2VySW5mbzQuYXBwLAogICAgX3N0b3JlJHN0YXRlJHVzZXJJbmZvNiA9IF9zdG9yZSRzdGF0ZSR1c2VySW5mbzUgPT09IHZvaWQgMCA/IHt9IDogX3N0b3JlJHN0YXRlJHVzZXJJbmZvNSwKICAgIGFwcGlkID0gX3N0b3JlJHN0YXRlJHVzZXJJbmZvNi5ndWlkLAogICAgcHJvdmluY2UgPSBfc3RvcmUkc3RhdGUkdXNlckluZm80LnByb3ZpbmNlLAogICAgdXNlcmd1aWQgPSBfc3RvcmUkc3RhdGUkdXNlckluZm80Lmd1aWQ7CiAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgZm9ybURhdGEuYXBwZW5kKCd5ZWFyJywgeWVhcik7CiAgZm9ybURhdGEuYXBwZW5kKCdhcHBpZCcsIGFwcGlkKTsKICBmb3JtRGF0YS5hcHBlbmQoJ3Byb3ZpbmNlJywgcHJvdmluY2UpOwogIGZvcm1EYXRhLmFwcGVuZCgndXNlcmd1aWQnLCB1c2VyZ3VpZCk7CiAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAga2V5ID0gX3JlZjJbMF0sCiAgICAgIHZhbHVlID0gX3JlZjJbMV07CiAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7CiAgfSk7CiAgcmV0dXJuIHBvc3QoJ2ZpbGVzZXJ2aWNlL3YyL3VwbG9hZCcsIGZvcm1EYXRhLCBudWxsLCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsICdvcGVuYXBpJyk7Cn0KCi8qKg0KICog5LiL6L295paH5Lu2DQogKiBAcGFyYW0gZmlsZWd1aWQNCiAqLwpleHBvcnQgZnVuY3Rpb24gZG93bmxvYWRGaWxlKGZpbGVndWlkKSB7CiAgdmFyIF9zdG9yZSRzdGF0ZSR1c2VySW5mbzcgPSBzdG9yZS5zdGF0ZS51c2VySW5mby5hcHAsCiAgICBfc3RvcmUkc3RhdGUkdXNlckluZm84ID0gX3N0b3JlJHN0YXRlJHVzZXJJbmZvNyA9PT0gdm9pZCAwID8ge30gOiBfc3RvcmUkc3RhdGUkdXNlckluZm83LAogICAgYXBwaWQgPSBfc3RvcmUkc3RhdGUkdXNlckluZm84Lmd1aWQ7CiAgdmFyIHBhcmFtcyA9IHsKICAgIGFwcGlkOiBhcHBpZCwKICAgIGZpbGVndWlkOiBmaWxlZ3VpZAogIH07CiAgcmV0dXJuIGdldCgnZmlsZXNlcnZpY2UvdjIvZmluZC9maWxlRXhpc3RzJywgcGFyYW1zKTsKfQ=="},{"version":3,"names":["del","get","post","store","getFiles","billguid","arguments","length","undefined","_store$state$userInfo","state","userInfo","year","province","params","deleteFile","fileguids","_store$state$userInfo2","app","_store$state$userInfo3","appid","guid","concat","uploadFile","_store$state$userInfo4","_store$state$userInfo5","_store$state$userInfo6","userguid","formData","FormData","append","Object","entries","forEach","_ref","_ref2","_slicedToArray","key","value","downloadFile","fileguid","_store$state$userInfo7","_store$state$userInfo8"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/api/frame/common/file.js"],"sourcesContent":["import { del, get, post } from '@/api/http'\r\nimport store from '@/store/index'\r\n\r\n/**\r\n * 文件操作\r\n * 对接平台\r\n */\r\n\r\n/**\r\n * 获取文件信息\r\n * @param params\r\n * @return {Promise | Promise<unknown>}\r\n */\r\nexport function getFiles(billguid = '') {\r\n  const {\r\n    year,\r\n    province\r\n  } = store.state.userInfo\r\n  const params = {\r\n    year,\r\n    province,\r\n    billguid\r\n  }\r\n  return get('fileservice/v2/files', params)\r\n}\r\n\r\n/**\r\n * 删除文件\r\n * @param params\r\n * @return {Promise | Promise<unknown>}\r\n */\r\nexport function deleteFile(fileguids) {\r\n  const {\r\n    app: { guid: appid } = {}\r\n  } = store.state.userInfo\r\n  return del(`fileservice/v2/files?fileguids=${fileguids}&appid=${appid}`)\r\n}\r\n\r\n/**\r\n * 上传文件\r\n * @param params\r\n * @return {Promise | Promise<unknown>}\r\n */\r\nexport function uploadFile(params) {\r\n  const {\r\n    year,\r\n    app: { guid: appid } = {},\r\n    province,\r\n    guid: userguid\r\n  } = store.state.userInfo\r\n\r\n  const formData = new FormData()\r\n  formData.append('year', year)\r\n  formData.append('appid', appid)\r\n  formData.append('province', province)\r\n  formData.append('userguid', userguid)\r\n  Object.entries(params).forEach(([key, value]) => {\r\n    formData.append(key, value)\r\n  })\r\n  return post('fileservice/v2/upload', formData, null, 'multipart/form-data', 'openapi')\r\n}\r\n\r\n/**\r\n * 下载文件\r\n * @param fileguid\r\n */\r\nexport function downloadFile(fileguid) {\r\n  const {\r\n    app: { guid: appid } = {}\r\n  } = store.state.userInfo\r\n  const params = {\r\n    appid,\r\n    fileguid\r\n  }\r\n  return get('fileservice/v2/find/fileExists', params)\r\n}\r\n"],"mappings":"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"}]}