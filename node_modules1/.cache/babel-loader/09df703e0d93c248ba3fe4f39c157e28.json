{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\PrintDrawer\\PrintDrawer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\PrintDrawer\\PrintDrawer.vue","mtime":1694505521442},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQnNQcmludERyYXdlcicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzVmlzaWJsZTogZmFsc2UsCiAgICAgIHVzZXJJbmZvOiB7fSwKICAgICAgbWVudUlkOiAnJywKICAgICAgdG9rZW5pZDogJycsCiAgICAgIHJvbGVndWlkOiAnJwogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICflh63or4HmiZPljbAnCiAgICB9LAogICAgdmlzaWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGd1aWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIC8vIGNwdOWQjeWtlwogICAgY3B0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3p6enAnCiAgICB9LAogICAgLy8g5piv5ZCm6LWw5bel5L2c5rWB77yM6ZmV6KW/6LWw77yM5ZCJ5p6X5LiN6LWwCiAgICBpc1dvcmtGbG93OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnb25DbG9zZScpOwogICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIHRoaXMuaXNWaXNpYmxlKTsKICAgIH0sCiAgICBjaGVja1JlcG9ydDogZnVuY3Rpb24gY2hlY2tSZXBvcnQoKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLiRnbG9hYmxlVG9vbEZuLmdldFJlcG9ydFVybCgpICsgJy9maW5lLXJlcG9ydC9ib3NzL1JlcG9ydFNlcnZlcj9yZXBvcnRsZXQ9JyArIHRoaXMuY3B0ICsgJy5jcHQmaWQ9JyArIHRoaXMuZ3VpZCArICcmeD0xJyArICcmbWVudWd1aWQ9JyArIHRoaXMubWVudUlkICsgJyZyb2xlZ3VpZD0nICsgdGhpcy5yb2xlZ3VpZCArICcmdG9rZW5pZD0nICsgdGhpcy50b2tlbmlkICsgJyZ1c2VyZ3VpZD0nICsgdGhpcy51c2VySW5mby5ndWlkICsgJyZmaXNjYWxfeWVhcj0nICsgdGhpcy51c2VySW5mby55ZWFyICsgJyZtb2ZfZGl2X2NvZGU9JyArIHRoaXMudXNlckluZm8ucHJvdmluY2U7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdSZXBvcnRDcHRJZCcpLmlubmVySFRNTCA9ICc8aWZyYW1lIGZyYW1lYm9yZGVyPW5vIHdpZHRoPTEwMCUgaGVpZ2h0PTEwMCUgc3JjPSInICsgdXJsICsgJyInICsgJz48L2lmcmFtZT4nOwogICAgfSwKICAgIGRvUHJpbnQ6IGZ1bmN0aW9uIGRvUHJpbnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuaJk+WNsOWHreivgScsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kZW1pdCgncHJpbnQnKTsKICAgICAgICBfdGhpcy5jbG9zZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOaJk+WNsCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgd2F0Y2g6IHsKICAgIHZpc2libGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWx1ZSkgewogICAgICAgIHRoaXMuaXNWaXNpYmxlID0gbmV3VmFsdWU7CiAgICAgICAgdGhpcy50b2tlbmlkID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRMb2dpbkF1dGhlbnRpY2F0aW9uLnRva2VuaWQ7CiAgICAgICAgdGhpcy5yb2xlZ3VpZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5yb2xlZ3VpZDsKICAgICAgICB0aGlzLm1lbnVJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZS5ndWlkOwogICAgICAgIHRoaXMudXNlckluZm8gPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbzsKICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIG5ld1ZhbHVlKTsKICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUpIHsKICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jaGVja1JlcG9ydCwgMTApOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["name","data","isVisible","userInfo","menuId","tokenid","roleguid","props","title","type","String","default","visible","Boolean","guid","cpt","isWorkFlow","methods","close","$emit","checkReport","url","$gloableToolFn","getReportUrl","year","province","document","getElementById","innerHTML","doPrint","_this","$confirm","confirmButtonText","cancelButtonText","then","catch","$message","message","mounted","watch","handler","newValue","$store","getters","getLoginAuthentication","state","curNavModule","setTimeout"],"sources":["src/components/PrintDrawer/PrintDrawer.vue"],"sourcesContent":["<template>\r\n  <el-drawer\r\n    size=\"50%\"\r\n    :visible.sync=\"isVisible\"\r\n    class=\"print\"\r\n    @close=\"close\"\r\n  >\r\n    <div slot=\"title\">{{ title }}</div>\r\n    <div id=\"ReportCptId\"></div>\r\n    <div v-if=\"isWorkFlow\" style=\"float:right;margin:10px 10px 0 0\">\r\n      <vxe-button @click=\"doPrint\">打印(到下一岗)</vxe-button>\r\n      <vxe-button @click=\"close\">取消</vxe-button>\r\n    </div>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BsPrintDrawer',\r\n  data() {\r\n    return {\r\n      isVisible: false,\r\n      userInfo: {},\r\n      menuId: '',\r\n      tokenid: '',\r\n      roleguid: ''\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: '凭证打印'\r\n    },\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    guid: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // cpt名字\r\n    cpt: {\r\n      type: String,\r\n      default: 'zzzp'\r\n    },\r\n    // 是否走工作流，陕西走，吉林不走\r\n    isWorkFlow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('onClose')\r\n      this.isVisible = false\r\n      this.$emit('update:visible', this.isVisible)\r\n    },\r\n    checkReport() {\r\n      let url = this.$gloableToolFn.getReportUrl() + '/fine-report/boss/ReportServer?reportlet=' + this.cpt + '.cpt&id=' + this.guid + '&x=1' + '&menuguid=' + this.menuId +\r\n        '&roleguid=' + this.roleguid + '&tokenid=' + this.tokenid + '&userguid=' + this.userInfo.guid + '&fiscal_year=' + this.userInfo.year + '&mof_div_code=' + this.userInfo.province\r\n      document.getElementById('ReportCptId').innerHTML = '<iframe frameborder=no width=100% height=100% src=\"' + url + '\"' + '></iframe>'\r\n    },\r\n    doPrint() {\r\n      this.$confirm('此操作将打印凭证', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$emit('print')\r\n        this.close()\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消打印'\r\n        })\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  watch: {\r\n    visible: {\r\n      handler(newValue) {\r\n        this.isVisible = newValue\r\n        this.tokenid = this.$store.getters.getLoginAuthentication.tokenid\r\n        this.roleguid = this.$store.state.curNavModule.roleguid\r\n        this.menuId = this.$store.state.curNavModule.guid\r\n        this.userInfo = this.$store.state.userInfo\r\n        this.$emit('update:visible', newValue)\r\n        if (newValue === true) {\r\n          setTimeout(this.checkReport, 10)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n.print{\r\n  #ReportCptId{\r\n    height: 500px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;AAiBA;EACAA,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,QAAA;MACAC,MAAA;MACAC,OAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,OAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAG,IAAA;MACAL,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACA;IACAI,GAAA;MACAN,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACA;IACAK,UAAA;MACAP,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;EACA;EACAM,OAAA;IACAC,KAAA,WAAAA,MAAA;MACA,KAAAC,KAAA;MACA,KAAAjB,SAAA;MACA,KAAAiB,KAAA,wBAAAjB,SAAA;IACA;IACAkB,WAAA,WAAAA,YAAA;MACA,IAAAC,GAAA,QAAAC,cAAA,CAAAC,YAAA,wDAAAR,GAAA,qBAAAD,IAAA,gCAAAV,MAAA,GACA,oBAAAE,QAAA,sBAAAD,OAAA,uBAAAF,QAAA,CAAAW,IAAA,0BAAAX,QAAA,CAAAqB,IAAA,2BAAArB,QAAA,CAAAsB,QAAA;MACAC,QAAA,CAAAC,cAAA,gBAAAC,SAAA,2DAAAP,GAAA;IACA;IACAQ,OAAA,WAAAA,QAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAxB,IAAA;MACA,GAAAyB,IAAA;QACAJ,KAAA,CAAAX,KAAA;QACAW,KAAA,CAAAZ,KAAA;MACA,GAAAiB,KAAA;QACAL,KAAA,CAAAM,QAAA;UACA3B,IAAA;UACA4B,OAAA;QACA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA,GAEA;EACAC,KAAA;IACA3B,OAAA;MACA4B,OAAA,WAAAA,QAAAC,QAAA;QACA,KAAAvC,SAAA,GAAAuC,QAAA;QACA,KAAApC,OAAA,QAAAqC,MAAA,CAAAC,OAAA,CAAAC,sBAAA,CAAAvC,OAAA;QACA,KAAAC,QAAA,QAAAoC,MAAA,CAAAG,KAAA,CAAAC,YAAA,CAAAxC,QAAA;QACA,KAAAF,MAAA,QAAAsC,MAAA,CAAAG,KAAA,CAAAC,YAAA,CAAAhC,IAAA;QACA,KAAAX,QAAA,QAAAuC,MAAA,CAAAG,KAAA,CAAA1C,QAAA;QACA,KAAAgB,KAAA,mBAAAsB,QAAA;QACA,IAAAA,QAAA;UACAM,UAAA,MAAA3B,WAAA;QACA;MACA;IACA;EACA;AACA"}]}