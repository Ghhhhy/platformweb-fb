{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\utils\\behaviorcollector.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\utils\\behaviorcollector.js","mtime":1694505522181},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvaW5kZXgnOwppbXBvcnQgeyBwb3N0IH0gZnJvbSAnQC9hcGkvaHR0cCc7CnZhciBkZWZhdWx0Q29uZmlnID0gewogIG1heExlbmd0aDogMjAKfTsKdmFyIEJlaGF2aW9yQ29sbGVjdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCZWhhdmlvckNvbGxlY3RvcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCZWhhdmlvckNvbGxlY3Rvcik7CiAgICB0aGlzLmVudGVyVGltZSA9IG51bGw7CiAgICB0aGlzLmNvbGxlY3Rpb25Jbm4gPSBbXTsKICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgIHVzZXJfaWQ6IG51bGwsCiAgICAgIHVzZXJfY29kZTogbnVsbCwKICAgICAgcmVnaW9uX2NvZGU6IG51bGwsCiAgICAgIGFnZW5jeTogbnVsbCwKICAgICAgdGltZTogbnVsbCwKICAgICAgdGltZV86IG51bGwsCiAgICAgIHRva2VuaWQ6IG51bGwsCiAgICAgIGN1cnJlbnRfcm9sZV9pZDogbnVsbCwKICAgICAgLy8g5b2T5YmN6KeS6ImyaWQKICAgICAgYmVoYXZpb3JfdHlwZTogbnVsbCwKICAgICAgYmVoYXZpb3JfY29udGVudDogewogICAgICAgIC8vIOaTjeS9nOWGheWuuQogICAgICAgIGlkOiBudWxsLAogICAgICAgIHVybDogbnVsbCwKICAgICAgICB2YWx1ZTogbnVsbAogICAgICB9CiAgICB9OwogIH0KICBfY3JlYXRlQ2xhc3MoQmVoYXZpb3JDb2xsZWN0b3IsIFt7CiAgICBrZXk6ICJpbml0Q2xpY2tNb25pdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0Q2xpY2tNb25pdG9yKG9iaikgewogICAgICB2YXIgY3VyTmF2TW9kdWxlID0gb2JqLnN0YXRlLmN1ck5hdk1vZHVsZTsKICAgICAgdmFyIGRlZmF1bHRPcHRpb25zSW5zdGFudGlhdGlvbiA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLCB7fSwgewogICAgICAgIHRpbWU6IGdldEN1cnJlbnREYXRlKCksCiAgICAgICAgdGltZV86ICtuZXcgRGF0ZSgpLAogICAgICAgIGJlaGF2aW9yX3R5cGU6ICdjbGljaycsCiAgICAgICAgYmVoYXZpb3JfY29udGVudDogewogICAgICAgICAgdXJsOiBjdXJOYXZNb2R1bGUudXJsLAogICAgICAgICAgbWVudW5hbWU6IGN1ck5hdk1vZHVsZS5sYWJlbCB8fCBjdXJOYXZNb2R1bGUubmFtZSwKICAgICAgICAgIHZhbHVlOiBvYmoubGFiZWwKICAgICAgICB9LAogICAgICAgIGVudHJhbmNlX25hbWU6IG9iai5sYWJlbAogICAgICB9KTsKICAgICAgdGhpcy5hZGRSZWNvcmQoZGVmYXVsdE9wdGlvbnNJbnN0YW50aWF0aW9uKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbml0Um91dGVNb25pdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0Um91dGVNb25pdG9yKF9yZWYpIHsKICAgICAgdmFyIHRvID0gX3JlZi50bywKICAgICAgICBmcm9tID0gX3JlZi5mcm9tLAogICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTsKICAgICAgdmFyIGN1ck5hdk1vZHVsZSA9IHN0YXRlLmN1ck5hdk1vZHVsZTsKICAgICAgdmFyIGVudGVyT3B0aW9uID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmdldERlZmF1bHRPcHRpb24oKSksIHt9LCB7CiAgICAgICAgYmVoYXZpb3JfdHlwZTogJ3BhZ2VfdmlldycsCiAgICAgICAgY3VycmVudF9yb2xlX2lkOiAnJywKICAgICAgICBlbnRyYW5jZV9uYW1lOiBjdXJOYXZNb2R1bGUubGFiZWwgfHwgY3VyTmF2TW9kdWxlLm5hbWUsCiAgICAgICAgYmVoYXZpb3JfY29udGVudDogewogICAgICAgICAgbWVudW5hbWU6IGN1ck5hdk1vZHVsZS5sYWJlbCB8fCBjdXJOYXZNb2R1bGUubmFtZSwKICAgICAgICAgIGVudHJhbmNlX25hbWU6IGN1ck5hdk1vZHVsZS5sYWJlbCB8fCBjdXJOYXZNb2R1bGUubmFtZSwKICAgICAgICAgIHVybDogY3VyTmF2TW9kdWxlLnVybCwKICAgICAgICAgIHBhcmVudF91cmw6IGZyb20ubmFtZQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuYWRkUmVjb3JkKGVudGVyT3B0aW9uKTsKICAgICAgaWYgKHRoaXMuZW50ZXJUaW1lKSB7CiAgICAgICAgdmFyIHN0YXlUaW1lT3B0aW9uID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmdldERlZmF1bHRPcHRpb24oKSksIHt9LCB7CiAgICAgICAgICBiZWhhdmlvcl90eXBlOiAncGFnZS10aW1lJywKICAgICAgICAgIGJlaGF2aW9yX2NvbnRlbnQ6IHsKICAgICAgICAgICAgbWVudW5hbWU6IGN1ck5hdk1vZHVsZS5sYWJlbCB8fCBjdXJOYXZNb2R1bGUubmFtZSwKICAgICAgICAgICAgc3RheXRpbWU6IE1hdGgucm91bmQoKCtuZXcgRGF0ZSgpIC0gdGhpcy5lbnRlclRpbWUpICogMC4wMDEpLAogICAgICAgICAgICB1cmw6IGN1ck5hdk1vZHVsZS51cmwsCiAgICAgICAgICAgIGVudHJhbmNlX25hbWU6IGN1ck5hdk1vZHVsZS5sYWJlbCB8fCBjdXJOYXZNb2R1bGUubmFtZQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuYWRkUmVjb3JkKHN0YXlUaW1lT3B0aW9uKTsKICAgICAgfQogICAgICB0aGlzLmVudGVyVGltZSA9ICtuZXcgRGF0ZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldERlZmF1bHRPcHRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb24oKSB7CiAgICAgIHZhciBfdXNlckluZm8kYXBwOwogICAgICB2YXIgdXNlckluZm8gPSBzdG9yZS5zdGF0ZS51c2VySW5mbzsKICAgICAgcmV0dXJuIHsKICAgICAgICB0aW1lOiBnZXRDdXJyZW50RGF0ZSgpLAogICAgICAgIHRpbWVfOiArbmV3IERhdGUoKSwKICAgICAgICAnYXBwbmFtZSc6IHVzZXJJbmZvID09PSBudWxsIHx8IHVzZXJJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3VzZXJJbmZvJGFwcCA9IHVzZXJJbmZvLmFwcCkgPT09IG51bGwgfHwgX3VzZXJJbmZvJGFwcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3VzZXJJbmZvJGFwcC5uYW1lLAogICAgICAgIHVzZXJfaWQ6IHVzZXJJbmZvLmd1aWQsCiAgICAgICAgdXNlcl9jb2RlOiB1c2VySW5mby5jb2RlLAogICAgICAgIHJlZ2lvbl9jb2RlOiB1c2VySW5mby5wcm92aW5jZSwKICAgICAgICBhZ2VuY3k6IHVzZXJJbmZvLmFnZW5jeSwKICAgICAgICB1c2VyX25hbWU6IHVzZXJJbmZvLm5hbWUsCiAgICAgICAgdXNlcnR5cGU6IHVzZXJJbmZvLm5hbWUsCiAgICAgICAgdG9rZW5pZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX19ib3NzX2NhY2hlX19ic1N4Y3p5QWNjZXNzVG9rZW4nKSkKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZW5kT3B0aW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZE9wdGlvbnMocGFyYW1zKSB7CiAgICAgIHJldHVybiBwb3N0KCJtcC1kLWFnZ3JlZ2F0aW9uLXNlcnZpY2UvdjEvY29sbGVjdG9yL2JlaGF2aW9yPyIuY29uY2F0KCtuZXcgRGF0ZSgpKSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICBzb3VyY2U6ICdiZWhhdmlvcicKICAgICAgfSwgcGFyYW1zKSwge30sIHsKICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgICAgfSkpOwogICAgfQogICAgLyog5a2Y5YKo5b2T5YmN55uR5o6n5Yiw55qE5pWw5o2uICovCiAgfSwgewogICAga2V5OiAiYWRkUmVjb3JkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRSZWNvcmQob3B0aW9ucykgewogICAgICBpZiAodGhpcy5jb2xsZWN0aW9uSW5uLmxlbmd0aCA+PSBkZWZhdWx0Q29uZmlnLm1heExlbmd0aCkgewogICAgICAgIHRoaXMuc2VuZE9wdGlvbnMoewogICAgICAgICAgdG9rZW5pZDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX19ib3NzX2NhY2hlX19ic1N4Y3p5QWNjZXNzVG9rZW4nKSksCiAgICAgICAgICBkYXRhOiB0aGlzLmNvbGxlY3Rpb25Jbm4uc2xpY2UoMCwgZGVmYXVsdENvbmZpZy5tYXhMZW5ndGgpCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jb2xsZWN0aW9uSW5uID0gW107CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuY29sbGVjdGlvbklubi5wdXNoKG9wdGlvbnMpOwogICAgfQogIH1dKTsKICByZXR1cm4gQmVoYXZpb3JDb2xsZWN0b3I7Cn0oKTsgLy8gZnVuY3Rpb24gZ2V0VXJsUGFyYW0gKHVybE5hbWUsIG5hbWUpIHsKLy8gICB2YXIgdXJsID0gdXJsTmFtZSB8fCB3aW5kb3cubG9jYXRpb24uc2VhcmNoCi8vICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJyhefCYpJyArIG5hbWUgKyAnPShbXiZdKikoJnwkKScpIC8vIOaehOmAoOS4gOS4quWQq+acieebruagh+WPguaVsOeahOato+WImeihqOi+vuW8j+WvueixoQovLyAgIHZhciByID0gdXJsLnN1YnN0cmluZyh1cmwuaW5kZXhPZignPycpICsgMSwgdXJsLmxlbmd0aCkubWF0Y2gocmVnKSAvLyDljLnphY3nm67moIflj4LmlbAKLy8gICBpZiAociAhPSBudWxsKSByZXR1cm4gdW5lc2NhcGUoclsyXSkKLy8gICByZXR1cm4gbnVsbCAvLyDov5Tlm57lj4LmlbDlgLwKLy8gfQpmdW5jdGlvbiBnZXRDdXJyZW50RGF0ZSgpIHsKICB2YXIgbXlEYXRlID0gbmV3IERhdGUoKTsKICB2YXIgeWVhciA9IG15RGF0ZS5nZXRGdWxsWWVhcigpOyAvLyDojrflj5blvZPliY3lubQKICB2YXIgbW9uID0gbXlEYXRlLmdldE1vbnRoKCkgKyAxOyAvLyDojrflj5blvZPliY3mnIgKICB2YXIgZGF0ZSA9IG15RGF0ZS5nZXREYXRlKCk7IC8vIOiOt+WPluW9k+WJjeaXpQogIHZhciBoID0gbXlEYXRlLmdldEhvdXJzKCk7IC8vIOiOt+WPluW9k+WJjeWwj+aXtuaVsCgwLTIzKQogIHZhciBtID0gbXlEYXRlLmdldE1pbnV0ZXMoKTsgLy8g6I635Y+W5b2T5YmN5YiG6ZKf5pWwKDAtNTkpCiAgdmFyIHMgPSBteURhdGUuZ2V0U2Vjb25kcygpOyAvLyDojrflj5blvZPliY3np5IKICBtb24gPSBhZGRaZXJvVG9OdW0obW9uKTsKICBkYXRlID0gYWRkWmVyb1RvTnVtKGRhdGUpOwogIGggPSBhZGRaZXJvVG9OdW0oaCk7CiAgbSA9IGFkZFplcm9Ub051bShtKTsKICBzID0gYWRkWmVyb1RvTnVtKHMpOwogIHJldHVybiB5ZWFyICsgJy0nICsgbW9uICsgJy0nICsgZGF0ZSArICcgJyArIGggKyAnOicgKyBtICsgJzonICsgczsKfQpmdW5jdGlvbiBhZGRaZXJvVG9OdW0obikgewogIGlmIChuIDwgMTApIHsKICAgIHJldHVybiAnMCcgKyBuOwogIH0gZWxzZSB7CiAgICByZXR1cm4gbjsKICB9Cn0KZXhwb3J0IGRlZmF1bHQgbmV3IEJlaGF2aW9yQ29sbGVjdG9yKCk7"},{"version":3,"names":["store","post","defaultConfig","maxLength","BehaviorCollector","_classCallCheck","enterTime","collectionInn","defaultOptions","user_id","user_code","region_code","agency","time","time_","tokenid","current_role_id","behavior_type","behavior_content","id","url","value","_createClass","key","initClickMonitor","obj","curNavModule","state","defaultOptionsInstantiation","_objectSpread","getDefaultOption","getCurrentDate","Date","menuname","label","name","entrance_name","addRecord","initRouteMonitor","_ref","to","from","enterOption","parent_url","stayTimeOption","staytime","Math","round","_userInfo$app","userInfo","app","guid","code","province","user_name","usertype","JSON","parse","localStorage","getItem","sendOptions","params","concat","source","contentType","options","length","data","slice","push","myDate","year","getFullYear","mon","getMonth","date","getDate","h","getHours","m","getMinutes","s","getSeconds","addZeroToNum","n"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/utils/behaviorcollector.js"],"sourcesContent":["import store from '../store/index'\r\nimport { post } from '@/api/http'\r\n\r\nconst defaultConfig = {\r\n  maxLength: 20\r\n}\r\nclass BehaviorCollector {\r\n  constructor() {\r\n    this.enterTime = null\r\n    this.collectionInn = []\r\n    this.defaultOptions = {\r\n      user_id: null,\r\n      user_code: null,\r\n      region_code: null,\r\n      agency: null,\r\n      time: null,\r\n      time_: null,\r\n      tokenid: null,\r\n      current_role_id: null, // 当前角色id\r\n      behavior_type: null,\r\n      behavior_content: { // 操作内容\r\n        id: null,\r\n        url: null,\r\n        value: null\r\n      }\r\n    }\r\n  }\r\n  initClickMonitor(obj) {\r\n    const { curNavModule } = obj.state\r\n    const defaultOptionsInstantiation = {\r\n      ...this.getDefaultOption(),\r\n      time: getCurrentDate(),\r\n      time_: +new Date(),\r\n      behavior_type: 'click',\r\n      behavior_content: {\r\n        url: curNavModule.url,\r\n        menuname: curNavModule.label || curNavModule.name,\r\n        value: obj.label\r\n      },\r\n      entrance_name: obj.label\r\n    }\r\n    this.addRecord(defaultOptionsInstantiation)\r\n  }\r\n  initRouteMonitor({ to, from, state }) {\r\n    const { curNavModule } = state\r\n    const enterOption = {\r\n      ...this.getDefaultOption(),\r\n      behavior_type: 'page_view',\r\n      current_role_id: '',\r\n      entrance_name: curNavModule.label || curNavModule.name,\r\n      behavior_content: {\r\n        menuname: curNavModule.label || curNavModule.name,\r\n        entrance_name: curNavModule.label || curNavModule.name,\r\n        url: curNavModule.url,\r\n        parent_url: from.name\r\n      }\r\n    }\r\n    this.addRecord(enterOption)\r\n    if (this.enterTime) {\r\n      const stayTimeOption = {\r\n        ...this.getDefaultOption(),\r\n        behavior_type: 'page-time',\r\n        behavior_content: {\r\n          menuname: curNavModule.label || curNavModule.name,\r\n          staytime: Math.round((+new Date() - this.enterTime) * 0.001),\r\n          url: curNavModule.url,\r\n          entrance_name: curNavModule.label || curNavModule.name\r\n        }\r\n      }\r\n      this.addRecord(stayTimeOption)\r\n    }\r\n    this.enterTime = +new Date()\r\n  }\r\n  getDefaultOption() {\r\n    const { userInfo } = store.state\r\n    return {\r\n      time: getCurrentDate(),\r\n      time_: +new Date(),\r\n      'appname': userInfo?.app?.name,\r\n      user_id: userInfo.guid,\r\n      user_code: userInfo.code,\r\n      region_code: userInfo.province,\r\n      agency: userInfo.agency,\r\n      user_name: userInfo.name,\r\n      usertype: userInfo.name,\r\n      tokenid: JSON.parse(localStorage.getItem('__boss_cache__bsSxczyAccessToken'))\r\n    }\r\n  }\r\n  sendOptions (params) {\r\n    return post(`mp-d-aggregation-service/v1/collector/behavior?${+new Date()}`,\r\n      {\r\n        source: 'behavior',\r\n        ...params,\r\n        contentType: 'application/x-www-form-urlencoded'\r\n      })\r\n  }\r\n  /* 存储当前监控到的数据 */\r\n  addRecord(options) {\r\n    if (this.collectionInn.length >= defaultConfig.maxLength) {\r\n      this.sendOptions({\r\n        tokenid: JSON.parse(localStorage.getItem('__boss_cache__bsSxczyAccessToken')),\r\n        data: this.collectionInn.slice(0, defaultConfig.maxLength)\r\n      })\r\n      this.collectionInn = []\r\n      return\r\n    }\r\n    this.collectionInn.push(options)\r\n  }\r\n}\r\n// function getUrlParam (urlName, name) {\r\n//   var url = urlName || window.location.search\r\n//   var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)') // 构造一个含有目标参数的正则表达式对象\r\n//   var r = url.substring(url.indexOf('?') + 1, url.length).match(reg) // 匹配目标参数\r\n//   if (r != null) return unescape(r[2])\r\n//   return null // 返回参数值\r\n// }\r\nfunction getCurrentDate () {\r\n  var myDate = new Date()\r\n  var year = myDate.getFullYear() // 获取当前年\r\n  var mon = myDate.getMonth() + 1 // 获取当前月\r\n  var date = myDate.getDate() // 获取当前日\r\n  var h = myDate.getHours()// 获取当前小时数(0-23)\r\n  var m = myDate.getMinutes()// 获取当前分钟数(0-59)\r\n  var s = myDate.getSeconds()// 获取当前秒\r\n  mon = addZeroToNum(mon)\r\n  date = addZeroToNum(date)\r\n  h = addZeroToNum(h)\r\n  m = addZeroToNum(m)\r\n  s = addZeroToNum(s)\r\n  return year + '-' + mon + '-' + date + ' ' + h + ':' + m + ':' + s\r\n}\r\nfunction addZeroToNum(n) {\r\n  if (n < 10) {\r\n    return '0' + n\r\n  } else {\r\n    return n\r\n  }\r\n}\r\nexport default new BehaviorCollector()\r\n"],"mappings":"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"}]}