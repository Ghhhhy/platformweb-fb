{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\api\\smSecret\\smSecret.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\api\\smSecret\\smSecret.js","mtime":1694505520371},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90aGlzID0gdGhpczsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCAic3RyaW5nIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09ICJzeW1ib2wiID8ga2V5IDogU3RyaW5nKGtleSk7IH0KZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gIm9iamVjdCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgImRlZmF1bHQiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gIm9iamVjdCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7IH0gcmV0dXJuIChoaW50ID09PSAic3RyaW5nIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9CmZ1bmN0aW9uIF90eXBlb2YobykgeyAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOyByZXR1cm4gX3R5cGVvZiA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiAic3ltYm9sIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfQovKg0KICogQEF1dGhvcjog6L276K+tDQogKiBARGF0ZTogMjAyMS0wNy0xMiAwOTo0NjoyMQ0KICogQExhc3RFZGl0b3JzOiDovbvor60NCiAqIEBMYXN0RWRpdFRpbWU6IDIwMjEtMDgtMTAgMTA6MjY6MTMNCiAqIEBEZXNjcmlwdGlvbjog5Yqg5a+G6KeE5YiZ77yaZ2V0L3Bvc3QvZGVsL3B1dOivt+axguWKoOWvhu+8jOWPguaVsHZhbHVl5Yqg5a+G77yMa2V55YC85LiN5Yqg5a+GDQogKi8KaW1wb3J0IFNNNFV0aWwgZnJvbSAnLi9zbTQuanMnOwppbXBvcnQgeyBzbTJFbmNyeXB0IH0gZnJvbSAnLi9zbTIuanMnOwp2YXIgZGVlcENvcHkgPSBmdW5jdGlvbiBkZWVwQ29weShvYmopIHsKICAvLyBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gb2JqCiAgLy8gbGV0IG5ld09iaiA9IG9iaiBpbnN0YW5jZW9mIEFycmF5ID8gW10gOiB7fQogIC8vIGZvciAobGV0IGtleSBpbiBvYmopIHsKICAvLyAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgewogIC8vICAgICBuZXdPYmpba2V5XSA9IHR5cGVvZiBvYmpba2V5XSA9PT0gJ29iamVjdCcgPyB0aGlzLmRlZXBDb3B5KG9ialtrZXldKSA6IG9ialtrZXldCiAgLy8gICB9CiAgLy8gfQogIC8vIHJldHVybiBuZXdPYmoKICB2YXIgbWUgPSBfdGhpczsKICB2YXIgbmV3T2JqID0gbnVsbDsKICBpZiAoX3R5cGVvZihvYmopICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHsKICAgIG5ld09iaiA9IG9iajsKICB9IGVsc2UgewogICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgIG5ld09iaiA9IG9iai5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIG1lLmNsb25lKGl0ZW0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgIG5ld09iaiA9IHt9OwogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgbmV3T2JqW2tleV0gPSBtZS5jbG9uZShvYmpba2V5XSk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgTWFwKSB7CiAgICAgIG5ld09iaiA9IG5ldyBNYXAoKTsKICAgICAgb2JqLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChtYXBWLCBtYXBLKSB7CiAgICAgICAgbmV3T2JqLnNldChtYXBLLCBtZS5jbG9uZShtYXBWKSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBTZXQpIHsKICAgICAgbmV3T2JqID0gbmV3IE1hcCgpOwogICAgICBTZXQuZm9yRWFjaChmdW5jdGlvbiAoc2V0Viwgc2V0SSkgewogICAgICAgIG5ld09iai5hZGQobWUuY2xvbmUoc2V0VikpOwogICAgICB9KTsKICAgIH0gZWxzZSB7fQogIH0KICByZXR1cm4gbmV3T2JqOwp9Owp2YXIgaXNMb2dpblNlY3JldFVzZVNtNCA9IHRydWU7IC8vIGxvZ2lu5Yqg5a+G5pa55byP77yaYm9vbGVhbiA9IHRydWUgc200IOaKkeaIlnNoYTI1NgoKdmFyIGlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7CiAgaWYgKCF2YWx1ZSB8fCBfdHlwZW9mKHZhbHVlKSAhPT0gJ29iamVjdCcgfHwge30udG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQogIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7CiAgaWYgKHByb3RvID09PSBudWxsKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjsKICByZXR1cm4gdHlwZW9mIEN0b3IgPT09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQ3RvcikgPT09IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKE9iamVjdCk7Cn07CmV4cG9ydCBkZWZhdWx0IHsKICAvLyDnu5lodHRw6K+35rGC5Yqg5a+GICjljIXlkKvkuKTnp43liqDlr4bmlrnlvI/vvJox44CBanNvbuagvOW8j+aVtOS9k+WKoOWvhiAgMuOAgemAkuW9kmtleeS4jeWKoOWvhu+8jHZhbHVl5Yqg5a+GKQogIGVuY3J5SHR0cDogZnVuY3Rpb24gZW5jcnlIdHRwKF9yZWYsIENvbnRlbnRUeXBlKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgIHZhciBpc1NlY3JldCA9IF9yZWYuaXNTZWNyZXQsCiAgICAgIGFqYXhUeXBlID0gX3JlZi5hamF4VHlwZSwKICAgICAgcGFyYW1zID0gX3JlZi5wYXJhbXMsCiAgICAgIGRhdGFUeXBlID0gX3JlZi5kYXRhVHlwZTsKICAgIHZhciBpc0h0dHBCb2R5RGF0YSA9IFsncG9zdCcsICdwdXQnLCAncG9zdFN0cmluZ2lmeScsICdkZWxldGUnXS5pbmNsdWRlcyhhamF4VHlwZSk7CiAgICB2YXIgcmV0dXJuRGVsRGF0YSA9IGRhdGFUeXBlID8gewogICAgICBwYXJhbXM6IHBhcmFtcwogICAgfSA6IHsKICAgICAgZGF0YTogcGFyYW1zCiAgICB9OwogICAgaWYgKCFpc1NlY3JldCkgewogICAgICAvLyDlpoLmnpzkuI3liqDlr4YKICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMucGFyYW1ldGVycyAmJiBhamF4VHlwZSA9PT0gJ3Bvc3RTdHJpbmdpZnknKSB7CiAgICAgICAgcGFyYW1zLnBhcmFtZXRlcnMgPSBKU09OLnN0cmluZ2lmeShwYXJhbXMucGFyYW1ldGVycyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGlzSHR0cEJvZHlEYXRhID8gcGFyYW1zIDogYWpheFR5cGUgPT09ICdnZXQnID8gewogICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKQogICAgICB9IDogcmV0dXJuRGVsRGF0YTsKICAgIH0KICAgIHZhciBzZWNyZXREYXRhOwogICAgLy8gZ2V077ya5omA5pyJdmFsdWXnlKhzbTTliqDlr4YKICAgIGlmIChhamF4VHlwZSA9PT0gJ2dldCcpIHsKICAgICAgc2VjcmV0RGF0YSA9IHRoaXMuc2V0U2VjcmV0KHBhcmFtcykgJiYgewogICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwgSlNPTi5wYXJzZSh0aGlzLnNldFNlY3JldChwYXJhbXMpKSkKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFNNNFV0aWwuZW5jcnlwdERhdGFfRUNC5pW05L2T5Yqg5a+G77ybIFNNNFV0aWwuZW5jcnlwdEVDQumAkuW9kuWKoOWvhgogICAgICB2YXIgdHlwZU1hcCA9IG5ldyBNYXAoW1snYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gU000VXRpbC5lbmNyeXB0RGF0YV9FQ0IoSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogICAgICB9XSwgWydhcHBsaWNhdGlvbi9qc29uJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gU000VXRpbC5lbmNyeXB0RGF0YV9FQ0IoSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogICAgICB9XSwgWydhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTZWNyZXQoZGF0YSk7CiAgICAgIH1dLCBbJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTZWNyZXQoZGF0YSk7CiAgICAgIH1dXSk7CiAgICAgIHNlY3JldERhdGEgPSB0eXBlb2YgdHlwZU1hcC5nZXQoQ29udGVudFR5cGUpID09PSAnZnVuY3Rpb24nICYmIHR5cGVNYXAuZ2V0KENvbnRlbnRUeXBlKShwYXJhbXMpOwogICAgfQogICAgcmV0dXJuIHNlY3JldERhdGE7CiAgfSwKICAvLyDpgJLlvZJ1cmznvJbnoIEKICB0cmVlRm9yVXJsOiBmdW5jdGlvbiB0cmVlRm9yVXJsKHBhcmFtKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgIGlmICghcGFyYW0pIHJldHVybjsKICAgIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiBlbmNvZGVVUkkocGFyYW0pOwogICAgfQogICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtKSk7CiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkgewogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdywgaW5kZXgpIHsKICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChyb3cpIHx8IEFycmF5LmlzQXJyYXkocm93KSkgewogICAgICAgICAgLy8g5a+56LGh5ZKM5pWw57uE6ZyA6KaB6YCS5b2SCiAgICAgICAgICBfdGhpczMudHJlZUZvclVybChyb3cpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkYXRhW2luZGV4XSA9IGVuY29kZVVSSShyb3cgKyAnJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChkYXRhKSkgewogICAgICAvLyDlr7nosaEKICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChkYXRhW2tleV0pIHx8IEFycmF5LmlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgLy8g5a+56LGh5ZKM5pWw57uE6ZyA6KaB6YCS5b2SCiAgICAgICAgICB0aGlzLnRyZWVGb3JVcmwoZGF0YVtrZXldKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0YVtrZXldID0gZW5jb2RlVVJJKGRhdGFba2V5XSArICcnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkYXRhOwogIH0sCiAgLy8g6YCS5b2S5Yqg5a+GCiAgc2V0U2VjcmV0OiBmdW5jdGlvbiBzZXRTZWNyZXQob2JqKSB7CiAgICAvLyDlj6rliqDlr4blr7nosaEKICAgIGlmIChfdHlwZW9mKG9iaikgIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIG9iajsKICAgIHZhciBkYXRhID0gZGVlcENvcHkodHJ1ZSwge30sIG9iaik7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoU000VXRpbC5lbmNyeXB0RUNCKGRhdGEpKTsKICB9LAogIGVuY3J5cHRMb2dpbjogZnVuY3Rpb24gZW5jcnlwdExvZ2luKF9yZWYyKSB7CiAgICB2YXIgaXNTZWNyZXQgPSBfcmVmMi5pc1NlY3JldCwKICAgICAgX3JlZjIkcGFyYW1zID0gX3JlZjIucGFyYW1zLAogICAgICB1c2VybmFtZSA9IF9yZWYyJHBhcmFtcy51c2VybmFtZSwKICAgICAgcGFzc3dvcmQgPSBfcmVmMiRwYXJhbXMucGFzc3dvcmQsCiAgICAgIHVzZXJudW0gPSBfcmVmMiRwYXJhbXMudXNlcm51bTsKICAgIHZhciBmb3JtRGF0YTsKICAgIGlmICghaXNMb2dpblNlY3JldFVzZVNtNCB8fCAhaXNTZWNyZXQpIHsKICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VybmFtZScsIHVzZXJuYW1lKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXNzd29yZCcsIHdpbmRvdy5DcnlwdG9KUy5TSEEyNTYocGFzc3dvcmQpLnRvU3RyaW5nKCkpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NhcHRjaGEnLCB1c2VybnVtIHx8ICcnKTsKICAgIH0gZWxzZSB7CiAgICAgIGZvcm1EYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXJuYW1lJywgU000VXRpbC5lbmNyeXB0RGF0YV9FQ0IodXNlcm5hbWUpKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXNzd29yZCcsIFNNNFV0aWwuZW5jcnlwdERhdGFfRUNCKHNtMkVuY3J5cHQocGFzc3dvcmQsIDApKSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY2FwdGNoYScsIFNNNFV0aWwuZW5jcnlwdERhdGFfRUNCKCIjIi5jb25jYXQodXNlcm51bSkpKTsgLy8gamJPbTlnYjJKTm5BbEtjaXRORHFjdz09CiAgICB9CgogICAgcmV0dXJuIGZvcm1EYXRhOwogIH0KfTs="},{"version":3,"names":["SM4Util","sm2Encrypt","deepCopy","obj","me","_this","newObj","_typeof","Array","map","item","index","clone","Object","key","Map","keys","forEach","mapV","mapK","set","Set","setV","setI","add","isLoginSecretUseSm4","isPlainObject","value","toString","call","proto","getPrototypeOf","Ctor","hasOwnProperty","constructor","Function","prototype","encryHttp","_ref","ContentType","_this2","isSecret","ajaxType","params","dataType","isHttpBodyData","includes","returnDelData","data","parameters","JSON","stringify","_objectSpread","secretData","setSecret","parse","typeMap","encryptData_ECB","get","treeForUrl","param","_this3","encodeURI","isArray","row","encryptECB","encryptLogin","_ref2","_ref2$params","username","password","usernum","formData","FormData","append","window","CryptoJS","SHA256","URLSearchParams","concat"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/api/smSecret/smSecret.js"],"sourcesContent":["/*\r\n * @Author: 轻语\r\n * @Date: 2021-07-12 09:46:21\r\n * @LastEditors: 轻语\r\n * @LastEditTime: 2021-08-10 10:26:13\r\n * @Description: 加密规则：get/post/del/put请求加密，参数value加密，key值不加密\r\n */\r\nimport SM4Util from './sm4.js'\r\nimport { sm2Encrypt } from './sm2.js'\r\nconst deepCopy = (obj) => {\r\n  // if (typeof obj !== 'object' || obj === null) return obj\r\n  // let newObj = obj instanceof Array ? [] : {}\r\n  // for (let key in obj) {\r\n  //   if (obj.hasOwnProperty(key)) {\r\n  //     newObj[key] = typeof obj[key] === 'object' ? this.deepCopy(obj[key]) : obj[key]\r\n  //   }\r\n  // }\r\n  // return newObj\r\n  let me = this\r\n  let newObj = null\r\n  if (typeof obj !== 'object' || obj === null) {\r\n    newObj = obj\r\n  } else {\r\n    if (obj instanceof Array) {\r\n      newObj = obj.map((item, index) => {\r\n        return me.clone(item)\r\n      })\r\n    } else if (obj instanceof Object) {\r\n      newObj = {}\r\n      for (let key in obj) {\r\n        newObj[key] = me.clone(obj[key])\r\n      }\r\n    } else if (obj instanceof Map) {\r\n      newObj = new Map()\r\n      obj.keys().forEach((mapV, mapK) => {\r\n        newObj.set(mapK, me.clone(mapV))\r\n      })\r\n    } else if (obj instanceof Set) {\r\n      newObj = new Map()\r\n      Set.forEach((setV, setI) => {\r\n        newObj.add(me.clone(setV))\r\n      })\r\n    } else {\r\n    }\r\n  }\r\n  return newObj\r\n}\r\nconst isLoginSecretUseSm4 = true // login加密方式：boolean = true sm4 抑或sha256\r\n\r\nconst isPlainObject = (value) => {\r\n  if (!value || typeof value !== 'object' || ({}).toString.call(value) !== '[object Object]') {\r\n    return false\r\n  }\r\n  var proto = Object.getPrototypeOf(value)\r\n  if (proto === null) {\r\n    return true\r\n  }\r\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor\r\n  return typeof Ctor === 'function' && Ctor instanceof Ctor && Function.prototype.toString.call(Ctor) === Function.prototype.toString.call(Object)\r\n}\r\n\r\nexport default {\r\n  // 给http请求加密 (包含两种加密方式：1、json格式整体加密  2、递归key不加密，value加密)\r\n  encryHttp({ isSecret, ajaxType, params, dataType }, ContentType) {\r\n    const isHttpBodyData = ['post', 'put', 'postStringify', 'delete'].includes(ajaxType)\r\n    const returnDelData = dataType ? { params: params } : { data: params }\r\n\r\n    if (!isSecret) { // 如果不加密\r\n      if (params && params.parameters && ajaxType === 'postStringify') {\r\n        params.parameters = JSON.stringify(params.parameters)\r\n      }\r\n      return isHttpBodyData ? params : (ajaxType === 'get' ? { params: { ...params } } : returnDelData)\r\n    }\r\n    let secretData\r\n    // get：所有value用sm4加密\r\n    if (ajaxType === 'get') {\r\n      secretData = this.setSecret(params) && { params: { ...JSON.parse(this.setSecret(params)) } }\r\n    } else {\r\n    // SM4Util.encryptData_ECB整体加密； SM4Util.encryptECB递归加密\r\n      const typeMap = new Map([\r\n        ['application/json;charset=UTF-8', data => SM4Util.encryptData_ECB(JSON.stringify(data))],\r\n        ['application/json', data => SM4Util.encryptData_ECB(JSON.stringify(data))],\r\n        ['application/x-www-form-urlencoded;charset=UTF-8', data => this.setSecret(data)],\r\n        ['application/x-www-form-urlencoded', data => this.setSecret(data)]\r\n      ])\r\n      secretData = typeof typeMap.get(ContentType) === 'function' && typeMap.get(ContentType)(params)\r\n    }\r\n    return secretData\r\n  },\r\n\r\n  // 递归url编码\r\n  treeForUrl(param) {\r\n    if (!param) return\r\n    if (typeof param === 'string') {\r\n      return encodeURI(param)\r\n    }\r\n    let data = JSON.parse(JSON.stringify(param))\r\n    if (Array.isArray(data)) {\r\n      data.forEach((row, index) => {\r\n        if (isPlainObject(row) || Array.isArray(row)) { // 对象和数组需要递归\r\n          this.treeForUrl(row)\r\n        } else {\r\n          data[index] = encodeURI(row + '')\r\n        }\r\n      })\r\n    } else if (isPlainObject(data)) { // 对象\r\n      for (var key in data) {\r\n        if (isPlainObject(data[key]) || Array.isArray(data[key])) { // 对象和数组需要递归\r\n          this.treeForUrl(data[key])\r\n        } else {\r\n          data[key] = encodeURI(data[key] + '')\r\n        }\r\n      }\r\n    }\r\n    return data\r\n  },\r\n  // 递归加密\r\n  setSecret(obj) {\r\n    // 只加密对象\r\n    if (typeof obj !== 'object' || obj === null) return obj\r\n    const data = deepCopy(true, {}, obj)\r\n    return JSON.stringify(SM4Util.encryptECB(data))\r\n  },\r\n  encryptLogin({ isSecret, params: { username, password, usernum } }) {\r\n    let formData\r\n    if (!isLoginSecretUseSm4 || !isSecret) {\r\n      formData = new FormData()\r\n      formData.append('username', username)\r\n      formData.append('password', window.CryptoJS.SHA256(password).toString())\r\n      formData.append('captcha', usernum || '')\r\n    } else {\r\n      formData = new URLSearchParams()\r\n      formData.append('username', SM4Util.encryptData_ECB(username))\r\n      formData.append('password', SM4Util.encryptData_ECB(sm2Encrypt(password, 0)))\r\n      formData.append('captcha', SM4Util.encryptData_ECB(`#${usernum}`)) // jbOm9gb2JNnAlKcitNDqcw==\r\n    }\r\n    return formData\r\n  }\r\n}\r\n"],"mappings":"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"}]}