{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\fujianLedge\\directReport\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\fujianLedge\\directReport\\index.vue","mtime":1694505522496},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9CmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbIkBAaXRlcmF0b3IiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH0KZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCBYRVV0aWxzIGZyb20gJ3hlLXV0aWxzL2N0b3InOwppbXBvcnQgdXNlRm9ybSBmcm9tICdAL2hvb2tzL3VzZUZvcm0nOwppbXBvcnQgdXNlVGFibGUgZnJvbSAnQC9ob29rcy91c2VUYWJsZSc7CmltcG9ydCB7IGZqTGVkZ2VyUXVlcnkgfSBmcm9tICdAL2FwaS9mcmFtZS9tYWluL2Z1amlhbkxlZGdlL2luZGV4LmpzJzsKaW1wb3J0IHsgZ2V0U2VhcmNoRm9ybVNjaGVtYXMgfSBmcm9tICcuL21vZGVsL2RhdGEnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIHByb3BzOiB7CiAgICAvLyDmiqXooajlkI3np7AKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvLyDmmK/lkKblvIDlkK/lubTluqbmkJzntKIKICAgIG9wZW5TZWFyY2g6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8vIOivt+axgueahOmineWkluWPguaVsAogICAgcmVxdWVzdFBheWxvYWQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcykgewogICAgLyoqDQogICAgICog5pCc57Si6KGo5Y2VDQogICAgICovCiAgICB2YXIgX3VzZUZvcm0gPSB1c2VGb3JtKGdldFNlYXJjaEZvcm1TY2hlbWFzKCkpLAogICAgICBfdXNlRm9ybTIgPSBfc2xpY2VkVG9BcnJheShfdXNlRm9ybSwgMiksCiAgICAgIF91c2VGb3JtMiQgPSBfdXNlRm9ybTJbMF0sCiAgICAgIGZvcm1EYXRhID0gX3VzZUZvcm0yJC5mb3JtRGF0YSwKICAgICAgZm9ybVNjaGVtYXMgPSBfdXNlRm9ybTIkLmZvcm1TY2hlbWFzLAogICAgICBnZXRTdWJtaXRGb3JtRGF0YSA9IF91c2VGb3JtMiQuZ2V0U3VibWl0Rm9ybURhdGEsCiAgICAgIHNldFN1Ym1pdEZvcm1EYXRhID0gX3VzZUZvcm0yJC5zZXRTdWJtaXRGb3JtRGF0YSwKICAgICAgcmVnaXN0ZXJGb3JtID0gX3VzZUZvcm0yWzFdOwoKICAgIC8qKg0KICAgICAqIOihqOagvA0KICAgICAqICovCiAgICB2YXIgX3VzZVRhYmxlID0gdXNlVGFibGUoewogICAgICAgIGZldGNoOiBmakxlZGdlclF1ZXJ5LAogICAgICAgIGdldFN1Ym1pdEZvcm1EYXRhOiBwcm9wcy5vcGVuU2VhcmNoID8gZ2V0U3VibWl0Rm9ybURhdGEgOiBudWxsLAogICAgICAgIC8vIOWQjue9rumSqeWtkOWkhOeQhuihqOWktAogICAgICAgIGFmdGVyRmV0Y2g6IGZ1bmN0aW9uIGFmdGVyRmV0Y2goZGF0YSkgewogICAgICAgICAgWEVVdGlscy5lYWNoVHJlZShkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuaGVhZCwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgdmFyIF9pdGVtJGZpZWxkLCBfaXRlbSRmaWVsZCRlbmRzV2l0aDsKICAgICAgICAgICAgaXRlbS5taW5XaWR0aCA9IDE1MDsKICAgICAgICAgICAgaWYgKChfaXRlbSRmaWVsZCA9IGl0ZW0uZmllbGQpICE9PSBudWxsICYmIF9pdGVtJGZpZWxkICE9PSB2b2lkIDAgJiYgKF9pdGVtJGZpZWxkJGVuZHNXaXRoID0gX2l0ZW0kZmllbGQuZW5kc1dpdGgpICE9PSBudWxsICYmIF9pdGVtJGZpZWxkJGVuZHNXaXRoICE9PSB2b2lkIDAgJiYgX2l0ZW0kZmllbGQkZW5kc1dpdGguY2FsbChfaXRlbSRmaWVsZCwgJ0Ftb3VudCcpKSB7CiAgICAgICAgICAgICAgaXRlbS50eXBlID0gJ21vbmV5JzsKICAgICAgICAgICAgICBpdGVtLmFsaWduID0gJ3JpZ2h0JzsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBjb2x1bW5zLnZhbHVlID0gZGF0YS5oZWFkIHx8IFtdOwogICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgfSwKICAgICAgICBiZWZvcmVGZXRjaDogZnVuY3Rpb24gYmVmb3JlRmV0Y2gocGFyYW1zKSB7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMpLCBwcm9wcy5yZXF1ZXN0UGF5bG9hZCk7CiAgICAgICAgfQogICAgICB9KSwKICAgICAgX3VzZVRhYmxlMiA9IF9zbGljZWRUb0FycmF5KF91c2VUYWJsZSwgMiksCiAgICAgIF91c2VUYWJsZTIkID0gX3VzZVRhYmxlMlswXSwKICAgICAgY29sdW1ucyA9IF91c2VUYWJsZTIkLmNvbHVtbnMsCiAgICAgIHBhZ2VyQ29uZmlnID0gX3VzZVRhYmxlMiQucGFnZXJDb25maWcsCiAgICAgIHRhYmxlVG9vbGJhckNvbmZpZyA9IF91c2VUYWJsZTIkLnRhYmxlVG9vbGJhckNvbmZpZywKICAgICAgdGFibGVDb25maWcgPSBfdXNlVGFibGUyJC50YWJsZUNvbmZpZywKICAgICAgdGFibGVEYXRhID0gX3VzZVRhYmxlMiQudGFibGVEYXRhLAogICAgICByZXNldEZldGNoVGFibGVEYXRhID0gX3VzZVRhYmxlMiQucmVzZXRGZXRjaFRhYmxlRGF0YSwKICAgICAgdGFibGVMb2FkaW5nU3RhdGUgPSBfdXNlVGFibGUyJC50YWJsZUxvYWRpbmdTdGF0ZSwKICAgICAgcGFnZXJDaGFuZ2UgPSBfdXNlVGFibGUyJC5wYWdlckNoYW5nZSwKICAgICAgb25Ub29sYmFyQnRuQ2xpY2sgPSBfdXNlVGFibGUyJC5vblRvb2xiYXJCdG5DbGljaywKICAgICAgcmVnaXN0ZXJUYWJsZSA9IF91c2VUYWJsZTJbMV07CgogICAgLyoqDQogICAgICog54K55Ye75pCc57SiJumHjee9ru+8iOmHjee9ruS5n+aYr+eUqOeahOivpeS6i+S7tu+8jOe7hOS7tuWGhemDqOi/m+ihjOS6huihqOWNleWAvOmHjee9ru+8iQ0KICAgICAqIEBwYXJhbSB2YWx1ZQ0KICAgICAqLwogICAgZnVuY3Rpb24gb25TZWFyY2hDbGljayh2YWx1ZSkgewogICAgICBzZXRTdWJtaXRGb3JtRGF0YSh2YWx1ZSk7CiAgICAgIHJlc2V0RmV0Y2hUYWJsZURhdGEoKTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIGZvcm1EYXRhOiBmb3JtRGF0YSwKICAgICAgZm9ybVNjaGVtYXM6IGZvcm1TY2hlbWFzLAogICAgICByZWdpc3RlckZvcm06IHJlZ2lzdGVyRm9ybSwKICAgICAgb25TZWFyY2hDbGljazogb25TZWFyY2hDbGljaywKICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgcmVnaXN0ZXJUYWJsZTogcmVnaXN0ZXJUYWJsZSwKICAgICAgdGFibGVDb25maWc6IHRhYmxlQ29uZmlnLAogICAgICB0YWJsZURhdGE6IHRhYmxlRGF0YSwKICAgICAgdGFibGVMb2FkaW5nU3RhdGU6IHRhYmxlTG9hZGluZ1N0YXRlLAogICAgICBwYWdlckNvbmZpZzogcGFnZXJDb25maWcsCiAgICAgIHRhYmxlVG9vbGJhckNvbmZpZzogdGFibGVUb29sYmFyQ29uZmlnLAogICAgICBvblRvb2xiYXJCdG5DbGljazogb25Ub29sYmFyQnRuQ2xpY2ssCiAgICAgIHBhZ2VyQ2hhbmdlOiBwYWdlckNoYW5nZSwKICAgICAgcmVzZXRGZXRjaFRhYmxlRGF0YTogcmVzZXRGZXRjaFRhYmxlRGF0YQogICAgfTsKICB9Cn0pOw=="},{"version":3,"names":["defineComponent","XEUtils","useForm","useTable","fjLedgerQuery","getSearchFormSchemas","props","title","type","String","default","openSearch","Boolean","requestPayload","Object","_default","setup","_useForm","_useForm2","_slicedToArray","_useForm2$","formData","formSchemas","getSubmitFormData","setSubmitFormData","registerForm","_useTable","fetch","afterFetch","data","eachTree","head","item","_item$field","_item$field$endsWith","minWidth","field","endsWith","call","align","columns","value","beforeFetch","params","_objectSpread","_useTable2","_useTable2$","pagerConfig","tableToolbarConfig","tableConfig","tableData","resetFetchTableData","tableLoadingState","pagerChange","onToolbarBtnClick","registerTable","onSearchClick"],"sources":["src/views/main/fujianLedge/directReport/index.vue"],"sourcesContent":["<template>\r\n  <div style=\"height:100%\">\r\n    <BsMainFormListLayout>\r\n      <template v-if=\"openSearch\" v-slot:query>\r\n        <div class=\"main-query\">\r\n          <BsQuery\r\n            ref=\"queryFrom\"\r\n            :query-form-item-config=\"formSchemas\"\r\n            :query-form-data=\"formData\"\r\n            @register=\"registerForm\"\r\n            @onSearchClick=\"onSearchClick\"\r\n          />\r\n        </div>\r\n      </template>\r\n\r\n      <template v-slot:mainForm>\r\n        <div style=\"height: 100%\">\r\n          <BsTable\r\n            v-loading=\"tableLoadingState\"\r\n            :table-config=\"tableConfig\"\r\n            :table-columns-config=\"columns\"\r\n            :table-data=\"tableData\"\r\n            :toolbar-config=\"tableToolbarConfig\"\r\n            :pager-config=\"false\"\r\n            size=\"medium\"\r\n            @register=\"registerTable\"\r\n            @ajaxData=\"pagerChange\"\r\n            @onToolbarBtnClick=\"onToolbarBtnClick\"\r\n          >\r\n            <template v-slot:toolbarSlots>\r\n              <BsTableTitle :title=\"title\" />\r\n            </template>\r\n          </BsTable>\r\n        </div>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from '@vue/composition-api'\r\nimport XEUtils from 'xe-utils/ctor'\r\n\r\nimport useForm from '@/hooks/useForm'\r\nimport useTable from '@/hooks/useTable'\r\n\r\nimport { fjLedgerQuery } from '@/api/frame/main/fujianLedge/index.js'\r\nimport { getSearchFormSchemas } from './model/data'\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    // 报表名称\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // 是否开启年度搜索\r\n    openSearch: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 请求的额外参数\r\n    requestPayload: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  setup(props) {\r\n    /**\r\n     * 搜索表单\r\n     */\r\n    const [\r\n      {\r\n        formData,\r\n        formSchemas,\r\n        getSubmitFormData,\r\n        setSubmitFormData\r\n      },\r\n      registerForm\r\n    ] = useForm(getSearchFormSchemas())\r\n\r\n    /**\r\n     * 表格\r\n     * */\r\n    const [\r\n      {\r\n        columns,\r\n        pagerConfig,\r\n        tableToolbarConfig,\r\n        tableConfig,\r\n        tableData,\r\n        resetFetchTableData,\r\n        tableLoadingState,\r\n        pagerChange,\r\n        onToolbarBtnClick\r\n      },\r\n      registerTable\r\n    ] = useTable({\r\n      fetch: fjLedgerQuery,\r\n      getSubmitFormData: props.openSearch ? getSubmitFormData : null,\r\n      // 后置钩子处理表头\r\n      afterFetch: data => {\r\n        XEUtils.eachTree(data?.head, (item) => {\r\n          item.minWidth = 150\r\n          if (item.field?.endsWith?.('Amount')) {\r\n            item.type = 'money'\r\n            item.align = 'right'\r\n          }\r\n        })\r\n        columns.value = data.head || []\r\n        return data\r\n      },\r\n      beforeFetch: (params) => {\r\n        return {\r\n          ...params,\r\n          ...props.requestPayload\r\n        }\r\n      }\r\n    })\r\n\r\n    /**\r\n     * 点击搜索&重置（重置也是用的该事件，组件内部进行了表单值重置）\r\n     * @param value\r\n     */\r\n    function onSearchClick(value) {\r\n      setSubmitFormData(value)\r\n      resetFetchTableData()\r\n    }\r\n\r\n    return {\r\n      formData,\r\n      formSchemas,\r\n      registerForm,\r\n      onSearchClick,\r\n\r\n      columns,\r\n      registerTable,\r\n      tableConfig,\r\n      tableData,\r\n      tableLoadingState,\r\n      pagerConfig,\r\n      tableToolbarConfig,\r\n      onToolbarBtnClick,\r\n      pagerChange,\r\n      resetFetchTableData\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-container {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 8px;\r\n  background: var(--hightlight-color);\r\n  box-sizing: border-box;\r\n\r\n  .form-container {\r\n    flex: 1;\r\n\r\n    .vxe-form {\r\n      background: transparent;\r\n    }\r\n  }\r\n\r\n  .right-btns {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n/deep/.preview-btn.el-button {\r\n  border: none;\r\n  padding: 6px;\r\n  background: transparent;\r\n  &:hover {\r\n    border: none;\r\n  }\r\n}\r\n\r\n.table-action-column-custom {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  .table-column-action-icon {\r\n    width: 30px;\r\n    height: 20px;\r\n    cursor: pointer;\r\n    &.gloable-option-row-setting,\r\n    &.gloable-option-row-delete {\r\n      transform: scale(1.6);\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}