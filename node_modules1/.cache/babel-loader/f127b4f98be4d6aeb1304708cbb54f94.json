{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\hooks\\useModal\\index.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\hooks\\useModal\\index.js","mtime":1694505522135},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29tcHV0ZWQsIHJlZiB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKCi8qKg0KICog54i257uE5Lu25by556qX5pi+6ZqQDQogKiBAcmV0dXJuIHsoUmVmPFVud3JhcFJlZjxib29sZWFuPj58c2V0VmlzaWJsZVN0YXRlKVtdfQ0KICovCmV4cG9ydCBmdW5jdGlvbiB1c2VNb2RhbCgpIHsKICB2YXIgdmlzaWJsZVN0YXRlID0gcmVmKGZhbHNlKTsKICBmdW5jdGlvbiBzZXRWaXNpYmxlU3RhdGUoKSB7CiAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7CiAgICB2aXNpYmxlU3RhdGUudmFsdWUgPSAhIXN0YXRlOwogIH0KICByZXR1cm4gW3Zpc2libGVTdGF0ZSwgc2V0VmlzaWJsZVN0YXRlXTsKfQoKLyoqDQogKiDlrZDnu4Tku7blvLnnqpfmmL7pmpANCiAqIEBwYXJhbSBwcm9wcw0KICogQHBhcmFtIGVtaXQNCiAqIEBwYXJhbSBvcHRpb24NCiAqIEByZXR1cm4ge3t2aXNpYmxlOiBXcml0YWJsZUNvbXB1dGVkUmVmPCo+fXwqfQ0KICovCmV4cG9ydCBmdW5jdGlvbiB1c2VNb2RhbElubmVyKHByb3BzLCBlbWl0LCBvcHRpb24pIHsKICB2YXIgY29uZmlnID0gewogICAgcHJvcDogKG9wdGlvbiA9PT0gbnVsbCB8fCBvcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbi5wcm9wKSB8fCAndmFsdWUnLAogICAgZXZlbnQ6IChvcHRpb24gPT09IG51bGwgfHwgb3B0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb24uZXZlbnQpIHx8ICdjaGFuZ2VWYWx1ZScsCiAgICBzZXRDYWxsYmFjazogb3B0aW9uID09PSBudWxsIHx8IG9wdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9uLnNldENhbGxiYWNrCiAgfTsKICAvLyDmmL7pmpDlhoXpg6jnirbmgIEKICB2YXIgdmlzaWJsZSA9IGNvbXB1dGVkKHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gcHJvcHNbY29uZmlnLnByb3BdOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICBpZiAoY29uZmlnLnNldENhbGxiYWNrICYmIHR5cGVvZiBjb25maWcuc2V0Q2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBjb25maWcuc2V0Q2FsbGJhY2sodmFsKTsKICAgICAgfQogICAgICBlbWl0KGNvbmZpZy5ldmVudCwgdmFsKTsKICAgIH0KICB9KTsKICByZXR1cm4gewogICAgdmlzaWJsZTogdmlzaWJsZQogIH07Cn0="},{"version":3,"names":["computed","ref","useModal","visibleState","setVisibleState","state","arguments","length","undefined","value","useModalInner","props","emit","option","config","prop","event","setCallback","visible","get","set","val"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/hooks/useModal/index.js"],"sourcesContent":["import { computed, ref } from '@vue/composition-api'\r\n\r\n/**\r\n * 父组件弹窗显隐\r\n * @return {(Ref<UnwrapRef<boolean>>|setVisibleState)[]}\r\n */\r\nexport function useModal() {\r\n  const visibleState = ref(false)\r\n\r\n  function setVisibleState(state = true) {\r\n    visibleState.value = !!state\r\n  }\r\n  return [visibleState, setVisibleState]\r\n}\r\n\r\n/**\r\n * 子组件弹窗显隐\r\n * @param props\r\n * @param emit\r\n * @param option\r\n * @return {{visible: WritableComputedRef<*>}|*}\r\n */\r\nexport function useModalInner(props, emit, option) {\r\n  const config = {\r\n    prop: option?.prop || 'value',\r\n    event: option?.event || 'changeValue',\r\n    setCallback: option?.setCallback\r\n  }\r\n  // 显隐内部状态\r\n  const visible = computed({\r\n    get() {\r\n      return props[config.prop]\r\n    },\r\n    set(val) {\r\n      if (config.setCallback && typeof config.setCallback === 'function') {\r\n        config.setCallback(val)\r\n      }\r\n      emit(config.event, val)\r\n    }\r\n  })\r\n\r\n  return {\r\n    visible\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,sBAAsB;;AAEpD;AACA;AACA;AACA;AACA,OAAO,SAASC,QAAQA,CAAA,EAAG;EACzB,IAAMC,YAAY,GAAGF,GAAG,CAAC,KAAK,CAAC;EAE/B,SAASG,eAAeA,CAAA,EAAe;IAAA,IAAdC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IACnCH,YAAY,CAACM,KAAK,GAAG,CAAC,CAACJ,KAAK;EAC9B;EACA,OAAO,CAACF,YAAY,EAAEC,eAAe,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASM,aAAaA,CAACC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAE;EACjD,IAAMC,MAAM,GAAG;IACbC,IAAI,EAAE,CAAAF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEE,IAAI,KAAI,OAAO;IAC7BC,KAAK,EAAE,CAAAH,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,KAAK,KAAI,aAAa;IACrCC,WAAW,EAAEJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEI;EACvB,CAAC;EACD;EACA,IAAMC,OAAO,GAAGlB,QAAQ,CAAC;IACvBmB,GAAG,WAAAA,IAAA,EAAG;MACJ,OAAOR,KAAK,CAACG,MAAM,CAACC,IAAI,CAAC;IAC3B,CAAC;IACDK,GAAG,WAAAA,IAACC,GAAG,EAAE;MACP,IAAIP,MAAM,CAACG,WAAW,IAAI,OAAOH,MAAM,CAACG,WAAW,KAAK,UAAU,EAAE;QAClEH,MAAM,CAACG,WAAW,CAACI,GAAG,CAAC;MACzB;MACAT,IAAI,CAACE,MAAM,CAACE,KAAK,EAAEK,GAAG,CAAC;IACzB;EACF,CAAC,CAAC;EAEF,OAAO;IACLH,OAAO,EAAPA;EACF,CAAC;AACH"}]}