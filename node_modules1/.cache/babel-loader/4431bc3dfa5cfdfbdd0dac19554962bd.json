{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableBak\\config\\tableDefaultConfig.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableBak\\config\\tableDefaultConfig.js","mtime":1694505521584},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9tZXJnZUpTWFByb3BzMiBmcm9tICJAdnVlL2JhYmVsLWhlbHBlci12dWUtanN4LW1lcmdlLXByb3BzIjsKaW1wb3J0IF9tZXJnZUpTWFByb3BzIGZyb20gIkB2dWUvYmFiZWwtaGVscGVyLXZ1ZS1qc3gtbWVyZ2UtcHJvcHMiOwp2YXIgX3RoaXMxNSA9IHRoaXM7CmZ1bmN0aW9uIF90eXBlb2YobykgeyAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOyByZXR1cm4gX3R5cGVvZiA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiAic3ltYm9sIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfQpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQpmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICJzdHJpbmciKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gInN5bWJvbCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfQpmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSAib2JqZWN0IiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAiZGVmYXVsdCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSAib2JqZWN0IikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsgfSByZXR1cm4gKGhpbnQgPT09ICJzdHJpbmciID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH0KLy8gdGFibGVEZWZhdWx0Q29uZmlnICAgQXV0aG9yOlRpdGFuc0AyMzk2NzU3NTkxQHFxLmNvbQovKiBlc2xpbnQtZGlzYWJsZSBuby1ldmFsICovCi8qIGVzbGludC1kaXNhYmxlIG5vLW5ldy13cmFwcGVycyAqLwovKiBlc2xpbnQtZGlzYWJsZSBuby11c2VsZXNzLWVzY2FwZSAqLwp2YXIgZGVmYXVsdEdsb2FiYWxVdGlscyA9IHsKICBjYWxjdWxhdGVSZW5kZXI6IGZ1bmN0aW9uIGNhbGN1bGF0ZVJlbmRlcihoLCByZW5kZXJPcHRzLCBfcmVmLCBjb250ZXh0KSB7CiAgICB2YXIgJGNvbHVtbkluZGV4ID0gX3JlZi4kY29sdW1uSW5kZXgsCiAgICAgICRyb3dJbmRleCA9IF9yZWYuJHJvd0luZGV4LAogICAgICBpdGVtcyA9IF9yZWYuaXRlbXMsCiAgICAgIGNvbHVtbiA9IF9yZWYuY29sdW1uLAogICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICByb3cgPSBfcmVmLnJvdywKICAgICAgJHNlcSA9IF9yZWYuJHNlcSwKICAgICAgJHRhYmxlID0gX3JlZi4kdGFibGUsCiAgICAgICR0eXBlID0gX3JlZi4kdHlwZSwKICAgICAgY29sdW1uSW5kZXggPSBfcmVmLmNvbHVtbkluZGV4LAogICAgICBpc0VkaXQgPSBfcmVmLmlzRWRpdCwKICAgICAgbGV2ZWwgPSBfcmVmLmxldmVsLAogICAgICByb3dJbmRleCA9IF9yZWYucm93SW5kZXgsCiAgICAgIHNlcSA9IF9yZWYuc2VxOwogICAgZnVuY3Rpb24gY2FsY2xhdGUoY29sdW1ucywgcm93LCBrZXkpIHsKICAgICAgZnVuY3Rpb24gcmV2ZXIoY29sdW1ucykgewogICAgICAgIGNvbHVtbnMuc29tZShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIGlmIChpdGVtLmZpZWxkID09PSBrZXkgJiYgcmVnUi50ZXN0KGl0ZW0uZm9ybXVsYSkpIHsKICAgICAgICAgICAgZm9ybXVsYUl0ZW0gPSBpdGVtOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghZm9ybXVsYUl0ZW0gJiYgQXJyYXkuaXNBcnJheShpdGVtLmNoaWxkcmVuKSAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgICByZXZlcihpdGVtLmNoaWxkcmVuKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICB2YXIgZm9ybXVsYUl0ZW0gPSBmYWxzZTsKICAgICAgdmFyIHJlZ1IgPSBuZXcgUmVnRXhwKCcoe1thLXpBLVowLTlfXSp9KScsICdpZycpOwogICAgICByZXZlcihjb2x1bW5zKTsKICAgICAgaWYgKGZvcm11bGFJdGVtKSB7CiAgICAgICAgdmFyIGZvcm11bGEgPSBmb3JtdWxhSXRlbS5mb3JtdWxhOwogICAgICAgIGZvciAodmFyIGtleUMgaW4gcm93KSB7CiAgICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnKHsnICsga2V5QyArICd9KScsICdpZycpOwogICAgICAgICAgaWYgKHJlZy50ZXN0KGZvcm11bGEpKSB7CiAgICAgICAgICAgIGNhbGNsYXRlKGl0ZW1zLCByb3csIGtleUMpOwogICAgICAgICAgICB2YXIgdmFsdWUgPSB0eXBlb2Ygcm93W2tleUNdID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygcm93W2tleUNdID09PSAnc3RyaW5nJyA/IHJvd1trZXlDXSA6IDA7CiAgICAgICAgICAgIGZvcm11bGEgPSBmb3JtdWxhLnJlcGxhY2UocmVnLCBpc05hTihwYXJzZUZsb2F0KHZhbHVlKSkgPyAwIDogcGFyc2VGbG9hdCh2YWx1ZSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAocmVnUi50ZXN0KGZvcm11bGEpKSB7CiAgICAgICAgICBmb3JtdWxhID0gZm9ybXVsYS5yZXBsYWNlKHJlZ1IsIDApOwogICAgICAgICAgY29uc29sZS5sb2coIlx1OEJBMVx1N0I5N1x1NjVGNlx1NTE2Q1x1NUYwRlx1NEY5RFx1OEQ1Nlx1NzY4NFx1NUI1N1x1NkJCNVx1NjU3MFx1NTAzQ1x1NjcyQVx1NUI5QVx1NEU0OVx1NTNFRlx1ODBGRFx1NUJGQ1x1ODFGNFx1OEJBMVx1N0I5N1x1NjcwOVx1OEJFRixcdTVGNTNcdTUyNERcdTg4NENcdTY1NzBcdTYzNkVcdTRFM0E6Ii5jb25jYXQocm93LCAiLFx1OEJBMVx1N0I5N1x1NTE2Q1x1NUYwRlx1NEUzQToiKS5jb25jYXQoZm9ybXVsYUl0ZW0uZm9ybXVsYSwgIlx1RkYwQ1x1NjZGRlx1NjM2Mlx1NTAzQ1x1NTQwRVx1NTE2Q1x1NUYwRlx1NEUzQSIpLmNvbmNhdChmb3JtdWxhKSk7CiAgICAgICAgfQogICAgICAgIHJvd1trZXldID0gZXZhbChmb3JtdWxhKS50b0ZpeGVkKDIpOwogICAgICAgIC8vIHJvd1trZXldID0gcGFyc2VGbG9hdChyb3dba2V5XS5zcGxpdCgnLicpLmxlbmd0aCA9PT0gMSA/IHJvd1trZXldICsgJy4wMCcgOiAocm93W2tleV0uc3BsaXQoJy4nKVswXS5sZW5ndGggPT09IDEgPyByb3dba2V5XSArICcwJyA6IHJvd1trZXldKSkKICAgICAgfQoKICAgICAgcmV0dXJuIHJvd1trZXldOwogICAgfQogICAgY2FsY2xhdGUoY29udGV4dC4kZ3JpZC5jb2x1bW5zLCByb3csIGNvbHVtbi5wcm9wZXJ0eSk7CiAgICB2YXIgdmFsID0gaXNOYU4ocGFyc2VGbG9hdChyb3dbY29sdW1uLnByb3BlcnR5XSkpID8gMCA6IHBhcnNlRmxvYXQocm93W2NvbHVtbi5wcm9wZXJ0eV0pOwogICAgaWYgKGNvbnRleHQuJGdyaWQuJHBhcmVudC50b29sYmFyQ29uZmlnSW5Db3B5LmRpc2FibGVkTW9uZXlDb252ZXJzaW9uKSB7CiAgICAgIHZhbCA9IE51bWJlcih2YWwudG9GaXhlZCgyKSkudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgdmFsID0gdmFsLnNwbGl0KCcuJykubGVuZ3RoID09PSAxID8gdmFsICsgJy4wMCcgOiB2YWwuc3BsaXQoJy4nKVsxXS5sZW5ndGggPT09IDEgPyB2YWwgKyAnMCcgOiB2YWw7CiAgICAgIHJldHVybiBbaCgic3BhbiIsIHsKICAgICAgICAiY2xhc3MiOiAidGV4dCIKICAgICAgfSwgW3ZhbF0pXTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtb25leVVuaXQgPSBjb250ZXh0LiRncmlkLiRwYXJlbnQubW9uZXlVbml0ID8gY29udGV4dC4kZ3JpZC4kcGFyZW50Lm1vbmV5VW5pdCA6IDE7CiAgICAgIHZhbCA9IE51bWJlcigodmFsIC8gbW9uZXlVbml0KS50b0ZpeGVkKDIpKS50b0xvY2FsZVN0cmluZygpOwogICAgICB2YWwgPSB2YWwuc3BsaXQoJy4nKS5sZW5ndGggPT09IDEgPyB2YWwgKyAnLjAwJyA6IHZhbC5zcGxpdCgnLicpWzFdLmxlbmd0aCA9PT0gMSA/IHZhbCArICcwJyA6IHZhbDsKICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgW3ZhbF0pXTsKICAgIH0KICB9LAogIGNhbGN1bGF0ZUZvb3RlcjogZnVuY3Rpb24gY2FsY3VsYXRlRm9vdGVyKF9yZWYyLCBjb250ZXh0KSB7CiAgICB2YXIgY29sdW1ucyA9IF9yZWYyLmNvbHVtbnMsCiAgICAgIGRhdGEgPSBfcmVmMi5kYXRhLAogICAgICAkdGFibGUgPSBfcmVmMi4kdGFibGUsCiAgICAgICRncmlkID0gX3JlZjIuJGdyaWQsCiAgICAgIGNvbHVtbkluZGV4VGV4dCA9IF9yZWYyLmNvbHVtbkluZGV4VGV4dCwKICAgICAgY29tYmluZWRUeXBlID0gX3JlZjIuY29tYmluZWRUeXBlOwogICAgLy8gbGV0IG1vbmV5VW5pdCA9ICRncmlkLiRwYXJlbnQubW9uZXlVbml0ID8gJGdyaWQuJHBhcmVudC5tb25leVVuaXQgOiAxCiAgICAvLyBjb25zb2xlLmxvZyhtb25leVVuaXQpCiAgICByZXR1cm4gY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgLy8gIGNvbWJpbmVkVHlwZTogWydhdmVyYWdlJywgJ3RvdGFsJ10sCiAgICAgIC8vIGxldCBjb21iaW5lZFR5cGUgPSAndG90YWwnCiAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkgewogICAgICAgIHJldHVybiBjb2x1bW5JbmRleFRleHQ7CiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb2x1bW4ub3duLmNvbWJpbmVkVHlwZSkgJiYgY29sdW1uLm93bi5jb21iaW5lZFR5cGUuaW5kZXhPZihjb21iaW5lZFR5cGUpID49IDApIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICB2YXIgdmFsdWUgPSB0eXBlb2YgaXRlbVtjb2x1bW4ucHJvcGVydHldID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaXRlbVtjb2x1bW4ucHJvcGVydHldID09PSAnc3RyaW5nJyA/IHBhcnNlRmxvYXQoaXRlbVtjb2x1bW4ucHJvcGVydHldLnRvU3RyaW5nKCkuc3BsaXQoJywnKS5qb2luKCcnKSkgOiAwOwogICAgICAgICAgICByZXR1cm4gaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpID8gMCA6IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkgewogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBuZXh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBuZXh0OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKGNvbWJpbmVkVHlwZSA9PT0gJ2F2ZXJhZ2UnKSB7CiAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0IC8gZGF0YS5sZW5ndGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzdWx0ID0gTnVtYmVyKHJlc3VsdC50b0ZpeGVkKDIpKS50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3BsaXQoJy4nKS5sZW5ndGggPT09IDEgPyByZXN1bHQgKyAnLjAwJyA6IHJlc3VsdC5zcGxpdCgnLicpWzFdLmxlbmd0aCA9PT0gMSA/IHJlc3VsdCArICcwJyA6IHJlc3VsdDsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAnMC4wMCc7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgY2FsY3VsYXRlRm9vdGVyX2F2ZXJhZ2U6IGZ1bmN0aW9uIGNhbGN1bGF0ZUZvb3Rlcl9hdmVyYWdlKF9yZWYzKSB7CiAgICB2YXIgY29sdW1ucyA9IF9yZWYzLmNvbHVtbnMsCiAgICAgIGRhdGEgPSBfcmVmMy5kYXRhLAogICAgICAkdGFibGUgPSBfcmVmMy4kdGFibGUsCiAgICAgICRncmlkID0gX3JlZjMuJGdyaWQ7CiAgICB2YXIgbW9uZXlVbml0ID0gJGdyaWQuJHBhcmVudC5tb25leVVuaXQgPyAkZ3JpZC4kcGFyZW50Lm1vbmV5VW5pdCA6IDE7CiAgICAvLyBjb25zb2xlLmxvZyhtb25leVVuaXQpCiAgICByZXR1cm4gY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgLy8gIGNvbWJpbmVkVHlwZTogWydhdmVyYWdlJywgJ3RvdGFsJ10sCiAgICAgIC8vIGxldCBjb21iaW5lZFR5cGUgPSAndG90YWwnCiAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkgewogICAgICAgIHJldHVybiAn5bmz5Z2HJzsKICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5vd24uY29tYmluZWRUeXBlKSAmJiBjb2x1bW4ub3duLmNvbWJpbmVkVHlwZS5pbmRleE9mKCdhdmVyYWdlJykgPj0gMCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHR5cGVvZiBpdGVtW2NvbHVtbi5wcm9wZXJ0eV0gPT09ICdudW1iZXInIHx8IHR5cGVvZiBpdGVtW2NvbHVtbi5wcm9wZXJ0eV0gPT09ICdzdHJpbmcnID8gcGFyc2VGbG9hdChpdGVtW2NvbHVtbi5wcm9wZXJ0eV0udG9TdHJpbmcoKS5zcGxpdCgnLCcpLmpvaW4oJycpKSA6IDA7CiAgICAgICAgICAgIHJldHVybiBpc05hTihwYXJzZUZsb2F0KHZhbHVlKSkgPyAwIDogcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIG5leHQpIHsKICAgICAgICAgICAgICByZXR1cm4gcHJldiArIG5leHQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgLyBkYXRhLmxlbmd0aDsKICAgICAgICAgICAgcmVzdWx0ID0gTnVtYmVyKChyZXN1bHQgLyBtb25leVVuaXQpLnRvRml4ZWQoMikpLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zcGxpdCgnLicpLmxlbmd0aCA9PT0gMSA/IHJlc3VsdCArICcuMDAnIDogcmVzdWx0LnNwbGl0KCcuJylbMV0ubGVuZ3RoID09PSAxID8gcmVzdWx0ICsgJzAnIDogcmVzdWx0OwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICcwLjAwJzsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSk7CiAgfSwKICBjYWxjdWxhdGVGb290ZXJfc3ViVG90YWw6IGZ1bmN0aW9uIGNhbGN1bGF0ZUZvb3Rlcl9zdWJUb3RhbChfcmVmNCkgewogICAgdmFyIGNvbHVtbnMgPSBfcmVmNC5jb2x1bW5zLAogICAgICBkYXRhID0gX3JlZjQuZGF0YSwKICAgICAgJHRhYmxlID0gX3JlZjQuJHRhYmxlLAogICAgICAkZ3JpZCA9IF9yZWY0LiRncmlkOwogICAgdmFyIG1vbmV5VW5pdCA9ICRncmlkLiRwYXJlbnQubW9uZXlVbml0ID8gJGdyaWQuJHBhcmVudC5tb25leVVuaXQgOiAxOwogICAgLy8gY29uc29sZS5sb2cobW9uZXlVbml0KQogICAgdmFyIHNlbGVjdGlvbnMgPSAkZ3JpZC5nZXRDaGVja2JveFJlY29yZHMoKTsKICAgIHJldHVybiBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBjb2x1bW5JbmRleCkgewogICAgICAvLyAgY29tYmluZWRUeXBlOiBbJ2F2ZXJhZ2UnLCAndG90YWwnXSwKICAgICAgLy8gbGV0IGNvbWJpbmVkVHlwZSA9ICd0b3RhbCcKICAgICAgaWYgKGNvbHVtbkluZGV4ID09PSAwKSB7CiAgICAgICAgcmV0dXJuICflt7LpgIkoJyArICRncmlkLmdldENoZWNrYm94UmVjb3JkcygpLmxlbmd0aCArICcpJzsKICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5vd24uY29tYmluZWRUeXBlKSAmJiBjb2x1bW4ub3duLmNvbWJpbmVkVHlwZS5pbmRleE9mKCdzdWJUb3RhbCcpID49IDApIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHJlc3VsdCA9IHNlbGVjdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICB2YXIgdmFsdWUgPSB0eXBlb2YgaXRlbVtjb2x1bW4ucHJvcGVydHldID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaXRlbVtjb2x1bW4ucHJvcGVydHldID09PSAnc3RyaW5nJyA/IHBhcnNlRmxvYXQoaXRlbVtjb2x1bW4ucHJvcGVydHldLnRvU3RyaW5nKCkuc3BsaXQoJywnKS5qb2luKCcnKSkgOiAwOwogICAgICAgICAgICByZXR1cm4gaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpID8gMCA6IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkgewogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBuZXh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBuZXh0OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmVzdWx0ID0gTnVtYmVyKChyZXN1bHQgLyBtb25leVVuaXQpLnRvRml4ZWQoMikpLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zcGxpdCgnLicpLmxlbmd0aCA9PT0gMSA/IHJlc3VsdCArICcuMDAnIDogcmVzdWx0LnNwbGl0KCcuJylbMV0ubGVuZ3RoID09PSAxID8gcmVzdWx0ICsgJzAnIDogcmVzdWx0OwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICcwLjAwJzsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSk7CiAgfSwKICBjYWxjdWxhdGVGb290ZXJfdG90YWw6IGZ1bmN0aW9uIGNhbGN1bGF0ZUZvb3Rlcl90b3RhbChfcmVmNSkgewogICAgdmFyIGNvbHVtbnMgPSBfcmVmNS5jb2x1bW5zLAogICAgICBkYXRhID0gX3JlZjUuZGF0YSwKICAgICAgJHRhYmxlID0gX3JlZjUuJHRhYmxlLAogICAgICAkZ3JpZCA9IF9yZWY1LiRncmlkOwogICAgdmFyIG1vbmV5VW5pdCA9ICRncmlkLiRwYXJlbnQubW9uZXlVbml0ID8gJGdyaWQuJHBhcmVudC5tb25leVVuaXQgOiAxOwogICAgLy8gY29uc29sZS5sb2cobW9uZXlVbml0KQogICAgcmV0dXJuIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGNvbHVtbkluZGV4KSB7CiAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkgewogICAgICAgIHJldHVybiAn5ZCI6K6hJzsKICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5vd24uY29tYmluZWRUeXBlKSAmJiBjb2x1bW4ub3duLmNvbWJpbmVkVHlwZS5pbmRleE9mKCd0b3RhbCcpID49IDApIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICB2YXIgdmFsdWUgPSB0eXBlb2YgaXRlbVtjb2x1bW4ucHJvcGVydHldID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaXRlbVtjb2x1bW4ucHJvcGVydHldID09PSAnc3RyaW5nJyA/IHBhcnNlRmxvYXQoaXRlbVtjb2x1bW4ucHJvcGVydHldLnRvU3RyaW5nKCkuc3BsaXQoJywnKS5qb2luKCcnKSkgOiAwOwogICAgICAgICAgICByZXR1cm4gaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpID8gMCA6IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkgewogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBuZXh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBuZXh0OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmVzdWx0ID0gTnVtYmVyKChyZXN1bHQgLyBtb25leVVuaXQpLnRvRml4ZWQoMikpLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zcGxpdCgnLicpLmxlbmd0aCA9PT0gMSA/IHJlc3VsdCArICcuMDAnIDogcmVzdWx0LnNwbGl0KCcuJylbMV0ubGVuZ3RoID09PSAxID8gcmVzdWx0ICsgJzAnIDogcmVzdWx0OwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICcwLjAwJzsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSk7CiAgfSwKICBjYWxjdWxhdGVGb290ZXJfdG90YWxBbGw6IGZ1bmN0aW9uIGNhbGN1bGF0ZUZvb3Rlcl90b3RhbEFsbChfcmVmNikgewogICAgdmFyIGNvbHVtbnMgPSBfcmVmNi5jb2x1bW5zLAogICAgICBkYXRhID0gX3JlZjYuZGF0YSwKICAgICAgJHRhYmxlID0gX3JlZjYuJHRhYmxlLAogICAgICAkZ3JpZCA9IF9yZWY2LiRncmlkOwogICAgdmFyIG1vbmV5VW5pdCA9ICRncmlkLiRwYXJlbnQubW9uZXlVbml0ID8gJGdyaWQuJHBhcmVudC5tb25leVVuaXQgOiAxOwogICAgLy8gY29uc29sZS5sb2cobW9uZXlVbml0KQogICAgdmFyIGl0ZW0gPSAkZ3JpZC4kcGFyZW50LmZvb3RlckNvbmZpZ0luLnRvdGFsT2JqIHx8IHt9OwogICAgcmV0dXJuIGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGNvbHVtbkluZGV4KSB7CiAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkgewogICAgICAgIHJldHVybiAn5oC76K6hJzsKICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5vd24uY29tYmluZWRUeXBlKSAmJiBjb2x1bW4ub3duLmNvbWJpbmVkVHlwZS5pbmRleE9mKCd0b3RhbEFsbCcpID49IDApIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHZhbHVlID0gdHlwZW9mIGl0ZW1bY29sdW1uLnByb3BlcnR5XSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGl0ZW1bY29sdW1uLnByb3BlcnR5XSA9PT0gJ3N0cmluZycgPyBwYXJzZUZsb2F0KGl0ZW1bY29sdW1uLnByb3BlcnR5XS50b1N0cmluZygpLnNwbGl0KCcsJykuam9pbignJykpIDogMDsKICAgICAgICAgIHZhciByZXN1bHQgPSBOdW1iZXIoKHZhbHVlIC8gbW9uZXlVbml0KS50b0ZpeGVkKDIpKS50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNwbGl0KCcuJykubGVuZ3RoID09PSAxID8gcmVzdWx0ICsgJy4wMCcgOiByZXN1bHQuc3BsaXQoJy4nKVsxXS5sZW5ndGggPT09IDEgPyByZXN1bHQgKyAnMCcgOiByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9KTsKICB9Cn07CnZhciBjZWxsUmVuZGVyZXJzID0gewogIC8vIOWFqOWxgOa4suafk+WZqAogIC8vIGNlbGxSZW5kZXLmuLLmn5PlmajlkI3lrZfphY3nva4KICAvLyBhdXRvZm9jdXMg6Ieq5Yqo6IGa54Sm55qE57G75ZCNCiAgLy8gcmVuZGVySGVhZGVyKGgsIHJlbmRlck9wdHMsIHBhcmFtcykg6KGo5aS0CiAgLy8gcmVuZGVyRWRpdChoLCByZW5kZXJPcHRzLCBwYXJhbXMpIOihqOWGheWuuSAtIOe8lui+kQogIC8vIHJlbmRlckNlbGwoaCwgcmVuZGVyT3B0cywgcGFyYW1zKSDooajlhoXlrrkgLSDmmL7npLoKICAvLyByZW5kZXJGb290ZXIoaCwgcmVuZGVyT3B0cywgcGFyYW1zKSDooajlsL4KICAvLyBlZGl0Q2VsbEV4cG9ydE1ldGhvZChwYXJhbXMpIOWNleWFg+agvOWvvOWHuuWHveaVsAogIC8vIGZvb3RlckNlbGxFeHBvcnRNZXRob2QocGFyYW1zKSDooajlsL7ljZXlhYPmoLzlr7zlh7rlh73mlbAKICAkdnhlVHJlZTogewogICAgcmVuZGVyRGVmYXVsdDogZnVuY3Rpb24gcmVuZGVyRGVmYXVsdChoLCBfcmVmNywgX3JlZjgpIHsKICAgICAgdmFyIG5hbWUgPSBfcmVmNy5uYW1lLAogICAgICAgIHByb3BzID0gX3JlZjcucHJvcHM7CiAgICAgIHZhciByb3cgPSBfcmVmOC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjguY29sdW1uOwogICAgICB2YXIgX3JlZjkgPSBwcm9wcyAmJiBwcm9wcy5jb25maWcgfHwgewogICAgICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgICAgICBtdWx0aXBsZVZhbHVlVHlwZTogJ0FycmF5JwogICAgICAgIH0sCiAgICAgICAgbXVsdGlwbGUgPSBfcmVmOS5tdWx0aXBsZSwKICAgICAgICBtdWx0aXBsZVZhbHVlVHlwZSA9IF9yZWY5Lm11bHRpcGxlVmFsdWVUeXBlOwogICAgICBpZiAoIW11bHRpcGxlKSB7CiAgICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSBbcm93W2NvbHVtbi5wcm9wZXJ0eSArICdjb2RlJ10sIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnbmFtZSddLCByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ11dLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiAoaXRlbSArICcnKS5yZXBsYWNlKC9udWxsfE5hTnx1bmRlZmluZWQvaWcsICcnKTsKICAgICAgICB9KS5qb2luKCcjIycpOwogICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHldID0gcm93W2NvbHVtbi5wcm9wZXJ0eV0gPT09ICcjIyMjJyA/ICcnIDogcm93W2NvbHVtbi5wcm9wZXJ0eV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGlkQXJyID0gdHlwZW9mIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnaWQnXSA9PT0gJ3N0cmluZycgPyByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ10uc3BsaXQoJywnKSA6IEFycmF5LmlzQXJyYXkocm93W2NvbHVtbi5wcm9wZXJ0eSArICdpZCddKSA/IHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnaWQnXSA6IFtdOwogICAgICAgIHZhciBjb2RlQXJyID0gdHlwZW9mIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddID09PSAnc3RyaW5nJyA/IHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddLnNwbGl0KCcsJykgOiBBcnJheS5pc0FycmF5KHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddKSA/IHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddIDogW107CiAgICAgICAgdmFyIG5hbWVBcnIgPSB0eXBlb2Ygcm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10gPT09ICdzdHJpbmcnID8gcm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10uc3BsaXQoJywnKSA6IEFycmF5LmlzQXJyYXkocm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10pID8gcm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10gOiBbXTsKICAgICAgICBpZiAobXVsdGlwbGVWYWx1ZVR5cGUgPT09ICdTdHJpbmcnKSB7CiAgICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ10gPSBpZEFyci5qb2luKCcsJyk7CiAgICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2NvZGUnXSA9IGlkQXJyLmpvaW4oJywnKTsKICAgICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnbmFtZSddID0gaWRBcnIuam9pbignLCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ10gPSBpZEFycjsKICAgICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddID0gY29kZUFycjsKICAgICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnbmFtZSddID0gbmFtZUFycjsKICAgICAgICB9CiAgICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSBjb2RlQXJyLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBbY29kZUFycltpbmRleF0sIG5hbWVBcnJbaW5kZXhdLCBpZEFycltpbmRleF1dLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgcmV0dXJuIChpdGVtICsgJycpLnJlcGxhY2UoL251bGx8TmFOfHVuZGVmaW5lZC9pZywgJycpOwogICAgICAgICAgfSkuam9pbignIyMnKTsKICAgICAgICB9KS5qb2luKCcsJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIFtoKCdCc1RyZWUnLCB7CiAgICAgICAgcHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICByZWY6ICd2eGUtdHJlZS0nICsgY29sdW1uLnByb3BlcnR5LAogICAgICAgICAgdmFsdWU6IHJvd1tjb2x1bW4ucHJvcGVydHldLAogICAgICAgICAgZWRpdGJsZTogZmFsc2UKICAgICAgICB9LCBwcm9wcyksIHt9LCB7CiAgICAgICAgICBpc0Ryb3BTZWxlY3RUcmVlOiB0cnVlCiAgICAgICAgfSksCiAgICAgICAgb246IHt9CiAgICAgIH0pXTsKICAgIH0sCiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIF9yZWYxMCwgX3JlZjExKSB7CiAgICAgIHZhciBuYW1lID0gX3JlZjEwLm5hbWUsCiAgICAgICAgcHJvcHMgPSBfcmVmMTAucHJvcHM7CiAgICAgIHZhciByb3cgPSBfcmVmMTEucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWYxMS5jb2x1bW47CiAgICAgIHZhciBfcmVmMTIgPSBwcm9wcyAmJiBwcm9wcy5jb25maWcgfHwgewogICAgICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgICAgICBtdWx0aXBsZVZhbHVlVHlwZTogJ0FycmF5JwogICAgICAgIH0sCiAgICAgICAgbXVsdGlwbGUgPSBfcmVmMTIubXVsdGlwbGUsCiAgICAgICAgbXVsdGlwbGVWYWx1ZVR5cGUgPSBfcmVmMTIubXVsdGlwbGVWYWx1ZVR5cGU7CiAgICAgIGlmICghbXVsdGlwbGUpIHsKICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5XSA9IFtyb3dbY29sdW1uLnByb3BlcnR5ICsgJ2NvZGUnXSwgcm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10sIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnaWQnXV0ubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIChpdGVtICsgJycpLnJlcGxhY2UoL251bGx8TmFOfHVuZGVmaW5lZC9pZywgJyAnKTsKICAgICAgICB9KS5qb2luKCcjIycpOwogICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHldID0gcm93W2NvbHVtbi5wcm9wZXJ0eV0gPT09ICcjIyMjJyA/ICcnIDogcm93W2NvbHVtbi5wcm9wZXJ0eV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGlkQXJyID0gdHlwZW9mIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnaWQnXSA9PT0gJ3N0cmluZycgPyByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ10uc3BsaXQoJywnKSA6IEFycmF5LmlzQXJyYXkocm93W2NvbHVtbi5wcm9wZXJ0eSArICdpZCddKSA/IHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnaWQnXSA6IFtdOwogICAgICAgIHZhciBjb2RlQXJyID0gdHlwZW9mIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddID09PSAnc3RyaW5nJyA/IHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddLnNwbGl0KCcsJykgOiBBcnJheS5pc0FycmF5KHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddKSA/IHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddIDogW107CiAgICAgICAgdmFyIG5hbWVBcnIgPSB0eXBlb2Ygcm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10gPT09ICdzdHJpbmcnID8gcm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10uc3BsaXQoJywnKSA6IEFycmF5LmlzQXJyYXkocm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10pID8gcm93W2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10gOiBbXTsKICAgICAgICBpZiAobXVsdGlwbGVWYWx1ZVR5cGUgPT09ICdTdHJpbmcnKSB7CiAgICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ10gPSBpZEFyci5qb2luKCcsJyk7CiAgICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2NvZGUnXSA9IGlkQXJyLmpvaW4oJywnKTsKICAgICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnbmFtZSddID0gaWRBcnIuam9pbignLCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ10gPSBpZEFycjsKICAgICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnY29kZSddID0gY29kZUFycjsKICAgICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHkgKyAnbmFtZSddID0gbmFtZUFycjsKICAgICAgICB9CiAgICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSBuYW1lQXJyLmxlbmd0aCA/IGNvZGVBcnIubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIFtjb2RlQXJyW2luZGV4XSwgbmFtZUFycltpbmRleF0sIGlkQXJyW2luZGV4XV0ubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICByZXR1cm4gKGl0ZW0gKyAnJykucmVwbGFjZSgvbnVsbHxOYU58dW5kZWZpbmVkL2lnLCAnICcpOwogICAgICAgICAgfSkuam9pbignIyMnKTsKICAgICAgICB9KS5qb2luKCcsJykgOiAnJzsKICAgICAgfQogICAgICByZXR1cm4gW2goJ0JzVHJlZScsIHsKICAgICAgICBwcm9wczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgIHJlZjogJ3Z4ZS10cmVlLScgKyBjb2x1bW4ucHJvcGVydHksCiAgICAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0sCiAgICAgICAgICBlZGl0YmxlOiBmYWxzZQogICAgICAgIH0sIHByb3BzKSwge30sIHsKICAgICAgICAgIGlzRHJvcFNlbGVjdFRyZWU6IHRydWUKICAgICAgICB9KSwKICAgICAgICBvbjoge30KICAgICAgfSldOwogICAgfSwKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgX3JlZjEzLCBfcmVmMTQpIHsKICAgICAgdmFyIG5hbWUgPSBfcmVmMTMubmFtZSwKICAgICAgICBwcm9wcyA9IF9yZWYxMy5wcm9wczsKICAgICAgdmFyIHJvdyA9IF9yZWYxNC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjE0LmNvbHVtbjsKICAgICAgdmFyIF9yZWYxNSA9IHByb3BzICYmIHByb3BzLmNvbmZpZyB8fCB7CiAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgICAgIG11bHRpcGxlVmFsdWVUeXBlOiAnQXJyYXknCiAgICAgICAgfSwKICAgICAgICBtdWx0aXBsZVZhbHVlVHlwZSA9IF9yZWYxNS5tdWx0aXBsZVZhbHVlVHlwZTsKICAgICAgdmFyIHJlbmRlckRhdGEgPSByb3c7CiAgICAgIHJldHVybiBbaCgnQnNUcmVlJywgewogICAgICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgcmVmOiAndnhlLXRyZWUtJyArIGNvbHVtbi5wcm9wZXJ0eSwKICAgICAgICAgIGVkaXRibGU6IHRydWUsCiAgICAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0KICAgICAgICB9LCBwcm9wcyksIHt9LCB7CiAgICAgICAgICBpc0Ryb3BTZWxlY3RUcmVlOiB0cnVlCiAgICAgICAgfSksCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dCh2YWx1ZSkgewogICAgICAgICAgICByZW5kZXJEYXRhW2NvbHVtbi5wcm9wZXJ0eV0gPSB2YWx1ZTsKICAgICAgICAgIH0sCiAgICAgICAgICBvbk5vZGVDbGljazogZnVuY3Rpb24gb25Ob2RlQ2xpY2soX3JlZjE2KSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjE2LmRhdGEsCiAgICAgICAgICAgICAgdHJlZURhdGEgPSBfcmVmMTYudHJlZURhdGE7CiAgICAgICAgICAgIHJlbmRlckRhdGFbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ10gPSBkYXRhLmlkOwogICAgICAgICAgICByZW5kZXJEYXRhW2NvbHVtbi5wcm9wZXJ0eSArICdjb2RlJ10gPSBkYXRhLmNvZGU7CiAgICAgICAgICAgIHJlbmRlckRhdGFbY29sdW1uLnByb3BlcnR5ICsgJ25hbWUnXSA9IGRhdGEubmFtZTsKICAgICAgICAgIH0sCiAgICAgICAgICBvbk5vZGVDaGVja0NsaWNrOiBmdW5jdGlvbiBvbk5vZGVDaGVja0NsaWNrKF9yZWYxNykgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYxNy5kYXRhLAogICAgICAgICAgICAgIHRyZWVEYXRhID0gX3JlZjE3LnRyZWVEYXRhLAogICAgICAgICAgICAgIHZhbHVlID0gX3JlZjE3LnZhbHVlOwogICAgICAgICAgICByZW5kZXJEYXRhW2NvbHVtbi5wcm9wZXJ0eSArICdpZCddID0gZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPyBpdGVtLmlkIDogJyc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZW5kZXJEYXRhW2NvbHVtbi5wcm9wZXJ0eSArICdjb2RlJ10gPSBkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS5jb2RlID8gaXRlbS5jb2RlIDogJyc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZW5kZXJEYXRhW2NvbHVtbi5wcm9wZXJ0eSArICduYW1lJ10gPSBkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lID8gaXRlbS5uYW1lIDogJyc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAobXVsdGlwbGVWYWx1ZVR5cGUgPT09ICdTdHJpbmcnKSB7CiAgICAgICAgICAgICAgcmVuZGVyRGF0YVtjb2x1bW4ucHJvcGVydHkgKyAnaWQnXSA9IHJlbmRlckRhdGFbY29sdW1uLnByb3BlcnR5ICsgJ2lkJ10uam9pbignLCcpOwogICAgICAgICAgICAgIHJlbmRlckRhdGFbY29sdW1uLnByb3BlcnR5ICsgJ2NvZGUnXSA9IHJlbmRlckRhdGFbY29sdW1uLnByb3BlcnR5ICsgJ2NvZGUnXS5qb2luKCcsJyk7CiAgICAgICAgICAgICAgcmVuZGVyRGF0YVtjb2x1bW4ucHJvcGVydHkgKyAnbmFtZSddID0gcmVuZGVyRGF0YVtjb2x1bW4ucHJvcGVydHkgKyAnbmFtZSddLmpvaW4oJywnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSldOwogICAgfSwKICAgIHJlbmRlckl0ZW06IGZ1bmN0aW9uIHJlbmRlckl0ZW0oaCwgX3JlZjE4LCBfcmVmMTkpIHsKICAgICAgdmFyIHByb3BzID0gX3JlZjE4LnByb3BzOwogICAgICB2YXIgJGZvcm0gPSBfcmVmMTkuJGZvcm0sCiAgICAgICAgcHJvcGVydHkgPSBfcmVmMTkucHJvcGVydHksCiAgICAgICAgZGF0YSA9IF9yZWYxOS5kYXRhOwogICAgICB2YXIgcmVuZGVyRGF0YSA9IGRhdGE7CiAgICAgIHZhciBfcmVmMjAgPSBwcm9wcyAmJiBwcm9wcy5jb25maWcgfHwgewogICAgICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgICAgICBtdWx0aXBsZVZhbHVlVHlwZTogJ0FycmF5JwogICAgICAgIH0sCiAgICAgICAgbXVsdGlwbGVWYWx1ZVR5cGUgPSBfcmVmMjAubXVsdGlwbGVWYWx1ZVR5cGUsCiAgICAgICAgbXVsdGlwbGUgPSBfcmVmMjAubXVsdGlwbGU7CiAgICAgIGlmICghbXVsdGlwbGUpIHsKICAgICAgICBkYXRhW3Byb3BlcnR5XSA9IFtkYXRhW3Byb3BlcnR5ICsgJ2NvZGUnXSwgZGF0YVtwcm9wZXJ0eSArICduYW1lJ10sIGRhdGFbcHJvcGVydHkgKyAnaWQnXV0ubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIChpdGVtICsgJycpLnJlcGxhY2UoL251bGx8TmFOfHVuZGVmaW5lZC9pZywgJyAnKTsKICAgICAgICB9KS5qb2luKCcjIycpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpZEFyciA9IHR5cGVvZiBkYXRhW3Byb3BlcnR5ICsgJ2lkJ10gPT09ICdzdHJpbmcnID8gZGF0YVtwcm9wZXJ0eSArICdpZCddLnNwbGl0KCcsJykgOiBBcnJheS5pc0FycmF5KGRhdGFbcHJvcGVydHkgKyAnaWQnXSkgPyBkYXRhW3Byb3BlcnR5ICsgJ2lkJ10gOiBbXTsKICAgICAgICB2YXIgY29kZUFyciA9IHR5cGVvZiBkYXRhW3Byb3BlcnR5ICsgJ2NvZGUnXSA9PT0gJ3N0cmluZycgPyBkYXRhW3Byb3BlcnR5ICsgJ2NvZGUnXS5zcGxpdCgnLCcpIDogQXJyYXkuaXNBcnJheShkYXRhW3Byb3BlcnR5ICsgJ2NvZGUnXSkgPyBkYXRhW3Byb3BlcnR5ICsgJ2NvZGUnXSA6IFtdOwogICAgICAgIHZhciBuYW1lQXJyID0gdHlwZW9mIGRhdGFbcHJvcGVydHkgKyAnbmFtZSddID09PSAnc3RyaW5nJyA/IGRhdGFbcHJvcGVydHkgKyAnbmFtZSddLnNwbGl0KCcsJykgOiBBcnJheS5pc0FycmF5KGRhdGFbcHJvcGVydHkgKyAnbmFtZSddKSA/IGRhdGFbcHJvcGVydHkgKyAnbmFtZSddIDogW107CiAgICAgICAgaWYgKG11bHRpcGxlVmFsdWVUeXBlID09PSAnU3RyaW5nJykgewogICAgICAgICAgZGF0YVtwcm9wZXJ0eSArICdpZCddID0gaWRBcnIuam9pbignLCcpOwogICAgICAgICAgZGF0YVtwcm9wZXJ0eSArICdjb2RlJ10gPSBpZEFyci5qb2luKCcsJyk7CiAgICAgICAgICBkYXRhW3Byb3BlcnR5ICsgJ25hbWUnXSA9IGlkQXJyLmpvaW4oJywnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0YVtwcm9wZXJ0eSArICdpZCddID0gaWRBcnI7CiAgICAgICAgICBkYXRhW3Byb3BlcnR5ICsgJ2NvZGUnXSA9IGNvZGVBcnI7CiAgICAgICAgICBkYXRhW3Byb3BlcnR5ICsgJ25hbWUnXSA9IG5hbWVBcnI7CiAgICAgICAgfQogICAgICAgIGRhdGFbcHJvcGVydHldID0gbmFtZUFyci5sZW5ndGggPyBjb2RlQXJyLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBbY29kZUFycltpbmRleF0sIG5hbWVBcnJbaW5kZXhdLCBpZEFycltpbmRleF1dLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgcmV0dXJuIChpdGVtICsgJycpLnJlcGxhY2UoL251bGx8TmFOfHVuZGVmaW5lZC9pZywgJycpOwogICAgICAgICAgfSkuam9pbignIyMnKTsKICAgICAgICB9KS5qb2luKCcsJykgOiAnJzsKICAgICAgfQogICAgICByZXR1cm4gW2goJ0JzVHJlZScsIHsKICAgICAgICBwcm9wczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgIHJlZjogJ3Z4ZS10cmVlLScgKyBwcm9wZXJ0eSwKICAgICAgICAgIGVkaXRibGU6IHRydWUsCiAgICAgICAgICB2YWx1ZTogZGF0YVtwcm9wZXJ0eV0KICAgICAgICB9LCBwcm9wcyksIHt9LCB7CiAgICAgICAgICBpc0Ryb3BTZWxlY3RUcmVlOiB0cnVlCiAgICAgICAgfSksCiAgICAgICAgb246IHsKICAgICAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dCh2YWx1ZSkgewogICAgICAgICAgICBkYXRhW3Byb3BlcnR5XSA9IHZhbHVlOwogICAgICAgICAgfSwKICAgICAgICAgIG9uTm9kZUNsaWNrOiBmdW5jdGlvbiBvbk5vZGVDbGljayhfcmVmMjEpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMjEuZGF0YSwKICAgICAgICAgICAgICB0cmVlRGF0YSA9IF9yZWYyMS50cmVlRGF0YTsKICAgICAgICAgICAgcmVuZGVyRGF0YVtwcm9wZXJ0eSArICdpZCddID0gZGF0YS5pZDsKICAgICAgICAgICAgcmVuZGVyRGF0YVtwcm9wZXJ0eSArICdjb2RlJ10gPSBkYXRhLmNvZGU7CiAgICAgICAgICAgIHJlbmRlckRhdGFbcHJvcGVydHkgKyAnbmFtZSddID0gZGF0YS5uYW1lOwogICAgICAgICAgfSwKICAgICAgICAgIG9uTm9kZUNoZWNrQ2xpY2s6IGZ1bmN0aW9uIG9uTm9kZUNoZWNrQ2xpY2soX3JlZjIyKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjIyLmRhdGEsCiAgICAgICAgICAgICAgdHJlZURhdGEgPSBfcmVmMjIudHJlZURhdGEsCiAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMjIudmFsdWU7CiAgICAgICAgICAgIHJlbmRlckRhdGFbcHJvcGVydHkgKyAnaWQnXSA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID8gaXRlbS5pZCA6ICcnOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmVuZGVyRGF0YVtwcm9wZXJ0eSArICdjb2RlJ10gPSBkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS5jb2RlID8gaXRlbS5jb2RlIDogJyc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZW5kZXJEYXRhW3Byb3BlcnR5ICsgJ25hbWUnXSA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgPyBpdGVtLm5hbWUgOiAnJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChtdWx0aXBsZVZhbHVlVHlwZSA9PT0gJ1N0cmluZycpIHsKICAgICAgICAgICAgICByZW5kZXJEYXRhW3Byb3BlcnR5ICsgJ2lkJ10gPSByZW5kZXJEYXRhW3Byb3BlcnR5ICsgJ2lkJ10uam9pbignLCcpOwogICAgICAgICAgICAgIHJlbmRlckRhdGFbcHJvcGVydHkgKyAnY29kZSddID0gcmVuZGVyRGF0YVtwcm9wZXJ0eSArICdjb2RlJ10uam9pbignLCcpOwogICAgICAgICAgICAgIHJlbmRlckRhdGFbcHJvcGVydHkgKyAnbmFtZSddID0gcmVuZGVyRGF0YVtwcm9wZXJ0eSArICduYW1lJ10uam9pbignLCcpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KV07CiAgICB9CiAgfSwKICBOb3REYXRhOiB7CiAgICAvLyDnqbrlhoXlrrnmqKHmnb8KICAgIHJlbmRlckVtcHR5OiBmdW5jdGlvbiByZW5kZXJFbXB0eShoLCByZW5kZXJPcHRzKSB7CiAgICAgIHJldHVybiBbaCgiZGl2IiwgW2goInNwYW4iLCBbaCgicCIsIFsiXHU0RUIyXHVGRjBDXHU2Q0ExXHU2NzA5XHU2NkY0XHU1OTFBXHU2NTcwXHU2MzZFXHU0RTg2XHVGRjAxIl0pXSldKV07CiAgICB9CiAgfSwKICAkY2FsY3VsYXRlUmVuZGVyOiB7CiAgICAvLyDorqHnrpfliJcKICAgIC8vIGxldCByb3cgPSB7CiAgICAvLyAgIGE6IDEsCiAgICAvLyAgIGI6IDIsCiAgICAvLyAgIGM6IDMKICAgIC8vIH0KICAgIC8vIGxldCBmb3JtdWxhID0gJ01hdGgucG93KHthfSt7Yn0se2N9KScKICAgIC8vIGZvciAobGV0IGsgaW4gcm93KSB7CiAgICAvLyBsZXQgcmVnID0gbmV3IFJlZ0V4cCgnKHsnICsgayArICd9KScsICdpZycpCiAgICAvLyAgIGlmIChyZWcudGVzdChmb3JtdWxhKSkgewogICAgLy8gICAgIGZvcm11bGEgPSBmb3JtdWxhLnJlcGxhY2UocmVnLCByb3dba10pCiAgICAvLyAgIH0KICAgIC8vIH0KICAgIC8vIGxldCBjYWxjUmVzdWx0ID0gKG5ldyBGdW5jdGlvbignY29uc29sZS5sb2coZm9ybXVsYSk7cmV0dXJuIGV2YWwoZm9ybXVsYSknKSkoKQogICAgcmVuZGVyRGVmYXVsdDogZnVuY3Rpb24gcmVuZGVyRGVmYXVsdChoLCByZW5kZXJPcHRzLCBfcmVmMjMsIGNvbnRleHQpIHsKICAgICAgdmFyICRjb2x1bW5JbmRleCA9IF9yZWYyMy4kY29sdW1uSW5kZXgsCiAgICAgICAgJHJvd0luZGV4ID0gX3JlZjIzLiRyb3dJbmRleCwKICAgICAgICBpdGVtcyA9IF9yZWYyMy5pdGVtcywKICAgICAgICBjb2x1bW4gPSBfcmVmMjMuY29sdW1uLAogICAgICAgIGRhdGEgPSBfcmVmMjMuZGF0YSwKICAgICAgICByb3cgPSBfcmVmMjMucm93LAogICAgICAgICRzZXEgPSBfcmVmMjMuJHNlcSwKICAgICAgICAkdGFibGUgPSBfcmVmMjMuJHRhYmxlLAogICAgICAgICR0eXBlID0gX3JlZjIzLiR0eXBlLAogICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjIzLmNvbHVtbkluZGV4LAogICAgICAgIGlzRWRpdCA9IF9yZWYyMy5pc0VkaXQsCiAgICAgICAgbGV2ZWwgPSBfcmVmMjMubGV2ZWwsCiAgICAgICAgcm93SW5kZXggPSBfcmVmMjMucm93SW5kZXgsCiAgICAgICAgc2VxID0gX3JlZjIzLnNlcTsKICAgICAgcmV0dXJuIGRlZmF1bHRHbG9hYmFsVXRpbHMuY2FsY3VsYXRlUmVuZGVyKGgsIHJlbmRlck9wdHMsIHsKICAgICAgICAkY29sdW1uSW5kZXg6ICRjb2x1bW5JbmRleCwKICAgICAgICAkcm93SW5kZXg6ICRyb3dJbmRleCwKICAgICAgICBpdGVtczogaXRlbXMsCiAgICAgICAgY29sdW1uOiBjb2x1bW4sCiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICByb3c6IHJvdywKICAgICAgICAkc2VxOiAkc2VxLAogICAgICAgICR0YWJsZTogJHRhYmxlLAogICAgICAgICR0eXBlOiAkdHlwZSwKICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXgsCiAgICAgICAgaXNFZGl0OiBpc0VkaXQsCiAgICAgICAgbGV2ZWw6IGxldmVsLAogICAgICAgIHJvd0luZGV4OiByb3dJbmRleCwKICAgICAgICBzZXE6IHNlcQogICAgICB9LCBjb250ZXh0KTsKICAgIH0sCiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIHJlbmRlck9wdHMsIF9yZWYyNCwgY29udGV4dCkgewogICAgICB2YXIgJGNvbHVtbkluZGV4ID0gX3JlZjI0LiRjb2x1bW5JbmRleCwKICAgICAgICAkcm93SW5kZXggPSBfcmVmMjQuJHJvd0luZGV4LAogICAgICAgIGl0ZW1zID0gX3JlZjI0Lml0ZW1zLAogICAgICAgIGNvbHVtbiA9IF9yZWYyNC5jb2x1bW4sCiAgICAgICAgZGF0YSA9IF9yZWYyNC5kYXRhLAogICAgICAgIHJvdyA9IF9yZWYyNC5yb3csCiAgICAgICAgJHNlcSA9IF9yZWYyNC4kc2VxLAogICAgICAgICR0YWJsZSA9IF9yZWYyNC4kdGFibGUsCiAgICAgICAgJHR5cGUgPSBfcmVmMjQuJHR5cGUsCiAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmMjQuY29sdW1uSW5kZXgsCiAgICAgICAgaXNFZGl0ID0gX3JlZjI0LmlzRWRpdCwKICAgICAgICBsZXZlbCA9IF9yZWYyNC5sZXZlbCwKICAgICAgICByb3dJbmRleCA9IF9yZWYyNC5yb3dJbmRleCwKICAgICAgICBzZXEgPSBfcmVmMjQuc2VxOwogICAgICByZXR1cm4gZGVmYXVsdEdsb2FiYWxVdGlscy5jYWxjdWxhdGVSZW5kZXIoaCwgcmVuZGVyT3B0cywgewogICAgICAgICRjb2x1bW5JbmRleDogJGNvbHVtbkluZGV4LAogICAgICAgICRyb3dJbmRleDogJHJvd0luZGV4LAogICAgICAgIGl0ZW1zOiBpdGVtcywKICAgICAgICBjb2x1bW46IGNvbHVtbiwKICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIHJvdzogcm93LAogICAgICAgICRzZXE6ICRzZXEsCiAgICAgICAgJHRhYmxlOiAkdGFibGUsCiAgICAgICAgJHR5cGU6ICR0eXBlLAogICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCwKICAgICAgICBpc0VkaXQ6IGlzRWRpdCwKICAgICAgICBsZXZlbDogbGV2ZWwsCiAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4LAogICAgICAgIHNlcTogc2VxCiAgICAgIH0sIGNvbnRleHQpOwogICAgfSwKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgcmVuZGVyT3B0cywgX3JlZjI1LCBjb250ZXh0KSB7CiAgICAgIHZhciAkY29sdW1uSW5kZXggPSBfcmVmMjUuJGNvbHVtbkluZGV4LAogICAgICAgICRyb3dJbmRleCA9IF9yZWYyNS4kcm93SW5kZXgsCiAgICAgICAgaXRlbXMgPSBfcmVmMjUuaXRlbXMsCiAgICAgICAgY29sdW1uID0gX3JlZjI1LmNvbHVtbiwKICAgICAgICBkYXRhID0gX3JlZjI1LmRhdGEsCiAgICAgICAgcm93ID0gX3JlZjI1LnJvdywKICAgICAgICAkc2VxID0gX3JlZjI1LiRzZXEsCiAgICAgICAgJHRhYmxlID0gX3JlZjI1LiR0YWJsZSwKICAgICAgICAkdHlwZSA9IF9yZWYyNS4kdHlwZSwKICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWYyNS5jb2x1bW5JbmRleCwKICAgICAgICBpc0VkaXQgPSBfcmVmMjUuaXNFZGl0LAogICAgICAgIGxldmVsID0gX3JlZjI1LmxldmVsLAogICAgICAgIHJvd0luZGV4ID0gX3JlZjI1LnJvd0luZGV4LAogICAgICAgIHNlcSA9IF9yZWYyNS5zZXE7CiAgICAgIHJldHVybiBkZWZhdWx0R2xvYWJhbFV0aWxzLmNhbGN1bGF0ZVJlbmRlcihoLCByZW5kZXJPcHRzLCB7CiAgICAgICAgJGNvbHVtbkluZGV4OiAkY29sdW1uSW5kZXgsCiAgICAgICAgJHJvd0luZGV4OiAkcm93SW5kZXgsCiAgICAgICAgaXRlbXM6IGl0ZW1zLAogICAgICAgIGNvbHVtbjogY29sdW1uLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgcm93OiByb3csCiAgICAgICAgJHNlcTogJHNlcSwKICAgICAgICAkdGFibGU6ICR0YWJsZSwKICAgICAgICAkdHlwZTogJHR5cGUsCiAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LAogICAgICAgIGlzRWRpdDogaXNFZGl0LAogICAgICAgIGxldmVsOiBsZXZlbCwKICAgICAgICByb3dJbmRleDogcm93SW5kZXgsCiAgICAgICAgc2VxOiBzZXEKICAgICAgfSwgY29udGV4dCk7CiAgICAgIC8vIHJldHVybiBbCiAgICAgIC8vICAgPHZ4ZS1pbnB1dAogICAgICAvLyAgICAgdi1tb2RlbD17cm93W2NvbHVtbi5wcm9wZXJ0eV19CiAgICAgIC8vICAgICBwbGFjZWhvbGRlcj0i6Ieq5Yqo6K6h566XIgogICAgICAvLyAgICAgcmVhZG9ubHkKICAgICAgLy8gICAgIGNsZWFyYWJsZQogICAgICAvLyAgID48L3Z4ZS1pbnB1dD4KICAgICAgLy8gXQogICAgfQogIH0sCgogICRtb25leVJlbmRlcjogewogICAgLy8g6L6T5YWl5qGGCiAgICByZW5kZXJEZWZhdWx0OiBmdW5jdGlvbiByZW5kZXJEZWZhdWx0KGgsIF9yZWYyNiwgX3JlZjI3LCBjb250ZXh0KSB7CiAgICAgIHZhciBwcm9wcyA9IF9yZWYyNi5wcm9wczsKICAgICAgdmFyIHJvdyA9IF9yZWYyNy5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjI3LmNvbHVtbjsKICAgICAgcHJvcHMgPSBwcm9wcyB8fCB7fTsKICAgICAgdmFyIHZhbCA9IGlzTmFOKHBhcnNlRmxvYXQocm93W2NvbHVtbi5wcm9wZXJ0eV0pKSA/ICcnIDogcGFyc2VGbG9hdChyb3dbY29sdW1uLnByb3BlcnR5XSk7CiAgICAgIGlmICh2YWwgIT09ICcnKSB7CiAgICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSB2YWwudG9GaXhlZCgyKTsKICAgICAgICBpZiAoY29udGV4dC4kZ3JpZC4kcGFyZW50LnRvb2xiYXJDb25maWdJbkNvcHkuZGlzYWJsZWRNb25leUNvbnZlcnNpb24pIHsKICAgICAgICAgIHZhbCA9IE51bWJlcih2YWwudG9GaXhlZCgyKSkudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgIHZhbCA9IHZhbC5zcGxpdCgnLicpLmxlbmd0aCA9PT0gMSA/IHZhbCArICcuMDAnIDogdmFsLnNwbGl0KCcuJylbMV0ubGVuZ3RoID09PSAxID8gdmFsICsgJzAnIDogdmFsOwogICAgICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgewogICAgICAgICAgICAiY2xhc3MiOiAidGV4dCIsCiAgICAgICAgICAgICJwcm9wcyI6IF9vYmplY3RTcHJlYWQoe30sIHByb3BzKQogICAgICAgICAgfSwgW3ZhbF0pXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIG1vbmV5VW5pdCA9IGNvbnRleHQuJGdyaWQuJHBhcmVudC5tb25leVVuaXQgPyBjb250ZXh0LiRncmlkLiRwYXJlbnQubW9uZXlVbml0IDogMTsKICAgICAgICAgIHZhbCA9IE51bWJlcigodmFsIC8gbW9uZXlVbml0KS50b0ZpeGVkKDIpKS50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgdmFsID0gdmFsLnNwbGl0KCcuJykubGVuZ3RoID09PSAxID8gdmFsICsgJy4wMCcgOiB2YWwuc3BsaXQoJy4nKVsxXS5sZW5ndGggPT09IDEgPyB2YWwgKyAnMCcgOiB2YWw7CiAgICAgICAgICByZXR1cm4gW2goInNwYW4iLCB7CiAgICAgICAgICAgICJjbGFzcyI6ICJ0ZXh0IiwKICAgICAgICAgICAgInByb3BzIjogX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpCiAgICAgICAgICB9LCBbdmFsXSldOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW2goInNwYW4iLCB7CiAgICAgICAgICAiY2xhc3MiOiAidGV4dCIsCiAgICAgICAgICAicHJvcHMiOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcykKICAgICAgICB9KV07CiAgICAgIH0KICAgIH0sCiAgICByZW5kZXJFZGl0OiBmdW5jdGlvbiByZW5kZXJFZGl0KGgsIF9yZWYyOCwgX3JlZjI5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwcm9wcyA9IF9yZWYyOC5wcm9wczsKICAgICAgdmFyIHJvdyA9IF9yZWYyOS5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjI5LmNvbHVtbjsKICAgICAgLy8gbGV0IHZhbCA9IGlzTmFOKHBhcnNlRmxvYXQocm93W2NvbHVtbi5wcm9wZXJ0eV0pKSA/ICcwLjAwJyA6IHBhcnNlRmxvYXQocm93W2NvbHVtbi5wcm9wZXJ0eV0pCiAgICAgIC8vIHJvd1tjb2x1bW4ucHJvcGVydHldID0gdmFsCiAgICAgIHByb3BzID0gcHJvcHMgfHwge307CiAgICAgIC8vIDx2eGUtaW5wdXQgdi1tb2RlbD0idmFsdWU1MDQiIHBsYWNlaG9sZGVyPSLlsI/mlbDpl7TpmpQgMi4zIiB0eXBlPSJmbG9hdCIgc3RlcD0iMi4zIiBjbGVhcmFibGU+PC92eGUtaW5wdXQ+CiAgICAgIHJldHVybiBbaCgidnhlLWlucHV0IiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJzdGVwIjogMSwKICAgICAgICAgICJ0eXBlIjogImZsb2F0IiwKICAgICAgICAgICJtaW4iOiAwLjAwLAogICAgICAgICAgIm1heCI6IDEwMDAwMDAwMDAwMDAsCiAgICAgICAgICAicGxhY2Vob2xkZXIiOiAi5Y+v5riF6ZmkIiwKICAgICAgICAgICJjbGVhcmFibGUiOiB0cnVlCiAgICAgICAgfSwKICAgICAgICAicHJvcHMiOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksCiAgICAgICAgIm1vZGVsIjogewogICAgICAgICAgdmFsdWU6IHJvd1tjb2x1bW4ucHJvcGVydHldLAogICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCQkdikgewogICAgICAgICAgICBfdGhpcy4kc2V0KHJvdywgY29sdW1uLnByb3BlcnR5LCAkJHYpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkgLy8gPGlucHV0IGNsYXNzPSJteS1jZWxsIiB0ZXh0PSJ0ZXh0IiB2LW1vZGVsPXsgcm93W2NvbHVtbi5wcm9wZXJ0eV0gfSAvPgogICAgICBdOwogICAgfSwKICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgX3JlZjMwLCBfcmVmMzEsIGNvbnRleHQpIHsKICAgICAgdmFyIHByb3BzID0gX3JlZjMwLnByb3BzOwogICAgICB2YXIgcm93ID0gX3JlZjMxLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmMzEuY29sdW1uOwogICAgICBwcm9wcyA9IHByb3BzIHx8IHt9OwogICAgICB2YXIgdmFsID0gaXNOYU4ocGFyc2VGbG9hdChyb3dbY29sdW1uLnByb3BlcnR5XSkpID8gJycgOiBwYXJzZUZsb2F0KHJvd1tjb2x1bW4ucHJvcGVydHldKTsKICAgICAgaWYgKHZhbCAhPT0gJycpIHsKICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5XSA9IHZhbC50b0ZpeGVkKDIpOwogICAgICAgIGlmIChjb250ZXh0LiRncmlkLiRwYXJlbnQudG9vbGJhckNvbmZpZ0luQ29weS5kaXNhYmxlZE1vbmV5Q29udmVyc2lvbikgewogICAgICAgICAgdmFsID0gTnVtYmVyKHZhbC50b0ZpeGVkKDIpKS50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgdmFsID0gdmFsLnNwbGl0KCcuJykubGVuZ3RoID09PSAxID8gdmFsICsgJy4wMCcgOiB2YWwuc3BsaXQoJy4nKVsxXS5sZW5ndGggPT09IDEgPyB2YWwgKyAnMCcgOiB2YWw7CiAgICAgICAgICByZXR1cm4gW2goInNwYW4iLCB7CiAgICAgICAgICAgICJjbGFzcyI6ICJ0ZXh0IiwKICAgICAgICAgICAgInByb3BzIjogX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpCiAgICAgICAgICB9LCBbdmFsXSldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgbW9uZXlVbml0ID0gY29udGV4dC4kZ3JpZC4kcGFyZW50Lm1vbmV5VW5pdCA/IGNvbnRleHQuJGdyaWQuJHBhcmVudC5tb25leVVuaXQgOiAxOwogICAgICAgICAgdmFsID0gTnVtYmVyKCh2YWwgLyBtb25leVVuaXQpLnRvRml4ZWQoMikpLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICB2YWwgPSB2YWwuc3BsaXQoJy4nKS5sZW5ndGggPT09IDEgPyB2YWwgKyAnLjAwJyA6IHZhbC5zcGxpdCgnLicpWzFdLmxlbmd0aCA9PT0gMSA/IHZhbCArICcwJyA6IHZhbDsKICAgICAgICAgIHJldHVybiBbaCgic3BhbiIsIHsKICAgICAgICAgICAgImNsYXNzIjogInRleHQiLAogICAgICAgICAgICAicHJvcHMiOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcykKICAgICAgICAgIH0sIFt2YWxdKV07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbaCgic3BhbiIsIHsKICAgICAgICAgICJjbGFzcyI6ICJ0ZXh0IiwKICAgICAgICAgICJwcm9wcyI6IF9vYmplY3RTcHJlYWQoe30sIHByb3BzKQogICAgICAgIH0pXTsKICAgICAgfQogICAgfQogIH0sCiAgJHRyZWVUZXh0OiB7CiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIGNlbGxSZW5kZXIsIF9yZWYzMiwgY29udGV4dCkgewogICAgICB2YXIgcm93ID0gX3JlZjMyLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmMzIuY29sdW1uOwogICAgICB2YXIgbmFtZSA9IHJvd1siIi5jb25jYXQoY29sdW1uLnByb3BlcnR5LCAibmFtZSIpXSA9PT0gJyAnID8gJycgOiByb3dbIiIuY29uY2F0KGNvbHVtbi5wcm9wZXJ0eSwgIm5hbWUiKV07CiAgICAgIHZhciBjb2RlID0gcm93WyIiLmNvbmNhdChjb2x1bW4ucHJvcGVydHksICJjb2RlIildID09PSAnICcgPyAnJyA6IHJvd1siIi5jb25jYXQoY29sdW1uLnByb3BlcnR5LCAiY29kZSIpXTsKICAgICAgdmFyIG5vQ29kZSA9IGNlbGxSZW5kZXIucHJvcHMgJiYgY2VsbFJlbmRlci5wcm9wcy5ub0NvZGU7CiAgICAgIHZhciB0cmVlbGluZURhdGEgPSBjZWxsUmVuZGVyLnByb3BzICYmIGNlbGxSZW5kZXIucHJvcHMudHJlZWxpbmVEYXRhOwogICAgICB2YXIgdGV4dCA9ICcnOwogICAgICBpZiAodHJlZWxpbmVEYXRhKSB7CiAgICAgICAgdGV4dCA9IHJvd1siIi5jb25jYXQoY29sdW1uLnByb3BlcnR5KV0gPyByb3dbIiIuY29uY2F0KGNvbHVtbi5wcm9wZXJ0eSldIDogJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG5hbWUpIHsKICAgICAgICAgIHRleHQgPSBub0NvZGUgPyAiIi5jb25jYXQobmFtZSkgOiAiIi5jb25jYXQoY29kZSwgIi0iKS5jb25jYXQobmFtZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBbaCgic3BhbiIsIHsKICAgICAgICAiY2xhc3MiOiAidGV4dCIKICAgICAgfSwgW3RleHRdKV07CiAgICB9LAogICAgcmVuZGVyRWRpdDogZnVuY3Rpb24gcmVuZGVyRWRpdChoLCBjZWxsUmVuZGVyLCBfcmVmMzMsIGNvbnRleHQpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYzMy5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjMzLmNvbHVtbjsKICAgICAgdmFyIG5hbWUgPSByb3dbIiIuY29uY2F0KGNvbHVtbi5wcm9wZXJ0eSwgIm5hbWUiKV0gPT09ICcgJyA/ICcnIDogcm93WyIiLmNvbmNhdChjb2x1bW4ucHJvcGVydHksICJuYW1lIildOwogICAgICB2YXIgY29kZSA9IHJvd1siIi5jb25jYXQoY29sdW1uLnByb3BlcnR5LCAiY29kZSIpXSA9PT0gJyAnID8gJycgOiByb3dbIiIuY29uY2F0KGNvbHVtbi5wcm9wZXJ0eSwgImNvZGUiKV07CiAgICAgIHZhciBub0NvZGUgPSBjZWxsUmVuZGVyLnByb3BzICYmIGNlbGxSZW5kZXIucHJvcHMubm9Db2RlOwogICAgICB2YXIgdGV4dCA9ICcnOwogICAgICBpZiAobmFtZSkgewogICAgICAgIHRleHQgPSBub0NvZGUgPyAiIi5jb25jYXQobmFtZSkgOiAiIi5jb25jYXQoY29kZSwgIi0iKS5jb25jYXQobmFtZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIFtoKCJ2eGUtaW5wdXQiLCB7CiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgInBsYWNlaG9sZGVyIjogIuiHquWKqOiuoeeulyIsCiAgICAgICAgICAicmVhZG9ubHkiOiB0cnVlLAogICAgICAgICAgImNsZWFyYWJsZSI6IHRydWUKICAgICAgICB9LAogICAgICAgICJtb2RlbCI6IHsKICAgICAgICAgIHZhbHVlOiB0ZXh0LAogICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCQkdikgewogICAgICAgICAgICB0ZXh0ID0gJCR2OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSldOwogICAgICAvLyByZXR1cm4gWzxzcGFuIGNsYXNzPSJ0ZXh0Ij57dGV4dH08L3NwYW4+XQogICAgfQogIH0sCgogICR0cmVlaW5wdXQ6IHsKICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgY2VsbFJlbmRlciwgX3JlZjM0LCBjb250ZXh0KSB7CiAgICAgIHZhciByb3cgPSBfcmVmMzQucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWYzNC5jb2x1bW4sCiAgICAgICAgJHJvd0luZGV4ID0gX3JlZjM0LiRyb3dJbmRleDsKICAgICAgLy8gY29uc29sZS5sb2coJ2NlbGwnKQogICAgICAvLyAy44CB5Y+N5ZCR57uZdHJlZSAz5YWD57Sg6LWL5YC8CiAgICAgIHZhciBwcm9wcyA9IGNlbGxSZW5kZXIucHJvcHMgfHwge307CiAgICAgIHZhciBwcm9wZXJ0eSA9IGNvbHVtbi5wcm9wZXJ0eTsKICAgICAgcHJvcHNbJ3ByZWZpeCddID0gcHJvcGVydHk7CiAgICAgIHZhciB0aW1lU3RhbXAgPSArbmV3IERhdGUoKTsKICAgICAgaWYgKHJvd1twcm9wZXJ0eV0pIHsKICAgICAgICB2YXIgdmFsdWVBcnIgPSByb3dbcHJvcGVydHldLnNwbGl0KCcjIycpOwogICAgICAgIHJvd1twcm9wZXJ0eSArICdpZCddID0gdmFsdWVBcnJbMF07CiAgICAgICAgcm93W3Byb3BlcnR5ICsgJ2NvZGUnXSA9IHZhbHVlQXJyWzFdOwogICAgICAgIHJvd1twcm9wZXJ0eSArICduYW1lJ10gPSB2YWx1ZUFyclsyXTsKICAgICAgfQogICAgICBpZiAoIXJvd1twcm9wZXJ0eSArICdpZCddKSB7CiAgICAgICAgcm93W3Byb3BlcnR5XSA9ICdpbml0SWQnICsgdGltZVN0YW1wICsgJyMjICMjICc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcm93W3Byb3BlcnR5XSA9IHJvd1twcm9wZXJ0eSArICdpZCddICsgJyMjJyArIHJvd1twcm9wZXJ0eSArICdjb2RlJ10gKyAnIyMnICsgcm93W3Byb3BlcnR5ICsgJ25hbWUnXTsKICAgICAgfQogICAgICB2YXIgbmFtZSA9IHJvd1siIi5jb25jYXQoY29sdW1uLnByb3BlcnR5LCAibmFtZSIpXTsKICAgICAgdmFyIGNvZGUgPSByb3dbIiIuY29uY2F0KGNvbHVtbi5wcm9wZXJ0eSwgImNvZGUiKV07CiAgICAgIHZhciBub0NvZGUgPSBjZWxsUmVuZGVyLnByb3BzICYmIGNlbGxSZW5kZXIucHJvcHMubm9Db2RlOwogICAgICB2YXIgdGV4dCA9ICcnOwogICAgICBpZiAobmFtZSAmJiBuYW1lICE9PSAnICcpIHsKICAgICAgICB0ZXh0ID0gbm9Db2RlID8gIiIuY29uY2F0KG5hbWUpIDogIiIuY29uY2F0KGNvZGUsICItIikuY29uY2F0KG5hbWUpOwogICAgICB9CiAgICAgIHJldHVybiBbaCgic3BhbiIsIHsKICAgICAgICAiY2xhc3MiOiAidGV4dCIKICAgICAgfSwgWyIgIiwgdGV4dCwgIiAiXSldOwogICAgfSwKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgY2VsbFJlbmRlciwgX3JlZjM1LCBjb250ZXh0KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgcm93ID0gX3JlZjM1LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmMzUuY29sdW1uOwogICAgICAvLyBjb25zb2xlLmxvZygnZWRpdCcpCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHByb3BzID0gY2VsbFJlbmRlci5wcm9wcyB8fCB7fTsKICAgICAgICB2YXIgcHJvcGVydHkgPSBjb2x1bW4ucHJvcGVydHk7CiAgICAgICAgdmFyIG9wdGlvbnMgPSBjZWxsUmVuZGVyLm9wdGlvbnMgfHwgW107CiAgICAgICAgcHJvcHNbJ3ByZWZpeCddID0gcHJvcGVydHk7CiAgICAgICAgdmFyIHRpbWVTdGFtcCA9ICtuZXcgRGF0ZSgpOwogICAgICAgIC8vIDHjgIHmraPlkJHnu5l0cmVlIDPlhYPntKDotYvlgLwKICAgICAgICBpZiAoIXJvd1twcm9wZXJ0eSArICdpZCddKSB7CiAgICAgICAgICAvLyDmg4XlhrUxOuWPque7meS6huWJjee8gO+8jOayoeaciee7mTPkuKrlgLzvvIzliJ3lp4vljJYz5Liq5YC8CiAgICAgICAgICByb3dbcHJvcGVydHkgKyAnaWQnXSA9ICdpbml0SWQnICsgdGltZVN0YW1wOwogICAgICAgICAgcm93W3Byb3BlcnR5ICsgJ2NvZGUnXSA9ICcgJzsKICAgICAgICAgIHJvd1twcm9wZXJ0eSArICduYW1lJ10gPSAnICc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOaDheWGtTI6IOe7meS6huWJjee8gOWSjGlkICBjb2Rl5LiObmFtZeWPr+iDvee7meS6hu+8jOWPr+iDveayoee7me+8myDnu5nkuobnmoTor53kvJjlhYjnlKjnu5nkuobnmoTlgLwKICAgICAgICAgIHJvd1twcm9wZXJ0eSArICdjb2RlJ10gPSByb3dbcHJvcGVydHkgKyAnY29kZSddIHx8ICcgJzsKICAgICAgICAgIHJvd1twcm9wZXJ0eSArICduYW1lJ10gPSByb3dbcHJvcGVydHkgKyAnbmFtZSddIHx8ICcgJzsKICAgICAgICB9CgogICAgICAgIC8vIDLjgIHlj43lkJHnu5l0cmVlIDPlhYPntKDotYvlgLwKICAgICAgICBpZiAocm93W3Byb3BlcnR5XSkgewogICAgICAgICAgdmFyIHZhbHVlQXJyID0gcm93W3Byb3BlcnR5XS5zcGxpdCgnIyMnKTsKICAgICAgICAgIHJvd1twcm9wZXJ0eSArICdpZCddID0gdmFsdWVBcnJbMF07CiAgICAgICAgICByb3dbcHJvcGVydHkgKyAnY29kZSddID0gdmFsdWVBcnJbMV07CiAgICAgICAgICByb3dbcHJvcGVydHkgKyAnbmFtZSddID0gdmFsdWVBcnJbMl07CiAgICAgICAgfQoKICAgICAgICAvLyDovazmjqXkuLIgIDHjgIEz5Liq5qCR6IqC54K55Z2H5rKh5pyJICAy44CB5pyJM+S4quagkeiKgueCueaVsOaNrgogICAgICAgIGlmICghcm93W3Byb3BlcnR5ICsgJ2lkJ10pIHsKICAgICAgICAgIHJvd1twcm9wZXJ0eV0gPSAnaW5pdElkJyArIHRpbWVTdGFtcCArICcjIyAjIyAnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3dbcHJvcGVydHldID0gcm93W3Byb3BlcnR5ICsgJ2lkJ10gKyAnIyMnICsgcm93W3Byb3BlcnR5ICsgJ2NvZGUnXSArICcjIycgKyByb3dbcHJvcGVydHkgKyAnbmFtZSddOwogICAgICAgIH0KICAgICAgICByZXR1cm4gW2goIkJzVHJlZUlucHV0IiwgewogICAgICAgICAgImF0dHJzIjogewogICAgICAgICAgICAiZGF0YXMiOiBvcHRpb25zCiAgICAgICAgICB9LAogICAgICAgICAgInByb3BzIjogX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLAogICAgICAgICAgIm1vZGVsIjogewogICAgICAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0sCiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygkJHYpIHsKICAgICAgICAgICAgICBfdGhpczIuJHNldChyb3csIGNvbHVtbi5wcm9wZXJ0eSwgJCR2KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pXTsKICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0KICB9LAogICR0cmVlVGV4dENoZWNrOiB7CiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIGNlbGxSZW5kZXIsIF9yZWYzNiwgY29udGV4dCkgewogICAgICB2YXIgcm93ID0gX3JlZjM2LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmMzYuY29sdW1uOwogICAgICB2YXIgbmFtZSA9IHJvd1siIi5jb25jYXQoY29sdW1uLnByb3BlcnR5LCAibmFtZSIpXSA9PT0gJyAnID8gJycgOiByb3dbIiIuY29uY2F0KGNvbHVtbi5wcm9wZXJ0eSwgIm5hbWUiKV07CiAgICAgIHZhciBjb2RlID0gcm93WyIiLmNvbmNhdChjb2x1bW4ucHJvcGVydHksICJjb2RlIildID09PSAnICcgPyAnJyA6IHJvd1siIi5jb25jYXQoY29sdW1uLnByb3BlcnR5LCAiY29kZSIpXTsKICAgICAgdmFyIG5vQ29kZSA9IGNlbGxSZW5kZXIucHJvcHMgJiYgY2VsbFJlbmRlci5wcm9wcy5ub0NvZGU7CiAgICAgIHZhciB0ZXh0ID0gJyc7CiAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdCgnLCcpOwogICAgICAgIHZhciBjb2RlcyA9IGNvZGUuc3BsaXQoJywnKTsKICAgICAgICB2YXIgbGluZSA9ICcnOwogICAgICAgIGlmIChuYW1lcy5sZW5ndGggPT09IGNvZGVzLmxlbmd0aCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGxpbmUgKz0gbm9Db2RlID8gIiIuY29uY2F0KG5hbWVzW2ldKSA6ICIiLmNvbmNhdChjb2Rlc1tpXSwgIi0iKS5jb25jYXQobmFtZXNbaV0pOwogICAgICAgICAgICBpZiAoaSA8IGxlbiAtIDEpIHsKICAgICAgICAgICAgICBsaW5lICs9ICcsJzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygndGFibGU6IGNvZGUsbmFtZeaVsOmHj+WMuemFjeS4jeS4iicpOwogICAgICAgIH0KICAgICAgICB0ZXh0ID0gbGluZTsKICAgICAgfQogICAgICByZXR1cm4gW2goInNwYW4iLCB7CiAgICAgICAgImNsYXNzIjogInRleHQiCiAgICAgIH0sIFt0ZXh0XSldOwogICAgfQogIH0sCiAgJHRyZWVpbnB1dENoZWNrOiB7CiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIGNlbGxSZW5kZXIsIF9yZWYzNywgY29udGV4dCkgewogICAgICB2YXIgcm93ID0gX3JlZjM3LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmMzcuY29sdW1uLAogICAgICAgICRyb3dJbmRleCA9IF9yZWYzNy4kcm93SW5kZXg7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdjZWxsJykKICAgICAgLy8gMuOAgeWPjeWQkee7mXRyZWUgM+WFg+e0oOi1i+WAvAogICAgICB2YXIgcHJvcHMgPSBjZWxsUmVuZGVyLnByb3BzIHx8IHt9OwogICAgICB2YXIgcHJvcGVydHkgPSBjb2x1bW4ucHJvcGVydHk7CiAgICAgIHByb3BzWydwcmVmaXgnXSA9IHByb3BlcnR5OwogICAgICB2YXIgdGltZVN0YW1wID0gK25ldyBEYXRlKCk7CiAgICAgIGlmIChyb3dbcHJvcGVydHldKSB7CiAgICAgICAgdmFyIHZhbHVlQXJyID0gcm93W3Byb3BlcnR5XS5zcGxpdCgnIyMnKTsKICAgICAgICByb3dbcHJvcGVydHkgKyAnaWQnXSA9IHZhbHVlQXJyWzBdOwogICAgICAgIHJvd1twcm9wZXJ0eSArICdjb2RlJ10gPSB2YWx1ZUFyclsxXTsKICAgICAgICByb3dbcHJvcGVydHkgKyAnbmFtZSddID0gdmFsdWVBcnJbMl07CiAgICAgIH0KICAgICAgaWYgKCFyb3dbcHJvcGVydHkgKyAnaWQnXSkgewogICAgICAgIHJvd1twcm9wZXJ0eV0gPSAnaW5pdElkJyArIHRpbWVTdGFtcCArICcjIyAjIyAnOwogICAgICB9IGVsc2UgewogICAgICAgIHJvd1twcm9wZXJ0eV0gPSByb3dbcHJvcGVydHkgKyAnaWQnXSArICcjIycgKyByb3dbcHJvcGVydHkgKyAnY29kZSddICsgJyMjJyArIHJvd1twcm9wZXJ0eSArICduYW1lJ107CiAgICAgIH0KICAgICAgdmFyIG5hbWUgPSByb3dbIiIuY29uY2F0KGNvbHVtbi5wcm9wZXJ0eSwgIm5hbWUiKV07CiAgICAgIHZhciBjb2RlID0gcm93WyIiLmNvbmNhdChjb2x1bW4ucHJvcGVydHksICJjb2RlIildOwogICAgICB2YXIgbm9Db2RlID0gY2VsbFJlbmRlci5wcm9wcyAmJiBjZWxsUmVuZGVyLnByb3BzLm5vQ29kZTsKICAgICAgdmFyIHRleHQgPSAnJzsKICAgICAgaWYgKG5hbWUgJiYgbmFtZSAhPT0gJyAnKSB7CiAgICAgICAgdGV4dCA9IG5vQ29kZSA/ICIiLmNvbmNhdChuYW1lKSA6ICIiLmNvbmNhdChjb2RlLCAiLSIpLmNvbmNhdChuYW1lKTsKICAgICAgfQogICAgICByZXR1cm4gW2goInNwYW4iLCB7CiAgICAgICAgImNsYXNzIjogInRleHQiCiAgICAgIH0sIFsiICIsIHRleHQsICIgIl0pXTsKICAgIH0sCiAgICByZW5kZXJFZGl0OiBmdW5jdGlvbiByZW5kZXJFZGl0KGgsIGNlbGxSZW5kZXIsIF9yZWYzOCwgY29udGV4dCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIHJvdyA9IF9yZWYzOC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjM4LmNvbHVtbjsKICAgICAgLy8gY29uc29sZS5sb2coJ2VkaXQnKQogICAgICB0cnkgewogICAgICAgIHZhciBwcm9wcyA9IGNlbGxSZW5kZXIucHJvcHMgfHwge307CiAgICAgICAgdmFyIHByb3BlcnR5ID0gY29sdW1uLnByb3BlcnR5OwogICAgICAgIHZhciBvcHRpb25zID0gY2VsbFJlbmRlci5vcHRpb25zIHx8IFtdOwogICAgICAgIHByb3BzWydwcmVmaXgnXSA9IHByb3BlcnR5OwogICAgICAgIHZhciB0aW1lU3RhbXAgPSArbmV3IERhdGUoKTsKICAgICAgICAvLyAx44CB5q2j5ZCR57uZdHJlZSAz5YWD57Sg6LWL5YC8CiAgICAgICAgaWYgKCFyb3dbcHJvcGVydHkgKyAnaWQnXSkgewogICAgICAgICAgLy8g5oOF5Ya1MTrlj6rnu5nkuobliY3nvIDvvIzmsqHmnInnu5kz5Liq5YC877yM5Yid5aeL5YyWM+S4quWAvAogICAgICAgICAgcm93W3Byb3BlcnR5ICsgJ2lkJ10gPSAnaW5pdElkJyArIHRpbWVTdGFtcDsKICAgICAgICAgIHJvd1twcm9wZXJ0eSArICdjb2RlJ10gPSAnICc7CiAgICAgICAgICByb3dbcHJvcGVydHkgKyAnbmFtZSddID0gJyAnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmg4XlhrUyOiDnu5nkuobliY3nvIDlkoxpZCAgY29kZeS4jm5hbWXlj6/og73nu5nkuobvvIzlj6/og73msqHnu5nvvJsg57uZ5LqG55qE6K+d5LyY5YWI55So57uZ5LqG55qE5YC8CiAgICAgICAgICByb3dbcHJvcGVydHkgKyAnY29kZSddID0gcm93W3Byb3BlcnR5ICsgJ2NvZGUnXSB8fCAnICc7CiAgICAgICAgICByb3dbcHJvcGVydHkgKyAnbmFtZSddID0gcm93W3Byb3BlcnR5ICsgJ25hbWUnXSB8fCAnICc7CiAgICAgICAgfQoKICAgICAgICAvLyAy44CB5Y+N5ZCR57uZdHJlZSAz5YWD57Sg6LWL5YC8CiAgICAgICAgaWYgKHJvd1twcm9wZXJ0eV0pIHsKICAgICAgICAgIHZhciB2YWx1ZUFyciA9IHJvd1twcm9wZXJ0eV0uc3BsaXQoJyMjJyk7CiAgICAgICAgICByb3dbcHJvcGVydHkgKyAnaWQnXSA9IHZhbHVlQXJyWzBdOwogICAgICAgICAgcm93W3Byb3BlcnR5ICsgJ2NvZGUnXSA9IHZhbHVlQXJyWzFdOwogICAgICAgICAgcm93W3Byb3BlcnR5ICsgJ25hbWUnXSA9IHZhbHVlQXJyWzJdOwogICAgICAgIH0KCiAgICAgICAgLy8g6L2s5o6l5LiyICAx44CBM+S4quagkeiKgueCueWdh+ayoeaciSAgMuOAgeaciTPkuKrmoJHoioLngrnmlbDmja4KICAgICAgICBpZiAoIXJvd1twcm9wZXJ0eSArICdpZCddKSB7CiAgICAgICAgICByb3dbcHJvcGVydHldID0gJ2luaXRJZCcgKyB0aW1lU3RhbXAgKyAnIyMgIyMgJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcm93W3Byb3BlcnR5XSA9IHJvd1twcm9wZXJ0eSArICdpZCddICsgJyMjJyArIHJvd1twcm9wZXJ0eSArICdjb2RlJ10gKyAnIyMnICsgcm93W3Byb3BlcnR5ICsgJ25hbWUnXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFtoKCJCc1RyZWVJbnB1dFRlc3QiLCB7CiAgICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAgICJkYXRhcyI6IG9wdGlvbnMKICAgICAgICAgIH0sCiAgICAgICAgICAicHJvcHMiOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksCiAgICAgICAgICAibW9kZWwiOiB7CiAgICAgICAgICAgIHZhbHVlOiByb3dbY29sdW1uLnByb3BlcnR5XSwKICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCQkdikgewogICAgICAgICAgICAgIF90aGlzMy4kc2V0KHJvdywgY29sdW1uLnByb3BlcnR5LCAkJHYpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSldOwogICAgICB9IGNhdGNoIChlKSB7fQogICAgfQogIH0sCiAgJEVkaXREb3duVGV4dGFyZWE6IHsKICAgIGF1dG9mb2N1czogJy52eGUtaW5wdXQtLWlubmVyJywKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgcmVuZGVyT3B0cywgcGFyYW1zKSB7CiAgICAgIHJldHVybiBbaCgiZWRpdC1kb3duLXRleHRhcmVhIiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJwYXJhbXMiOiBwYXJhbXMKICAgICAgICB9CiAgICAgIH0pXTsKICAgIH0sCiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIGNlbGxSZW5kZXIsIF9yZWYzOSwgY29udGV4dCkgewogICAgICB2YXIgcm93ID0gX3JlZjM5LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmMzkuY29sdW1uOwogICAgICByZXR1cm4gW2goInNwYW4iLCB7CiAgICAgICAgImNsYXNzIjogInRleHQiCiAgICAgIH0sIFtyb3dbY29sdW1uLnByb3BlcnR5XV0pXTsKICAgIH0KICB9LAogICRFZGl0RG93bkpzb246IHsKICAgIGF1dG9mb2N1czogJy52eGUtaW5wdXQtLWlubmVyJywKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgcmVuZGVyT3B0cywgcGFyYW1zKSB7CiAgICAgIHJldHVybiBbaCgiZWRpdC1kb3duLWpzb24iLCB7CiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgInBhcmFtcyI6IHBhcmFtcwogICAgICAgIH0KICAgICAgfSldOwogICAgfSwKICAgIC8vIHJlbmRlckNlbGwoaCwgcmVuZGVyT3B0cywgcGFyYW1zKSB7CiAgICAvLyAgIHJldHVybiBbCiAgICAvLyAgICAgPGVkaXQtZG93bi1qc29uIHBhcmFtcz17IHBhcmFtcyB9PjwvZWRpdC1kb3duLWpzb24+CiAgICAvLyAgIF0KICAgIC8vIH0KICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgY2VsbFJlbmRlciwgX3JlZjQwLCBjb250ZXh0KSB7CiAgICAgIHZhciByb3cgPSBfcmVmNDAucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY0MC5jb2x1bW47CiAgICAgIHZhciB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHJvd1tjb2x1bW4ucHJvcGVydHldKTsKICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgewogICAgICAgICJjbGFzcyI6ICJ0ZXh0IgogICAgICB9LCBbdmFsdWVdKV07CiAgICB9CiAgfSwKICAkRWRpdERvd25Db25kaXRpb25zOiB7CiAgICBhdXRvZm9jdXM6ICcudnhlLWlucHV0LS1pbm5lcicsCiAgICByZW5kZXJFZGl0OiBmdW5jdGlvbiByZW5kZXJFZGl0KGgsIF9yZWY0MSwgcGFyYW1zKSB7CiAgICAgIHZhciBuYW1lID0gX3JlZjQxLm5hbWUsCiAgICAgICAgb3B0aW9ucyA9IF9yZWY0MS5vcHRpb25zLAogICAgICAgIHByb3BzID0gX3JlZjQxLnByb3BzOwogICAgICByZXR1cm4gW2goImVkaXQtZG93bi1jb25kaXRpb25zIiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJjb25zdFByb3BzIjogcHJvcHMsCiAgICAgICAgICAicGFyYW1zIjogcGFyYW1zCiAgICAgICAgfQogICAgICB9KV07CiAgICB9LAogICAgcmVuZGVyQ2VsbDogZnVuY3Rpb24gcmVuZGVyQ2VsbChoLCBjZWxsUmVuZGVyLCBfcmVmNDIsIGNvbnRleHQpIHsKICAgICAgdmFyIHJvdyA9IF9yZWY0Mi5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjQyLmNvbHVtbjsKICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgewogICAgICAgICJjbGFzcyI6ICJ0ZXh0IgogICAgICB9LCBbcm93W2NvbHVtbi5wcm9wZXJ0eV1dKV07CiAgICB9CiAgfSwKICAkb3B0aW9uU29ydDogewogICAgcmVuZGVyRGVmYXVsdDogZnVuY3Rpb24gcmVuZGVyRGVmYXVsdChoLCBjZWxsUmVuZGVyLCBfcmVmNDMsIF9yZWY0NCkgewogICAgICB2YXIgJGNvbHVtbkluZGV4ID0gX3JlZjQzLiRjb2x1bW5JbmRleCwKICAgICAgICAkcm93SW5kZXggPSBfcmVmNDMuJHJvd0luZGV4LAogICAgICAgIGl0ZW1zID0gX3JlZjQzLml0ZW1zLAogICAgICAgIGNvbHVtbiA9IF9yZWY0My5jb2x1bW4sCiAgICAgICAgZGF0YSA9IF9yZWY0My5kYXRhLAogICAgICAgIHJvdyA9IF9yZWY0My5yb3csCiAgICAgICAgJHNlcSA9IF9yZWY0My4kc2VxLAogICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjQzLmNvbHVtbkluZGV4LAogICAgICAgIGlzRWRpdCA9IF9yZWY0My5pc0VkaXQsCiAgICAgICAgbGV2ZWwgPSBfcmVmNDMubGV2ZWwsCiAgICAgICAgcm93SW5kZXggPSBfcmVmNDMucm93SW5kZXgsCiAgICAgICAgc2VxID0gX3JlZjQzLnNlcTsKICAgICAgdmFyICRleGNlbCA9IF9yZWY0NC4kZXhjZWwsCiAgICAgICAgJGdyaWQgPSBfcmVmNDQuJGdyaWQsCiAgICAgICAgJHRhYmxlID0gX3JlZjQ0LiR0YWJsZSwKICAgICAgICAkdHlwZSA9IF9yZWY0NC4kdHlwZTsKICAgICAgdmFyIHNlbGYgPSAkZ3JpZC4kcGFyZW50OwogICAgICAvLyA8YSBjbGFzcz0ib3B0aW9uUm93IiBocmVmPXtyb3cubGlua30+eyfmk43kvZwnICsgcm93W2NvbHVtbi5wcm9wZXJ0eV19PC9hPgogICAgICByZXR1cm4gW2goImRpdiIsIHsKICAgICAgICAiY2xhc3MiOiAicm93LWRyYWdzb3J0LW9wdGlvbiByb3ctb3B0aW9uLWdyb3VwIgogICAgICB9LCBbaCgiYSIsIHsKICAgICAgICAiY2xhc3MiOiAib3B0aW9uUm93LWRlbGV0ZSBmbi1pbmxpbmUiLAogICAgICAgICJvbiI6IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gc2VsZi5vbk9wdGlvblNvcnRSb3dDbGljayh7CiAgICAgICAgICAgICAgcm93OiByb3csCiAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sCiAgICAgICAgICAgICAgJHJvd0luZGV4OiAkcm93SW5kZXgsCiAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICBpdGVtczogaXRlbXMsCiAgICAgICAgICAgICAgb3B0aW9uVHlwZTogJ3VwU29ydCcKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBbIlx1NEUwQVx1NzlGQiJdKSwgaCgiYSIsIHsKICAgICAgICAiY2xhc3MiOiAib3B0aW9uUm93LWVkaXQgZm4taW5saW5lIiwKICAgICAgICAib24iOiB7CiAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgcmV0dXJuIHNlbGYub25PcHRpb25Tb3J0Um93Q2xpY2soewogICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uLAogICAgICAgICAgICAgICRyb3dJbmRleDogJHJvd0luZGV4LAogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLAogICAgICAgICAgICAgIG9wdGlvblR5cGU6ICdkb3duU29ydCcKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBbIlx1NEUwQlx1NzlGQiJdKSwgaCgiYSIsIHsKICAgICAgICAiY2xhc3MiOiAib3B0aW9uUm93LXJlcG9ydCBmbi1pbmxpbmUiLAogICAgICAgICJvbiI6IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gc2VsZi5vbk9wdGlvblNvcnRSb3dDbGljayh7CiAgICAgICAgICAgICAgcm93OiByb3csCiAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sCiAgICAgICAgICAgICAgJHJvd0luZGV4OiAkcm93SW5kZXgsCiAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICBpdGVtczogaXRlbXMsCiAgICAgICAgICAgICAgb3B0aW9uVHlwZTogJ3RvcFNvcnQnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgWyJcdTdGNkVcdTk4NzYiXSksIGgoImEiLCB7CiAgICAgICAgImNsYXNzIjogIm9wdGlvblJvdy1kZXRhaWwgZm4taW5saW5lIiwKICAgICAgICAib24iOiB7CiAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgcmV0dXJuIHNlbGYub25PcHRpb25Tb3J0Um93Q2xpY2soewogICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uLAogICAgICAgICAgICAgICRyb3dJbmRleDogJHJvd0luZGV4LAogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLAogICAgICAgICAgICAgIG9wdGlvblR5cGU6ICdib3R0b21Tb3J0JwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIFsiXHU3RjZFXHU1RTk1Il0pXSldOwogICAgfQogIH0sCiAgb3B0aW9uUm93OiB7CiAgICByZW5kZXJEZWZhdWx0OiBmdW5jdGlvbiByZW5kZXJEZWZhdWx0KGgsIGNlbGxSZW5kZXIsIF9yZWY0NSwgY29udGV4dCkgewogICAgICB2YXIgcm93ID0gX3JlZjQ1LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNDUuY29sdW1uOwogICAgICB2YXIgc2VsZiA9IGNvbnRleHQuJGdyaWQuJHBhcmVudDsKICAgICAgLy8gPGEgY2xhc3M9Im9wdGlvblJvdyIgaHJlZj17cm93Lmxpbmt9Pnsn5pON5L2cJyArIHJvd1tjb2x1bW4ucHJvcGVydHldfTwvYT4KICAgICAgaWYgKHJvdy5zdGF0dXMgPT09IDApIHsKICAgICAgICByZXR1cm4gW2goImRpdiIsIHsKICAgICAgICAgICJjbGFzcyI6ICJyb3ctb3B0aW9uIHJvdy1vcHRpb24tZ3JvdXAiCiAgICAgICAgfSwgW2goImEiLCB7CiAgICAgICAgICAiY2xhc3MiOiAib3B0aW9uUm93LWRlbGV0ZSBmbi1pbmxpbmUiLAogICAgICAgICAgIm9uIjogewogICAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gc2VsZi5vbk9wdGlvblJvd0NsaWNrKHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sCiAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiAnZGVsZXRlJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgWyJcdTUyMjBcdTk2NjQiXSksIGgoImEiLCB7CiAgICAgICAgICAiY2xhc3MiOiAib3B0aW9uUm93LWVkaXQgZm4taW5saW5lIiwKICAgICAgICAgICJvbiI6IHsKICAgICAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHNlbGYub25PcHRpb25Sb3dDbGljayh7CiAgICAgICAgICAgICAgICByb3c6IHJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uLAogICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogJ2VkaXQnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBbIlx1N0YxNlx1OEY5MSJdKSwgaCgiYSIsIHsKICAgICAgICAgICJjbGFzcyI6ICJvcHRpb25Sb3ctcmVwb3J0IGZuLWlubGluZSIsCiAgICAgICAgICAib24iOiB7CiAgICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBzZWxmLm9uT3B0aW9uUm93Q2xpY2soewogICAgICAgICAgICAgICAgcm93OiByb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbiwKICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6ICdyZXBvcnQnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBbIlx1NEUwQVx1NjJBNSJdKSwgaCgiYSIsIHsKICAgICAgICAgICJjbGFzcyI6ICJvcHRpb25Sb3ctZGV0YWlsIGZuLWlubGluZSIsCiAgICAgICAgICAib24iOiB7CiAgICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBzZWxmLm9uT3B0aW9uUm93Q2xpY2soewogICAgICAgICAgICAgICAgcm93OiByb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbiwKICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6ICdkZXRhaWwnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBbIlx1OEJFNlx1NjBDNSJdKV0pXTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW2goImRpdiIsIHsKICAgICAgICAgICJjbGFzcyI6ICJyb3ctb3B0aW9uIHJvdy1vcHRpb24tZ3JvdXAiCiAgICAgICAgfSwgW2goImEiLCB7CiAgICAgICAgICAiY2xhc3MiOiAib3B0aW9uUm93LWRlbGV0ZSBmbi1pbmxpbmUiLAogICAgICAgICAgIm9uIjogewogICAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gc2VsZi5vbk9wdGlvblJvd0NsaWNrKHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sCiAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiAnZGVsZXRlJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgWyJcdTUyMjBcdTk2NjQiXSksIGgoImEiLCB7CiAgICAgICAgICAiY2xhc3MiOiAib3B0aW9uUm93LWRldGFpbCBmbi1pbmxpbmUiLAogICAgICAgICAgIm9uIjogewogICAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gc2VsZi5vbk9wdGlvblJvd0NsaWNrKHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sCiAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiAnZGV0YWlsJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgWyJcdThCRTZcdTYwQzUiXSldKV07CiAgICAgIH0KICAgIH0KICB9LAogICR2eGVQcm9ncmVzczogewogICAgLy8g6L+b5bqm5p2hCiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIF9yZWY0NiwgX3JlZjQ3KSB7CiAgICAgIHZhciBwcm9wcyA9IF9yZWY0Ni5wcm9wcywKICAgICAgICBvcHRpb25zID0gX3JlZjQ2Lm9wdGlvbnM7CiAgICAgIHZhciByb3cgPSBfcmVmNDcucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY0Ny5jb2x1bW47CiAgICAgIHJldHVybiBbaCgiZWwtcHJvZ3Jlc3MiLCB7CiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgInRleHQtaW5zaWRlIjogInRydWUiLAogICAgICAgICAgInN0cm9rZS13aWR0aCI6ICIyMCIsCiAgICAgICAgICAicGVyY2VudGFnZSI6IHJvd1tjb2x1bW4ucHJvcGVydHldCiAgICAgICAgfSwKICAgICAgICAic3R5bGUiOiAibGluZS1oZWlnaHQ6MzBweCIKICAgICAgfSldOwogICAgfSwKICAgIHJlbmRlckRlZmF1bHQ6IGZ1bmN0aW9uIHJlbmRlckRlZmF1bHQoaCwgX3JlZjQ4LCBfcmVmNDkpIHsKICAgICAgdmFyIHByb3BzID0gX3JlZjQ4LnByb3BzLAogICAgICAgIG9wdGlvbnMgPSBfcmVmNDgub3B0aW9uczsKICAgICAgdmFyIHJvdyA9IF9yZWY0OS5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjQ5LmNvbHVtbjsKICAgICAgcmV0dXJuIFtoKCJlbC1wcm9ncmVzcyIsIHsKICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAidGV4dC1pbnNpZGUiOiAidHJ1ZSIsCiAgICAgICAgICAic3Ryb2tlLXdpZHRoIjogIjIwIiwKICAgICAgICAgICJwZXJjZW50YWdlIjogcm93W2NvbHVtbi5wcm9wZXJ0eV0KICAgICAgICB9LAogICAgICAgICJzdHlsZSI6ICJsaW5lLWhlaWdodDozMHB4IgogICAgICB9KV07CiAgICB9LAogICAgcmVuZGVyRWRpdDogZnVuY3Rpb24gcmVuZGVyRWRpdChoLCBfcmVmNTAsIF9yZWY1MSkgewogICAgICB2YXIgcHJvcHMgPSBfcmVmNTAucHJvcHMsCiAgICAgICAgb3B0aW9ucyA9IF9yZWY1MC5vcHRpb25zOwogICAgICB2YXIgcm93ID0gX3JlZjUxLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNTEuY29sdW1uOwogICAgICByZXR1cm4gW2goImVsLXByb2dyZXNzIiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJ0ZXh0LWluc2lkZSI6ICJ0cnVlIiwKICAgICAgICAgICJzdHJva2Utd2lkdGgiOiAiMjAiLAogICAgICAgICAgInBlcmNlbnRhZ2UiOiByb3dbY29sdW1uLnByb3BlcnR5XQogICAgICAgIH0sCiAgICAgICAgInN0eWxlIjogImxpbmUtaGVpZ2h0OjMwcHgiCiAgICAgIH0pXTsKICAgIH0KICB9LAogICR2eGVTd2l0Y2g6IHsKICAgIC8vIOW8gOWFswogICAgLy8gcHJvcHM6IHsKICAgIC8vICAgb3B0aW9uczogWwogICAgLy8gICAgIHsgbGFiZWw6ICfmmK8nLCB2YWx1ZTogMSB9LAogICAgLy8gICAgIHsgbGFiZWw6ICflkKYnLCB2YWx1ZTogMCB9CiAgICAvLyAgIF0KICAgIC8vIH0KICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgX3JlZjUyLCBfcmVmNTMpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhciBwcm9wcyA9IF9yZWY1Mi5wcm9wcywKICAgICAgICBvcHRpb25zID0gX3JlZjUyLm9wdGlvbnM7CiAgICAgIHZhciByb3cgPSBfcmVmNTMucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY1My5jb2x1bW47CiAgICAgIHJldHVybiBbaCgiZWwtc3dpdGNoIiwgewogICAgICAgICJwcm9wcyI6IF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwKICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAiYWN0aXZlLXRleHQiOiBvcHRpb25zWzBdLmxhYmVsLAogICAgICAgICAgImluYWN0aXZlLXRleHQiOiBvcHRpb25zWzFdLmxhYmVsLAogICAgICAgICAgImFjdGl2ZS1jb2xvciI6ICIjMTNjZTY2IiwKICAgICAgICAgICJhY3RpdmUtdmFsdWUiOiBvcHRpb25zWzBdLnZhbHVlLAogICAgICAgICAgImluYWN0aXZlLXZhbHVlIjogb3B0aW9uc1sxXS52YWx1ZQogICAgICAgIH0sCiAgICAgICAgIm1vZGVsIjogewogICAgICAgICAgdmFsdWU6IHJvd1tjb2x1bW4ucHJvcGVydHldLAogICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCQkdikgewogICAgICAgICAgICBfdGhpczQuJHNldChyb3csIGNvbHVtbi5wcm9wZXJ0eSwgJCR2KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pXTsKICAgIH0sCiAgICByZW5kZXJEZWZhdWx0OiBmdW5jdGlvbiByZW5kZXJEZWZhdWx0KGgsIF9yZWY1NCwgX3JlZjU1KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgcHJvcHMgPSBfcmVmNTQucHJvcHMsCiAgICAgICAgb3B0aW9ucyA9IF9yZWY1NC5vcHRpb25zOwogICAgICB2YXIgcm93ID0gX3JlZjU1LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNTUuY29sdW1uOwogICAgICByZXR1cm4gW2goImVsLXN3aXRjaCIsIHsKICAgICAgICAicHJvcHMiOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksCiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgImFjdGl2ZS10ZXh0Ijogb3B0aW9uc1swXS5sYWJlbCwKICAgICAgICAgICJpbmFjdGl2ZS10ZXh0Ijogb3B0aW9uc1sxXS5sYWJlbCwKICAgICAgICAgICJhY3RpdmUtY29sb3IiOiAiIzEzY2U2NiIsCiAgICAgICAgICAiYWN0aXZlLXZhbHVlIjogb3B0aW9uc1swXS52YWx1ZSwKICAgICAgICAgICJpbmFjdGl2ZS12YWx1ZSI6IG9wdGlvbnNbMV0udmFsdWUKICAgICAgICB9LAogICAgICAgICJtb2RlbCI6IHsKICAgICAgICAgIHZhbHVlOiByb3dbY29sdW1uLnByb3BlcnR5XSwKICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygkJHYpIHsKICAgICAgICAgICAgX3RoaXM1LiRzZXQocm93LCBjb2x1bW4ucHJvcGVydHksICQkdik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KV07CiAgICB9LAogICAgcmVuZGVyRWRpdDogZnVuY3Rpb24gcmVuZGVyRWRpdChoLCBfcmVmNTYsIF9yZWY1NykgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdmFyIHByb3BzID0gX3JlZjU2LnByb3BzLAogICAgICAgIG9wdGlvbnMgPSBfcmVmNTYub3B0aW9uczsKICAgICAgdmFyIHJvdyA9IF9yZWY1Ny5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjU3LmNvbHVtbjsKICAgICAgcmV0dXJuIFtoKCJlbC1zd2l0Y2giLCB7CiAgICAgICAgInByb3BzIjogX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLAogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJhY3RpdmUtdGV4dCI6IG9wdGlvbnNbMF0ubGFiZWwsCiAgICAgICAgICAiaW5hY3RpdmUtdGV4dCI6IG9wdGlvbnNbMV0ubGFiZWwsCiAgICAgICAgICAiYWN0aXZlLWNvbG9yIjogIiMxM2NlNjYiLAogICAgICAgICAgImFjdGl2ZS12YWx1ZSI6IG9wdGlvbnNbMF0udmFsdWUsCiAgICAgICAgICAiaW5hY3RpdmUtdmFsdWUiOiBvcHRpb25zWzFdLnZhbHVlCiAgICAgICAgfSwKICAgICAgICAibW9kZWwiOiB7CiAgICAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0sCiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soJCR2KSB7CiAgICAgICAgICAgIF90aGlzNi4kc2V0KHJvdywgY29sdW1uLnByb3BlcnR5LCAkJHYpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSldOwogICAgfQogIH0sCiAgLy8gJHZ4ZVN3aXRjaDogewogIC8vICAgLy8g5byA5YWzCiAgLy8gICAvLyBwcm9wczogewogIC8vICAgLy8gICBvcHRpb25zOiBbCiAgLy8gICAvLyAgICAgeyBsYWJlbDogJ+aYrycsIHZhbHVlOiAxIH0sCiAgLy8gICAvLyAgICAgeyBsYWJlbDogJ+WQpicsIHZhbHVlOiAwIH0KICAvLyAgIC8vICAgXQogIC8vICAgLy8gfQogIC8vICAgcmVuZGVyQ2VsbChoLCB7IHByb3BzLCBvcHRpb25zIH0sIHsgcm93LCBjb2x1bW4gfSkgewogIC8vICAgICByZXR1cm4gWwogIC8vICAgICAgIDx2eGUtc3dpdGNoCiAgLy8gICAgICAgICB7Li4ueyBwcm9wcyB9fQogIC8vICAgICAgICAgY2xhc3MgPSAic3dpdGNoLW5vdGVkaXRibGUiCiAgLy8gICAgICAgICBvbi1sYWJlbCA9IHsgb3B0aW9uc1swXS5sYWJlbCB9CiAgLy8gICAgICAgICBvZmYtbGFiZWwgPSB7IG9wdGlvbnNbMV0ubGFiZWwgfQogIC8vICAgICAgICAgb24tdmFsdWUgPSB7IG9wdGlvbnNbMF0udmFsdWUgfQogIC8vICAgICAgICAgb2ZmLXZhbHVlID0geyBvcHRpb25zWzFdLnZhbHVlIH0KICAvLyAgICAgICAgIHYtbW9kZWw9e3Jvd1tjb2x1bW4ucHJvcGVydHldfQogIC8vICAgICAgID48L3Z4ZS1zd2l0Y2g+CiAgLy8gICAgIF0KICAvLyAgIH0sCiAgLy8gICByZW5kZXJEZWZhdWx0KGgsIHsgcHJvcHMsIG9wdGlvbnMgfSwgeyByb3csIGNvbHVtbiB9KSB7CiAgLy8gICAgIHJldHVybiBbCiAgLy8gICAgICAgPHZ4ZS1zd2l0Y2gKICAvLyAgICAgICAgIHsuLi57IHByb3BzIH19CiAgLy8gICAgICAgICBkaXNhYmxlZAogIC8vICAgICAgICAgY2xhc3MgPSAic3dpdGNoLW5vdGVkaXRibGUiCiAgLy8gICAgICAgICBvbi1sYWJlbCA9IHsgb3B0aW9uc1swXS5sYWJlbCB9CiAgLy8gICAgICAgICBvZmYtbGFiZWwgPSB7IG9wdGlvbnNbMV0ubGFiZWwgfQogIC8vICAgICAgICAgb24tdmFsdWUgPSB7IG9wdGlvbnNbMF0udmFsdWUgfQogIC8vICAgICAgICAgb2ZmLXZhbHVlID0geyBvcHRpb25zWzFdLnZhbHVlIH0KICAvLyAgICAgICAgIHYtbW9kZWw9e3Jvd1tjb2x1bW4ucHJvcGVydHldfQogIC8vICAgICAgID48L3Z4ZS1zd2l0Y2g+CiAgLy8gICAgIF0KICAvLyAgIH0sCiAgLy8gICByZW5kZXJFZGl0KGgsIHsgcHJvcHMsIG9wdGlvbnMgfSwgeyByb3csIGNvbHVtbiB9KSB7CiAgLy8gICAgIHJldHVybiBbCiAgLy8gICAgICAgPHZ4ZS1zd2l0Y2gKICAvLyAgICAgICAgIHsuLi57IHByb3BzIH19CiAgLy8gICAgICAgICBjbGFzcyA9ICJzd2l0Y2gtZWRpdGJsZSIKICAvLyAgICAgICAgIG9uLWxhYmVsID0geyBvcHRpb25zWzBdLmxhYmVsIH0KICAvLyAgICAgICAgIG9mZi1sYWJlbCA9IHsgb3B0aW9uc1sxXS5sYWJlbCB9CiAgLy8gICAgICAgICBvbi12YWx1ZSA9IHsgb3B0aW9uc1swXS52YWx1ZSB9CiAgLy8gICAgICAgICBvZmYtdmFsdWUgPSB7IG9wdGlvbnNbMV0udmFsdWUgfQogIC8vICAgICAgICAgdi1tb2RlbD17cm93W2NvbHVtbi5wcm9wZXJ0eV19CiAgLy8gICAgICAgPjwvdnhlLXN3aXRjaD4KICAvLyAgICAgXQogIC8vICAgfQogIC8vIH0sCiAgJHZ4ZURheXM6IHsKICAgIC8vIOWkqeaVsOa4suafk+WZqO+8jOS4jei2szAuMjXlpKnmjIkw6K6w77yM5aSn5LqOMC43NeWkqeaMiTHlpKnorrDvvIzlhbbku5bmjIkwLjXlpKnorrAKICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgX3JlZjU4LCBfcmVmNTkpIHsKICAgICAgdmFyIHByb3BzID0gX3JlZjU4LnByb3BzOwogICAgICB2YXIgcm93ID0gX3JlZjU5LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNTkuY29sdW1uOwogICAgICB2YXIgcXVpdGVEYXkgPSByb3dbY29sdW1uLnByb3BlcnR5XSAlIDE7CiAgICAgIHF1aXRlRGF5ID0gcXVpdGVEYXkgPD0gMC4yNSA/IDAgOiBxdWl0ZURheSA+PSAwLjc1ID8gMSA6IDAuNTsKICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSBNYXRoLmZsb29yKHJvd1tjb2x1bW4ucHJvcGVydHldIC8gMSkgKyBxdWl0ZURheTsKICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgW3Jvd1tjb2x1bW4ucHJvcGVydHldXSldOwogICAgfSwKICAgIHJlbmRlckRlZmF1bHQ6IGZ1bmN0aW9uIHJlbmRlckRlZmF1bHQoaCwgX3JlZjYwLCBfcmVmNjEpIHsKICAgICAgdmFyIHByb3BzID0gX3JlZjYwLnByb3BzOwogICAgICB2YXIgcm93ID0gX3JlZjYxLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNjEuY29sdW1uOwogICAgICB2YXIgcXVpdGVEYXkgPSByb3dbY29sdW1uLnByb3BlcnR5XSAlIDE7CiAgICAgIHF1aXRlRGF5ID0gcXVpdGVEYXkgPD0gMC4yNSA/IDAgOiBxdWl0ZURheSA+PSAwLjc1ID8gMSA6IDAuNTsKICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSBNYXRoLmZsb29yKHJvd1tjb2x1bW4ucHJvcGVydHldIC8gMSkgKyBxdWl0ZURheTsKICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgW3Jvd1tjb2x1bW4ucHJvcGVydHldXSldOwogICAgfSwKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgX3JlZjYyLCBfcmVmNjMpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHZhciBwcm9wcyA9IF9yZWY2Mi5wcm9wczsKICAgICAgdmFyIHJvdyA9IF9yZWY2My5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjYzLmNvbHVtbjsKICAgICAgLy8gcmV0dXJuIFsKICAgICAgLy8gICBoKCd2eGUtaW5wdXQnLCB7CiAgICAgIC8vICAgICByZWY6ICd2eGUtaW5wdXQnICsgY29sdW1uLnByb3BlcnR5LAogICAgICAvLyAgICAgcHJvcHM6IHsKICAgICAgLy8gICAgICAgdmFsdWU6IHJvd1tjb2x1bW4ucHJvcGVydHldLAogICAgICAvLyAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeWkqeaVsCcsCiAgICAgIC8vICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAvLyAgICAgICBjbGVhcmFibGU6IHRydWUsCiAgICAgIC8vICAgICAgIC4uLnByb3BzCiAgICAgIC8vICAgICB9LAogICAgICAvLyAgICAgb246IHsKICAgICAgLy8gICAgICAgaW5wdXQodmFsdWUpIHsKICAgICAgLy8gICAgICAgICBsZXQgcXVpdGVEYXkgPSB2YWx1ZSAlIDEKICAgICAgLy8gICAgICAgICBxdWl0ZURheSA9IHF1aXRlRGF5IDw9IDAuMjUgPyAwIDogKHF1aXRlRGF5ID49IDAuNzUgPyAxIDogMC41KQogICAgICAvLyAgICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHldID0gTWF0aC5mbG9vcih2YWx1ZSAvIDEpICsgcXVpdGVEYXkKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0pCiAgICAgIC8vIF0KICAgICAgcmV0dXJuIFtoKCJ2eGUtaW5wdXQiLCB7CiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgInBsYWNlaG9sZGVyIjogIuivt+i+k+WFpeWkqeaVsCIsCiAgICAgICAgICAidHlwZSI6ICJudW1iZXIiLAogICAgICAgICAgImNsZWFyYWJsZSI6IHRydWUKICAgICAgICB9LAogICAgICAgICJwcm9wcyI6IF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwKICAgICAgICAibW9kZWwiOiB7CiAgICAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0sCiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soJCR2KSB7CiAgICAgICAgICAgIF90aGlzNy4kc2V0KHJvdywgY29sdW1uLnByb3BlcnR5LCAkJHYpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSldOwogICAgfQogIH0sCiAgJHZ4ZVRpbWU6IHsKICAgIC8vIOWkqeaVsOa4suafk+WZqO+8jOS4jei2szAuMjXlpKnmjIkw6K6w77yM5aSn5LqOMC43NeWkqeaMiTHlpKnorrDvvIzlhbbku5bmjIkwLjXlpKnorrAKICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgX3JlZjY0LCBfcmVmNjUpIHsKICAgICAgdmFyIHByb3BzID0gX3JlZjY0LnByb3BzOwogICAgICB2YXIgcm93ID0gX3JlZjY1LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNjUuY29sdW1uOwogICAgICBwcm9wcy5mb3JtYXQgPSBwcm9wcy5mb3JtYXQgfHwgJ1lZWVktTU0tREQgaGg6bW06c3MnOwogICAgICByb3dbY29sdW1uLnByb3BlcnR5XSA9IHJvd1tjb2x1bW4ucHJvcGVydHldID8gbmV3IERhdGUocm93W2NvbHVtbi5wcm9wZXJ0eV0pLmZvcm1hdChwcm9wcy5mb3JtYXQpIDogJyc7CiAgICAgIHJldHVybiBbaCgic3BhbiIsIFtyb3dbY29sdW1uLnByb3BlcnR5XV0pXTsKICAgIH0sCiAgICByZW5kZXJEZWZhdWx0OiBmdW5jdGlvbiByZW5kZXJEZWZhdWx0KGgsIF9yZWY2NiwgX3JlZjY3KSB7CiAgICAgIHZhciBwcm9wcyA9IF9yZWY2Ni5wcm9wczsKICAgICAgdmFyIHJvdyA9IF9yZWY2Ny5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjY3LmNvbHVtbjsKICAgICAgcHJvcHMuZm9ybWF0ID0gcHJvcHMuZm9ybWF0IHx8ICdZWVlZLU1NLUREIGhoOm1tOnNzJzsKICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSByb3dbY29sdW1uLnByb3BlcnR5XSA/IG5ldyBEYXRlKHJvd1tjb2x1bW4ucHJvcGVydHldKS5mb3JtYXQocHJvcHMuZm9ybWF0KSA6ICcnOwogICAgICByZXR1cm4gW2goInNwYW4iLCBbcm93W2NvbHVtbi5wcm9wZXJ0eV1dKV07CiAgICB9LAogICAgcmVuZGVyRWRpdDogZnVuY3Rpb24gcmVuZGVyRWRpdChoLCBfcmVmNjgsIF9yZWY2OSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgdmFyIHByb3BzID0gX3JlZjY4LnByb3BzOwogICAgICB2YXIgcm93ID0gX3JlZjY5LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNjkuY29sdW1uOwogICAgICAvLyByZXR1cm4gWwogICAgICAvLyAgIGgoJ3Z4ZS1pbnB1dCcsIHsKICAgICAgLy8gICAgIHJlZjogJ3Z4ZS1pbnB1dCcgKyBjb2x1bW4ucHJvcGVydHksCiAgICAgIC8vICAgICBwcm9wczogewogICAgICAvLyAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0sCiAgICAgIC8vICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5aSp5pWwJywKICAgICAgLy8gICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgIC8vICAgICAgIGNsZWFyYWJsZTogdHJ1ZSwKICAgICAgLy8gICAgICAgLi4ucHJvcHMKICAgICAgLy8gICAgIH0sCiAgICAgIC8vICAgICBvbjogewogICAgICAvLyAgICAgICBpbnB1dCh2YWx1ZSkgewogICAgICAvLyAgICAgICAgIGxldCBxdWl0ZURheSA9IHZhbHVlICUgMQogICAgICAvLyAgICAgICAgIHF1aXRlRGF5ID0gcXVpdGVEYXkgPD0gMC4yNSA/IDAgOiAocXVpdGVEYXkgPj0gMC43NSA/IDEgOiAwLjUpCiAgICAgIC8vICAgICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSBNYXRoLmZsb29yKHZhbHVlIC8gMSkgKyBxdWl0ZURheQogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSkKICAgICAgLy8gXQogICAgICByZXR1cm4gW2goInZ4ZS1pbnB1dCIsIHsKICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAicGxhY2Vob2xkZXIiOiAi6K+36L6T5YWl5aSp5pWwIiwKICAgICAgICAgICJ0eXBlIjogImRhdGUiLAogICAgICAgICAgImNsZWFyYWJsZSI6IHRydWUKICAgICAgICB9LAogICAgICAgICJwcm9wcyI6IF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwKICAgICAgICAibW9kZWwiOiB7CiAgICAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0sCiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soJCR2KSB7CiAgICAgICAgICAgIF90aGlzOC4kc2V0KHJvdywgY29sdW1uLnByb3BlcnR5LCAkJHYpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSldOwogICAgfQogIH0sCiAgJHNwYW46IHsKICAgIC8vIOaWh+acrOa4suafkwogICAgcmVuZGVyQ2VsbDogZnVuY3Rpb24gcmVuZGVyQ2VsbChoLCByZW5kZXJPcHRzLCBfcmVmNzApIHsKICAgICAgdmFyIHJvdyA9IF9yZWY3MC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjcwLmNvbHVtbjsKICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgW3Jvd1tjb2x1bW4ucHJvcGVydHldXSldOwogICAgfSwKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgcmVuZGVyT3B0cywgX3JlZjcxKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwogICAgICB2YXIgcm93ID0gX3JlZjcxLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNzEuY29sdW1uOwogICAgICByZXR1cm4gW2goInZ4ZS1pbnB1dCIsIHsKICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAicGxhY2Vob2xkZXIiOiAi6Ieq5Yqo6K6h566XIiwKICAgICAgICAgICJyZWFkb25seSI6IHRydWUsCiAgICAgICAgICAiY2xlYXJhYmxlIjogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgIm1vZGVsIjogewogICAgICAgICAgdmFsdWU6IHJvd1tjb2x1bW4ucHJvcGVydHldLAogICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCQkdikgewogICAgICAgICAgICBfdGhpczkuJHNldChyb3csIGNvbHVtbi5wcm9wZXJ0eSwgJCR2KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pXTsKICAgICAgLy8gcmV0dXJuIFs8c3Bhbj57cm93W2NvbHVtbi5wcm9wZXJ0eV19PC9zcGFuPl0KICAgIH0KICB9LAoKICAkaHJlZjogewogICAgLy8g5paH5pys5riy5p+TCiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIHJlbmRlck9wdHMsIF9yZWY3MikgewogICAgICB2YXIgcm93ID0gX3JlZjcyLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmNzIuY29sdW1uOwogICAgICByZXR1cm4gW2goInNwYW4iLCB7CiAgICAgICAgImNsYXNzIjogInRleHQgaHJlZi1hIgogICAgICB9LCBbaCgiYSIsIFtyb3dbY29sdW1uLnByb3BlcnR5XV0pXSldOwogICAgfSwKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgcmVuZGVyT3B0cywgX3JlZjczKSB7CiAgICAgIHZhciByb3cgPSBfcmVmNzMucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY3My5jb2x1bW47CiAgICAgIHJldHVybiBbaCgic3BhbiIsIHsKICAgICAgICAiY2xhc3MiOiAidGV4dCBocmVmLWEiCiAgICAgIH0sIFtoKCJhIiwgW3Jvd1tjb2x1bW4ucHJvcGVydHldXSldKV07CiAgICB9LAogICAgcmVuZGVyRGVmYXVsdDogZnVuY3Rpb24gcmVuZGVyRGVmYXVsdChoLCByZW5kZXJPcHRzLCBfcmVmNzQpIHsKICAgICAgdmFyIHJvdyA9IF9yZWY3NC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjc0LmNvbHVtbjsKICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgewogICAgICAgICJjbGFzcyI6ICJ0ZXh0IGhyZWYtYSIKICAgICAgfSwgW2goImEiLCBbcm93W2NvbHVtbi5wcm9wZXJ0eV1dKV0pXTsKICAgIH0KICB9LAogIHZleElucHV0OiB7CiAgICAvLyDovpPlhaXmoYYKICAgIC8vIHJlbmRlckRlZmF1bHQoaCwgY2VsbFJlbmRlciwgeyByb3csIGNvbHVtbiB9LCBjb250ZXh0KSB7CiAgICAvLyAgIHJldHVybiBbCiAgICAvLyAgICAgPHNwYW4gY2xhc3M9InRleHQiPgogICAgLy8gICAgICAge3Jvd1tjb2x1bW4ucHJvcGVydHldID09PSAxID8gJ+eUt+eUtycgOiAn5aWz5aWzJ30KICAgIC8vICAgICA8L3NwYW4+CiAgICAvLyAgIF0KICAgIC8vIH0sCiAgICByZW5kZXJFZGl0OiBmdW5jdGlvbiByZW5kZXJFZGl0KGgsIGVkaXRSZW5kZXIsIF9yZWY3NSkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CiAgICAgIHZhciByb3cgPSBfcmVmNzUucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY3NS5jb2x1bW47CiAgICAgIHJldHVybiBbaCgidnhlLWlucHV0IiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJwbGFjZWhvbGRlciI6ICLlj6/muIXpmaQiLAogICAgICAgICAgImNsZWFyYWJsZSI6IHRydWUKICAgICAgICB9LAogICAgICAgICJtb2RlbCI6IHsKICAgICAgICAgIHZhbHVlOiByb3dbY29sdW1uLnByb3BlcnR5XSwKICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygkJHYpIHsKICAgICAgICAgICAgX3RoaXMxMC4kc2V0KHJvdywgY29sdW1uLnByb3BlcnR5LCAkJHYpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkgLy8gPGlucHV0IGNsYXNzPSJteS1jZWxsIiB0ZXh0PSJ0ZXh0IiB2LW1vZGVsPXsgcm93W2NvbHVtbi5wcm9wZXJ0eV0gfSAvPgogICAgICBdOwogICAgfSwKICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgY2VsbFJlbmRlciwgX3JlZjc2LCBjb250ZXh0KSB7CiAgICAgIHZhciByb3cgPSBfcmVmNzYucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY3Ni5jb2x1bW47CiAgICAgIHJldHVybiBbaCgic3BhbiIsIHsKICAgICAgICAiY2xhc3MiOiAidGV4dCIKICAgICAgfSwgW3Jvd1tjb2x1bW4ucHJvcGVydHldXSldOwogICAgfQogIH0sCiAgJHZ4ZVNlbGVjdDogewogICAgLy8g5LiL5ouJ6YCJ5oupCiAgICByZW5kZXJFZGl0OiBmdW5jdGlvbiByZW5kZXJFZGl0KGgsIF9yZWY3NywgX3JlZjc4KSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgdmFyIHByb3BzID0gX3JlZjc3LnByb3BzLAogICAgICAgIG9wdGlvbnMgPSBfcmVmNzcub3B0aW9uczsKICAgICAgdmFyIHJvdyA9IF9yZWY3OC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjc4LmNvbHVtbjsKICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgW107CiAgICAgIHJldHVybiBbaCgidnhlLXNlbGVjdCIsIHsKICAgICAgICAicHJvcHMiOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksCiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgInBsYWNlaG9sZGVyIjogIuivt+mAieaLqSIKICAgICAgICB9LAogICAgICAgICJtb2RlbCI6IHsKICAgICAgICAgIHZhbHVlOiByb3dbY29sdW1uLnByb3BlcnR5XSwKICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygkJHYpIHsKICAgICAgICAgICAgX3RoaXMxMS4kc2V0KHJvdywgY29sdW1uLnByb3BlcnR5LCAkJHYpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgW29wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiBbaCgidnhlLW9wdGlvbiIsIHsKICAgICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICAgInZhbHVlIjogaXRlbS52YWx1ZSwKICAgICAgICAgICAgImxhYmVsIjogaXRlbS5sYWJlbAogICAgICAgICAgfQogICAgICAgIH0pXTsKICAgICAgfSldKV07CiAgICB9LAogICAgcmVuZGVyRGVmYXVsdDogZnVuY3Rpb24gcmVuZGVyRGVmYXVsdChoLCBfcmVmNzksIF9yZWY4MCwgY29udGV4dCkgewogICAgICB2YXIgcHJvcHMgPSBfcmVmNzkucHJvcHMsCiAgICAgICAgb3B0aW9ucyA9IF9yZWY3OS5vcHRpb25zOwogICAgICB2YXIgcm93ID0gX3JlZjgwLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmODAuY29sdW1uOwogICAgICBwcm9wcyA9IHByb3BzIHx8IHt9OwogICAgICBwcm9wcy5tdWx0aXBsZSA9IHByb3BzLm11bHRpcGxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHByb3BzLm11bHRpcGxlOwogICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCBbXTsKICAgICAgaWYgKHByb3BzLm11bHRpcGxlKSB7CiAgICAgICAgdmFyIHZhbHVlID0gW107CiAgICAgICAgb3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocm93W2NvbHVtbi5wcm9wZXJ0eV0pID8gcm93W2NvbHVtbi5wcm9wZXJ0eV0uaW5kZXhPZihpdGVtLnZhbHVlKSA+PSAwIDogKHJvd1tjb2x1bW4ucHJvcGVydHldICsgJycpLnNwbGl0KCcsJykuaW5kZXhPZihpdGVtLnZhbHVlKSA+PSAwKSB7CiAgICAgICAgICAgIHZhbHVlLnB1c2goaXRlbS5sYWJlbCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eSArICdfc2VsZWN0X3NvcnQnXSA9IHZhbHVlLmpvaW4oJywnKTsKICAgICAgICByZXR1cm4gW2goInNwYW4iLCBbcm93W2NvbHVtbi5wcm9wZXJ0eSArICdfc2VsZWN0X3NvcnQnXV0pXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgYXJyVmFsdWUgPSBvcHRpb25zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSByb3dbY29sdW1uLnByb3BlcnR5XTsKICAgICAgICB9KTsKICAgICAgICB2YXIgX3ZhbHVlID0gYXJyVmFsdWVbMF0gPyBhcnJWYWx1ZVswXS5sYWJlbCA6ICcnOwogICAgICAgIHJldHVybiBbaCgic3BhbiIsIFtfdmFsdWVdKV07CiAgICAgIH0KICAgIH0sCiAgICByZW5kZXJDZWxsOiBmdW5jdGlvbiByZW5kZXJDZWxsKGgsIF9yZWY4MSwgX3JlZjgyLCBjb250ZXh0KSB7CiAgICAgIHZhciBwcm9wcyA9IF9yZWY4MS5wcm9wcywKICAgICAgICBvcHRpb25zID0gX3JlZjgxLm9wdGlvbnM7CiAgICAgIHZhciByb3cgPSBfcmVmODIucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY4Mi5jb2x1bW47CiAgICAgIHByb3BzID0gcHJvcHMgfHwge307CiAgICAgIHByb3BzLm11bHRpcGxlID0gcHJvcHMubXVsdGlwbGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogcHJvcHMubXVsdGlwbGU7CiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IFtdOwogICAgICBpZiAocHJvcHMubXVsdGlwbGUpIHsKICAgICAgICB2YXIgdmFsdWUgPSBbXTsKICAgICAgICBvcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyb3dbY29sdW1uLnByb3BlcnR5XSkgPyByb3dbY29sdW1uLnByb3BlcnR5XS5pbmRleE9mKGl0ZW0udmFsdWUpID49IDAgOiAocm93W2NvbHVtbi5wcm9wZXJ0eV0gKyAnJykuc3BsaXQoJywnKS5pbmRleE9mKGl0ZW0udmFsdWUpID49IDApIHsKICAgICAgICAgICAgdmFsdWUucHVzaChpdGVtLmxhYmVsKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByb3dbY29sdW1uLnByb3BlcnR5ICsgJ19zZWxlY3Rfc29ydCddID0gdmFsdWUuam9pbignLCcpOwogICAgICAgIHJldHVybiBbaCgic3BhbiIsIFtyb3dbY29sdW1uLnByb3BlcnR5ICsgJ19zZWxlY3Rfc29ydCddXSldOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBhcnJWYWx1ZSA9IG9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IHJvd1tjb2x1bW4ucHJvcGVydHldOwogICAgICAgIH0pOwogICAgICAgIHZhciBfdmFsdWUyID0gYXJyVmFsdWVbMF0gPyBhcnJWYWx1ZVswXS5sYWJlbCA6ICcnOwogICAgICAgIHJldHVybiBbaCgic3BhbiIsIFtfdmFsdWUyXSldOwogICAgICB9CiAgICB9CiAgfSwKICAkdnhlUmFkaW86IHsKICAgIHJlbmRlckVkaXQ6IGZ1bmN0aW9uIHJlbmRlckVkaXQoaCwgX3JlZjgzLCBfcmVmODQpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwogICAgICB2YXIgb3B0aW9ucyA9IF9yZWY4My5vcHRpb25zLAogICAgICAgIHByb3BzID0gX3JlZjgzLnByb3BzLAogICAgICAgIHByb3BzQyA9IF9yZWY4My5wcm9wc0M7CiAgICAgIHZhciByb3cgPSBfcmVmODQucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY4NC5jb2x1bW47CiAgICAgIHByb3BzID0gcHJvcHMgfHwge307CiAgICAgIHByb3BzQyA9IHByb3BzQyB8fCB7fTsKICAgICAgcmV0dXJuIFtoKCJ2eGUtcmFkaW8tZ3JvdXAiLCB7CiAgICAgICAgInByb3BzIjogX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLAogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJwbGFjZWhvbGRlciI6ICLor7fpgInmi6kiCiAgICAgICAgfSwKICAgICAgICAibW9kZWwiOiB7CiAgICAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0sCiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soJCR2KSB7CiAgICAgICAgICAgIF90aGlzMTIuJHNldChyb3csIGNvbHVtbi5wcm9wZXJ0eSwgJCR2KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIFtvcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gW2goInZ4ZS1yYWRpbyIsIF9tZXJnZUpTWFByb3BzKFt7CiAgICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAgICJsYWJlbCI6IGl0ZW0udmFsdWUKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBwcm9wc0M6IHByb3BzQwogICAgICAgIH1dKSwgW2l0ZW0ubGFiZWxdKV07CiAgICAgIH0pXSldOwogICAgfSwKICAgIHJlbmRlckRlZmF1bHQ6IGZ1bmN0aW9uIHJlbmRlckRlZmF1bHQoaCwgX3JlZjg1LCBfcmVmODYsIGNvbnRleHQpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBfcmVmODUub3B0aW9ucywKICAgICAgICBwcm9wcyA9IF9yZWY4NS5wcm9wczsKICAgICAgdmFyIHJvdyA9IF9yZWY4Ni5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjg2LmNvbHVtbjsKICAgICAgdmFyIHZhbHVlID0gJyc7CiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBpZiAocm93W2NvbHVtbi5wcm9wZXJ0eV0gPT09IGl0ZW0udmFsdWUpIHsKICAgICAgICAgIHZhbHVlID0gaXRlbS5sYWJlbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gW2goInNwYW4iLCBbdmFsdWVdKV07CiAgICB9LAogICAgcmVuZGVyQ2VsbDogZnVuY3Rpb24gcmVuZGVyQ2VsbChoLCBfcmVmODcsIF9yZWY4OCkgewogICAgICB2YXIgb3B0aW9ucyA9IF9yZWY4Ny5vcHRpb25zLAogICAgICAgIHByb3BzID0gX3JlZjg3LnByb3BzOwogICAgICB2YXIgcm93ID0gX3JlZjg4LnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmODguY29sdW1uOwogICAgICB2YXIgdmFsdWUgPSAnJzsKICAgICAgb3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIGlmIChyb3dbY29sdW1uLnByb3BlcnR5XSA9PT0gaXRlbS52YWx1ZSkgewogICAgICAgICAgdmFsdWUgPSBpdGVtLmxhYmVsOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBbaCgic3BhbiIsIFt2YWx1ZV0pXTsKICAgIH0KICB9LAogICR2eGVDaGVja2JveDogewogICAgcmVuZGVyRWRpdDogZnVuY3Rpb24gcmVuZGVyRWRpdChoLCBfcmVmODksIF9yZWY5MCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CiAgICAgIHZhciBvcHRpb25zID0gX3JlZjg5Lm9wdGlvbnMsCiAgICAgICAgcHJvcHMgPSBfcmVmODkucHJvcHMsCiAgICAgICAgcHJvcHNDID0gX3JlZjg5LnByb3BzQzsKICAgICAgdmFyIHJvdyA9IF9yZWY5MC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjkwLmNvbHVtbjsKICAgICAgcHJvcHMgPSBwcm9wcyB8fCB7fTsKICAgICAgcHJvcHNDID0gcHJvcHNDIHx8IHt9OwogICAgICByb3dbY29sdW1uLnByb3BlcnR5XSA9IEFycmF5LmlzQXJyYXkocm93W2NvbHVtbi5wcm9wZXJ0eV0pID8gcm93W2NvbHVtbi5wcm9wZXJ0eV0gOiBbXTsKICAgICAgcmV0dXJuIFtoKCJ2eGUtY2hlY2tib3gtZ3JvdXAiLCB7CiAgICAgICAgInByb3BzIjogX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLAogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJwbGFjZWhvbGRlciI6ICLor7fpgInmi6kiCiAgICAgICAgfSwKICAgICAgICAibW9kZWwiOiB7CiAgICAgICAgICB2YWx1ZTogcm93W2NvbHVtbi5wcm9wZXJ0eV0sCiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soJCR2KSB7CiAgICAgICAgICAgIF90aGlzMTMuJHNldChyb3csIGNvbHVtbi5wcm9wZXJ0eSwgJCR2KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIFtvcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gW2goInZ4ZS1jaGVja2JveCIsIF9tZXJnZUpTWFByb3BzMihbewogICAgICAgICAgImF0dHJzIjogewogICAgICAgICAgICAibGFiZWwiOiBpdGVtLnZhbHVlCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgcHJvcHNDOiBwcm9wc0MKICAgICAgICB9XSksIFtpdGVtLmxhYmVsXSldOwogICAgICB9KV0pXTsKICAgIH0sCiAgICByZW5kZXJEZWZhdWx0OiBmdW5jdGlvbiByZW5kZXJEZWZhdWx0KGgsIF9yZWY5MSwgX3JlZjkyLCBjb250ZXh0KSB7CiAgICAgIHZhciBvcHRpb25zID0gX3JlZjkxLm9wdGlvbnMsCiAgICAgICAgcHJvcHMgPSBfcmVmOTEucHJvcHM7CiAgICAgIHZhciByb3cgPSBfcmVmOTIucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY5Mi5jb2x1bW47CiAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHldID0gQXJyYXkuaXNBcnJheShyb3dbY29sdW1uLnByb3BlcnR5XSkgPyByb3dbY29sdW1uLnByb3BlcnR5XSA6IFtdOwogICAgICB2YXIgdmFsdWUgPSBbXTsKICAgICAgb3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIGlmIChyb3dbY29sdW1uLnByb3BlcnR5XS5pbmRleE9mKGl0ZW0udmFsdWUpID49IDApIHsKICAgICAgICAgIHZhbHVlLnB1c2goaXRlbS5sYWJlbCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eSArICdfY2hlY2tib3hfc29ydCddID0gdmFsdWUuam9pbignLCcpOwogICAgICByZXR1cm4gW2goInNwYW4iLCBbcm93W2NvbHVtbi5wcm9wZXJ0eSArICdfY2hlY2tib3hfc29ydCddXSldOwogICAgfSwKICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgX3JlZjkzLCBfcmVmOTQpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBfcmVmOTMub3B0aW9ucywKICAgICAgICBwcm9wcyA9IF9yZWY5My5wcm9wczsKICAgICAgdmFyIHJvdyA9IF9yZWY5NC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjk0LmNvbHVtbjsKICAgICAgcm93W2NvbHVtbi5wcm9wZXJ0eV0gPSBBcnJheS5pc0FycmF5KHJvd1tjb2x1bW4ucHJvcGVydHldKSA/IHJvd1tjb2x1bW4ucHJvcGVydHldIDogW107CiAgICAgIHZhciB2YWx1ZSA9IFtdOwogICAgICBvcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKHJvd1tjb2x1bW4ucHJvcGVydHldLmluZGV4T2YoaXRlbS52YWx1ZSkgPj0gMCkgewogICAgICAgICAgdmFsdWUucHVzaChpdGVtLmxhYmVsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByb3dbY29sdW1uLnByb3BlcnR5ICsgJ19jaGVja2JveF9zb3J0J10gPSB2YWx1ZS5qb2luKCcsJyk7CiAgICAgIHJldHVybiBbaCgic3BhbiIsIFtyb3dbY29sdW1uLnByb3BlcnR5ICsgJ19jaGVja2JveF9zb3J0J11dKV07CiAgICB9CiAgfSwKICAkdmV4RHluYW1pY1NlbGVjdDogewogICAgcmVuZGVyRWRpdDogZnVuY3Rpb24gcmVuZGVyRWRpdChoLCBfcmVmOTUsIF9yZWY5NiwgX3JlZjk3KSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKICAgICAgdmFyIHByb3BzID0gX3JlZjk1LnByb3BzLAogICAgICAgIG9wdGlvbnMgPSBfcmVmOTUub3B0aW9uczsKICAgICAgdmFyIHJvdyA9IF9yZWY5Ni5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjk2LmNvbHVtbjsKICAgICAgdmFyICRleGNlbCA9IF9yZWY5Ny4kZXhjZWwsCiAgICAgICAgJGdyaWQgPSBfcmVmOTcuJGdyaWQsCiAgICAgICAgJHRhYmxlID0gX3JlZjk3LiR0YWJsZSwKICAgICAgICAkdHlwZSA9IF9yZWY5Ny4kdHlwZTsKICAgICAgLy8gbGV0IHJlcyA9ICRncmlkLiRwYXJlbnQuJGFzeW5jR2V0KCcvYmFzZS1hZ2VuY3ktc2VydmljZS9iYXNlQWdlbmN5L3YxL3NlYXJjaEFzc2V0QnlDb2RlJywgeyBhZ2VuY3lfY29kZTogcm93LmFnZW5jeV9jb2RlLCBmaXhlZF9hc3NldF90eXBlX2NvZGU6IHJvdy5hc3NldF9jbGFzc19jb2RlIH0pCiAgICAgIC8vIGxldCByZXMgPSBhd2FpdCAkZ3JpZC4kcGFyZW50LiRodHRwLmdldCgnL2Jhc2UtYWdlbmN5LXNlcnZpY2UvYmFzZUFnZW5jeS92MS9zZWFyY2hBc3NldEJ5Q29kZScsIHsgYWdlbmN5X2NvZGU6IDEyOTAwMSwgZml4ZWRfYXNzZXRfdHlwZV9jb2RlOiAyMDMwNDAyIH0pCiAgICAgIC8vIGlmIChyZXMgJiYgcmVzLnJzY29kZSA9PT0gJzEwMDAwMCcpIHsKICAgICAgLy8gICBsZXQgb3B0aW9ucyA9IHJlcy5yb3dzLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgLy8gICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHsKICAgICAgLy8gICAgICAgdmFsdWU6IGl0ZW0uYXNzZXRfY29kZSwKICAgICAgLy8gICAgICAgbGFiZWw6IGl0ZW0uYXNzZXRfY29kZQogICAgICAvLyAgICAgfSkKICAgICAgLy8gICB9KQogICAgICAvLyByZXR1cm4gWwogICAgICAvLyAgIDx2eGUtc2VsZWN0IHYtbW9kZWw9e3Jvd1tjb2x1bW4ucHJvcGVydHldfSBwbGFjZWhvbGRlcj0i6K+36YCJ5oupIj4KICAgICAgLy8gICAgIHtvcHRpb25zLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgLy8gICAgICAgcmV0dXJuIFsKICAgICAgLy8gICAgICAgICA8dnhlLW9wdGlvbgogICAgICAvLyAgICAgICAgICAgdmFsdWU9e2l0ZW0udmFsdWV9CiAgICAgIC8vICAgICAgICAgICBsYWJlbD17aXRlbS5sYWJlbH0KICAgICAgLy8gICAgICAgICA+PC92eGUtb3B0aW9uPgogICAgICAvLyAgICAgICBdCiAgICAgIC8vICAgICB9KX0KICAgICAgLy8gICA8L3Z4ZS1zZWxlY3Q+CiAgICAgIC8vIF0KICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICB0aGlzLiRtZXNzYWdlLndhcm5pbmcocmVzLnJlc3VsdCkKICAgICAgLy8gfQogICAgICAvLyByb3cub3B0aW9ucyA9IHJvdy5vcHRpb25zIHx8IFtdCiAgICAgIC8vIHJldHVybiBbCiAgICAgIC8vICAgaCgndnhlLXNlbGVjdCcsIHsKICAgICAgLy8gICAgIHByb3BzOiB7CiAgICAgIC8vICAgICAgIHJlZjogJ3Z4ZS1zZWxlY3QtJyArIGNvbHVtbi5wcm9wZXJ0eSwKICAgICAgLy8gICAgICAgdmFsdWU6IHJvd1tjb2x1bW4ucHJvcGVydHldLAogICAgICAvLyAgICAgICAuLi5wcm9wcwogICAgICAvLyAgICAgfSwKICAgICAgLy8gICAgIG9uOiB7CiAgICAgIC8vICAgICAgIGNoYW5nZTogKHsgdmFsdWUgfSkgPT4gewogICAgICAvLyAgICAgICAgIHJvd1tjb2x1bW4ucHJvcGVydHldID0gdmFsdWUKICAgICAgLy8gICAgICAgICAvLyByb3cub3B0aW9ucy5mb3JFYWNoKChpdGVtKSA9PiB7CgogICAgICAvLyAgICAgICAgIC8vIH0pCiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgIH0KICAgICAgLy8gICB9LCByb3cub3B0aW9ucy5tYXAoaXRlbSA9PiB7CiAgICAgIC8vICAgICByZXR1cm4gaCgndnhlLW9wdGlvbicsIHsKICAgICAgLy8gICAgICAgcHJvcHM6IHsKICAgICAgLy8gICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZSwKICAgICAgLy8gICAgICAgICBsYWJlbDogaXRlbS5sYWJlbAogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICB9KQogICAgICAvLyAgIH0pCiAgICAgIC8vICAgKQogICAgICAvLyBdCiAgICAgIHJvdy5vcHRpb25zID0gcm93Lm9wdGlvbnMgfHwgW107CiAgICAgIHJldHVybiBbaCgidnhlLXNlbGVjdCIsIHsKICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAicGxhY2Vob2xkZXIiOiAi6K+36YCJ5oupIgogICAgICAgIH0sCiAgICAgICAgIm1vZGVsIjogewogICAgICAgICAgdmFsdWU6IHJvd1tjb2x1bW4ucHJvcGVydHldLAogICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCQkdikgewogICAgICAgICAgICBfdGhpczE0LiRzZXQocm93LCBjb2x1bW4ucHJvcGVydHksICQkdik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBbcm93Lm9wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiBbaCgidnhlLW9wdGlvbiIsIHsKICAgICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICAgInZhbHVlIjogaXRlbS52YWx1ZSwKICAgICAgICAgICAgImxhYmVsIjogaXRlbS5sYWJlbAogICAgICAgICAgfQogICAgICAgIH0pXTsKICAgICAgfSldKV07CiAgICB9LAogICAgcmVuZGVyRGVmYXVsdDogZnVuY3Rpb24gcmVuZGVyRGVmYXVsdChoLCBjZWxsUmVuZGVyLCBfcmVmOTgsIGNvbnRleHQpIHsKICAgICAgdmFyIHJvdyA9IF9yZWY5OC5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjk4LmNvbHVtbjsKICAgICAgcmV0dXJuIFtoKCJzcGFuIiwgW3Jvd1tjb2x1bW4ucHJvcGVydHldXSldOwogICAgfSwKICAgIHJlbmRlckNlbGw6IGZ1bmN0aW9uIHJlbmRlckNlbGwoaCwgcmVuZGVyT3B0cywgX3JlZjk5KSB7CiAgICAgIHZhciByb3cgPSBfcmVmOTkucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWY5OS5jb2x1bW47CiAgICAgIHJldHVybiBbaCgic3BhbiIsIFtyb3dbY29sdW1uLnByb3BlcnR5XV0pXTsKICAgIH0KICB9LAogICRjb250ZW50VGFibGU6IHsKICAgIHJlbmRlckV4cGFuZDogZnVuY3Rpb24gcmVuZGVyRXhwYW5kKGgsIF9yZWYxMDAsIF9yZWYxMDEsIGNvbnRleHQpIHsKICAgICAgdmFyIHByb3BzID0gX3JlZjEwMC5wcm9wczsKICAgICAgdmFyICRjb2x1bW5JbmRleCA9IF9yZWYxMDEuJGNvbHVtbkluZGV4LAogICAgICAgICRyb3dJbmRleCA9IF9yZWYxMDEuJHJvd0luZGV4LAogICAgICAgIGl0ZW1zID0gX3JlZjEwMS5pdGVtcywKICAgICAgICBjb2x1bW4gPSBfcmVmMTAxLmNvbHVtbiwKICAgICAgICBkYXRhID0gX3JlZjEwMS5kYXRhLAogICAgICAgIHJvdyA9IF9yZWYxMDEucm93LAogICAgICAgICRzZXEgPSBfcmVmMTAxLiRzZXEsCiAgICAgICAgJHRhYmxlID0gX3JlZjEwMS4kdGFibGUsCiAgICAgICAgJHR5cGUgPSBfcmVmMTAxLiR0eXBlLAogICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjEwMS5jb2x1bW5JbmRleCwKICAgICAgICBpc0VkaXQgPSBfcmVmMTAxLmlzRWRpdCwKICAgICAgICBsZXZlbCA9IF9yZWYxMDEubGV2ZWwsCiAgICAgICAgcm93SW5kZXggPSBfcmVmMTAxLnJvd0luZGV4LAogICAgICAgIHNlcSA9IF9yZWYxMDEuc2VxOwogICAgICB2YXIgdGFibGVDb25maWcgPSB7CiAgICAgICAgZ2xvYmFsQ29uZmlnOiB7CiAgICAgICAgICAvLyDlhajlsYDpu5jorqTmuLLmn5PliJfphY3nva4KICAgICAgICAgIC8vIOWFqOWxgOmFjee9rgogICAgICAgICAgY2hlY2tUeXBlOiAnJywKICAgICAgICAgIHNlcTogZmFsc2UKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybiBbaCgiQnNUYWJsZSIsIHsKICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAidG9vbGJhckNvbmZpZyI6IGZhbHNlLAogICAgICAgICAgInBhZ2VyQ29uZmlnIjogZmFsc2UsCiAgICAgICAgICAidGFibGVDb25maWciOiB0YWJsZUNvbmZpZywKICAgICAgICAgICJoZWlnaHQiOiAidW5zZXQiLAogICAgICAgICAgInRhYmxlQ29sdW1uc0NvbmZpZyI6IHJvdy5jaGlsZENvbHMsCiAgICAgICAgICAidGFibGVEYXRhIjogcm93LmNoaWxkRGF0YQogICAgICAgIH0sCiAgICAgICAgInByb3BzIjogX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpCiAgICAgIH0pXTsKICAgIH0KICB9Cn07CnZhciBmaWx0ZXJSZW5kZXJlcnMgPSB7CiAgRmlsdGVyQ29tcGxleDogewogICAgLy8g5LiN5pi+56S65bqV6YOo5oyJ6ZKu77yM5L2/55So6Ieq5a6a5LmJ55qE5oyJ6ZKuCiAgICBpc0Zvb3RlcjogZmFsc2UsCiAgICAvLyDnrZvpgInmqKHmnb8KICAgIHJlbmRlckZpbHRlcjogZnVuY3Rpb24gcmVuZGVyRmlsdGVyKGgsIHJlbmRlck9wdHMsIHBhcmFtcykgewogICAgICByZXR1cm4gW2goImZpbHRlci1jb21wbGV4IiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJwYXJhbXMiOiBwYXJhbXMKICAgICAgICB9CiAgICAgIH0pXTsKICAgIH0sCiAgICAvLyDph43nva7mlbDmja7mlrnms5UKICAgIGZpbHRlclJlc2V0TWV0aG9kOiBmdW5jdGlvbiBmaWx0ZXJSZXNldE1ldGhvZChfcmVmMTAyKSB7CiAgICAgIHZhciBvcHRpb25zID0gX3JlZjEwMi5vcHRpb25zOwogICAgICBvcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgIG9wdGlvbi5kYXRhID0gewogICAgICAgICAgdHlwZTogJ2hhcycsCiAgICAgICAgICBpc0Nhc2U6IGZhbHNlLAogICAgICAgICAgdmFsdWU6ICcnCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g562b6YCJ5pWw5o2u5pa55rOVCiAgICBmaWx0ZXJNZXRob2Q6IGZ1bmN0aW9uIGZpbHRlck1ldGhvZChfcmVmMTAzKSB7CiAgICAgIHZhciBvcHRpb24gPSBfcmVmMTAzLm9wdGlvbiwKICAgICAgICByb3cgPSBfcmVmMTAzLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmMTAzLmNvbHVtbjsKICAgICAgdmFyIGNlbGxWYWx1ZSA9IHJvd1tjb2x1bW4ucHJvcGVydHldOwogICAgICB2YXIgX29wdGlvbiRkYXRhID0gb3B0aW9uLmRhdGEsCiAgICAgICAgdHlwZSA9IF9vcHRpb24kZGF0YS50eXBlLAogICAgICAgIGlzQ2FzZSA9IF9vcHRpb24kZGF0YS5pc0Nhc2UsCiAgICAgICAgdmFsdWUgPSBfb3B0aW9uJGRhdGEudmFsdWU7CiAgICAgIGlmIChjZWxsVmFsdWUpIHsKICAgICAgICBpZiAoaXNDYXNlKSB7CiAgICAgICAgICBjZWxsVmFsdWUgPSBjZWxsVmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAnaGFzJzoKICAgICAgICAgIHJldHVybiBuZXcgU3RyaW5nKGNlbGxWYWx1ZSkuaW5kZXhPZih2YWx1ZSkgPiAtMTsKICAgICAgICBjYXNlICdlcSc6CiAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi8KICAgICAgICAgIGlmIChpc0Nhc2UpIHsKICAgICAgICAgICAgcmV0dXJuIGNlbGxWYWx1ZSA9PSB2YWx1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGNlbGxWYWx1ZSkgPT0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgY2FzZSAnZ3QnOgogICAgICAgICAgcmV0dXJuIE51bWJlcihjZWxsVmFsdWUpID4gTnVtYmVyKHZhbHVlKTsKICAgICAgICBjYXNlICdsdCc6CiAgICAgICAgICByZXR1cm4gTnVtYmVyKGNlbGxWYWx1ZSkgPCBOdW1iZXIodmFsdWUpOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sCiAgRmlsdGVyQ29udGVudDogewogICAgLy8g5LiN5pi+56S65bqV6YOo5oyJ6ZKu77yM5L2/55So6Ieq5a6a5LmJ55qE5oyJ6ZKuCiAgICBpc0Zvb3RlcjogZmFsc2UsCiAgICAvLyDnrZvpgInmqKHmnb8KICAgIHJlbmRlckZpbHRlcjogZnVuY3Rpb24gcmVuZGVyRmlsdGVyKGgsIHJlbmRlck9wdHMsIHBhcmFtcykgewogICAgICByZXR1cm4gW2goImZpbHRlci1jb250ZW50IiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJwYXJhbXMiOiBwYXJhbXMKICAgICAgICB9CiAgICAgIH0pXTsKICAgIH0sCiAgICAvLyDph43nva7mlbDmja7mlrnms5UKICAgIGZpbHRlclJlc2V0TWV0aG9kOiBmdW5jdGlvbiBmaWx0ZXJSZXNldE1ldGhvZChfcmVmMTA0KSB7CiAgICAgIHZhciBvcHRpb25zID0gX3JlZjEwNC5vcHRpb25zOwogICAgICBvcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgIG9wdGlvbi5kYXRhID0gewogICAgICAgICAgdmFsczogW10sCiAgICAgICAgICBzVmFsOiAnJwogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOetm+mAieaVsOaNruaWueazlQogICAgZmlsdGVyTWV0aG9kOiBmdW5jdGlvbiBmaWx0ZXJNZXRob2QoX3JlZjEwNSkgewogICAgICB2YXIgb3B0aW9uID0gX3JlZjEwNS5vcHRpb24sCiAgICAgICAgcm93ID0gX3JlZjEwNS5yb3csCiAgICAgICAgY29sdW1uID0gX3JlZjEwNS5jb2x1bW47CiAgICAgIHZhciB2YWxzID0gb3B0aW9uLmRhdGEudmFsczsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFscykgJiYgdmFscy5sZW5ndGgpIHsKICAgICAgICB2YXIgY2VsbFZhbHVlID0gcm93W2NvbHVtbi5wcm9wZXJ0eV07CiAgICAgICAgaWYgKG5ldyBTdHJpbmcoY2VsbFZhbHVlKS5pbmRleE9mKCcjIycpID4gMCkgewogICAgICAgICAgdmFyIHZhbHVlID0gY2VsbFZhbHVlLnNwbGl0KCcjIycpOwogICAgICAgICAgdmFsdWUuc2hpZnQoKTsKICAgICAgICAgIHJldHVybiBjZWxsVmFsdWUgPT0gdmFsdWUuam9pbignLScpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdmFscy5pbmNsdWRlcyhjZWxsVmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIC8vIGNvbnNvbGUubG9nKG9wdGlvbiwgcm93LCBjb2x1bW4sIHJvd1tjb2x1bW4ucHJvcGVydHldKQogICAgICAvLyBjb25zdCB7IHZhbHMgfSA9IG9wdGlvbi5kYXRhCiAgICAgIC8vIGNvbnN0IGNlbGxWYWx1ZSA9IHJvd1tjb2x1bW4ucHJvcGVydHldCiAgICAgIC8vIC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqLwogICAgICAvLyByZXR1cm4gdmFscy5zb21lKHZhbCA9PiB7CiAgICAgIC8vICAgaWYgKGNlbGxWYWx1ZS5pbmRleE9mKCcjIycpID4gMCkgewogICAgICAvLyAgICAgbGV0IHZhbHVlID0gY2VsbFZhbHVlLnNwbGl0KCcjIycpCiAgICAgIC8vICAgICB2YWx1ZS5zaGlmdCgpCiAgICAgIC8vICAgICByZXR1cm4gdmFsID09IHZhbHVlLmpvaW4oJy0nKQogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhvcHRpb24sIHJvdywgY29sdW1uLCB2YWwgPT0gY2VsbFZhbHVlKQogICAgICAvLyAgICAgcmV0dXJuIHZhbCA9PSBjZWxsVmFsdWUKICAgICAgLy8gICB9CiAgICAgIC8vICAgLy8gIHJldHVybiB2YWwgPT0gY2VsbFZhbHVlCiAgICAgIC8vIH0pCiAgICB9CiAgfSwKCiAgRmlsdGVySW5wdXQ6IHsKICAgIC8vIOetm+mAieaooeadvwogICAgLy8gZmlsdGVyczogW3sgZGF0YTogJycgfV0sCiAgICAvLyBmaWx0ZXJSZW5kZXI6IHsgbmFtZTogJ0ZpbHRlcklucHV0JyB9LAogICAgcmVuZGVyRmlsdGVyOiBmdW5jdGlvbiByZW5kZXJGaWx0ZXIoaCwgcmVuZGVyT3B0cywgcGFyYW1zKSB7CiAgICAgIHJldHVybiBbaCgiZmlsdGVyLWlucHV0IiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJwYXJhbXMiOiBwYXJhbXMKICAgICAgICB9CiAgICAgIH0pXTsKICAgIH0sCiAgICAvLyDnrZvpgInmlrnms5UKICAgIGZpbHRlck1ldGhvZDogZnVuY3Rpb24gZmlsdGVyTWV0aG9kKF9yZWYxMDYpIHsKICAgICAgdmFyIG9wdGlvbiA9IF9yZWYxMDYub3B0aW9uLAogICAgICAgIHJvdyA9IF9yZWYxMDYucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWYxMDYuY29sdW1uOwogICAgICB2YXIgZGF0YSA9IG9wdGlvbi5kYXRhOwogICAgICB2YXIgY2VsbFZhbHVlID0gcm93W2NvbHVtbi5wcm9wZXJ0eV07CiAgICAgIHJldHVybiBuZXcgU3RyaW5nKGNlbGxWYWx1ZSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGRhdGEudG9Mb3dlckNhc2UoKSkgPiAtMTsKICAgIH0KICB9LAogIEZpbHRlclNlbGVjdDogewogICAgaXNGb290ZXI6IGZhbHNlLAogICAgLy8g562b6YCJ5qih5p2/CiAgICAvLyBmaWx0ZXJzOiBbeyBkYXRhOiAnJyB9XSwKICAgIC8vIGZpbHRlclJlbmRlcjogeyBuYW1lOiAnRmlsdGVySW5wdXQnIH0sCiAgICByZW5kZXJGaWx0ZXI6IGZ1bmN0aW9uIHJlbmRlckZpbHRlcihoLCByZW5kZXJPcHRzLCBwYXJhbXMpIHsKICAgICAgcmV0dXJuIFtoKCJmaWx0ZXItU2VsZWN0IiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJyZW5kZXJPcHRzIjogcmVuZGVyT3B0cywKICAgICAgICAgICJwYXJhbXMiOiBwYXJhbXMKICAgICAgICB9CiAgICAgIH0pXTsKICAgIH0sCiAgICAvLyDnrZvpgInmlrnms5UKICAgIGZpbHRlck1ldGhvZDogZnVuY3Rpb24gZmlsdGVyTWV0aG9kKF9yZWYxMDcpIHsKICAgICAgdmFyIG9wdGlvbiA9IF9yZWYxMDcub3B0aW9uLAogICAgICAgIHJvdyA9IF9yZWYxMDcucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWYxMDcuY29sdW1uOwogICAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbi5vcHRpb25zLAogICAgICAgIGRhdGEgPSBvcHRpb24uZGF0YTsKICAgICAgdmFyIHZhbHMgPSBkYXRhLnZhbHM7CiAgICAgIHZhciBjZWxsVmFsdWUgPSByb3dbY29sdW1uLnByb3BlcnR5XTsKICAgICAgdmFyIHZhbHVlID0gW107CiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBpZiAobmV3IFN0cmluZyhjZWxsVmFsdWUpLmluZGV4T2YoaXRlbS52YWx1ZSkgPj0gMCkgewogICAgICAgICAgdmFsdWUucHVzaChpdGVtLmxhYmVsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gdmFsdWUuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB2YWxzLmluZGV4T2YoaXRlbSkgPj0gMDsKICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnQgdmFyIGRlZmF1bHRSZW5kZXJlcnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNlbGxSZW5kZXJlcnMpLCBmaWx0ZXJSZW5kZXJlcnMpOwpleHBvcnQgdmFyIHRhYmxlQ29sdW1ucyA9IHsKICAvLyDpu5jorqTphY3nva7liJcKICByb3dEcm9wOiB7CiAgICB3aWR0aDogNDAsCiAgICB0aXRsZTogJ+aMieS9j+WQjuWPr+S7peS4iuS4i+aLluWKqOaOkuW6j++8gScsCiAgICBjbGFzc05hbWU6ICd0YWJsZS1kcm9wJywKICAgIHNsb3RzOiB7CiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KG9iaiwgaCkgewogICAgICAgIHJldHVybiBbaCgic3BhbiIsIHsKICAgICAgICAgICJjbGFzcyI6ICJkcmFnLWJ0biIKICAgICAgICB9LCBbaCgiaSIsIHsKICAgICAgICAgICJjbGFzcyI6ICJ2eGUtaWNvbi0tbWVudSIKICAgICAgICB9KV0pXTsKICAgICAgfSwKICAgICAgaGVhZGVyOiBmdW5jdGlvbiBoZWFkZXIoX3JlZjEwOCwgaCkgewogICAgICAgIHZhciAkdGFibGUgPSBfcmVmMTA4LiR0YWJsZTsKICAgICAgICB2YXIgYnNUYWJsZSA9ICR0YWJsZS4kcGFyZW50LiRwYXJlbnQ7CiAgICAgICAgcmV0dXJuIFsvLyA8dnhlLXRvb2x0aXAgdi1tb2RlbD17YnNUYWJsZS5zaG93Um93RHJvcEhlbHBUaXB9IGNvbnRlbnQ9IuaMieS9j+WQjuWPr+S7peS4iuS4i+aLluWKqOaOkuW6j++8gSIgZW50ZXJhYmxlPgogICAgICAgIGgoImkiLCB7CiAgICAgICAgICAiY2xhc3MiOiAidnhlLWljb24tLXF1ZXN0aW9uIiwKICAgICAgICAgICJvbiI6IHsKICAgICAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgICAgYnNUYWJsZS5zaG93Um93RHJvcEhlbHBUaXAgPSAhYnNUYWJsZS5zaG93Um93RHJvcEhlbHBUaXA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KSAvLyA8L3Z4ZS10b29sdGlwPgogICAgICAgIF07CiAgICAgIH0KICAgIH0KICB9LAogIHNlcTogewogICAgLy8g5bqP5Y+3CiAgICB0aXRsZTogJ+W6j+WPtycsCiAgICB0eXBlOiAnc2VxJywKICAgIHdpZHRoOiA2MCwKICAgIGFsaWduOiAnY2VudGVyJywKICAgIGNsYXNzTmFtZTogJ3RhYmxlLXNlcCcsCiAgICBmaXhlZDogJ2xlZnQnLAogICAgc29ydGFibGU6IGZhbHNlCiAgfSwKICBjaGVja2JveDogewogICAgLy8g6YCJ5oupCiAgICB0aXRsZTogJycsCiAgICB0eXBlOiAnY2hlY2tib3gnLAogICAgd2lkdGg6IDYwLAogICAgYWxpZ246ICdjZW50ZXInLAogICAgZml4ZWQ6ICdsZWZ0JywKICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgIGNsYXNzTmFtZTogJ3RhYmxlLXJvdy1jaGVja2JveCcKICB9LAogIG9wdGlvblNvcnQ6IHsKICAgIC8vIOmAieaLqQogICAgdGl0bGU6ICfmiYvliqjmjpLluo8nLAogICAgdHlwZTogJ2RyYWdTb3J0JywKICAgIGZpZWxkOiAnZHJhZ1NvcnQnLAogICAgd2lkdGg6IDE1MCwKICAgIGFsaWduOiAnY2VudGVyJywKICAgIGZpeGVkOiAncmlnaHQnLAogICAgc29ydGFibGU6IGZhbHNlLAogICAgY2xhc3NOYW1lOiAndGFibGUtcm93LWNoZWNrYm94JywKICAgIGNlbGxSZW5kZXI6IHsKICAgICAgdHlwZTogJ2NlbGxSZW5kZXInLAogICAgICBuYW1lOiAnJG9wdGlvblNvcnQnCiAgICB9CiAgfSwKICByYWRpbzogewogICAgLy8g5Y2V6YCJCiAgICB0aXRsZTogJ+WNlemAiScsCiAgICB0eXBlOiAncmFkaW8nLAogICAgd2lkdGg6IDgwLAogICAgYWxpZ246ICdjZW50ZXInLAogICAgZml4ZWQ6ICdsZWZ0JywKICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgIGNsYXNzTmFtZTogJ3RhYmxlLXJvdy1yYWRpbycKICB9LAogIG9wdGlvblJvdzogewogICAgLy8g5pON5L2cCiAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICBmaWVsZDogJ29wdGlvblJvdycsCiAgICB0eXBlOiAnb3B0aW9uUm93JywKICAgIGVkaXRhYmxlOiBmYWxzZSwKICAgIHdpZHRoOiAxNTAsCiAgICBhbGlnbjogJ2NlbnRlcicsCiAgICBmaXhlZDogJ3JpZ2h0JywKICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgIGNsYXNzTmFtZTogJ3RhYmxlLXJvdy1vcHRpb24nLAogICAgY2VsbFJlbmRlcjogewogICAgICB0eXBlOiAnY2VsbFJlbmRlcicsCiAgICAgIC8vIHJlbmRlckVkaXQKICAgICAgbmFtZTogJ29wdGlvblJvdycKICAgIH0KICB9Cn07CmV4cG9ydCB2YXIgcGFnZXJDb25maWcgPSB7CiAgYWxpZ246ICdyaWdodCcsCiAgLy8gcGFnZVNpemVzOiBbMjAsIDUwLCAxMDAsIDUwMCwgMTAwMCwgMTAwMDAwMF0sCiAgcGFnZVNpemVzOiBbewogICAgbGFiZWw6ICcyMOadoScsCiAgICB2YWx1ZTogMjAKICB9LCB7CiAgICBsYWJlbDogJzUw5p2hJywKICAgIHZhbHVlOiA1MAogIH0sIHsKICAgIGxhYmVsOiAnMTAw5p2hJywKICAgIHZhbHVlOiAxMDAKICB9LCB7CiAgICBsYWJlbDogJzUwMOadoScsCiAgICB2YWx1ZTogNTAwCiAgfSwgewogICAgbGFiZWw6ICcxMDAw5p2hJywKICAgIHZhbHVlOiAxMDAwCiAgfSwgewogICAgbGFiZWw6ICflhajpg6gnLAogICAgdmFsdWU6IDEwMDAwMDAKICB9XSwKICBsYXlvdXRzOiBbJ1NpemVzJywgJ1ByZXZKdW1wJywgJ1ByZXZQYWdlJywgJ051bWJlcicsICdOZXh0UGFnZScsICdOZXh0SnVtcCcsICdGdWxsSnVtcCcsICdUb3RhbCddLAogIHBlcmZlY3Q6IHRydWUsCiAgc2xvdHM6IHsKICAgIGxlZnQ6ICdwYWdlckxlZnRTbG90cycKICAgIC8vIHJpZ2h0OiAncGFnZXJSaWdodFNsb3RzJwogIH0KfTsKCmV4cG9ydCB2YXIgdGFibGVGb3JtQ29uZmlnID0gewogIGRhdGE6IHsKICAgIGtleVdvcmQ6ICcnCiAgfSwKICBpdGVtczogW3sKICAgIGZpZWxkOiAna2V5V29yZCcsCiAgICBpdGVtUmVuZGVyOiB7CiAgICAgIG5hbWU6ICckaW5wdXQnLAogICAgICBwcm9wczogewogICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5YWz6ZSu5a2X6L+H5rukJwogICAgICB9CiAgICB9CiAgfSwgewogICAgaXRlbVJlbmRlcjogewogICAgICBuYW1lOiAnJGJ1dHRvbnMnLAogICAgICBjaGlsZHJlbjogW3sKICAgICAgICBwcm9wczogewogICAgICAgICAgdHlwZTogJ3N1Ym1pdCcsCiAgICAgICAgICBjb250ZW50OiAn5p+l6K+iJywKICAgICAgICAgIHN0YXR1czogJ3ByaW1hcnknCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHR5cGU6ICdyZXNldCcsCiAgICAgICAgICBjb250ZW50OiAn6YeN572uJwogICAgICAgIH0KICAgICAgfV0KICAgIH0KICB9XQp9OwpleHBvcnQgdmFyIHRhYmxlU3R5bGVDb25maWcgPSB7CiAgaGVpZ2h0OiAnYXV0bycsCiAgLy8g6KGo5qC855qE6auY5bqm77ybIOaUr+aMgemTuua7oeeItuWuueWZqOaIluiAheWbuuWumumrmOW6pu+8jCDlpoLmnpzorr7nva4gYXV0byDkuLrpk7rmu6HniLblrrnlmajvvIgg5aaC5p6c6K6+572u6Ieq6YCC5bqU5pe277yMIOW/hemhu+ehruS/neWtmOWcqOeItuiKgueCueS4lOS4jeWFgeiuuOWtmOWcqOebuOmCu+WFg+e0oO+8iW51bWJlciB8IHN0cmluZzphdXRvLCAlICwgcHgKICBtYXhIZWlnaHQ6ICcxMDAlJywKICAvLyDooajmoLznmoTmnIDlpKfpq5jluqZudW1iZXIgfCBzdHJpbmc6ICUsIHB4CiAgYm9yZGVyOiBmYWxzZSwKICAvLyDmmK/lkKbluKbmnInovrnmoYYgYm9vbGVhbiB8IHN0cmluZzpkZWZhdWx077yIIOm7mOiupO+8iSwgZnVsbO+8iCDlrozmlbTovrnmoYbvvIksIG91dGVy77yIIOWklui+ueahhu+8iSwgaW5uZXLvvIgg5YaF6L655qGG77yJLCBub25l77yIIOaXoOi+ueahhu+8iSzpu5jorqQgZmFsc2XvvIwg57un5om/IHNldHVwLnRhYmxlLmJvcmRlcgogIGhpZ2hsaWdodEN1cnJlbnRSb3c6IGZhbHNlLAogIC8vIOaYr+WQpuimgemrmOS6ruW9k+WJjeihjDogYm9vbGVhbiwgZmFsc2UKICBoaWdobGlnaHRIb3ZlclJvdzogdHJ1ZSAvLyDpvKDmoIfnp7vliLDooYzmmK/lkKbopoHpq5jkuq7mmL7npLo6Ym9vbGVhbixmYWxzZQogIC8vIGhpZ2hsaWdodEN1cnJlbnRDb2x1bW465piv5ZCm6KaB6auY5Lqu5b2T5YmN5YiXOmJvb2xlYW5mYWxzZQp9OwoKZXhwb3J0IHZhciBkZWZhdWx0Rm9ybWF0dGVycyA9IHsKICBmb3JtYXRNb25leTogZnVuY3Rpb24gZm9ybWF0TW9uZXkoX3JlZjEwOSkgewogICAgdmFyIGNlbGxWYWx1ZSA9IF9yZWYxMDkuY2VsbFZhbHVlLAogICAgICByb3cgPSBfcmVmMTA5LnJvdywKICAgICAgY29sdW1uID0gX3JlZjEwOS5jb2x1bW47CiAgICAvLyDmlbDlrZfpgJflj7fkuInkvY3liIblvIAKICAgIGlmICghY2VsbFZhbHVlKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBudW0gPSBpc05hTihwYXJzZUZsb2F0KGNlbGxWYWx1ZSkpID8gMCA6IHBhcnNlRmxvYXQoY2VsbFZhbHVlKTsKICAgICAgbnVtID0gKG51bSAvIHRoaXMubW9uZXlVbml0KS50b0ZpeGVkKDIpOwogICAgICBpZiAodHlwZW9mIG51bSA9PT0gJ3N0cmluZycpIHsKICAgICAgICByZXR1cm4gTnVtYmVyKHBhcnNlRmxvYXQobnVtKS50b0ZpeGVkKDIpKS50b0xvY2FsZVN0cmluZygpOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBudW0gPT09ICdudW1iZXInKSB7CiAgICAgICAgcmV0dXJuIE51bWJlcihudW0udG9GaXhlZCgyKSkudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgfQogICAgfQogIH0sCiAgZGlnaXRVcHBlcmNhc2U6IGZ1bmN0aW9uIGRpZ2l0VXBwZXJjYXNlKF9yZWYxMTApIHsKICAgIHZhciBjZWxsVmFsdWUgPSBfcmVmMTEwLmNlbGxWYWx1ZSwKICAgICAgcm93ID0gX3JlZjExMC5yb3csCiAgICAgIGNvbHVtbiA9IF9yZWYxMTAuY29sdW1uOwogICAgdmFyIG4gPSBjZWxsVmFsdWU7CiAgICAvKiDnjrDph5Hpop3lpKflhpkgKi8KICAgIGlmICh0eXBlb2YgbiA9PT0gJ251bWJlcicpIHsKICAgICAgbiA9ICcnICsgbjsKICAgIH0KICAgIG4gPSBuLnJlcGxhY2UoLywvZywgJycpOyAvLyDmm7/mjaJ0b21vbmV5KCnkuK3nmoTigJws4oCdCiAgICBuID0gbi5yZXBsYWNlKC8gL2csICcnKTsgLy8g5pu/5o2idG9tb25leSgp5Lit55qE56m65qC8CiAgICBuID0gbi5yZXBsYWNlKC/vv6UvZywgJycpOyAvLyDmm7/mjaLmjonlj6/og73lh7rnjrDnmoTvv6XlrZfnrKYKICAgIC8vIGlmIChpc05hTihuKSkgeyAvL+mqjOivgei+k+WFpeeahOWtl+espuaYr+WQpuS4uuaVsOWtlwogICAgLy8gICAgIC8vYWxlcnQoIuivt+ajgOafpeWwj+WGmemHkemineaYr+WQpuato+ehriIpOwogICAgLy8gICAgIHJldHVybiAiIjsKICAgIC8vIH07CiAgICB2YXIgZnJhY3Rpb24gPSBbJ+inkicsICfliIYnXTsKICAgIHZhciBkaWdpdCA9IFsn6Zu2JywgJ+WjuScsICfotLAnLCAn5Y+BJywgJ+iChicsICfkvI0nLCAn6ZmGJywgJ+afkicsICfmjYwnLCAn546WJ107CiAgICB2YXIgdW5pdCA9IFtbJ+WFgycsICfkuIcnLCAn5Lq/JywgJ+S4hycsICfkur8nXSwgWycnLCAn5ou+JywgJ+S9sCcsICfku58nXV07CiAgICB2YXIgaGVhZCA9IG4gPCAwID8gJ+asoCcgOiAnJzsKICAgIG4gPSBNYXRoLmFicyhuKTsKICAgIHZhciBzID0gJyc7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYWN0aW9uLmxlbmd0aDsgaSsrKSB7CiAgICAgIHMgKz0gKGRpZ2l0W01hdGguZmxvb3IobiAqIDEwICogTWF0aC5wb3coMTAsIGkpKSAlIDEwXSArIGZyYWN0aW9uW2ldKS5yZXBsYWNlKC/pm7YuLywgJycpOwogICAgfQogICAgcyA9IHMgfHwgJ+aVtCc7CiAgICBuID0gTWF0aC5mbG9vcihuKTsKICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB1bml0WzBdLmxlbmd0aCAmJiBuID4gMDsgX2krKykgewogICAgICB2YXIgcCA9ICcnOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVuaXRbMV0ubGVuZ3RoICYmIG4gPiAwOyBqKyspIHsKICAgICAgICBwID0gZGlnaXRbbiAlIDEwXSArIHVuaXRbMV1bal0gKyBwOwogICAgICAgIG4gPSBNYXRoLmZsb29yKG4gLyAxMCk7CiAgICAgIH0KICAgICAgcyA9IHAucmVwbGFjZSgvKOmbti4pKumbtiQvLCAnJykucmVwbGFjZSgvXiQvLCAn6Zu2JykgKyB1bml0WzBdW19pXSArIHM7CiAgICB9CiAgICByZXR1cm4gaGVhZCArIHMucmVwbGFjZSgvKOmbti4pKumbtuWFgy8sICflhYMnKS5yZXBsYWNlKC8o6Zu2LikrL2csICfpm7YnKS5yZXBsYWNlKC9e5pW0JC8sICfpm7blhYPmlbQnKTsKICB9LAogIGZvcm1hdEFtb3VudDogZnVuY3Rpb24gZm9ybWF0QW1vdW50KF9yZWYxMTEsIGRpZ2l0cykgewogICAgdmFyIGNlbGxWYWx1ZSA9IF9yZWYxMTEuY2VsbFZhbHVlOwogICAgcmV0dXJuIF90aGlzMTUuJFhFVXRpbHMuY29tbWFmeShjZWxsVmFsdWUsIHsKICAgICAgZGlnaXRzOiBkaWdpdHMgfHwgMgogICAgfSk7CiAgfQp9OwpleHBvcnQgdmFyIGZvb3RlckNvbmZpZyA9IHsKICBzaG93Rm9vdGVyOiBmYWxzZSwKICB0b3RhbE9iajoge30sCiAgLy8g5oC76K6h5pWw5o2u5a+56LGhCiAgY29tYmluZWRUeXBlOiBbJ3N1YlRvdGFsJywgJ3RvdGFsJywgJ3RvdGFsQWxsJywgJ3N3aXRjaFRvdGFsJ10sCiAgLy8g5pi+56S66YKj5Lqb5ZCI6K6h6KGM57G75Z6L77yM5rOo5oSP6aG65bqPCiAgZm9vdGVyTWV0aG9kOiBmdW5jdGlvbiBmb290ZXJNZXRob2QoX3JlZjExMikgewogICAgdmFyIGNvbHVtbnMgPSBfcmVmMTEyLmNvbHVtbnMsCiAgICAgIGRhdGEgPSBfcmVmMTEyLmRhdGEsCiAgICAgICR0YWJsZSA9IF9yZWYxMTIuJHRhYmxlLAogICAgICAkZ3JpZCA9IF9yZWYxMTIuJGdyaWQ7CiAgICB2YXIgY29tYmluZWRUeXBlID0gJGdyaWQuJHBhcmVudC5mb290ZXJDb25maWdJbi5jb21iaW5lZFR5cGUgfHwgWydzd2l0Y2hUb3RhbCddOwogICAgLy8gbGV0IGNhbGN1bGF0ZUZvb3Rlck9iaiA9IHsKICAgIC8vICAgICBjYWxjdWxhdGVGb290ZXJfc3ViVG90YWw6IGRlZmF1bHRHbG9hYmFsVXRpbHMuY2FsY3VsYXRlRm9vdGVyX3N1YlRvdGFsKHsgY29sdW1ucywgZGF0YSwgJHRhYmxlLCAkZ3JpZCB9KSwKICAgIC8vICAgICBjYWxjdWxhdGVGb290ZXJfdG90YWw6IGRlZmF1bHRHbG9hYmFsVXRpbHMuY2FsY3VsYXRlRm9vdGVyX3RvdGFsKHsgY29sdW1ucywgZGF0YSwgJHRhYmxlLCAkZ3JpZCB9KSwKICAgIC8vICAgICBjYWxjdWxhdGVGb290ZXJfdG90YWxBbGwgOmRlZmF1bHRHbG9hYmFsVXRpbHMuY2FsY3VsYXRlRm9vdGVyX3RvdGFsQWxsKHsgY29sdW1ucywgZGF0YSwgJHRhYmxlLCAkZ3JpZCB9KSwKICAgIC8vIH0KICAgIHZhciBmb290ZXJEYXRhID0gW107CiAgICBpZiAoY29tYmluZWRUeXBlLmluZGV4T2YoJ3N3aXRjaFRvdGFsJykgPj0gMCkgewogICAgICBpZiAoJGdyaWQuZ2V0Q2hlY2tib3hSZWNvcmRzKCkubGVuZ3RoKSB7CiAgICAgICAgZm9vdGVyRGF0YSA9IFtkZWZhdWx0R2xvYWJhbFV0aWxzWydjYWxjdWxhdGVGb290ZXJfc3ViVG90YWwnXSh7CiAgICAgICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICR0YWJsZTogJHRhYmxlLAogICAgICAgICAgJGdyaWQ6ICRncmlkCiAgICAgICAgfSldOwogICAgICAgIC8vIGZvb3RlckRhdGFbMF1bMF0gPSAn5bey6YCJKCcgKyAkZ3JpZC5nZXRDaGVja2JveFJlY29yZHMoKS5sZW5ndGggKyAnKScKICAgICAgfSBlbHNlIHsKICAgICAgICBmb290ZXJEYXRhID0gW2RlZmF1bHRHbG9hYmFsVXRpbHNbJ2NhbGN1bGF0ZUZvb3Rlcl90b3RhbEFsbCddKHsKICAgICAgICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgJHRhYmxlOiAkdGFibGUsCiAgICAgICAgICAkZ3JpZDogJGdyaWQKICAgICAgICB9KV07CiAgICAgICAgLy8gZm9vdGVyRGF0YVswXVswXSA9ICfmgLvorqEnCiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvb3RlckRhdGEgPSBjb21iaW5lZFR5cGUubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRHbG9hYmFsVXRpbHNbJ2NhbGN1bGF0ZUZvb3Rlcl8nICsgaXRlbV0oewogICAgICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAkdGFibGU6ICR0YWJsZSwKICAgICAgICAgICRncmlkOiAkZ3JpZAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8vIGNvbnN0IGZvb3RlckRhdGEgPSBbCiAgICAvLyAgIC8vIGRlZmF1bHRHbG9hYmFsVXRpbHMuY2FsY3VsYXRlRm9vdGVyKHsgY29sdW1ucywgZGF0YSwgY29sdW1uSW5kZXhUZXh0OiAn5bmz5Z2HKOWFgyknLCBjb21iaW5lZFR5cGU6ICdhdmVyYWdlJyB9LCBjb250ZXh0KSwKICAgIC8vICAgZGVmYXVsdEdsb2FiYWxVdGlscy5jYWxjdWxhdGVGb290ZXIoeyBjb2x1bW5zLCBkYXRhLCAkdGFibGUsICRncmlkLCBjb2x1bW5JbmRleFRleHQ6ICflkIjorqEo5YWDKScsIGNvbWJpbmVkVHlwZTogJ3RvdGFsJyB9KQogICAgLy8gXQogICAgcmV0dXJuIGZvb3RlckRhdGE7CiAgfSwKICBmb290ZXJTcGFuTWV0aG9kOiBmdW5jdGlvbiBmb290ZXJTcGFuTWV0aG9kKF9yZWYxMTMpIHsKICAgIHZhciAkcm93SW5kZXggPSBfcmVmMTEzLiRyb3dJbmRleCwKICAgICAgY29sdW1uID0gX3JlZjExMy5jb2x1bW4sCiAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjExMy5jb2x1bW5JbmRleCwKICAgICAgJGNvbHVtbkluZGV4ID0gX3JlZjExMy4kY29sdW1uSW5kZXgsCiAgICAgIGRhdGEgPSBfcmVmMTEzLmRhdGE7CiAgICByZXR1cm4gewogICAgICByb3dzcGFuOiAxLAogICAgICBjb2xzcGFuOiAxCiAgICB9OwogIH0KfTsKZXhwb3J0IHZhciBjb250ZXh0TWVudUNvbmZpZyA9IHsKICBoZWFkZXI6IHsKICAgIG9wdGlvbnM6IFtbewogICAgICBjb2RlOiAnaGlkZScsCiAgICAgIG5hbWU6ICfpmpDol4/liJcnLAogICAgICBjaGlsZHJlbjogW3sKICAgICAgICBjb2RlOiAnaGlkZUNvbHVtbicsCiAgICAgICAgbmFtZTogJ+makOiXj+W9k+WJjeWIlycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBjb2RlOiAnc2hvd0FsbENvbHVtbicsCiAgICAgICAgbmFtZTogJ+WPlua2iOaJgOaciemakOiXj+WIlycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICAgIH1dCiAgICB9LCB7CiAgICAgIGNvZGU6ICdmaXhlZCcsCiAgICAgIG5hbWU6ICflm7rlrprliJcnLAogICAgICBjaGlsZHJlbjogW3sKICAgICAgICBjb2RlOiAnRklYRURfTEVGVF9DT0xVTU4nLAogICAgICAgIG5hbWU6ICflsIbliJflm7rlrprliLDlt6bkvqcnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgY29kZTogJ0ZJWEVEX1JJR0hUX0NPTFVNTicsCiAgICAgICAgbmFtZTogJ+WwhuWIl+WbuuWumuWIsOWPs+S+pycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBjb2RlOiAnQ0xFQVJfRklYRURfQ09MVU1OJywKICAgICAgICBuYW1lOiAn5riF6Zmk5Zu65a6a5YiXJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UKICAgICAgfV0KICAgIH0sIHsKICAgICAgY29kZTogJ3Jlc2V0JywKICAgICAgbmFtZTogJ+mHjee9ruWIlycsCiAgICAgIGNoaWxkcmVuOiBbewogICAgICAgIGNvZGU6ICdSRVNFVF9SRVNJWkFCTEUnLAogICAgICAgIG5hbWU6ICfph43nva7liJflrr3nirbmgIEnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZQogICAgICB9LAogICAgICAvLyB7IGNvZGU6ICdSRVNFVF9BTEwnLCBuYW1lOiAn6YeN572u5YiX55qE5omA5pyJ54q25oCBJywgZGlzYWJsZWQ6IGZhbHNlIH0sCiAgICAgIHsKICAgICAgICBjb2RlOiAncmVjb3Zlcl9hbGwnLAogICAgICAgIG5hbWU6ICfmgaLlpI3liJfkuLrliJ3lp4vnirbmgIEnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZQogICAgICB9XQogICAgfSwgewogICAgICBjb2RlOiAnRklMVEVSJywKICAgICAgbmFtZTogJ+etm+mAiScsCiAgICAgIGNoaWxkcmVuOiBbewogICAgICAgIGNvZGU6ICdDTEVBUl9GSUxURVInLAogICAgICAgIG5hbWU6ICfmuIXpmaTpgInkuK3liJfnmoTnrZvpgInmnaHku7YnCiAgICAgIH0sIHsKICAgICAgICBjb2RlOiAnQ0xFQVJfQUxMX0ZJTFRFUicsCiAgICAgICAgbmFtZTogJ+a4hemZpOaJgOacieWIl+etm+mAieadoeS7ticKICAgICAgfQogICAgICAvLyB7CiAgICAgIC8vICAgY29kZTogJ0ZJTFRFUl9DRUxsJywKICAgICAgLy8gICBuYW1lOiAn5qC55o2u5Y2V5YWD5qC85YC8562b6YCJJwogICAgICAvLyB9CiAgICAgIF0KICAgIH0sIHsKICAgICAgY29kZTogJ3NvcnQnLAogICAgICBuYW1lOiAn5o6S5bqPJywKICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgY29kZTogJ2NsZWFyU29ydCcsCiAgICAgICAgbmFtZTogJ+a4hemZpOaOkuW6jycKICAgICAgfSwgewogICAgICAgIGNvZGU6ICdzb3J0QXNjJywKICAgICAgICBuYW1lOiAn5Y2H5bqPJwogICAgICB9LCB7CiAgICAgICAgY29kZTogJ3NvcnREZXNjJywKICAgICAgICBuYW1lOiAn5YCS5bqPJwogICAgICB9XQogICAgfV1dCiAgfSwKICBib2R5OiB7CiAgICBvcHRpb25zOiBbW3sKICAgICAgY29kZTogJ0ZJTFRFUicsCiAgICAgIG5hbWU6ICfooYzmk43kvZwnLAogICAgICBjaGlsZHJlbjogW3sKICAgICAgICBjb2RlOiAncmVtb3ZlJywKICAgICAgICBuYW1lOiAn56e76Zmk5b2T5YmN6KGMJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UKICAgICAgfSwgewogICAgICAgIGNvZGU6ICdERUxFVEVfU0VMRUNURURfUk9XJywKICAgICAgICBuYW1lOiAn56e76Zmk6YCJ5Lit6KGMJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UKICAgICAgfSwgewogICAgICAgIGNvZGU6ICdDTEVBUl9ST1cnLAogICAgICAgIG5hbWU6ICfmuIXpmaTlvZPliY3ooYzmlbDmja7nmoTlgLwnCiAgICAgIH0sIHsKICAgICAgICBjb2RlOiAnUkVWRVJUX1JPVycsCiAgICAgICAgbmFtZTogJ+i/mOWOn+W9k+WJjeihjOaVsOaNrueahOWAvCcKICAgICAgfSwgewogICAgICAgIGNvZGU6ICdDTEVBUl9TRUxFQ1RFRF9ST1cnLAogICAgICAgIG5hbWU6ICfmuIXpmaTpgInkuK3ooYzmlbDmja7nmoTlgLwnCiAgICAgIH0sIHsKICAgICAgICBjb2RlOiAnUkVWRVJUX1NFTEVDVEVEX1JPVycsCiAgICAgICAgbmFtZTogJ+i/mOWOn+mAieS4reihjOaVsOaNrueahOWAvCcKICAgICAgfSwgewogICAgICAgIGNvZGU6ICdDTEVBUl9BTEwnLAogICAgICAgIG5hbWU6ICfmuIXpmaTmiYDmnInmlbDmja7nmoTlgLwnCiAgICAgIH0sIHsKICAgICAgICBjb2RlOiAnUkVWRVJUX0FMTCcsCiAgICAgICAgbmFtZTogJ+i/mOWOn+aJgOacieaVsOaNrueahOWAvCcKICAgICAgfV0KICAgIH1dLCBbewogICAgICBjb2RlOiAnY2xlYXInLAogICAgICBuYW1lOiAn5riF6Zmk5b2T5YmN5Y2V5YWD5qC85YaF5a65JywKICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICB9LCB7CiAgICAgIGNvZGU6ICdpbnNlcnRBdCcsCiAgICAgIG5hbWU6ICfmlrDlop7kuIDmnaHmlbDmja4nLAogICAgICBkaXNhYmxlZDogZmFsc2UKICAgIH0sIHsKICAgICAgY29kZTogJ0lOU0VSVF9BVF9BQ1RJVkVEX1JPVycsCiAgICAgIG5hbWU6ICfmj5LlhaXmlbDmja7liLDlvZPliY3ooYwnLAogICAgICBkaXNhYmxlZDogZmFsc2UKICAgIH0sIHsKICAgICAgY29kZTogJ3ZlcmlmeScsCiAgICAgIG5hbWU6ICfmoKHpqozlubblrprkvY3liLDnrKzkuIDkuKrplJnor68nLAogICAgICBkaXNhYmxlZDogZmFsc2UKICAgIH0sIHsKICAgICAgY29kZTogJ3JldmVydCcsCiAgICAgIG5hbWU6ICfmkqTmtojmiYDmnInmk43kvZwnLAogICAgICBkaXNhYmxlZDogZmFsc2UKICAgIH0sIHsKICAgICAgY29kZTogJ3pvb20nLAogICAgICBuYW1lOiAnIOWIh+aNouihqOagvOacgOWkp+WMli/ov5jljp8nLAogICAgICBkaXNhYmxlZDogZmFsc2UKICAgIH0sIHsKICAgICAgY29kZTogJ2V4cG9ydERhdGFYbHN4JywKICAgICAgbmFtZTogJ+WvvOWHuuS4ukV4Y2VsJywKICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICB9LCB7CiAgICAgIGNvZGU6ICdsb2dDdXJyZW50RGF0YScsCiAgICAgIG5hbWU6ICdsb2flvZPliY3mlbDmja4nLAogICAgICBkaXNhYmxlZDogZmFsc2UKICAgIH0KICAgIC8vIHsgY29kZTogJ2NvcHknLCBuYW1lOiAn5aSN5Yi2JywgcHJlZml4SWNvbjogJ2ZhIGZhLWNvcHknLCBkaXNhYmxlZDogZmFsc2UgfSwKICAgIC8vIHsgY29kZTogJ3Bhc3RlJywgbmFtZTogJ+eymOi0tCcsIHByZWZpeEljb246ICdmYSBmYS1wYXN0ZScsIGRpc2FibGVkOiBmYWxzZSB9CiAgICAvLyB7IGNvZGU6ICdyZWxvYWQnLCBuYW1lOiAn5Yi35pawJywgZGlzYWJsZWQ6IGZhbHNlIH0sCiAgICAvLyB7IGNvZGU6ICdzYXZlJywgbmFtZTogJ+S/neWtmCcsIHByZWZpeEljb246ICdmYSBmYS1zYXZlJywgZGlzYWJsZWQ6IGZhbHNlIH0KICAgIF1dCiAgfSwKICB2aXNpYmxlTWV0aG9kOiBmdW5jdGlvbiB2aXNpYmxlTWV0aG9kKF9yZWYxMTQpIHsKICAgIHZhciBvcHRpb25zID0gX3JlZjExNC5vcHRpb25zLAogICAgICBjb2x1bW4gPSBfcmVmMTE0LmNvbHVtbjsKICAgIC8vIGxldCBpc0Rpc2FibGVkID0gIWNvbHVtbgogICAgLy8gb3B0aW9ucy5mb3JFYWNoKGxpc3QgPT4gewogICAgLy8gICBsaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAvLyAgICAgaXRlbS5kaXNhYmxlZCA9IGlzRGlzYWJsZWQKICAgIC8vICAgfSkKICAgIC8vIH0pCiAgICByZXR1cm4gdHJ1ZTsKICB9Cn07"},{"version":3,"names":["defaultGloabalUtils","calculateRender","h","renderOpts","_ref","context","$columnIndex","$rowIndex","items","column","data","row","$seq","$table","$type","columnIndex","isEdit","level","rowIndex","seq","calclate","columns","key","rever","some","item","index","field","regR","test","formula","formulaItem","Array","isArray","children","length","RegExp","keyC","reg","value","replace","isNaN","parseFloat","console","log","concat","eval","toFixed","$grid","property","val","$parent","toolbarConfigInCopy","disabledMoneyConversion","Number","toLocaleString","split","moneyUnit","calculateFooter","_ref2","columnIndexText","combinedType","map","own","indexOf","result","toString","join","reduce","prev","next","e","calculateFooter_average","_ref3","calculateFooter_subTotal","_ref4","selections","getCheckboxRecords","calculateFooter_total","_ref5","calculateFooter_totalAll","_ref6","footerConfigIn","totalObj","cellRenderers","$vxeTree","renderDefault","_ref7","_ref8","name","props","_ref9","config","multiple","multipleValueType","idArr","codeArr","nameArr","_objectSpread","ref","editble","isDropSelectTree","on","renderCell","_ref10","_ref11","_ref12","renderEdit","_ref13","_ref14","_ref15","renderData","input","onNodeClick","_ref16","treeData","id","code","onNodeCheckClick","_ref17","renderItem","_ref18","_ref19","$form","_ref20","_ref21","_ref22","NotData","renderEmpty","$calculateRender","_ref23","_ref24","_ref25","$moneyRender","_ref26","_ref27","_ref28","_ref29","_this","callback","$$v","$set","_ref30","_ref31","$treeText","cellRender","_ref32","noCode","treelineData","text","_ref33","$treeinput","_ref34","timeStamp","Date","valueArr","_ref35","_this2","options","$treeTextCheck","_ref36","names","codes","line","i","len","$treeinputCheck","_ref37","_ref38","_this3","$EditDownTextarea","autofocus","params","_ref39","$EditDownJson","_ref40","JSON","stringify","$EditDownConditions","_ref41","_ref42","$optionSort","_ref43","_ref44","$excel","self","click","onOptionSortRowClick","optionType","optionRow","_ref45","status","onOptionRowClick","$vxeProgress","_ref46","_ref47","_ref48","_ref49","_ref50","_ref51","$vxeSwitch","_ref52","_ref53","_this4","label","_ref54","_ref55","_this5","_ref56","_ref57","_this6","$vxeDays","_ref58","_ref59","quiteDay","Math","floor","_ref60","_ref61","_ref62","_ref63","_this7","$vxeTime","_ref64","_ref65","format","_ref66","_ref67","_ref68","_ref69","_this8","$span","_ref70","_ref71","_this9","$href","_ref72","_ref73","_ref74","vexInput","editRender","_ref75","_this10","_ref76","$vxeSelect","_ref77","_ref78","_this11","_ref79","_ref80","undefined","forEach","push","arrValue","filter","_ref81","_ref82","$vxeRadio","_ref83","_ref84","_this12","propsC","_mergeJSXProps","_ref85","_ref86","_ref87","_ref88","$vxeCheckbox","_ref89","_ref90","_this13","_mergeJSXProps2","_ref91","_ref92","_ref93","_ref94","$vexDynamicSelect","_ref95","_ref96","_ref97","_this14","_ref98","_ref99","$contentTable","renderExpand","_ref100","_ref101","tableConfig","globalConfig","checkType","childCols","childData","filterRenderers","FilterComplex","isFooter","renderFilter","filterResetMethod","_ref102","option","type","isCase","filterMethod","_ref103","cellValue","_option$data","toLowerCase","String","FilterContent","_ref104","vals","sVal","_ref105","shift","includes","FilterInput","_ref106","FilterSelect","_ref107","defaultRenderers","tableColumns","rowDrop","width","title","className","slots","default","_default","obj","header","_ref108","bsTable","showRowDropHelpTip","align","fixed","sortable","checkbox","optionSort","radio","editable","pagerConfig","pageSizes","layouts","perfect","left","tableFormConfig","keyWord","itemRender","placeholder","content","tableStyleConfig","height","maxHeight","border","highlightCurrentRow","highlightHoverRow","defaultFormatters","formatMoney","_ref109","num","digitUppercase","_ref110","n","fraction","digit","unit","head","abs","s","pow","p","j","formatAmount","_ref111","digits","_this15","$XEUtils","commafy","footerConfig","showFooter","footerMethod","_ref112","footerData","footerSpanMethod","_ref113","rowspan","colspan","contextMenuConfig","disabled","body","visible","visibleMethod","_ref114"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/components/TableBak/config/tableDefaultConfig.js"],"sourcesContent":["// tableDefaultConfig   Author:Titans@2396757591@qq.com\r\n/* eslint-disable no-eval */\r\n/* eslint-disable no-new-wrappers */\r\n/* eslint-disable no-useless-escape */\r\nconst defaultGloabalUtils = {\r\n  calculateRender(h, renderOpts, { $columnIndex, $rowIndex, items, column, data, row, $seq, $table, $type, columnIndex, isEdit, level, rowIndex, seq }, context) {\r\n    function calclate(columns, row, key) {\r\n      function rever(columns) {\r\n        columns.some((item, index) => {\r\n          if (item.field === key && regR.test(item.formula)) {\r\n            formulaItem = item\r\n            return true\r\n          }\r\n          if (!formulaItem && Array.isArray(item.children) && item.children.length) {\r\n            rever(item.children)\r\n          }\r\n        })\r\n      }\r\n      let formulaItem = false\r\n      let regR = new RegExp('({[a-zA-Z0-9_]*})', 'ig')\r\n      rever(columns)\r\n      if (formulaItem) {\r\n        let formula = formulaItem.formula\r\n        for (let keyC in row) {\r\n          let reg = new RegExp('({' + keyC + '})', 'ig')\r\n          if (reg.test(formula)) {\r\n            calclate(items, row, keyC)\r\n            let value = (typeof (row[keyC]) === 'number' || typeof (row[keyC]) === 'string') ? row[keyC] : 0\r\n            formula = formula.replace(reg, isNaN(parseFloat(value)) ? 0 : parseFloat(value))\r\n          }\r\n        }\r\n        if (regR.test(formula)) {\r\n          formula = formula.replace(regR, 0)\r\n          console.log(`计算时公式依赖的字段数值未定义可能导致计算有误,当前行数据为:${row},计算公式为:${formulaItem.formula}，替换值后公式为${formula}`)\r\n        }\r\n        row[key] = eval(formula).toFixed(2)\r\n        // row[key] = parseFloat(row[key].split('.').length === 1 ? row[key] + '.00' : (row[key].split('.')[0].length === 1 ? row[key] + '0' : row[key]))\r\n      }\r\n      return row[key]\r\n    }\r\n    calclate(context.$grid.columns, row, column.property)\r\n    let val = isNaN(parseFloat(row[column.property])) ? 0 : parseFloat(row[column.property])\r\n    if (context.$grid.$parent.toolbarConfigInCopy.disabledMoneyConversion) {\r\n      val = Number((val).toFixed(2)).toLocaleString()\r\n      val = val.split('.').length === 1 ? val + '.00' : (val.split('.')[1].length === 1 ? val + '0' : val)\r\n      return [<span class=\"text\" >{val}</span>]\r\n    } else {\r\n      let moneyUnit = context.$grid.$parent.moneyUnit ? context.$grid.$parent.moneyUnit : 1\r\n      val = Number((val / moneyUnit).toFixed(2)).toLocaleString()\r\n      val = val.split('.').length === 1 ? val + '.00' : (val.split('.')[1].length === 1 ? val + '0' : val)\r\n      return [<span>{val}</span>]\r\n    }\r\n  },\r\n  calculateFooter({ columns, data, $table, $grid, columnIndexText, combinedType }, context) {\r\n    // let moneyUnit = $grid.$parent.moneyUnit ? $grid.$parent.moneyUnit : 1\r\n    // console.log(moneyUnit)\r\n    return columns.map((column, columnIndex) => {\r\n      //  combinedType: ['average', 'total'],\r\n      // let combinedType = 'total'\r\n      if (columnIndex === 0) {\r\n        return columnIndexText\r\n      } else if (Array.isArray(column.own.combinedType) && column.own.combinedType.indexOf(combinedType) >= 0) {\r\n        try {\r\n          let result = data.map((item, index) => {\r\n            let value = (typeof (item[column.property]) === 'number' || typeof (item[column.property]) === 'string') ? parseFloat(item[column.property].toString().split(',').join('')) : 0\r\n            return isNaN(parseFloat(value)) ? 0 : parseFloat(value)\r\n          })\r\n          if (result.length) {\r\n            result = result.reduce((prev, next) => {\r\n              return prev + next\r\n            })\r\n            if (combinedType === 'average') {\r\n              result = result / data.length\r\n            }\r\n            result = Number((result).toFixed(2)).toLocaleString()\r\n            result = result.split('.').length === 1 ? result + '.00' : (result.split('.')[1].length === 1 ? result + '0' : result)\r\n            return result\r\n          } else {\r\n            return '0.00'\r\n          }\r\n        } catch (e) {}\r\n      } else {\r\n        return ''\r\n      }\r\n    })\r\n  },\r\n  calculateFooter_average({ columns, data, $table, $grid }) {\r\n    let moneyUnit = $grid.$parent.moneyUnit ? $grid.$parent.moneyUnit : 1\r\n    // console.log(moneyUnit)\r\n    return columns.map((column, columnIndex) => {\r\n      //  combinedType: ['average', 'total'],\r\n      // let combinedType = 'total'\r\n      if (columnIndex === 0) {\r\n        return '平均'\r\n      } else if (Array.isArray(column.own.combinedType) && column.own.combinedType.indexOf('average') >= 0) {\r\n        try {\r\n          let result = data.map((item, index) => {\r\n            let value = (typeof (item[column.property]) === 'number' || typeof (item[column.property]) === 'string') ? parseFloat(item[column.property].toString().split(',').join('')) : 0\r\n            return isNaN(parseFloat(value)) ? 0 : parseFloat(value)\r\n          })\r\n          if (result.length) {\r\n            result = result.reduce((prev, next) => {\r\n              return prev + next\r\n            })\r\n            result = result / data.length\r\n            result = Number((result / moneyUnit).toFixed(2)).toLocaleString()\r\n            result = result.split('.').length === 1 ? result + '.00' : (result.split('.')[1].length === 1 ? result + '0' : result)\r\n            return result\r\n          } else {\r\n            return '0.00'\r\n          }\r\n        } catch (e) {}\r\n      } else {\r\n        return ''\r\n      }\r\n    })\r\n  },\r\n  calculateFooter_subTotal({ columns, data, $table, $grid }) {\r\n    let moneyUnit = $grid.$parent.moneyUnit ? $grid.$parent.moneyUnit : 1\r\n    // console.log(moneyUnit)\r\n    let selections = $grid.getCheckboxRecords()\r\n    return columns.map((column, columnIndex) => {\r\n      //  combinedType: ['average', 'total'],\r\n      // let combinedType = 'total'\r\n      if (columnIndex === 0) {\r\n        return '已选(' + $grid.getCheckboxRecords().length + ')'\r\n      } else if (Array.isArray(column.own.combinedType) && column.own.combinedType.indexOf('subTotal') >= 0) {\r\n        try {\r\n          let result = selections.map((item, index) => {\r\n            let value = (typeof (item[column.property]) === 'number' || typeof (item[column.property]) === 'string') ? parseFloat(item[column.property].toString().split(',').join('')) : 0\r\n            return isNaN(parseFloat(value)) ? 0 : parseFloat(value)\r\n          })\r\n          if (result.length) {\r\n            result = result.reduce((prev, next) => {\r\n              return prev + next\r\n            })\r\n            result = Number((result / moneyUnit).toFixed(2)).toLocaleString()\r\n            result = result.split('.').length === 1 ? result + '.00' : (result.split('.')[1].length === 1 ? result + '0' : result)\r\n            return result\r\n          } else {\r\n            return '0.00'\r\n          }\r\n        } catch (e) {}\r\n      } else {\r\n        return ''\r\n      }\r\n    })\r\n  },\r\n  calculateFooter_total({ columns, data, $table, $grid }) {\r\n    let moneyUnit = $grid.$parent.moneyUnit ? $grid.$parent.moneyUnit : 1\r\n    // console.log(moneyUnit)\r\n    return columns.map((column, columnIndex) => {\r\n      if (columnIndex === 0) {\r\n        return '合计'\r\n      } else if (Array.isArray(column.own.combinedType) && column.own.combinedType.indexOf('total') >= 0) {\r\n        try {\r\n          let result = data.map((item, index) => {\r\n            let value = (typeof (item[column.property]) === 'number' || typeof (item[column.property]) === 'string') ? parseFloat(item[column.property].toString().split(',').join('')) : 0\r\n            return isNaN(parseFloat(value)) ? 0 : parseFloat(value)\r\n          })\r\n          if (result.length) {\r\n            result = result.reduce((prev, next) => {\r\n              return prev + next\r\n            })\r\n            result = Number((result / moneyUnit).toFixed(2)).toLocaleString()\r\n            result = result.split('.').length === 1 ? result + '.00' : (result.split('.')[1].length === 1 ? result + '0' : result)\r\n            return result\r\n          } else {\r\n            return '0.00'\r\n          }\r\n        } catch (e) {}\r\n      } else {\r\n        return ''\r\n      }\r\n    })\r\n  },\r\n  calculateFooter_totalAll({ columns, data, $table, $grid }) {\r\n    let moneyUnit = $grid.$parent.moneyUnit ? $grid.$parent.moneyUnit : 1\r\n    // console.log(moneyUnit)\r\n    let item = $grid.$parent.footerConfigIn.totalObj || {}\r\n    return columns.map((column, columnIndex) => {\r\n      if (columnIndex === 0) {\r\n        return '总计'\r\n      } else if (Array.isArray(column.own.combinedType) && column.own.combinedType.indexOf('totalAll') >= 0) {\r\n        try {\r\n          let value = (typeof (item[column.property]) === 'number' || typeof (item[column.property]) === 'string') ? parseFloat(item[column.property].toString().split(',').join('')) : 0\r\n          let result = Number((value / moneyUnit).toFixed(2)).toLocaleString()\r\n          result = result.split('.').length === 1 ? result + '.00' : (result.split('.')[1].length === 1 ? result + '0' : result)\r\n          return result\r\n        } catch (e) { }\r\n      } else {\r\n        return ''\r\n      }\r\n    })\r\n  }\r\n}\r\nconst cellRenderers = {\r\n  // 全局渲染器\r\n  // cellRender渲染器名字配置\r\n  // autofocus 自动聚焦的类名\r\n  // renderHeader(h, renderOpts, params) 表头\r\n  // renderEdit(h, renderOpts, params) 表内容 - 编辑\r\n  // renderCell(h, renderOpts, params) 表内容 - 显示\r\n  // renderFooter(h, renderOpts, params) 表尾\r\n  // editCellExportMethod(params) 单元格导出函数\r\n  // footerCellExportMethod(params) 表尾单元格导出函数\r\n  $vxeTree: {\r\n    renderDefault(h, { name, props }, { row, column }) {\r\n      const { multiple, multipleValueType } = (props && props.config) || { multiple: true, multipleValueType: 'Array' }\r\n      if (!multiple) {\r\n        row[column.property] = [row[column.property + 'code'], row[column.property + 'name'], row[column.property + 'id']].map((item, index) => {\r\n          return (item + '').replace(/null|NaN|undefined/ig, '')\r\n        }).join('##')\r\n        row[column.property] = row[column.property] === '####' ? '' : row[column.property]\r\n      } else {\r\n        let idArr = typeof (row[column.property + 'id']) === 'string' ? row[column.property + 'id'].split(',') : (Array.isArray(row[column.property + 'id']) ? row[column.property + 'id'] : [])\r\n        let codeArr = typeof (row[column.property + 'code']) === 'string' ? row[column.property + 'code'].split(',') : (Array.isArray(row[column.property + 'code']) ? row[column.property + 'code'] : [])\r\n        let nameArr = typeof (row[column.property + 'name']) === 'string' ? row[column.property + 'name'].split(',') : (Array.isArray(row[column.property + 'name']) ? row[column.property + 'name'] : [])\r\n        if (multipleValueType === 'String') {\r\n          row[column.property + 'id'] = idArr.join(',')\r\n          row[column.property + 'code'] = idArr.join(',')\r\n          row[column.property + 'name'] = idArr.join(',')\r\n        } else {\r\n          row[column.property + 'id'] = idArr\r\n          row[column.property + 'code'] = codeArr\r\n          row[column.property + 'name'] = nameArr\r\n        }\r\n        row[column.property] = codeArr.map((item, index) => {\r\n          return [codeArr[index], nameArr[index], idArr[index]].map((item, index) => {\r\n            return (item + '').replace(/null|NaN|undefined/ig, '')\r\n          }).join('##')\r\n        }).join(',')\r\n      }\r\n      return [\r\n        h('BsTree', {\r\n          props: {\r\n            ref: 'vxe-tree-' + column.property,\r\n            value: row[column.property],\r\n            editble: false,\r\n            ...props,\r\n            isDropSelectTree: true\r\n          },\r\n          on: {}\r\n        })\r\n      ]\r\n    },\r\n    renderCell(h, { name, props }, { row, column }) {\r\n      const { multiple, multipleValueType } = (props && props.config) || { multiple: true, multipleValueType: 'Array' }\r\n      if (!multiple) {\r\n        row[column.property] = [row[column.property + 'code'], row[column.property + 'name'], row[column.property + 'id']].map((item, index) => {\r\n          return (item + '').replace(/null|NaN|undefined/ig, ' ')\r\n        }).join('##')\r\n        row[column.property] = row[column.property] === '####' ? '' : row[column.property]\r\n      } else {\r\n        let idArr = typeof (row[column.property + 'id']) === 'string' ? row[column.property + 'id'].split(',') : (Array.isArray(row[column.property + 'id']) ? row[column.property + 'id'] : [])\r\n        let codeArr = typeof (row[column.property + 'code']) === 'string' ? row[column.property + 'code'].split(',') : (Array.isArray(row[column.property + 'code']) ? row[column.property + 'code'] : [])\r\n        let nameArr = typeof (row[column.property + 'name']) === 'string' ? row[column.property + 'name'].split(',') : (Array.isArray(row[column.property + 'name']) ? row[column.property + 'name'] : [])\r\n        if (multipleValueType === 'String') {\r\n          row[column.property + 'id'] = idArr.join(',')\r\n          row[column.property + 'code'] = idArr.join(',')\r\n          row[column.property + 'name'] = idArr.join(',')\r\n        } else {\r\n          row[column.property + 'id'] = idArr\r\n          row[column.property + 'code'] = codeArr\r\n          row[column.property + 'name'] = nameArr\r\n        }\r\n        row[column.property] = nameArr.length ? codeArr.map((item, index) => {\r\n          return [codeArr[index], nameArr[index], idArr[index]].map((item, index) => {\r\n            return (item + '').replace(/null|NaN|undefined/ig, ' ')\r\n          }).join('##')\r\n        }).join(',') : ''\r\n      }\r\n      return [\r\n        h('BsTree', {\r\n          props: {\r\n            ref: 'vxe-tree-' + column.property,\r\n            value: row[column.property],\r\n            editble: false,\r\n            ...props,\r\n            isDropSelectTree: true\r\n          },\r\n          on: {\r\n          }\r\n        })\r\n      ]\r\n    },\r\n    renderEdit(h, { name, props }, { row, column }) {\r\n      const { multipleValueType } = (props && props.config) || { multiple: true, multipleValueType: 'Array' }\r\n      let renderData = row\r\n      return [\r\n        h('BsTree', {\r\n          props: {\r\n            ref: 'vxe-tree-' + column.property,\r\n            editble: true,\r\n            value: row[column.property],\r\n            ...props,\r\n            isDropSelectTree: true\r\n          },\r\n          on: {\r\n            input: (value) => {\r\n              renderData[column.property] = value\r\n            },\r\n            onNodeClick({ data, treeData }) {\r\n              renderData[column.property + 'id'] = data.id\r\n              renderData[column.property + 'code'] = data.code\r\n              renderData[column.property + 'name'] = data.name\r\n            },\r\n            onNodeCheckClick({ data, treeData, value }) {\r\n              renderData[column.property + 'id'] = data.map((item, index) => {\r\n                return item.id ? item.id : ''\r\n              })\r\n              renderData[column.property + 'code'] = data.map((item, index) => {\r\n                return item.code ? item.code : ''\r\n              })\r\n              renderData[column.property + 'name'] = data.map((item, index) => {\r\n                return item.name ? item.name : ''\r\n              })\r\n              if (multipleValueType === 'String') {\r\n                renderData[column.property + 'id'] = renderData[column.property + 'id'].join(',')\r\n                renderData[column.property + 'code'] = renderData[column.property + 'code'].join(',')\r\n                renderData[column.property + 'name'] = renderData[column.property + 'name'].join(',')\r\n              }\r\n            }\r\n          }\r\n        })\r\n      ]\r\n    },\r\n    renderItem(h, { props }, { $form, property, data }) {\r\n      let renderData = data\r\n      const { multipleValueType, multiple } = (props && props.config) || { multiple: true, multipleValueType: 'Array' }\r\n      if (!multiple) {\r\n        data[property] = [data[property + 'code'], data[property + 'name'], data[property + 'id']].map((item, index) => {\r\n          return (item + '').replace(/null|NaN|undefined/ig, ' ')\r\n        }).join('##')\r\n      } else {\r\n        let idArr = typeof (data[property + 'id']) === 'string' ? data[property + 'id'].split(',') : (Array.isArray(data[property + 'id']) ? data[property + 'id'] : [])\r\n        let codeArr = typeof (data[property + 'code']) === 'string' ? data[property + 'code'].split(',') : (Array.isArray(data[property + 'code']) ? data[property + 'code'] : [])\r\n        let nameArr = typeof (data[property + 'name']) === 'string' ? data[property + 'name'].split(',') : (Array.isArray(data[property + 'name']) ? data[property + 'name'] : [])\r\n        if (multipleValueType === 'String') {\r\n          data[property + 'id'] = idArr.join(',')\r\n          data[property + 'code'] = idArr.join(',')\r\n          data[property + 'name'] = idArr.join(',')\r\n        } else {\r\n          data[property + 'id'] = idArr\r\n          data[property + 'code'] = codeArr\r\n          data[property + 'name'] = nameArr\r\n        }\r\n        data[property] = nameArr.length ? codeArr.map((item, index) => {\r\n          return [codeArr[index], nameArr[index], idArr[index]].map((item, index) => {\r\n            return (item + '').replace(/null|NaN|undefined/ig, '')\r\n          }).join('##')\r\n        }).join(',') : ''\r\n      }\r\n      return [\r\n        h('BsTree', {\r\n          props: {\r\n            ref: 'vxe-tree-' + property,\r\n            editble: true,\r\n            value: data[property],\r\n            ...props,\r\n            isDropSelectTree: true\r\n          },\r\n          on: {\r\n            input: (value) => {\r\n              data[property] = value\r\n            },\r\n            onNodeClick({ data, treeData }) {\r\n              renderData[property + 'id'] = data.id\r\n              renderData[property + 'code'] = data.code\r\n              renderData[property + 'name'] = data.name\r\n            },\r\n            onNodeCheckClick({ data, treeData, value }) {\r\n              renderData[property + 'id'] = data.map((item, index) => {\r\n                return item.id ? item.id : ''\r\n              })\r\n              renderData[property + 'code'] = data.map((item, index) => {\r\n                return item.code ? item.code : ''\r\n              })\r\n              renderData[property + 'name'] = data.map((item, index) => {\r\n                return item.name ? item.name : ''\r\n              })\r\n              if (multipleValueType === 'String') {\r\n                renderData[property + 'id'] = renderData[property + 'id'].join(',')\r\n                renderData[property + 'code'] = renderData[property + 'code'].join(',')\r\n                renderData[property + 'name'] = renderData[property + 'name'].join(',')\r\n              }\r\n            }\r\n          }\r\n        })\r\n      ]\r\n    }\r\n  },\r\n  NotData: {\r\n    // 空内容模板\r\n    renderEmpty(h, renderOpts) {\r\n      return [\r\n        <div>\r\n          <span>\r\n            <p>亲，没有更多数据了！</p>\r\n          </span>\r\n        </div>\r\n      ]\r\n    }\r\n  },\r\n  $calculateRender: {\r\n    // 计算列\r\n    // let row = {\r\n    //   a: 1,\r\n    //   b: 2,\r\n    //   c: 3\r\n    // }\r\n    // let formula = 'Math.pow({a}+{b},{c})'\r\n    // for (let k in row) {\r\n    // let reg = new RegExp('({' + k + '})', 'ig')\r\n    //   if (reg.test(formula)) {\r\n    //     formula = formula.replace(reg, row[k])\r\n    //   }\r\n    // }\r\n    // let calcResult = (new Function('console.log(formula);return eval(formula)'))()\r\n    renderDefault(h, renderOpts, { $columnIndex, $rowIndex, items, column, data, row, $seq, $table, $type, columnIndex, isEdit, level, rowIndex, seq }, context) {\r\n      return defaultGloabalUtils.calculateRender(h, renderOpts, { $columnIndex, $rowIndex, items, column, data, row, $seq, $table, $type, columnIndex, isEdit, level, rowIndex, seq }, context)\r\n    },\r\n    renderCell(h, renderOpts, { $columnIndex, $rowIndex, items, column, data, row, $seq, $table, $type, columnIndex, isEdit, level, rowIndex, seq }, context) {\r\n      return defaultGloabalUtils.calculateRender(h, renderOpts, { $columnIndex, $rowIndex, items, column, data, row, $seq, $table, $type, columnIndex, isEdit, level, rowIndex, seq }, context)\r\n    },\r\n    renderEdit(h, renderOpts, { $columnIndex, $rowIndex, items, column, data, row, $seq, $table, $type, columnIndex, isEdit, level, rowIndex, seq }, context) {\r\n      return defaultGloabalUtils.calculateRender(h, renderOpts, { $columnIndex, $rowIndex, items, column, data, row, $seq, $table, $type, columnIndex, isEdit, level, rowIndex, seq }, context)\r\n      // return [\r\n      //   <vxe-input\r\n      //     v-model={row[column.property]}\r\n      //     placeholder=\"自动计算\"\r\n      //     readonly\r\n      //     clearable\r\n      //   ></vxe-input>\r\n      // ]\r\n    }\r\n  },\r\n  $moneyRender: {\r\n    // 输入框\r\n    renderDefault(h, { props }, { row, column }, context) {\r\n      props = props || {}\r\n      let val = isNaN(parseFloat(row[column.property])) ? '' : parseFloat(row[column.property])\r\n      if (val !== '') {\r\n        row[column.property] = val.toFixed(2)\r\n        if (context.$grid.$parent.toolbarConfigInCopy.disabledMoneyConversion) {\r\n          val = Number((val).toFixed(2)).toLocaleString()\r\n          val = val.split('.').length === 1 ? val + '.00' : (val.split('.')[1].length === 1 ? val + '0' : val)\r\n          return [<span class=\"text\" {...{ props }} >{val}</span>]\r\n        } else {\r\n          let moneyUnit = context.$grid.$parent.moneyUnit ? context.$grid.$parent.moneyUnit : 1\r\n          val = Number((val / moneyUnit).toFixed(2)).toLocaleString()\r\n          val = val.split('.').length === 1 ? val + '.00' : (val.split('.')[1].length === 1 ? val + '0' : val)\r\n          return [<span class=\"text\" {...{ props }} >{val}</span>]\r\n        }\r\n      } else {\r\n        return [<span class=\"text\" {...{ props }} ></span>]\r\n      }\r\n    },\r\n    renderEdit(h, { props }, { row, column }) {\r\n      // let val = isNaN(parseFloat(row[column.property])) ? '0.00' : parseFloat(row[column.property])\r\n      // row[column.property] = val\r\n      props = props || {}\r\n      // <vxe-input v-model=\"value504\" placeholder=\"小数间隔 2.3\" type=\"float\" step=\"2.3\" clearable></vxe-input>\r\n      return [\r\n        <vxe-input\r\n          v-model={row[column.property]}\r\n          step={ 1 }\r\n          type=\"float\"\r\n          min = { 0.00 }\r\n          {...{ props }}\r\n          max={1000000000000}\r\n          placeholder=\"可清除\"\r\n          clearable\r\n        ></vxe-input>\r\n        // <input class=\"my-cell\" text=\"text\" v-model={ row[column.property] } />\r\n      ]\r\n    },\r\n    renderCell(h, { props }, { row, column }, context) {\r\n      props = props || {}\r\n      let val = isNaN(parseFloat(row[column.property])) ? '' : parseFloat(row[column.property])\r\n      if (val !== '') {\r\n        row[column.property] = val.toFixed(2)\r\n        if (context.$grid.$parent.toolbarConfigInCopy.disabledMoneyConversion) {\r\n          val = Number((val).toFixed(2)).toLocaleString()\r\n          val = val.split('.').length === 1 ? val + '.00' : (val.split('.')[1].length === 1 ? val + '0' : val)\r\n          return [<span class=\"text\" {...{ props }} >{val}</span>]\r\n        } else {\r\n          let moneyUnit = context.$grid.$parent.moneyUnit ? context.$grid.$parent.moneyUnit : 1\r\n          val = Number((val / moneyUnit).toFixed(2)).toLocaleString()\r\n          val = val.split('.').length === 1 ? val + '.00' : (val.split('.')[1].length === 1 ? val + '0' : val)\r\n          return [<span class=\"text\" {...{ props }} >{val}</span>]\r\n        }\r\n      } else {\r\n        return [<span class=\"text\" {...{ props }}></span>]\r\n      }\r\n    }\r\n  },\r\n  $treeText: {\r\n    renderCell(h, cellRender, { row, column }, context) {\r\n      const name = row[`${column.property}name`] === ' ' ? '' : row[`${column.property}name`]\r\n      const code = row[`${column.property}code`] === ' ' ? '' : row[`${column.property}code`]\r\n      const noCode = cellRender.props && cellRender.props.noCode\r\n      const treelineData = cellRender.props && cellRender.props.treelineData\r\n      let text = ''\r\n      if (treelineData) {\r\n        text = row[`${column.property}`] ? row[`${column.property}`] : ''\r\n      } else {\r\n        if (name) {\r\n          text = noCode ? `${name}` : `${code}-${name}`\r\n        }\r\n      }\r\n\r\n      return [<span class=\"text\">{text}</span>]\r\n    },\r\n    renderEdit(h, cellRender, { row, column }, context) {\r\n      const name = row[`${column.property}name`] === ' ' ? '' : row[`${column.property}name`]\r\n      const code = row[`${column.property}code`] === ' ' ? '' : row[`${column.property}code`]\r\n      const noCode = cellRender.props && cellRender.props.noCode\r\n      let text = ''\r\n      if (name) {\r\n        text = noCode ? `${name}` : `${code}-${name}`\r\n      }\r\n      return [\r\n        <vxe-input\r\n          v-model={text}\r\n          placeholder=\"自动计算\"\r\n          readonly\r\n          clearable\r\n        ></vxe-input>\r\n      ]\r\n      // return [<span class=\"text\">{text}</span>]\r\n    }\r\n  },\r\n  $treeinput: {\r\n    renderCell(h, cellRender, { row, column, $rowIndex }, context) {\r\n      // console.log('cell')\r\n      // 2、反向给tree 3元素赋值\r\n      let props = cellRender.props || {}\r\n      let property = column.property\r\n      props['prefix'] = property\r\n\r\n      let timeStamp = +new Date()\r\n      if (row[property]) {\r\n        const valueArr = row[property].split('##')\r\n        row[property + 'id'] = valueArr[0]\r\n        row[property + 'code'] = valueArr[1]\r\n        row[property + 'name'] = valueArr[2]\r\n      }\r\n\r\n      if (!row[property + 'id']) {\r\n        row[property] = 'initId' + timeStamp + '## ## '\r\n      } else {\r\n        row[property] = row[property + 'id'] + '##' + row[property + 'code'] + '##' + row[property + 'name']\r\n      }\r\n\r\n      const name = row[`${column.property}name`]\r\n      const code = row[`${column.property}code`]\r\n      const noCode = cellRender.props && cellRender.props.noCode\r\n\r\n      let text = ''\r\n      if (name && name !== ' ') {\r\n        text = noCode ? `${name}` : `${code}-${name}`\r\n      }\r\n\r\n      return [<span class = \"text\" > { text } </span>]\r\n    },\r\n    renderEdit(h, cellRender, { row, column }, context) {\r\n      // console.log('edit')\r\n      try {\r\n        let props = cellRender.props || {}\r\n        let property = column.property\r\n        let options = cellRender.options || []\r\n\r\n        props['prefix'] = property\r\n        let timeStamp = +new Date()\r\n        // 1、正向给tree 3元素赋值\r\n        if (!row[property + 'id']) {\r\n          // 情况1:只给了前缀，没有给3个值，初始化3个值\r\n          row[property + 'id'] = 'initId' + timeStamp\r\n          row[property + 'code'] = ' '\r\n          row[property + 'name'] = ' '\r\n        } else {\r\n          // 情况2: 给了前缀和id  code与name可能给了，可能没给； 给了的话优先用给了的值\r\n          row[property + 'code'] = row[property + 'code'] || ' '\r\n          row[property + 'name'] = row[property + 'name'] || ' '\r\n        }\r\n\r\n        // 2、反向给tree 3元素赋值\r\n        if (row[property]) {\r\n          const valueArr = row[property].split('##')\r\n          row[property + 'id'] = valueArr[0]\r\n          row[property + 'code'] = valueArr[1]\r\n          row[property + 'name'] = valueArr[2]\r\n        }\r\n\r\n        // 转接串  1、3个树节点均没有  2、有3个树节点数据\r\n        if (!row[property + 'id']) {\r\n          row[property] = 'initId' + timeStamp + '## ## '\r\n        } else {\r\n          row[property] = row[property + 'id'] + '##' + row[property + 'code'] + '##' + row[property + 'name']\r\n        }\r\n        return [\r\n          <BsTreeInput datas={ options } v-model={row[column.property]} {...{ props }} ></BsTreeInput>\r\n        ]\r\n      } catch (e) {}\r\n    }\r\n  },\r\n  $treeTextCheck: {\r\n    renderCell(h, cellRender, { row, column }, context) {\r\n      const name = row[`${column.property}name`] === ' ' ? '' : row[`${column.property}name`]\r\n      const code = row[`${column.property}code`] === ' ' ? '' : row[`${column.property}code`]\r\n      const noCode = cellRender.props && cellRender.props.noCode\r\n      let text = ''\r\n      if (name) {\r\n        let names = name.split(',')\r\n        let codes = code.split(',')\r\n        let line = ''\r\n        if (names.length === codes.length) {\r\n          for (let i = 0, len = names.length; i < len; i++) {\r\n            line += (noCode ? `${names[i]}` : `${codes[i]}-${names[i]}`)\r\n            if (i < len - 1) {\r\n              line += ','\r\n            }\r\n          }\r\n        } else {\r\n          console.log('table: code,name数量匹配不上')\r\n        }\r\n        text = line\r\n      }\r\n      return [<span class=\"text\">{text}</span>]\r\n    }\r\n  },\r\n  $treeinputCheck: {\r\n    renderCell(h, cellRender, { row, column, $rowIndex }, context) {\r\n      // console.log('cell')\r\n      // 2、反向给tree 3元素赋值\r\n      let props = cellRender.props || {}\r\n      let property = column.property\r\n      props['prefix'] = property\r\n\r\n      let timeStamp = +new Date()\r\n      if (row[property]) {\r\n        const valueArr = row[property].split('##')\r\n        row[property + 'id'] = valueArr[0]\r\n        row[property + 'code'] = valueArr[1]\r\n        row[property + 'name'] = valueArr[2]\r\n      }\r\n\r\n      if (!row[property + 'id']) {\r\n        row[property] = 'initId' + timeStamp + '## ## '\r\n      } else {\r\n        row[property] = row[property + 'id'] + '##' + row[property + 'code'] + '##' + row[property + 'name']\r\n      }\r\n\r\n      const name = row[`${column.property}name`]\r\n      const code = row[`${column.property}code`]\r\n      const noCode = cellRender.props && cellRender.props.noCode\r\n\r\n      let text = ''\r\n      if (name && name !== ' ') {\r\n        text = noCode ? `${name}` : `${code}-${name}`\r\n      }\r\n\r\n      return [<span class = \"text\" > { text } </span>]\r\n    },\r\n    renderEdit(h, cellRender, { row, column }, context) {\r\n      // console.log('edit')\r\n      try {\r\n        let props = cellRender.props || {}\r\n        let property = column.property\r\n        let options = cellRender.options || []\r\n\r\n        props['prefix'] = property\r\n        let timeStamp = +new Date()\r\n        // 1、正向给tree 3元素赋值\r\n        if (!row[property + 'id']) {\r\n          // 情况1:只给了前缀，没有给3个值，初始化3个值\r\n          row[property + 'id'] = 'initId' + timeStamp\r\n          row[property + 'code'] = ' '\r\n          row[property + 'name'] = ' '\r\n        } else {\r\n          // 情况2: 给了前缀和id  code与name可能给了，可能没给； 给了的话优先用给了的值\r\n          row[property + 'code'] = row[property + 'code'] || ' '\r\n          row[property + 'name'] = row[property + 'name'] || ' '\r\n        }\r\n\r\n        // 2、反向给tree 3元素赋值\r\n        if (row[property]) {\r\n          const valueArr = row[property].split('##')\r\n          row[property + 'id'] = valueArr[0]\r\n          row[property + 'code'] = valueArr[1]\r\n          row[property + 'name'] = valueArr[2]\r\n        }\r\n\r\n        // 转接串  1、3个树节点均没有  2、有3个树节点数据\r\n        if (!row[property + 'id']) {\r\n          row[property] = 'initId' + timeStamp + '## ## '\r\n        } else {\r\n          row[property] = row[property + 'id'] + '##' + row[property + 'code'] + '##' + row[property + 'name']\r\n        }\r\n        return [\r\n          <BsTreeInputTest datas={ options } v-model={row[column.property]} {...{ props }} ></BsTreeInputTest>\r\n        ]\r\n      } catch (e) {}\r\n    }\r\n  },\r\n  $EditDownTextarea: {\r\n    autofocus: '.vxe-input--inner',\r\n    renderEdit(h, renderOpts, params) {\r\n      return [\r\n        <edit-down-textarea params={ params }></edit-down-textarea>\r\n      ]\r\n    },\r\n    renderCell(h, cellRender, { row, column }, context) {\r\n      return [<span class=\"text\">{row[column.property]}</span>]\r\n    }\r\n  },\r\n  $EditDownJson: {\r\n    autofocus: '.vxe-input--inner',\r\n    renderEdit(h, renderOpts, params) {\r\n      return [\r\n        <edit-down-json params={ params }></edit-down-json>\r\n      ]\r\n    },\r\n    // renderCell(h, renderOpts, params) {\r\n    //   return [\r\n    //     <edit-down-json params={ params }></edit-down-json>\r\n    //   ]\r\n    // }\r\n    renderCell(h, cellRender, { row, column }, context) {\r\n      let value = JSON.stringify(row[column.property])\r\n      return [<span class=\"text\">{value}</span>]\r\n    }\r\n  },\r\n  $EditDownConditions: {\r\n    autofocus: '.vxe-input--inner',\r\n    renderEdit(h, { name, options, props }, params) {\r\n      return [\r\n        <edit-down-conditions constProps={ props } params={ params }></edit-down-conditions>\r\n      ]\r\n    },\r\n    renderCell(h, cellRender, { row, column }, context) {\r\n      return [<span class=\"text\">{row[column.property]}</span>]\r\n    }\r\n  },\r\n  $optionSort: {\r\n    renderDefault(h, cellRender, { $columnIndex, $rowIndex, items, column, data, row, $seq, columnIndex, isEdit, level, rowIndex, seq }, { $excel, $grid, $table, $type }) {\r\n      let self = $grid.$parent\r\n      // <a class=\"optionRow\" href={row.link}>{'操作' + row[column.property]}</a>\r\n      return [\r\n        <div class=\"row-dragsort-option row-option-group\">\r\n          <a class=\"optionRow-delete fn-inline\" onClick={() => self.onOptionSortRowClick({ row, column, $rowIndex, data, items, optionType: 'upSort' })}>上移</a>\r\n          <a class=\"optionRow-edit fn-inline\" onClick={() => self.onOptionSortRowClick({ row, column, $rowIndex, data, items, optionType: 'downSort' })}>下移</a>\r\n          <a class=\"optionRow-report fn-inline\" onClick={() => self.onOptionSortRowClick({ row, column, $rowIndex, data, items, optionType: 'topSort' })}>置顶</a>\r\n          <a class=\"optionRow-detail fn-inline\" onClick={() => self.onOptionSortRowClick({ row, column, $rowIndex, data, items, optionType: 'bottomSort' })}>置底</a>\r\n        </div>\r\n      ]\r\n    }\r\n  },\r\n  optionRow: {\r\n    renderDefault(h, cellRender, { row, column }, context) {\r\n      let self = context.$grid.$parent\r\n      // <a class=\"optionRow\" href={row.link}>{'操作' + row[column.property]}</a>\r\n      if (row.status === 0) {\r\n        return [\r\n          <div class=\"row-option row-option-group\">\r\n            <a class=\"optionRow-delete fn-inline\" onClick={() => self.onOptionRowClick({ row, column, optionType: 'delete' })}>删除</a>\r\n            <a class=\"optionRow-edit fn-inline\" onClick={() => self.onOptionRowClick({ row, column, optionType: 'edit' })}>编辑</a>\r\n            <a class=\"optionRow-report fn-inline\" onClick={() => self.onOptionRowClick({ row, column, optionType: 'report' })}>上报</a>\r\n            <a class=\"optionRow-detail fn-inline\" onClick={() => self.onOptionRowClick({ row, column, optionType: 'detail' })}>详情</a>\r\n          </div>\r\n        ]\r\n      } else {\r\n        return [\r\n          <div class=\"row-option row-option-group\">\r\n            <a class=\"optionRow-delete fn-inline\" onClick={() => self.onOptionRowClick({ row, column, optionType: 'delete' })}>删除</a>\r\n            <a class=\"optionRow-detail fn-inline\" onClick={() => self.onOptionRowClick({ row, column, optionType: 'detail' })}>详情</a>\r\n          </div>\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  $vxeProgress: {\r\n    // 进度条\r\n    renderCell(h, { props, options }, { row, column }) {\r\n      return [\r\n        <el-progress text-inside=\"true\" stroke-width=\"20\" percentage={row[column.property]} style=\"line-height:30px\"></el-progress>\r\n      ]\r\n    },\r\n    renderDefault(h, { props, options }, { row, column }) {\r\n      return [\r\n        <el-progress text-inside=\"true\" stroke-width=\"20\" percentage={row[column.property]} style=\"line-height:30px\"></el-progress>\r\n      ]\r\n    },\r\n    renderEdit(h, { props, options }, { row, column }) {\r\n      return [\r\n        <el-progress text-inside=\"true\" stroke-width=\"20\" percentage={row[column.property]} style=\"line-height:30px\"></el-progress>\r\n      ]\r\n    }\r\n  },\r\n  $vxeSwitch: {\r\n    // 开关\r\n    // props: {\r\n    //   options: [\r\n    //     { label: '是', value: 1 },\r\n    //     { label: '否', value: 0 }\r\n    //   ]\r\n    // }\r\n    renderCell(h, { props, options }, { row, column }) {\r\n      return [\r\n        <el-switch\r\n          {...{ props }}\r\n          active-text={ options[0].label }\r\n          inactive-text={ options[1].label }\r\n          v-model={row[column.property]}\r\n          active-color=\"#13ce66\"\r\n          active-value={ options[0].value }\r\n          inactive-value={ options[1].value }>\r\n        </el-switch>\r\n      ]\r\n    },\r\n    renderDefault(h, { props, options }, { row, column }) {\r\n      return [\r\n        <el-switch\r\n          {...{ props }}\r\n          active-text={ options[0].label }\r\n          inactive-text={ options[1].label }\r\n          v-model={row[column.property]}\r\n          active-color=\"#13ce66\"\r\n          active-value={ options[0].value }\r\n          inactive-value={ options[1].value }>\r\n        </el-switch>\r\n      ]\r\n    },\r\n    renderEdit(h, { props, options }, { row, column }) {\r\n      return [\r\n        <el-switch\r\n          {...{ props }}\r\n          active-text={ options[0].label }\r\n          inactive-text={ options[1].label }\r\n          v-model={row[column.property]}\r\n          active-color=\"#13ce66\"\r\n          active-value={ options[0].value }\r\n          inactive-value={ options[1].value }>\r\n        </el-switch>\r\n      ]\r\n    }\r\n  },\r\n  // $vxeSwitch: {\r\n  //   // 开关\r\n  //   // props: {\r\n  //   //   options: [\r\n  //   //     { label: '是', value: 1 },\r\n  //   //     { label: '否', value: 0 }\r\n  //   //   ]\r\n  //   // }\r\n  //   renderCell(h, { props, options }, { row, column }) {\r\n  //     return [\r\n  //       <vxe-switch\r\n  //         {...{ props }}\r\n  //         class = \"switch-noteditble\"\r\n  //         on-label = { options[0].label }\r\n  //         off-label = { options[1].label }\r\n  //         on-value = { options[0].value }\r\n  //         off-value = { options[1].value }\r\n  //         v-model={row[column.property]}\r\n  //       ></vxe-switch>\r\n  //     ]\r\n  //   },\r\n  //   renderDefault(h, { props, options }, { row, column }) {\r\n  //     return [\r\n  //       <vxe-switch\r\n  //         {...{ props }}\r\n  //         disabled\r\n  //         class = \"switch-noteditble\"\r\n  //         on-label = { options[0].label }\r\n  //         off-label = { options[1].label }\r\n  //         on-value = { options[0].value }\r\n  //         off-value = { options[1].value }\r\n  //         v-model={row[column.property]}\r\n  //       ></vxe-switch>\r\n  //     ]\r\n  //   },\r\n  //   renderEdit(h, { props, options }, { row, column }) {\r\n  //     return [\r\n  //       <vxe-switch\r\n  //         {...{ props }}\r\n  //         class = \"switch-editble\"\r\n  //         on-label = { options[0].label }\r\n  //         off-label = { options[1].label }\r\n  //         on-value = { options[0].value }\r\n  //         off-value = { options[1].value }\r\n  //         v-model={row[column.property]}\r\n  //       ></vxe-switch>\r\n  //     ]\r\n  //   }\r\n  // },\r\n  $vxeDays: {\r\n    // 天数渲染器，不足0.25天按0记，大于0.75天按1天记，其他按0.5天记\r\n    renderCell(h, { props }, { row, column }) {\r\n      let quiteDay = row[column.property] % 1\r\n      quiteDay = quiteDay <= 0.25 ? 0 : (quiteDay >= 0.75 ? 1 : 0.5)\r\n      row[column.property] = Math.floor(row[column.property] / 1) + quiteDay\r\n      return [<span>{row[column.property]}</span>]\r\n    },\r\n    renderDefault(h, { props }, { row, column }) {\r\n      let quiteDay = row[column.property] % 1\r\n      quiteDay = quiteDay <= 0.25 ? 0 : (quiteDay >= 0.75 ? 1 : 0.5)\r\n      row[column.property] = Math.floor(row[column.property] / 1) + quiteDay\r\n      return [<span>{row[column.property]}</span>]\r\n    },\r\n    renderEdit(h, { props }, { row, column }) {\r\n      // return [\r\n      //   h('vxe-input', {\r\n      //     ref: 'vxe-input' + column.property,\r\n      //     props: {\r\n      //       value: row[column.property],\r\n      //       placeholder: '请输入天数',\r\n      //       type: 'number',\r\n      //       clearable: true,\r\n      //       ...props\r\n      //     },\r\n      //     on: {\r\n      //       input(value) {\r\n      //         let quiteDay = value % 1\r\n      //         quiteDay = quiteDay <= 0.25 ? 0 : (quiteDay >= 0.75 ? 1 : 0.5)\r\n      //         row[column.property] = Math.floor(value / 1) + quiteDay\r\n      //       }\r\n      //     }\r\n      //   })\r\n      // ]\r\n      return [\r\n        <vxe-input\r\n          placeholder = \"请输入天数\"\r\n          type=\"number\"\r\n          clearable\r\n          { ...{ props } }\r\n          v-model={row[column.property]}\r\n        ></vxe-input>\r\n      ]\r\n    }\r\n  },\r\n  $vxeTime: {\r\n    // 天数渲染器，不足0.25天按0记，大于0.75天按1天记，其他按0.5天记\r\n    renderCell(h, { props }, { row, column }) {\r\n      props.format = props.format || 'YYYY-MM-DD hh:mm:ss'\r\n      row[column.property] = row[column.property] ? new Date(row[column.property]).format(props.format) : ''\r\n      return [<span>{row[column.property]}</span>]\r\n    },\r\n    renderDefault(h, { props }, { row, column }) {\r\n      props.format = props.format || 'YYYY-MM-DD hh:mm:ss'\r\n      row[column.property] = row[column.property] ? new Date(row[column.property]).format(props.format) : ''\r\n      return [<span>{row[column.property]}</span>]\r\n    },\r\n    renderEdit(h, { props }, { row, column }) {\r\n      // return [\r\n      //   h('vxe-input', {\r\n      //     ref: 'vxe-input' + column.property,\r\n      //     props: {\r\n      //       value: row[column.property],\r\n      //       placeholder: '请输入天数',\r\n      //       type: 'number',\r\n      //       clearable: true,\r\n      //       ...props\r\n      //     },\r\n      //     on: {\r\n      //       input(value) {\r\n      //         let quiteDay = value % 1\r\n      //         quiteDay = quiteDay <= 0.25 ? 0 : (quiteDay >= 0.75 ? 1 : 0.5)\r\n      //         row[column.property] = Math.floor(value / 1) + quiteDay\r\n      //       }\r\n      //     }\r\n      //   })\r\n      // ]\r\n      return [\r\n        <vxe-input\r\n          placeholder = \"请输入天数\"\r\n          type=\"date\"\r\n          clearable\r\n          { ...{ props } }\r\n          v-model={row[column.property]}\r\n        ></vxe-input>\r\n      ]\r\n    }\r\n  },\r\n  $span: {\r\n    // 文本渲染\r\n    renderCell(h, renderOpts, { row, column }) {\r\n      return [<span>{row[column.property]}</span>]\r\n    },\r\n    renderEdit(h, renderOpts, { row, column }) {\r\n      return [\r\n        <vxe-input\r\n          v-model={row[column.property]}\r\n          placeholder=\"自动计算\"\r\n          readonly\r\n          clearable\r\n        ></vxe-input>\r\n      ]\r\n      // return [<span>{row[column.property]}</span>]\r\n    }\r\n  },\r\n  $href: {\r\n    // 文本渲染\r\n    renderCell(h, renderOpts, { row, column }) {\r\n      return [<span class=\"text href-a\"><a>{row[column.property]}</a></span>]\r\n    },\r\n    renderEdit(h, renderOpts, { row, column }) {\r\n      return [<span class=\"text href-a\"><a>{row[column.property]}</a></span>]\r\n    },\r\n    renderDefault(h, renderOpts, { row, column }) {\r\n      return [<span class=\"text href-a\"><a>{row[column.property]}</a></span>]\r\n    }\r\n  },\r\n  vexInput: {\r\n    // 输入框\r\n    // renderDefault(h, cellRender, { row, column }, context) {\r\n    //   return [\r\n    //     <span class=\"text\">\r\n    //       {row[column.property] === 1 ? '男男' : '女女'}\r\n    //     </span>\r\n    //   ]\r\n    // },\r\n    renderEdit(h, editRender, { row, column }) {\r\n      return [\r\n        <vxe-input\r\n          v-model={row[column.property]}\r\n          placeholder=\"可清除\"\r\n          clearable\r\n        ></vxe-input>\r\n        // <input class=\"my-cell\" text=\"text\" v-model={ row[column.property] } />\r\n      ]\r\n    },\r\n    renderCell(h, cellRender, { row, column }, context) {\r\n      return [<span class=\"text\">{row[column.property]}</span>]\r\n    }\r\n  },\r\n  $vxeSelect: {\r\n    // 下拉选择\r\n    renderEdit(h, { props, options }, { row, column }) {\r\n      options = options || []\r\n      return [\r\n        <vxe-select v-model={row[column.property]} { ...{ props } } placeholder=\"请选择\">\r\n          {options.map((item, index) => {\r\n            return [\r\n              <vxe-option\r\n                value={item.value}\r\n                label={item.label}\r\n              ></vxe-option>\r\n            ]\r\n          })}\r\n        </vxe-select>\r\n      ]\r\n    },\r\n    renderDefault(h, { props, options }, { row, column }, context) {\r\n      props = props || {}\r\n      props.multiple = props.multiple === undefined ? false : props.multiple\r\n      options = options || []\r\n      if (props.multiple) {\r\n        let value = []\r\n        options.forEach((item, index) => {\r\n          if (Array.isArray(row[column.property]) ? row[column.property].indexOf(item.value) >= 0 : (row[column.property] + '').split(',').indexOf(item.value) >= 0) {\r\n            value.push(item.label)\r\n          }\r\n        })\r\n        row[column.property + '_select_sort'] = value.join(',')\r\n        return [<span>{row[column.property + '_select_sort']}</span>]\r\n      } else {\r\n        let arrValue = options.filter((item, index) => {\r\n          return item.value === row[column.property]\r\n        })\r\n        let value = arrValue[0] ? arrValue[0].label : ''\r\n        return [<span>{value}</span>]\r\n      }\r\n    },\r\n    renderCell(h, { props, options }, { row, column }, context) {\r\n      props = props || {}\r\n      props.multiple = props.multiple === undefined ? false : props.multiple\r\n      options = options || []\r\n      if (props.multiple) {\r\n        let value = []\r\n        options.forEach((item, index) => {\r\n          if (Array.isArray(row[column.property]) ? row[column.property].indexOf(item.value) >= 0 : (row[column.property] + '').split(',').indexOf(item.value) >= 0) {\r\n            value.push(item.label)\r\n          }\r\n        })\r\n        row[column.property + '_select_sort'] = value.join(',')\r\n        return [<span>{row[column.property + '_select_sort']}</span>]\r\n      } else {\r\n        let arrValue = options.filter((item, index) => {\r\n          return item.value === row[column.property]\r\n        })\r\n        let value = arrValue[0] ? arrValue[0].label : ''\r\n        return [<span>{value}</span>]\r\n      }\r\n    }\r\n  },\r\n  $vxeRadio: {\r\n    renderEdit(h, { options, props, propsC }, { row, column }) {\r\n      props = props || {}\r\n      propsC = propsC || {}\r\n      return [\r\n        <vxe-radio-group {...{ props }} v-model={row[column.property]} placeholder=\"请选择\">\r\n          {options.map((item, index) => {\r\n            return [\r\n              <vxe-radio\r\n                label={item.value}\r\n                { ...{ propsC } }\r\n              >\r\n                {item.label}\r\n              </vxe-radio>\r\n            ]\r\n          })}\r\n        </vxe-radio-group>\r\n      ]\r\n    },\r\n    renderDefault(h, { options, props }, { row, column }, context) {\r\n      let value = ''\r\n      options.forEach((item, index) => {\r\n        if (row[column.property] === item.value) {\r\n          value = item.label\r\n        }\r\n      })\r\n      return [<span>{value}</span>]\r\n    },\r\n    renderCell(h, { options, props }, { row, column }) {\r\n      let value = ''\r\n      options.forEach((item, index) => {\r\n        if (row[column.property] === item.value) {\r\n          value = item.label\r\n        }\r\n      })\r\n      return [<span>{value}</span>]\r\n    }\r\n  },\r\n  $vxeCheckbox: {\r\n    renderEdit(h, { options, props, propsC }, { row, column }) {\r\n      props = props || {}\r\n      propsC = propsC || {}\r\n      row[column.property] = Array.isArray(row[column.property]) ? row[column.property] : []\r\n      return [\r\n        <vxe-checkbox-group {...{ props }} v-model={row[column.property]} placeholder=\"请选择\">\r\n          {options.map((item, index) => {\r\n            return [\r\n              <vxe-checkbox\r\n                label={item.value}\r\n                { ...{ propsC } }\r\n              >\r\n                {item.label}\r\n              </vxe-checkbox>\r\n            ]\r\n          })}\r\n        </vxe-checkbox-group>\r\n      ]\r\n    },\r\n    renderDefault(h, { options, props }, { row, column }, context) {\r\n      row[column.property] = Array.isArray(row[column.property]) ? row[column.property] : []\r\n      let value = []\r\n      options.forEach((item, index) => {\r\n        if (row[column.property].indexOf(item.value) >= 0) {\r\n          value.push(item.label)\r\n        }\r\n      })\r\n      row[column.property + '_checkbox_sort'] = value.join(',')\r\n      return [<span>{row[column.property + '_checkbox_sort']}</span>]\r\n    },\r\n    renderCell(h, { options, props }, { row, column }) {\r\n      row[column.property] = Array.isArray(row[column.property]) ? row[column.property] : []\r\n      let value = []\r\n      options.forEach((item, index) => {\r\n        if (row[column.property].indexOf(item.value) >= 0) {\r\n          value.push(item.label)\r\n        }\r\n      })\r\n      row[column.property + '_checkbox_sort'] = value.join(',')\r\n      return [<span>{row[column.property + '_checkbox_sort']}</span>]\r\n    }\r\n  },\r\n  $vexDynamicSelect: {\r\n    renderEdit(h, { props, options }, { row, column }, { $excel, $grid, $table, $type }) {\r\n      // let res = $grid.$parent.$asyncGet('/base-agency-service/baseAgency/v1/searchAssetByCode', { agency_code: row.agency_code, fixed_asset_type_code: row.asset_class_code })\r\n      // let res = await $grid.$parent.$http.get('/base-agency-service/baseAgency/v1/searchAssetByCode', { agency_code: 129001, fixed_asset_type_code: 2030402 })\r\n      // if (res && res.rscode === '100000') {\r\n      //   let options = res.rows.map((item, index) => {\r\n      //     return Object.assign(item, {\r\n      //       value: item.asset_code,\r\n      //       label: item.asset_code\r\n      //     })\r\n      //   })\r\n      // return [\r\n      //   <vxe-select v-model={row[column.property]} placeholder=\"请选择\">\r\n      //     {options.map((item, index) => {\r\n      //       return [\r\n      //         <vxe-option\r\n      //           value={item.value}\r\n      //           label={item.label}\r\n      //         ></vxe-option>\r\n      //       ]\r\n      //     })}\r\n      //   </vxe-select>\r\n      // ]\r\n      // } else {\r\n      //   this.$message.warning(res.result)\r\n      // }\r\n      // row.options = row.options || []\r\n      // return [\r\n      //   h('vxe-select', {\r\n      //     props: {\r\n      //       ref: 'vxe-select-' + column.property,\r\n      //       value: row[column.property],\r\n      //       ...props\r\n      //     },\r\n      //     on: {\r\n      //       change: ({ value }) => {\r\n      //         row[column.property] = value\r\n      //         // row.options.forEach((item) => {\r\n\r\n      //         // })\r\n      //       }\r\n      //     }\r\n      //   }, row.options.map(item => {\r\n      //     return h('vxe-option', {\r\n      //       props: {\r\n      //         value: item.value,\r\n      //         label: item.label\r\n      //       }\r\n      //     })\r\n      //   })\r\n      //   )\r\n      // ]\r\n      row.options = row.options || []\r\n      return [\r\n        <vxe-select v-model={row[column.property]} placeholder=\"请选择\">\r\n          {row.options.map((item, index) => {\r\n            return [\r\n              <vxe-option\r\n                value={item.value}\r\n                label={item.label}\r\n              ></vxe-option>\r\n            ]\r\n          })}\r\n        </vxe-select>\r\n      ]\r\n    },\r\n    renderDefault(h, cellRender, { row, column }, context) {\r\n      return [<span>{row[column.property]}</span>]\r\n    },\r\n    renderCell(h, renderOpts, { row, column }) {\r\n      return [<span>{row[column.property]}</span>]\r\n    }\r\n  },\r\n  $contentTable: {\r\n    renderExpand(h, { props }, { $columnIndex, $rowIndex, items, column, data, row, $seq, $table, $type, columnIndex, isEdit, level, rowIndex, seq }, context) {\r\n      const tableConfig = {\r\n        globalConfig: { // 全局默认渲染列配置\r\n          // 全局配置\r\n          checkType: '',\r\n          seq: false\r\n        }\r\n      }\r\n      return [\r\n        <BsTable toolbarConfig={false} pagerConfig={false} tableConfig={ tableConfig } { ...{ props }} height=\"unset\" tableColumnsConfig={ row.childCols } tableData={ row.childData }></BsTable>\r\n      ]\r\n    }\r\n  }\r\n}\r\nconst filterRenderers = {\r\n  FilterComplex: {\r\n    // 不显示底部按钮，使用自定义的按钮\r\n    isFooter: false,\r\n    // 筛选模板\r\n    renderFilter(h, renderOpts, params) {\r\n      return [\r\n        <filter-complex params={params}></filter-complex>\r\n      ]\r\n    },\r\n    // 重置数据方法\r\n    filterResetMethod({ options }) {\r\n      options.forEach(option => {\r\n        option.data = { type: 'has', isCase: false, value: '' }\r\n      })\r\n    },\r\n    // 筛选数据方法\r\n    filterMethod({ option, row, column }) {\r\n      let cellValue = row[column.property]\r\n      let { type, isCase, value } = option.data\r\n      if (cellValue) {\r\n        if (isCase) {\r\n          cellValue = cellValue.toLowerCase()\r\n          value = value.toLowerCase()\r\n        }\r\n      }\r\n      switch (type) {\r\n        case 'has':\r\n          return new String(cellValue).indexOf(value) > -1\r\n        case 'eq':\r\n          /* eslint-disable eqeqeq */\r\n          if (isCase) {\r\n            return cellValue == value\r\n          } else {\r\n            return parseFloat(cellValue) == parseFloat(value)\r\n          }\r\n        case 'gt':\r\n          return Number(cellValue) > Number(value)\r\n        case 'lt':\r\n          return Number(cellValue) < Number(value)\r\n      }\r\n      return true\r\n    }\r\n  },\r\n  FilterContent: {\r\n  // 不显示底部按钮，使用自定义的按钮\r\n    isFooter: false,\r\n    // 筛选模板\r\n    renderFilter (h, renderOpts, params) {\r\n      return [\r\n        <filter-content params={ params }></filter-content>\r\n      ]\r\n    },\r\n    // 重置数据方法\r\n    filterResetMethod ({ options }) {\r\n      options.forEach(option => {\r\n        option.data = { vals: [], sVal: '' }\r\n      })\r\n    },\r\n    // 筛选数据方法\r\n    filterMethod({ option, row, column }) {\r\n      const { vals } = option.data\r\n      if (Array.isArray(vals) && vals.length) {\r\n        const cellValue = row[column.property]\r\n        if (new String(cellValue).indexOf('##') > 0) {\r\n          let value = cellValue.split('##')\r\n          value.shift()\r\n          return cellValue == value.join('-')\r\n        }\r\n        return vals.includes(cellValue)\r\n      } else {\r\n        return true\r\n      }\r\n      // console.log(option, row, column, row[column.property])\r\n      // const { vals } = option.data\r\n      // const cellValue = row[column.property]\r\n      // /* eslint-disable eqeqeq */\r\n      // return vals.some(val => {\r\n      //   if (cellValue.indexOf('##') > 0) {\r\n      //     let value = cellValue.split('##')\r\n      //     value.shift()\r\n      //     return val == value.join('-')\r\n      //   } else {\r\n      //     console.log(option, row, column, val == cellValue)\r\n      //     return val == cellValue\r\n      //   }\r\n      //   //  return val == cellValue\r\n      // })\r\n    }\r\n  },\r\n  FilterInput: {\r\n    // 筛选模板\r\n    // filters: [{ data: '' }],\r\n    // filterRender: { name: 'FilterInput' },\r\n    renderFilter(h, renderOpts, params) {\r\n      return [\r\n        <filter-input params={params}></filter-input>\r\n      ]\r\n    },\r\n    // 筛选方法\r\n    filterMethod({ option, row, column }) {\r\n      const { data } = option\r\n      let cellValue = row[column.property]\r\n      return new String(cellValue).toLowerCase().indexOf(data.toLowerCase()) > -1\r\n    }\r\n  },\r\n  FilterSelect: {\r\n    isFooter: false,\r\n    // 筛选模板\r\n    // filters: [{ data: '' }],\r\n    // filterRender: { name: 'FilterInput' },\r\n    renderFilter(h, renderOpts, params) {\r\n      return [\r\n        <filter-Select renderOpts={ renderOpts } params={params}></filter-Select>\r\n      ]\r\n    },\r\n    // 筛选方法\r\n    filterMethod({ option, row, column }) {\r\n      const { options, data } = option\r\n      const { vals } = data\r\n      let cellValue = row[column.property]\r\n      let value = []\r\n      options.forEach((item, index) => {\r\n        if (new String(cellValue).indexOf(item.value) >= 0) {\r\n          value.push(item.label)\r\n        }\r\n      })\r\n      return value.some((item) => {\r\n        return vals.indexOf(item) >= 0\r\n      })\r\n    }\r\n  }\r\n}\r\nexport const defaultRenderers = {\r\n  ...cellRenderers,\r\n  ...filterRenderers\r\n}\r\nexport const tableColumns = { // 默认配置列\r\n  rowDrop: {\r\n    width: 40,\r\n    title: '按住后可以上下拖动排序！',\r\n    className: 'table-drop',\r\n    slots: {\r\n      default: (obj, h) => {\r\n        return [\r\n          <span class=\"drag-btn\">\r\n            <i class=\"vxe-icon--menu\"></i>\r\n          </span>\r\n        ]\r\n      },\r\n      header: ({ $table }, h) => {\r\n        let bsTable = $table.$parent.$parent\r\n        return [\r\n          // <vxe-tooltip v-model={bsTable.showRowDropHelpTip} content=\"按住后可以上下拖动排序！\" enterable>\r\n          <i class=\"vxe-icon--question\" onClick={() => { bsTable.showRowDropHelpTip = !bsTable.showRowDropHelpTip }}></i>\r\n          // </vxe-tooltip>\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  seq: { // 序号\r\n    title: '序号',\r\n    type: 'seq',\r\n    width: 60,\r\n    align: 'center',\r\n    className: 'table-sep',\r\n    fixed: 'left',\r\n    sortable: false\r\n  },\r\n  checkbox: { // 选择\r\n    title: '',\r\n    type: 'checkbox',\r\n    width: 60,\r\n    align: 'center',\r\n    fixed: 'left',\r\n    sortable: false,\r\n    className: 'table-row-checkbox'\r\n  },\r\n  optionSort: { // 选择\r\n    title: '手动排序',\r\n    type: 'dragSort',\r\n    field: 'dragSort',\r\n    width: 150,\r\n    align: 'center',\r\n    fixed: 'right',\r\n    sortable: false,\r\n    className: 'table-row-checkbox',\r\n    cellRender: {\r\n      type: 'cellRender',\r\n      name: '$optionSort'\r\n    }\r\n  },\r\n  radio: { // 单选\r\n    title: '单选',\r\n    type: 'radio',\r\n    width: 80,\r\n    align: 'center',\r\n    fixed: 'left',\r\n    sortable: false,\r\n    className: 'table-row-radio'\r\n  },\r\n  optionRow: { // 操作\r\n    title: '操作',\r\n    field: 'optionRow',\r\n    type: 'optionRow',\r\n    editable: false,\r\n    width: 150,\r\n    align: 'center',\r\n    fixed: 'right',\r\n    sortable: false,\r\n    className: 'table-row-option',\r\n    cellRender: {\r\n      type: 'cellRender', // renderEdit\r\n      name: 'optionRow'\r\n    }\r\n  }\r\n}\r\nexport const pagerConfig = {\r\n  align: 'right',\r\n  // pageSizes: [20, 50, 100, 500, 1000, 1000000],\r\n  pageSizes: [\r\n    {\r\n      label: '20条',\r\n      value: 20\r\n    },\r\n    {\r\n      label: '50条',\r\n      value: 50\r\n    },\r\n    {\r\n      label: '100条',\r\n      value: 100\r\n    },\r\n    {\r\n      label: '500条',\r\n      value: 500\r\n    },\r\n    {\r\n      label: '1000条',\r\n      value: 1000\r\n    },\r\n    {\r\n      label: '全部',\r\n      value: 1000000\r\n    }\r\n  ],\r\n  layouts: [\r\n    'Sizes',\r\n    'PrevJump',\r\n    'PrevPage',\r\n    'Number',\r\n    'NextPage',\r\n    'NextJump',\r\n    'FullJump',\r\n    'Total'\r\n  ],\r\n  perfect: true,\r\n  slots: {\r\n    left: 'pagerLeftSlots'\r\n    // right: 'pagerRightSlots'\r\n  }\r\n}\r\nexport let tableFormConfig = {\r\n  data: {\r\n    keyWord: ''\r\n  },\r\n  items: [\r\n    { field: 'keyWord', itemRender: { name: '$input', props: { placeholder: '请输入关键字过滤' } } },\r\n    { itemRender: { name: '$buttons', children: [{ props: { type: 'submit', content: '查询', status: 'primary' } }, { props: { type: 'reset', content: '重置' } }] } }\r\n  ]\r\n}\r\nexport const tableStyleConfig = {\r\n  height: 'auto', // 表格的高度； 支持铺满父容器或者固定高度， 如果设置 auto 为铺满父容器（ 如果设置自适应时， 必须确保存在父节点且不允许存在相邻元素）number | string:auto, % , px\r\n  maxHeight: '100%', // 表格的最大高度number | string: %, px\r\n  border: false, // 是否带有边框 boolean | string:default（ 默认）, full（ 完整边框）, outer（ 外边框）, inner（ 内边框）, none（ 无边框）,默认 false， 继承 setup.table.border\r\n  highlightCurrentRow: false, // 是否要高亮当前行: boolean, false\r\n  highlightHoverRow: true // 鼠标移到行是否要高亮显示:boolean,false\r\n  // highlightCurrentColumn:是否要高亮当前列:booleanfalse\r\n}\r\nexport const defaultFormatters = {\r\n  formatMoney({ cellValue, row, column }) {\r\n    // 数字逗号三位分开\r\n    if (!cellValue) {\r\n      return ''\r\n    } else {\r\n      let num = isNaN(parseFloat(cellValue)) ? 0 : parseFloat(cellValue)\r\n      num = (num / this.moneyUnit).toFixed(2)\r\n      if (typeof num === 'string') {\r\n        return Number(parseFloat(num).toFixed(2)).toLocaleString()\r\n      } else if (typeof num === 'number') {\r\n        return Number(num.toFixed(2)).toLocaleString()\r\n      }\r\n    }\r\n  },\r\n  digitUppercase({ cellValue, row, column }) {\r\n    let n = cellValue\r\n    /* 现金额大写 */\r\n    if (typeof n === 'number') {\r\n      n = '' + n\r\n    }\r\n    n = n.replace(/,/g, '') // 替换tomoney()中的“,”\r\n    n = n.replace(/ /g, '') // 替换tomoney()中的空格\r\n    n = n.replace(/￥/g, '') // 替换掉可能出现的￥字符\r\n    // if (isNaN(n)) { //验证输入的字符是否为数字\r\n    //     //alert(\"请检查小写金额是否正确\");\r\n    //     return \"\";\r\n    // };\r\n    let fraction = ['角', '分']\r\n    let digit = [\r\n      '零', '壹', '贰', '叁', '肆',\r\n      '伍', '陆', '柒', '捌', '玖'\r\n    ]\r\n    let unit = [\r\n      ['元', '万', '亿', '万', '亿'],\r\n      ['', '拾', '佰', '仟']\r\n    ]\r\n    let head = n < 0 ? '欠' : ''\r\n    n = Math.abs(n)\r\n    let s = ''\r\n    for (let i = 0; i < fraction.length; i++) {\r\n      s += (digit[Math.floor(n * 10 * Math.pow(10, i)) % 10] + fraction[i]).replace(/零./, '')\r\n    }\r\n    s = s || '整'\r\n    n = Math.floor(n)\r\n    for (let i = 0; i < unit[0].length && n > 0; i++) {\r\n      let p = ''\r\n      for (let j = 0; j < unit[1].length && n > 0; j++) {\r\n        p = digit[n % 10] + unit[1][j] + p\r\n        n = Math.floor(n / 10)\r\n      }\r\n      s = p.replace(/(零.)*零$/, '').replace(/^$/, '零') + unit[0][i] + s\r\n    }\r\n    return head + s.replace(/(零.)*零元/, '元')\r\n      .replace(/(零.)+/g, '零')\r\n      .replace(/^整$/, '零元整')\r\n  },\r\n  formatAmount: ({ cellValue }, digits) => {\r\n    return this.$XEUtils.commafy(cellValue, { digits: digits || 2 })\r\n  }\r\n}\r\nexport const footerConfig = {\r\n  showFooter: false,\r\n  totalObj: {}, // 总计数据对象\r\n  combinedType: ['subTotal', 'total', 'totalAll', 'switchTotal'], // 显示那些合计行类型，注意顺序\r\n  footerMethod({ columns, data, $table, $grid }) {\r\n    let combinedType = $grid.$parent.footerConfigIn.combinedType || ['switchTotal']\r\n    // let calculateFooterObj = {\r\n    //     calculateFooter_subTotal: defaultGloabalUtils.calculateFooter_subTotal({ columns, data, $table, $grid }),\r\n    //     calculateFooter_total: defaultGloabalUtils.calculateFooter_total({ columns, data, $table, $grid }),\r\n    //     calculateFooter_totalAll :defaultGloabalUtils.calculateFooter_totalAll({ columns, data, $table, $grid }),\r\n    // }\r\n    let footerData = []\r\n    if (combinedType.indexOf('switchTotal') >= 0) {\r\n      if ($grid.getCheckboxRecords().length) {\r\n        footerData = [defaultGloabalUtils['calculateFooter_subTotal']({ columns, data, $table, $grid })]\r\n        // footerData[0][0] = '已选(' + $grid.getCheckboxRecords().length + ')'\r\n      } else {\r\n        footerData = [defaultGloabalUtils['calculateFooter_totalAll']({ columns, data, $table, $grid })]\r\n        // footerData[0][0] = '总计'\r\n      }\r\n    } else {\r\n      footerData = combinedType.map(item => {\r\n        return defaultGloabalUtils['calculateFooter_' + item]({ columns, data, $table, $grid })\r\n      })\r\n    }\r\n    // const footerData = [\r\n    //   // defaultGloabalUtils.calculateFooter({ columns, data, columnIndexText: '平均(元)', combinedType: 'average' }, context),\r\n    //   defaultGloabalUtils.calculateFooter({ columns, data, $table, $grid, columnIndexText: '合计(元)', combinedType: 'total' })\r\n    // ]\r\n    return footerData\r\n  },\r\n  footerSpanMethod({ $rowIndex, column, columnIndex, $columnIndex, data }) {\r\n    return {\r\n      rowspan: 1,\r\n      colspan: 1\r\n    }\r\n  }\r\n}\r\nexport const contextMenuConfig = {\r\n  header: {\r\n    options: [\r\n      [{\r\n        code: 'hide',\r\n        name: '隐藏列',\r\n        children: [\r\n          { code: 'hideColumn', name: '隐藏当前列', disabled: false },\r\n          { code: 'showAllColumn', name: '取消所有隐藏列', disabled: false }\r\n        ]\r\n      },\r\n      {\r\n        code: 'fixed',\r\n        name: '固定列',\r\n        children: [\r\n          { code: 'FIXED_LEFT_COLUMN', name: '将列固定到左侧', disabled: false },\r\n          { code: 'FIXED_RIGHT_COLUMN', name: '将列固定到右侧', disabled: false },\r\n          { code: 'CLEAR_FIXED_COLUMN', name: '清除固定列', disabled: false }\r\n        ]\r\n      },\r\n      {\r\n        code: 'reset',\r\n        name: '重置列',\r\n        children: [\r\n          { code: 'RESET_RESIZABLE', name: '重置列宽状态', disabled: false },\r\n          // { code: 'RESET_ALL', name: '重置列的所有状态', disabled: false },\r\n          { code: 'recover_all', name: '恢复列为初始状态', disabled: false }\r\n        ]\r\n      },\r\n      {\r\n        code: 'FILTER',\r\n        name: '筛选',\r\n        children: [\r\n          {\r\n            code: 'CLEAR_FILTER',\r\n            name: '清除选中列的筛选条件'\r\n          },\r\n          {\r\n            code: 'CLEAR_ALL_FILTER',\r\n            name: '清除所有列筛选条件'\r\n          }\r\n          // {\r\n          //   code: 'FILTER_CELl',\r\n          //   name: '根据单元格值筛选'\r\n          // }\r\n        ]\r\n      },\r\n      {\r\n        code: 'sort',\r\n        name: '排序',\r\n        children: [\r\n          {\r\n            code: 'clearSort',\r\n            name: '清除排序'\r\n          },\r\n          {\r\n            code: 'sortAsc',\r\n            name: '升序'\r\n          },\r\n          {\r\n            code: 'sortDesc',\r\n            name: '倒序'\r\n          }]\r\n      }]\r\n    ]\r\n  },\r\n  body: {\r\n    options: [\r\n      [\r\n        {\r\n          code: 'FILTER',\r\n          name: '行操作',\r\n          children: [\r\n            {\r\n              code: 'remove',\r\n              name: '移除当前行',\r\n              disabled: false\r\n            },\r\n            {\r\n              code: 'DELETE_SELECTED_ROW',\r\n              name: '移除选中行',\r\n              disabled: false\r\n            },\r\n            {\r\n              code: 'CLEAR_ROW',\r\n              name: '清除当前行数据的值'\r\n            },\r\n            {\r\n              code: 'REVERT_ROW',\r\n              name: '还原当前行数据的值'\r\n            },\r\n            {\r\n              code: 'CLEAR_SELECTED_ROW',\r\n              name: '清除选中行数据的值'\r\n            },\r\n            {\r\n              code: 'REVERT_SELECTED_ROW',\r\n              name: '还原选中行数据的值'\r\n            },\r\n            {\r\n              code: 'CLEAR_ALL',\r\n              name: '清除所有数据的值'\r\n            },\r\n            {\r\n              code: 'REVERT_ALL',\r\n              name: '还原所有数据的值'\r\n            }\r\n          ]\r\n        }],\r\n      [\r\n        {\r\n          code: 'clear',\r\n          name: '清除当前单元格内容',\r\n          visible: true,\r\n          disabled: false\r\n        },\r\n        {\r\n          code: 'insertAt',\r\n          name: '新增一条数据',\r\n          disabled: false\r\n        },\r\n        {\r\n          code: 'INSERT_AT_ACTIVED_ROW',\r\n          name: '插入数据到当前行',\r\n          disabled: false\r\n        },\r\n        {\r\n          code: 'verify',\r\n          name: '校验并定位到第一个错误',\r\n          disabled: false\r\n        },\r\n        {\r\n          code: 'revert',\r\n          name: '撤消所有操作',\r\n          disabled: false\r\n        },\r\n\r\n        {\r\n          code: 'zoom',\r\n          name: ' 切换表格最大化/还原',\r\n          disabled: false\r\n        },\r\n        {\r\n          code: 'exportDataXlsx',\r\n          name: '导出为Excel',\r\n          disabled: false\r\n        },\r\n        {\r\n          code: 'logCurrentData',\r\n          name: 'log当前数据',\r\n          disabled: false\r\n        }\r\n        // { code: 'copy', name: '复制', prefixIcon: 'fa fa-copy', disabled: false },\r\n        // { code: 'paste', name: '粘贴', prefixIcon: 'fa fa-paste', disabled: false }\r\n        // { code: 'reload', name: '刷新', disabled: false },\r\n        // { code: 'save', name: '保存', prefixIcon: 'fa fa-save', disabled: false }\r\n      ]\r\n\r\n    ]\r\n  },\r\n  visibleMethod({ options, column }) {\r\n    // let isDisabled = !column\r\n    // options.forEach(list => {\r\n    //   list.forEach(item => {\r\n    //     item.disabled = isDisabled\r\n    //   })\r\n    // })\r\n    return true\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA,IAAMA,mBAAmB,GAAG;EAC1BC,eAAe,WAAAA,gBAACC,CAAC,EAAEC,UAAU,EAAAC,IAAA,EAAyHC,OAAO,EAAE;IAAA,IAA9HC,YAAY,GAAAF,IAAA,CAAZE,YAAY;MAAEC,SAAS,GAAAH,IAAA,CAATG,SAAS;MAAEC,KAAK,GAAAJ,IAAA,CAALI,KAAK;MAAEC,MAAM,GAAAL,IAAA,CAANK,MAAM;MAAEC,IAAI,GAAAN,IAAA,CAAJM,IAAI;MAAEC,GAAG,GAAAP,IAAA,CAAHO,GAAG;MAAEC,IAAI,GAAAR,IAAA,CAAJQ,IAAI;MAAEC,MAAM,GAAAT,IAAA,CAANS,MAAM;MAAEC,KAAK,GAAAV,IAAA,CAALU,KAAK;MAAEC,WAAW,GAAAX,IAAA,CAAXW,WAAW;MAAEC,MAAM,GAAAZ,IAAA,CAANY,MAAM;MAAEC,KAAK,GAAAb,IAAA,CAALa,KAAK;MAAEC,QAAQ,GAAAd,IAAA,CAARc,QAAQ;MAAEC,GAAG,GAAAf,IAAA,CAAHe,GAAG;IAChJ,SAASC,QAAQA,CAACC,OAAO,EAAEV,GAAG,EAAEW,GAAG,EAAE;MACnC,SAASC,KAAKA,CAACF,OAAO,EAAE;QACtBA,OAAO,CAACG,IAAI,CAAC,UAACC,IAAI,EAAEC,KAAK,EAAK;UAC5B,IAAID,IAAI,CAACE,KAAK,KAAKL,GAAG,IAAIM,IAAI,CAACC,IAAI,CAACJ,IAAI,CAACK,OAAO,CAAC,EAAE;YACjDC,WAAW,GAAGN,IAAI;YAClB,OAAO,IAAI;UACb;UACA,IAAI,CAACM,WAAW,IAAIC,KAAK,CAACC,OAAO,CAACR,IAAI,CAACS,QAAQ,CAAC,IAAIT,IAAI,CAACS,QAAQ,CAACC,MAAM,EAAE;YACxEZ,KAAK,CAACE,IAAI,CAACS,QAAQ,CAAC;UACtB;QACF,CAAC,CAAC;MACJ;MACA,IAAIH,WAAW,GAAG,KAAK;MACvB,IAAIH,IAAI,GAAG,IAAIQ,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAAC;MAChDb,KAAK,CAACF,OAAO,CAAC;MACd,IAAIU,WAAW,EAAE;QACf,IAAID,OAAO,GAAGC,WAAW,CAACD,OAAO;QACjC,KAAK,IAAIO,IAAI,IAAI1B,GAAG,EAAE;UACpB,IAAI2B,GAAG,GAAG,IAAIF,MAAM,CAAC,IAAI,GAAGC,IAAI,GAAG,IAAI,EAAE,IAAI,CAAC;UAC9C,IAAIC,GAAG,CAACT,IAAI,CAACC,OAAO,CAAC,EAAE;YACrBV,QAAQ,CAACZ,KAAK,EAAEG,GAAG,EAAE0B,IAAI,CAAC;YAC1B,IAAIE,KAAK,GAAI,OAAQ5B,GAAG,CAAC0B,IAAI,CAAE,KAAK,QAAQ,IAAI,OAAQ1B,GAAG,CAAC0B,IAAI,CAAE,KAAK,QAAQ,GAAI1B,GAAG,CAAC0B,IAAI,CAAC,GAAG,CAAC;YAChGP,OAAO,GAAGA,OAAO,CAACU,OAAO,CAACF,GAAG,EAAEG,KAAK,CAACC,UAAU,CAACH,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGG,UAAU,CAACH,KAAK,CAAC,CAAC;UAClF;QACF;QACA,IAAIX,IAAI,CAACC,IAAI,CAACC,OAAO,CAAC,EAAE;UACtBA,OAAO,GAAGA,OAAO,CAACU,OAAO,CAACZ,IAAI,EAAE,CAAC,CAAC;UAClCe,OAAO,CAACC,GAAG,oLAAAC,MAAA,CAAmClC,GAAG,sCAAAkC,MAAA,CAAUd,WAAW,CAACD,OAAO,sDAAAe,MAAA,CAAWf,OAAO,CAAE,CAAC;QACrG;QACAnB,GAAG,CAACW,GAAG,CAAC,GAAGwB,IAAI,CAAChB,OAAO,CAAC,CAACiB,OAAO,CAAC,CAAC,CAAC;QACnC;MACF;;MACA,OAAOpC,GAAG,CAACW,GAAG,CAAC;IACjB;IACAF,QAAQ,CAACf,OAAO,CAAC2C,KAAK,CAAC3B,OAAO,EAAEV,GAAG,EAAEF,MAAM,CAACwC,QAAQ,CAAC;IACrD,IAAIC,GAAG,GAAGT,KAAK,CAACC,UAAU,CAAC/B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGP,UAAU,CAAC/B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC;IACxF,IAAI5C,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACC,mBAAmB,CAACC,uBAAuB,EAAE;MACrEH,GAAG,GAAGI,MAAM,CAAEJ,GAAG,CAAEH,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;MAC/CL,GAAG,GAAGA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,KAAK,GAAIA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,GAAG,GAAGA,GAAI;MACpG,OAAO,CAAAhD,CAAA;QAAA,SAAa;MAAM,IAAGgD,GAAG,GAAS;IAC3C,CAAC,MAAM;MACL,IAAIO,SAAS,GAAGpD,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACM,SAAS,GAAGpD,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACM,SAAS,GAAG,CAAC;MACrFP,GAAG,GAAGI,MAAM,CAAC,CAACJ,GAAG,GAAGO,SAAS,EAAEV,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;MAC3DL,GAAG,GAAGA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,KAAK,GAAIA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,GAAG,GAAGA,GAAI;MACpG,OAAO,CAAAhD,CAAA,UAAQgD,GAAG,GAAS;IAC7B;EACF,CAAC;EACDQ,eAAe,WAAAA,gBAAAC,KAAA,EAAkEtD,OAAO,EAAE;IAAA,IAAxEgB,OAAO,GAAAsC,KAAA,CAAPtC,OAAO;MAAEX,IAAI,GAAAiD,KAAA,CAAJjD,IAAI;MAAEG,MAAM,GAAA8C,KAAA,CAAN9C,MAAM;MAAEmC,KAAK,GAAAW,KAAA,CAALX,KAAK;MAAEY,eAAe,GAAAD,KAAA,CAAfC,eAAe;MAAEC,YAAY,GAAAF,KAAA,CAAZE,YAAY;IAC3E;IACA;IACA,OAAOxC,OAAO,CAACyC,GAAG,CAAC,UAACrD,MAAM,EAAEM,WAAW,EAAK;MAC1C;MACA;MACA,IAAIA,WAAW,KAAK,CAAC,EAAE;QACrB,OAAO6C,eAAe;MACxB,CAAC,MAAM,IAAI5B,KAAK,CAACC,OAAO,CAACxB,MAAM,CAACsD,GAAG,CAACF,YAAY,CAAC,IAAIpD,MAAM,CAACsD,GAAG,CAACF,YAAY,CAACG,OAAO,CAACH,YAAY,CAAC,IAAI,CAAC,EAAE;QACvG,IAAI;UACF,IAAII,MAAM,GAAGvD,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;YACrC,IAAIa,KAAK,GAAI,OAAQd,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,IAAI,OAAQxB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,GAAIP,UAAU,CAACjB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAC,CAACiB,QAAQ,CAAC,CAAC,CAACV,KAAK,CAAC,GAAG,CAAC,CAACW,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;YAC/K,OAAO1B,KAAK,CAACC,UAAU,CAACH,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGG,UAAU,CAACH,KAAK,CAAC;UACzD,CAAC,CAAC;UACF,IAAI0B,MAAM,CAAC9B,MAAM,EAAE;YACjB8B,MAAM,GAAGA,MAAM,CAACG,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI,EAAK;cACrC,OAAOD,IAAI,GAAGC,IAAI;YACpB,CAAC,CAAC;YACF,IAAIT,YAAY,KAAK,SAAS,EAAE;cAC9BI,MAAM,GAAGA,MAAM,GAAGvD,IAAI,CAACyB,MAAM;YAC/B;YACA8B,MAAM,GAAGX,MAAM,CAAEW,MAAM,CAAElB,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;YACrDU,MAAM,GAAGA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,KAAK,GAAIA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,GAAG,GAAGA,MAAO;YACtH,OAAOA,MAAM;UACf,CAAC,MAAM;YACL,OAAO,MAAM;UACf;QACF,CAAC,CAAC,OAAOM,CAAC,EAAE,CAAC;MACf,CAAC,MAAM;QACL,OAAO,EAAE;MACX;IACF,CAAC,CAAC;EACJ,CAAC;EACDC,uBAAuB,WAAAA,wBAAAC,KAAA,EAAmC;IAAA,IAAhCpD,OAAO,GAAAoD,KAAA,CAAPpD,OAAO;MAAEX,IAAI,GAAA+D,KAAA,CAAJ/D,IAAI;MAAEG,MAAM,GAAA4D,KAAA,CAAN5D,MAAM;MAAEmC,KAAK,GAAAyB,KAAA,CAALzB,KAAK;IACpD,IAAIS,SAAS,GAAGT,KAAK,CAACG,OAAO,CAACM,SAAS,GAAGT,KAAK,CAACG,OAAO,CAACM,SAAS,GAAG,CAAC;IACrE;IACA,OAAOpC,OAAO,CAACyC,GAAG,CAAC,UAACrD,MAAM,EAAEM,WAAW,EAAK;MAC1C;MACA;MACA,IAAIA,WAAW,KAAK,CAAC,EAAE;QACrB,OAAO,IAAI;MACb,CAAC,MAAM,IAAIiB,KAAK,CAACC,OAAO,CAACxB,MAAM,CAACsD,GAAG,CAACF,YAAY,CAAC,IAAIpD,MAAM,CAACsD,GAAG,CAACF,YAAY,CAACG,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;QACpG,IAAI;UACF,IAAIC,MAAM,GAAGvD,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;YACrC,IAAIa,KAAK,GAAI,OAAQd,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,IAAI,OAAQxB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,GAAIP,UAAU,CAACjB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAC,CAACiB,QAAQ,CAAC,CAAC,CAACV,KAAK,CAAC,GAAG,CAAC,CAACW,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;YAC/K,OAAO1B,KAAK,CAACC,UAAU,CAACH,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGG,UAAU,CAACH,KAAK,CAAC;UACzD,CAAC,CAAC;UACF,IAAI0B,MAAM,CAAC9B,MAAM,EAAE;YACjB8B,MAAM,GAAGA,MAAM,CAACG,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI,EAAK;cACrC,OAAOD,IAAI,GAAGC,IAAI;YACpB,CAAC,CAAC;YACFL,MAAM,GAAGA,MAAM,GAAGvD,IAAI,CAACyB,MAAM;YAC7B8B,MAAM,GAAGX,MAAM,CAAC,CAACW,MAAM,GAAGR,SAAS,EAAEV,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;YACjEU,MAAM,GAAGA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,KAAK,GAAIA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,GAAG,GAAGA,MAAO;YACtH,OAAOA,MAAM;UACf,CAAC,MAAM;YACL,OAAO,MAAM;UACf;QACF,CAAC,CAAC,OAAOM,CAAC,EAAE,CAAC;MACf,CAAC,MAAM;QACL,OAAO,EAAE;MACX;IACF,CAAC,CAAC;EACJ,CAAC;EACDG,wBAAwB,WAAAA,yBAAAC,KAAA,EAAmC;IAAA,IAAhCtD,OAAO,GAAAsD,KAAA,CAAPtD,OAAO;MAAEX,IAAI,GAAAiE,KAAA,CAAJjE,IAAI;MAAEG,MAAM,GAAA8D,KAAA,CAAN9D,MAAM;MAAEmC,KAAK,GAAA2B,KAAA,CAAL3B,KAAK;IACrD,IAAIS,SAAS,GAAGT,KAAK,CAACG,OAAO,CAACM,SAAS,GAAGT,KAAK,CAACG,OAAO,CAACM,SAAS,GAAG,CAAC;IACrE;IACA,IAAImB,UAAU,GAAG5B,KAAK,CAAC6B,kBAAkB,CAAC,CAAC;IAC3C,OAAOxD,OAAO,CAACyC,GAAG,CAAC,UAACrD,MAAM,EAAEM,WAAW,EAAK;MAC1C;MACA;MACA,IAAIA,WAAW,KAAK,CAAC,EAAE;QACrB,OAAO,KAAK,GAAGiC,KAAK,CAAC6B,kBAAkB,CAAC,CAAC,CAAC1C,MAAM,GAAG,GAAG;MACxD,CAAC,MAAM,IAAIH,KAAK,CAACC,OAAO,CAACxB,MAAM,CAACsD,GAAG,CAACF,YAAY,CAAC,IAAIpD,MAAM,CAACsD,GAAG,CAACF,YAAY,CAACG,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;QACrG,IAAI;UACF,IAAIC,MAAM,GAAGW,UAAU,CAACd,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;YAC3C,IAAIa,KAAK,GAAI,OAAQd,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,IAAI,OAAQxB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,GAAIP,UAAU,CAACjB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAC,CAACiB,QAAQ,CAAC,CAAC,CAACV,KAAK,CAAC,GAAG,CAAC,CAACW,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;YAC/K,OAAO1B,KAAK,CAACC,UAAU,CAACH,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGG,UAAU,CAACH,KAAK,CAAC;UACzD,CAAC,CAAC;UACF,IAAI0B,MAAM,CAAC9B,MAAM,EAAE;YACjB8B,MAAM,GAAGA,MAAM,CAACG,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI,EAAK;cACrC,OAAOD,IAAI,GAAGC,IAAI;YACpB,CAAC,CAAC;YACFL,MAAM,GAAGX,MAAM,CAAC,CAACW,MAAM,GAAGR,SAAS,EAAEV,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;YACjEU,MAAM,GAAGA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,KAAK,GAAIA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,GAAG,GAAGA,MAAO;YACtH,OAAOA,MAAM;UACf,CAAC,MAAM;YACL,OAAO,MAAM;UACf;QACF,CAAC,CAAC,OAAOM,CAAC,EAAE,CAAC;MACf,CAAC,MAAM;QACL,OAAO,EAAE;MACX;IACF,CAAC,CAAC;EACJ,CAAC;EACDO,qBAAqB,WAAAA,sBAAAC,KAAA,EAAmC;IAAA,IAAhC1D,OAAO,GAAA0D,KAAA,CAAP1D,OAAO;MAAEX,IAAI,GAAAqE,KAAA,CAAJrE,IAAI;MAAEG,MAAM,GAAAkE,KAAA,CAANlE,MAAM;MAAEmC,KAAK,GAAA+B,KAAA,CAAL/B,KAAK;IAClD,IAAIS,SAAS,GAAGT,KAAK,CAACG,OAAO,CAACM,SAAS,GAAGT,KAAK,CAACG,OAAO,CAACM,SAAS,GAAG,CAAC;IACrE;IACA,OAAOpC,OAAO,CAACyC,GAAG,CAAC,UAACrD,MAAM,EAAEM,WAAW,EAAK;MAC1C,IAAIA,WAAW,KAAK,CAAC,EAAE;QACrB,OAAO,IAAI;MACb,CAAC,MAAM,IAAIiB,KAAK,CAACC,OAAO,CAACxB,MAAM,CAACsD,GAAG,CAACF,YAAY,CAAC,IAAIpD,MAAM,CAACsD,GAAG,CAACF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QAClG,IAAI;UACF,IAAIC,MAAM,GAAGvD,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;YACrC,IAAIa,KAAK,GAAI,OAAQd,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,IAAI,OAAQxB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,GAAIP,UAAU,CAACjB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAC,CAACiB,QAAQ,CAAC,CAAC,CAACV,KAAK,CAAC,GAAG,CAAC,CAACW,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;YAC/K,OAAO1B,KAAK,CAACC,UAAU,CAACH,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGG,UAAU,CAACH,KAAK,CAAC;UACzD,CAAC,CAAC;UACF,IAAI0B,MAAM,CAAC9B,MAAM,EAAE;YACjB8B,MAAM,GAAGA,MAAM,CAACG,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI,EAAK;cACrC,OAAOD,IAAI,GAAGC,IAAI;YACpB,CAAC,CAAC;YACFL,MAAM,GAAGX,MAAM,CAAC,CAACW,MAAM,GAAGR,SAAS,EAAEV,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;YACjEU,MAAM,GAAGA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,KAAK,GAAIA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,GAAG,GAAGA,MAAO;YACtH,OAAOA,MAAM;UACf,CAAC,MAAM;YACL,OAAO,MAAM;UACf;QACF,CAAC,CAAC,OAAOM,CAAC,EAAE,CAAC;MACf,CAAC,MAAM;QACL,OAAO,EAAE;MACX;IACF,CAAC,CAAC;EACJ,CAAC;EACDS,wBAAwB,WAAAA,yBAAAC,KAAA,EAAmC;IAAA,IAAhC5D,OAAO,GAAA4D,KAAA,CAAP5D,OAAO;MAAEX,IAAI,GAAAuE,KAAA,CAAJvE,IAAI;MAAEG,MAAM,GAAAoE,KAAA,CAANpE,MAAM;MAAEmC,KAAK,GAAAiC,KAAA,CAALjC,KAAK;IACrD,IAAIS,SAAS,GAAGT,KAAK,CAACG,OAAO,CAACM,SAAS,GAAGT,KAAK,CAACG,OAAO,CAACM,SAAS,GAAG,CAAC;IACrE;IACA,IAAIhC,IAAI,GAAGuB,KAAK,CAACG,OAAO,CAAC+B,cAAc,CAACC,QAAQ,IAAI,CAAC,CAAC;IACtD,OAAO9D,OAAO,CAACyC,GAAG,CAAC,UAACrD,MAAM,EAAEM,WAAW,EAAK;MAC1C,IAAIA,WAAW,KAAK,CAAC,EAAE;QACrB,OAAO,IAAI;MACb,CAAC,MAAM,IAAIiB,KAAK,CAACC,OAAO,CAACxB,MAAM,CAACsD,GAAG,CAACF,YAAY,CAAC,IAAIpD,MAAM,CAACsD,GAAG,CAACF,YAAY,CAACG,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;QACrG,IAAI;UACF,IAAIzB,KAAK,GAAI,OAAQd,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,IAAI,OAAQxB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAE,KAAK,QAAQ,GAAIP,UAAU,CAACjB,IAAI,CAAChB,MAAM,CAACwC,QAAQ,CAAC,CAACiB,QAAQ,CAAC,CAAC,CAACV,KAAK,CAAC,GAAG,CAAC,CAACW,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;UAC/K,IAAIF,MAAM,GAAGX,MAAM,CAAC,CAACf,KAAK,GAAGkB,SAAS,EAAEV,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;UACpEU,MAAM,GAAGA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,KAAK,GAAIA,MAAM,CAACT,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAG8B,MAAM,GAAG,GAAG,GAAGA,MAAO;UACtH,OAAOA,MAAM;QACf,CAAC,CAAC,OAAOM,CAAC,EAAE,CAAE;MAChB,CAAC,MAAM;QACL,OAAO,EAAE;MACX;IACF,CAAC,CAAC;EACJ;AACF,CAAC;AACD,IAAMa,aAAa,GAAG;EACpB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,QAAQ,EAAE;IACRC,aAAa,WAAAA,cAACpF,CAAC,EAAAqF,KAAA,EAAAC,KAAA,EAAoC;MAAA,IAAhCC,IAAI,GAAAF,KAAA,CAAJE,IAAI;QAAEC,KAAK,GAAAH,KAAA,CAALG,KAAK;MAAA,IAAM/E,GAAG,GAAA6E,KAAA,CAAH7E,GAAG;QAAEF,MAAM,GAAA+E,KAAA,CAAN/E,MAAM;MAC7C,IAAAkF,KAAA,GAAyCD,KAAK,IAAIA,KAAK,CAACE,MAAM,IAAK;UAAEC,QAAQ,EAAE,IAAI;UAAEC,iBAAiB,EAAE;QAAQ,CAAC;QAAzGD,QAAQ,GAAAF,KAAA,CAARE,QAAQ;QAAEC,iBAAiB,GAAAH,KAAA,CAAjBG,iBAAiB;MACnC,IAAI,CAACD,QAAQ,EAAE;QACblF,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,CAACtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,EAAEtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,EAAEtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAACa,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;UACtI,OAAO,CAACD,IAAI,GAAG,EAAE,EAAEe,OAAO,CAAC,sBAAsB,EAAE,EAAE,CAAC;QACxD,CAAC,CAAC,CAAC2B,IAAI,CAAC,IAAI,CAAC;QACbxD,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,KAAK,MAAM,GAAG,EAAE,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;MACpF,CAAC,MAAM;QACL,IAAI8C,KAAK,GAAG,OAAQpF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAE,KAAK,QAAQ,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAG;QACxL,IAAI+C,OAAO,GAAG,OAAQrF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAE,KAAK,QAAQ,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG,EAAG;QAClM,IAAIgD,OAAO,GAAG,OAAQtF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAE,KAAK,QAAQ,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG,EAAG;QAClM,IAAI6C,iBAAiB,KAAK,QAAQ,EAAE;UAClCnF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;UAC7CxD,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;UAC/CxD,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;QACjD,CAAC,MAAM;UACLxD,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAG8C,KAAK;UACnCpF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG+C,OAAO;UACvCrF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAGgD,OAAO;QACzC;QACAtF,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG+C,OAAO,CAAClC,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;UAClD,OAAO,CAACsE,OAAO,CAACtE,KAAK,CAAC,EAAEuE,OAAO,CAACvE,KAAK,CAAC,EAAEqE,KAAK,CAACrE,KAAK,CAAC,CAAC,CAACoC,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;YACzE,OAAO,CAACD,IAAI,GAAG,EAAE,EAAEe,OAAO,CAAC,sBAAsB,EAAE,EAAE,CAAC;UACxD,CAAC,CAAC,CAAC2B,IAAI,CAAC,IAAI,CAAC;QACf,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,CAAC;MACd;MACA,OAAO,CACLjE,CAAC,CAAC,QAAQ,EAAE;QACVwF,KAAK,EAAAQ,aAAA,CAAAA,aAAA;UACHC,GAAG,EAAE,WAAW,GAAG1F,MAAM,CAACwC,QAAQ;UAClCV,KAAK,EAAE5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAC3BmD,OAAO,EAAE;QAAK,GACXV,KAAK;UACRW,gBAAgB,EAAE;QAAI,EACvB;QACDC,EAAE,EAAE,CAAC;MACP,CAAC,CAAC,CACH;IACH,CAAC;IACDC,UAAU,WAAAA,WAACrG,CAAC,EAAAsG,MAAA,EAAAC,MAAA,EAAoC;MAAA,IAAhChB,IAAI,GAAAe,MAAA,CAAJf,IAAI;QAAEC,KAAK,GAAAc,MAAA,CAALd,KAAK;MAAA,IAAM/E,GAAG,GAAA8F,MAAA,CAAH9F,GAAG;QAAEF,MAAM,GAAAgG,MAAA,CAANhG,MAAM;MAC1C,IAAAiG,MAAA,GAAyChB,KAAK,IAAIA,KAAK,CAACE,MAAM,IAAK;UAAEC,QAAQ,EAAE,IAAI;UAAEC,iBAAiB,EAAE;QAAQ,CAAC;QAAzGD,QAAQ,GAAAa,MAAA,CAARb,QAAQ;QAAEC,iBAAiB,GAAAY,MAAA,CAAjBZ,iBAAiB;MACnC,IAAI,CAACD,QAAQ,EAAE;QACblF,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,CAACtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,EAAEtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,EAAEtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAACa,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;UACtI,OAAO,CAACD,IAAI,GAAG,EAAE,EAAEe,OAAO,CAAC,sBAAsB,EAAE,GAAG,CAAC;QACzD,CAAC,CAAC,CAAC2B,IAAI,CAAC,IAAI,CAAC;QACbxD,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,KAAK,MAAM,GAAG,EAAE,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;MACpF,CAAC,MAAM;QACL,IAAI8C,KAAK,GAAG,OAAQpF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAE,KAAK,QAAQ,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAG;QACxL,IAAI+C,OAAO,GAAG,OAAQrF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAE,KAAK,QAAQ,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG,EAAG;QAClM,IAAIgD,OAAO,GAAG,OAAQtF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAE,KAAK,QAAQ,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG,EAAG;QAClM,IAAI6C,iBAAiB,KAAK,QAAQ,EAAE;UAClCnF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;UAC7CxD,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;UAC/CxD,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;QACjD,CAAC,MAAM;UACLxD,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAG8C,KAAK;UACnCpF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG+C,OAAO;UACvCrF,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAGgD,OAAO;QACzC;QACAtF,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGgD,OAAO,CAAC9D,MAAM,GAAG6D,OAAO,CAAClC,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;UACnE,OAAO,CAACsE,OAAO,CAACtE,KAAK,CAAC,EAAEuE,OAAO,CAACvE,KAAK,CAAC,EAAEqE,KAAK,CAACrE,KAAK,CAAC,CAAC,CAACoC,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;YACzE,OAAO,CAACD,IAAI,GAAG,EAAE,EAAEe,OAAO,CAAC,sBAAsB,EAAE,GAAG,CAAC;UACzD,CAAC,CAAC,CAAC2B,IAAI,CAAC,IAAI,CAAC;QACf,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE;MACnB;MACA,OAAO,CACLjE,CAAC,CAAC,QAAQ,EAAE;QACVwF,KAAK,EAAAQ,aAAA,CAAAA,aAAA;UACHC,GAAG,EAAE,WAAW,GAAG1F,MAAM,CAACwC,QAAQ;UAClCV,KAAK,EAAE5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAC3BmD,OAAO,EAAE;QAAK,GACXV,KAAK;UACRW,gBAAgB,EAAE;QAAI,EACvB;QACDC,EAAE,EAAE,CACJ;MACF,CAAC,CAAC,CACH;IACH,CAAC;IACDK,UAAU,WAAAA,WAACzG,CAAC,EAAA0G,MAAA,EAAAC,MAAA,EAAoC;MAAA,IAAhCpB,IAAI,GAAAmB,MAAA,CAAJnB,IAAI;QAAEC,KAAK,GAAAkB,MAAA,CAALlB,KAAK;MAAA,IAAM/E,GAAG,GAAAkG,MAAA,CAAHlG,GAAG;QAAEF,MAAM,GAAAoG,MAAA,CAANpG,MAAM;MAC1C,IAAAqG,MAAA,GAA+BpB,KAAK,IAAIA,KAAK,CAACE,MAAM,IAAK;UAAEC,QAAQ,EAAE,IAAI;UAAEC,iBAAiB,EAAE;QAAQ,CAAC;QAA/FA,iBAAiB,GAAAgB,MAAA,CAAjBhB,iBAAiB;MACzB,IAAIiB,UAAU,GAAGpG,GAAG;MACpB,OAAO,CACLT,CAAC,CAAC,QAAQ,EAAE;QACVwF,KAAK,EAAAQ,aAAA,CAAAA,aAAA;UACHC,GAAG,EAAE,WAAW,GAAG1F,MAAM,CAACwC,QAAQ;UAClCmD,OAAO,EAAE,IAAI;UACb7D,KAAK,EAAE5B,GAAG,CAACF,MAAM,CAACwC,QAAQ;QAAC,GACxByC,KAAK;UACRW,gBAAgB,EAAE;QAAI,EACvB;QACDC,EAAE,EAAE;UACFU,KAAK,EAAE,SAAAA,MAACzE,KAAK,EAAK;YAChBwE,UAAU,CAACtG,MAAM,CAACwC,QAAQ,CAAC,GAAGV,KAAK;UACrC,CAAC;UACD0E,WAAW,WAAAA,YAAAC,MAAA,EAAqB;YAAA,IAAlBxG,IAAI,GAAAwG,MAAA,CAAJxG,IAAI;cAAEyG,QAAQ,GAAAD,MAAA,CAARC,QAAQ;YAC1BJ,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAGvC,IAAI,CAAC0G,EAAE;YAC5CL,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAGvC,IAAI,CAAC2G,IAAI;YAChDN,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAGvC,IAAI,CAAC+E,IAAI;UAClD,CAAC;UACD6B,gBAAgB,WAAAA,iBAAAC,MAAA,EAA4B;YAAA,IAAzB7G,IAAI,GAAA6G,MAAA,CAAJ7G,IAAI;cAAEyG,QAAQ,GAAAI,MAAA,CAARJ,QAAQ;cAAE5E,KAAK,GAAAgF,MAAA,CAALhF,KAAK;YACtCwE,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAGvC,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;cAC7D,OAAOD,IAAI,CAAC2F,EAAE,GAAG3F,IAAI,CAAC2F,EAAE,GAAG,EAAE;YAC/B,CAAC,CAAC;YACFL,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAGvC,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;cAC/D,OAAOD,IAAI,CAAC4F,IAAI,GAAG5F,IAAI,CAAC4F,IAAI,GAAG,EAAE;YACnC,CAAC,CAAC;YACFN,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAGvC,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;cAC/D,OAAOD,IAAI,CAACgE,IAAI,GAAGhE,IAAI,CAACgE,IAAI,GAAG,EAAE;YACnC,CAAC,CAAC;YACF,IAAIK,iBAAiB,KAAK,QAAQ,EAAE;cAClCiB,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,GAAG8D,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,IAAI,CAAC,CAACkB,IAAI,CAAC,GAAG,CAAC;cACjF4C,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG8D,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAACkB,IAAI,CAAC,GAAG,CAAC;cACrF4C,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,GAAG8D,UAAU,CAACtG,MAAM,CAACwC,QAAQ,GAAG,MAAM,CAAC,CAACkB,IAAI,CAAC,GAAG,CAAC;YACvF;UACF;QACF;MACF,CAAC,CAAC,CACH;IACH,CAAC;IACDqD,UAAU,WAAAA,WAACtH,CAAC,EAAAuH,MAAA,EAAAC,MAAA,EAAwC;MAAA,IAApChC,KAAK,GAAA+B,MAAA,CAAL/B,KAAK;MAAA,IAAMiC,KAAK,GAAAD,MAAA,CAALC,KAAK;QAAE1E,QAAQ,GAAAyE,MAAA,CAARzE,QAAQ;QAAEvC,IAAI,GAAAgH,MAAA,CAAJhH,IAAI;MAC9C,IAAIqG,UAAU,GAAGrG,IAAI;MACrB,IAAAkH,MAAA,GAAyClC,KAAK,IAAIA,KAAK,CAACE,MAAM,IAAK;UAAEC,QAAQ,EAAE,IAAI;UAAEC,iBAAiB,EAAE;QAAQ,CAAC;QAAzGA,iBAAiB,GAAA8B,MAAA,CAAjB9B,iBAAiB;QAAED,QAAQ,GAAA+B,MAAA,CAAR/B,QAAQ;MACnC,IAAI,CAACA,QAAQ,EAAE;QACbnF,IAAI,CAACuC,QAAQ,CAAC,GAAG,CAACvC,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,EAAEvC,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,EAAEvC,IAAI,CAACuC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAACa,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;UAC9G,OAAO,CAACD,IAAI,GAAG,EAAE,EAAEe,OAAO,CAAC,sBAAsB,EAAE,GAAG,CAAC;QACzD,CAAC,CAAC,CAAC2B,IAAI,CAAC,IAAI,CAAC;MACf,CAAC,MAAM;QACL,IAAI4B,KAAK,GAAG,OAAQrF,IAAI,CAACuC,QAAQ,GAAG,IAAI,CAAE,KAAK,QAAQ,GAAGvC,IAAI,CAACuC,QAAQ,GAAG,IAAI,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACvB,IAAI,CAACuC,QAAQ,GAAG,IAAI,CAAC,CAAC,GAAGvC,IAAI,CAACuC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAG;QAChK,IAAI+C,OAAO,GAAG,OAAQtF,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAE,KAAK,QAAQ,GAAGvC,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACvB,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAGvC,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,GAAG,EAAG;QAC1K,IAAIgD,OAAO,GAAG,OAAQvF,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAE,KAAK,QAAQ,GAAGvC,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,CAACO,KAAK,CAAC,GAAG,CAAC,GAAIxB,KAAK,CAACC,OAAO,CAACvB,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAGvC,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,GAAG,EAAG;QAC1K,IAAI6C,iBAAiB,KAAK,QAAQ,EAAE;UAClCpF,IAAI,CAACuC,QAAQ,GAAG,IAAI,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;UACvCzD,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;UACzCzD,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,GAAG8C,KAAK,CAAC5B,IAAI,CAAC,GAAG,CAAC;QAC3C,CAAC,MAAM;UACLzD,IAAI,CAACuC,QAAQ,GAAG,IAAI,CAAC,GAAG8C,KAAK;UAC7BrF,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,GAAG+C,OAAO;UACjCtF,IAAI,CAACuC,QAAQ,GAAG,MAAM,CAAC,GAAGgD,OAAO;QACnC;QACAvF,IAAI,CAACuC,QAAQ,CAAC,GAAGgD,OAAO,CAAC9D,MAAM,GAAG6D,OAAO,CAAClC,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;UAC7D,OAAO,CAACsE,OAAO,CAACtE,KAAK,CAAC,EAAEuE,OAAO,CAACvE,KAAK,CAAC,EAAEqE,KAAK,CAACrE,KAAK,CAAC,CAAC,CAACoC,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;YACzE,OAAO,CAACD,IAAI,GAAG,EAAE,EAAEe,OAAO,CAAC,sBAAsB,EAAE,EAAE,CAAC;UACxD,CAAC,CAAC,CAAC2B,IAAI,CAAC,IAAI,CAAC;QACf,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE;MACnB;MACA,OAAO,CACLjE,CAAC,CAAC,QAAQ,EAAE;QACVwF,KAAK,EAAAQ,aAAA,CAAAA,aAAA;UACHC,GAAG,EAAE,WAAW,GAAGlD,QAAQ;UAC3BmD,OAAO,EAAE,IAAI;UACb7D,KAAK,EAAE7B,IAAI,CAACuC,QAAQ;QAAC,GAClByC,KAAK;UACRW,gBAAgB,EAAE;QAAI,EACvB;QACDC,EAAE,EAAE;UACFU,KAAK,EAAE,SAAAA,MAACzE,KAAK,EAAK;YAChB7B,IAAI,CAACuC,QAAQ,CAAC,GAAGV,KAAK;UACxB,CAAC;UACD0E,WAAW,WAAAA,YAAAY,MAAA,EAAqB;YAAA,IAAlBnH,IAAI,GAAAmH,MAAA,CAAJnH,IAAI;cAAEyG,QAAQ,GAAAU,MAAA,CAARV,QAAQ;YAC1BJ,UAAU,CAAC9D,QAAQ,GAAG,IAAI,CAAC,GAAGvC,IAAI,CAAC0G,EAAE;YACrCL,UAAU,CAAC9D,QAAQ,GAAG,MAAM,CAAC,GAAGvC,IAAI,CAAC2G,IAAI;YACzCN,UAAU,CAAC9D,QAAQ,GAAG,MAAM,CAAC,GAAGvC,IAAI,CAAC+E,IAAI;UAC3C,CAAC;UACD6B,gBAAgB,WAAAA,iBAAAQ,MAAA,EAA4B;YAAA,IAAzBpH,IAAI,GAAAoH,MAAA,CAAJpH,IAAI;cAAEyG,QAAQ,GAAAW,MAAA,CAARX,QAAQ;cAAE5E,KAAK,GAAAuF,MAAA,CAALvF,KAAK;YACtCwE,UAAU,CAAC9D,QAAQ,GAAG,IAAI,CAAC,GAAGvC,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;cACtD,OAAOD,IAAI,CAAC2F,EAAE,GAAG3F,IAAI,CAAC2F,EAAE,GAAG,EAAE;YAC/B,CAAC,CAAC;YACFL,UAAU,CAAC9D,QAAQ,GAAG,MAAM,CAAC,GAAGvC,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;cACxD,OAAOD,IAAI,CAAC4F,IAAI,GAAG5F,IAAI,CAAC4F,IAAI,GAAG,EAAE;YACnC,CAAC,CAAC;YACFN,UAAU,CAAC9D,QAAQ,GAAG,MAAM,CAAC,GAAGvC,IAAI,CAACoD,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;cACxD,OAAOD,IAAI,CAACgE,IAAI,GAAGhE,IAAI,CAACgE,IAAI,GAAG,EAAE;YACnC,CAAC,CAAC;YACF,IAAIK,iBAAiB,KAAK,QAAQ,EAAE;cAClCiB,UAAU,CAAC9D,QAAQ,GAAG,IAAI,CAAC,GAAG8D,UAAU,CAAC9D,QAAQ,GAAG,IAAI,CAAC,CAACkB,IAAI,CAAC,GAAG,CAAC;cACnE4C,UAAU,CAAC9D,QAAQ,GAAG,MAAM,CAAC,GAAG8D,UAAU,CAAC9D,QAAQ,GAAG,MAAM,CAAC,CAACkB,IAAI,CAAC,GAAG,CAAC;cACvE4C,UAAU,CAAC9D,QAAQ,GAAG,MAAM,CAAC,GAAG8D,UAAU,CAAC9D,QAAQ,GAAG,MAAM,CAAC,CAACkB,IAAI,CAAC,GAAG,CAAC;YACzE;UACF;QACF;MACF,CAAC,CAAC,CACH;IACH;EACF,CAAC;EACD4D,OAAO,EAAE;IACP;IACAC,WAAW,WAAAA,YAAC9H,CAAC,EAAEC,UAAU,EAAE;MACzB,OAAO,CAAAD,CAAA,SAAAA,CAAA,UAAAA,CAAA,4EAMN;IACH;EACF,CAAC;EACD+H,gBAAgB,EAAE;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA3C,aAAa,WAAAA,cAACpF,CAAC,EAAEC,UAAU,EAAA+H,MAAA,EAAyH7H,OAAO,EAAE;MAAA,IAA9HC,YAAY,GAAA4H,MAAA,CAAZ5H,YAAY;QAAEC,SAAS,GAAA2H,MAAA,CAAT3H,SAAS;QAAEC,KAAK,GAAA0H,MAAA,CAAL1H,KAAK;QAAEC,MAAM,GAAAyH,MAAA,CAANzH,MAAM;QAAEC,IAAI,GAAAwH,MAAA,CAAJxH,IAAI;QAAEC,GAAG,GAAAuH,MAAA,CAAHvH,GAAG;QAAEC,IAAI,GAAAsH,MAAA,CAAJtH,IAAI;QAAEC,MAAM,GAAAqH,MAAA,CAANrH,MAAM;QAAEC,KAAK,GAAAoH,MAAA,CAALpH,KAAK;QAAEC,WAAW,GAAAmH,MAAA,CAAXnH,WAAW;QAAEC,MAAM,GAAAkH,MAAA,CAANlH,MAAM;QAAEC,KAAK,GAAAiH,MAAA,CAALjH,KAAK;QAAEC,QAAQ,GAAAgH,MAAA,CAARhH,QAAQ;QAAEC,GAAG,GAAA+G,MAAA,CAAH/G,GAAG;MAC9I,OAAOnB,mBAAmB,CAACC,eAAe,CAACC,CAAC,EAAEC,UAAU,EAAE;QAAEG,YAAY,EAAZA,YAAY;QAAEC,SAAS,EAATA,SAAS;QAAEC,KAAK,EAALA,KAAK;QAAEC,MAAM,EAANA,MAAM;QAAEC,IAAI,EAAJA,IAAI;QAAEC,GAAG,EAAHA,GAAG;QAAEC,IAAI,EAAJA,IAAI;QAAEC,MAAM,EAANA,MAAM;QAAEC,KAAK,EAALA,KAAK;QAAEC,WAAW,EAAXA,WAAW;QAAEC,MAAM,EAANA,MAAM;QAAEC,KAAK,EAALA,KAAK;QAAEC,QAAQ,EAARA,QAAQ;QAAEC,GAAG,EAAHA;MAAI,CAAC,EAAEd,OAAO,CAAC;IAC3L,CAAC;IACDkG,UAAU,WAAAA,WAACrG,CAAC,EAAEC,UAAU,EAAAgI,MAAA,EAAyH9H,OAAO,EAAE;MAAA,IAA9HC,YAAY,GAAA6H,MAAA,CAAZ7H,YAAY;QAAEC,SAAS,GAAA4H,MAAA,CAAT5H,SAAS;QAAEC,KAAK,GAAA2H,MAAA,CAAL3H,KAAK;QAAEC,MAAM,GAAA0H,MAAA,CAAN1H,MAAM;QAAEC,IAAI,GAAAyH,MAAA,CAAJzH,IAAI;QAAEC,GAAG,GAAAwH,MAAA,CAAHxH,GAAG;QAAEC,IAAI,GAAAuH,MAAA,CAAJvH,IAAI;QAAEC,MAAM,GAAAsH,MAAA,CAANtH,MAAM;QAAEC,KAAK,GAAAqH,MAAA,CAALrH,KAAK;QAAEC,WAAW,GAAAoH,MAAA,CAAXpH,WAAW;QAAEC,MAAM,GAAAmH,MAAA,CAANnH,MAAM;QAAEC,KAAK,GAAAkH,MAAA,CAALlH,KAAK;QAAEC,QAAQ,GAAAiH,MAAA,CAARjH,QAAQ;QAAEC,GAAG,GAAAgH,MAAA,CAAHhH,GAAG;MAC3I,OAAOnB,mBAAmB,CAACC,eAAe,CAACC,CAAC,EAAEC,UAAU,EAAE;QAAEG,YAAY,EAAZA,YAAY;QAAEC,SAAS,EAATA,SAAS;QAAEC,KAAK,EAALA,KAAK;QAAEC,MAAM,EAANA,MAAM;QAAEC,IAAI,EAAJA,IAAI;QAAEC,GAAG,EAAHA,GAAG;QAAEC,IAAI,EAAJA,IAAI;QAAEC,MAAM,EAANA,MAAM;QAAEC,KAAK,EAALA,KAAK;QAAEC,WAAW,EAAXA,WAAW;QAAEC,MAAM,EAANA,MAAM;QAAEC,KAAK,EAALA,KAAK;QAAEC,QAAQ,EAARA,QAAQ;QAAEC,GAAG,EAAHA;MAAI,CAAC,EAAEd,OAAO,CAAC;IAC3L,CAAC;IACDsG,UAAU,WAAAA,WAACzG,CAAC,EAAEC,UAAU,EAAAiI,MAAA,EAAyH/H,OAAO,EAAE;MAAA,IAA9HC,YAAY,GAAA8H,MAAA,CAAZ9H,YAAY;QAAEC,SAAS,GAAA6H,MAAA,CAAT7H,SAAS;QAAEC,KAAK,GAAA4H,MAAA,CAAL5H,KAAK;QAAEC,MAAM,GAAA2H,MAAA,CAAN3H,MAAM;QAAEC,IAAI,GAAA0H,MAAA,CAAJ1H,IAAI;QAAEC,GAAG,GAAAyH,MAAA,CAAHzH,GAAG;QAAEC,IAAI,GAAAwH,MAAA,CAAJxH,IAAI;QAAEC,MAAM,GAAAuH,MAAA,CAANvH,MAAM;QAAEC,KAAK,GAAAsH,MAAA,CAALtH,KAAK;QAAEC,WAAW,GAAAqH,MAAA,CAAXrH,WAAW;QAAEC,MAAM,GAAAoH,MAAA,CAANpH,MAAM;QAAEC,KAAK,GAAAmH,MAAA,CAALnH,KAAK;QAAEC,QAAQ,GAAAkH,MAAA,CAARlH,QAAQ;QAAEC,GAAG,GAAAiH,MAAA,CAAHjH,GAAG;MAC3I,OAAOnB,mBAAmB,CAACC,eAAe,CAACC,CAAC,EAAEC,UAAU,EAAE;QAAEG,YAAY,EAAZA,YAAY;QAAEC,SAAS,EAATA,SAAS;QAAEC,KAAK,EAALA,KAAK;QAAEC,MAAM,EAANA,MAAM;QAAEC,IAAI,EAAJA,IAAI;QAAEC,GAAG,EAAHA,GAAG;QAAEC,IAAI,EAAJA,IAAI;QAAEC,MAAM,EAANA,MAAM;QAAEC,KAAK,EAALA,KAAK;QAAEC,WAAW,EAAXA,WAAW;QAAEC,MAAM,EAANA,MAAM;QAAEC,KAAK,EAALA,KAAK;QAAEC,QAAQ,EAARA,QAAQ;QAAEC,GAAG,EAAHA;MAAI,CAAC,EAAEd,OAAO,CAAC;MACzL;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF;EACF,CAAC;;EACDgI,YAAY,EAAE;IACZ;IACA/C,aAAa,WAAAA,cAACpF,CAAC,EAAAoI,MAAA,EAAAC,MAAA,EAA8BlI,OAAO,EAAE;MAAA,IAAnCqF,KAAK,GAAA4C,MAAA,CAAL5C,KAAK;MAAA,IAAM/E,GAAG,GAAA4H,MAAA,CAAH5H,GAAG;QAAEF,MAAM,GAAA8H,MAAA,CAAN9H,MAAM;MACvCiF,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC;MACnB,IAAIxC,GAAG,GAAGT,KAAK,CAACC,UAAU,CAAC/B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGP,UAAU,CAAC/B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC;MACzF,IAAIC,GAAG,KAAK,EAAE,EAAE;QACdvC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGC,GAAG,CAACH,OAAO,CAAC,CAAC,CAAC;QACrC,IAAI1C,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACC,mBAAmB,CAACC,uBAAuB,EAAE;UACrEH,GAAG,GAAGI,MAAM,CAAEJ,GAAG,CAAEH,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;UAC/CL,GAAG,GAAGA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,KAAK,GAAIA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,GAAG,GAAGA,GAAI;UACpG,OAAO,CAAAhD,CAAA;YAAA,SAAa,MAAM;YAAA,SAAAgG,aAAA,KAAOR,KAAK;UAAA,IAAMxC,GAAG,GAAS;QAC1D,CAAC,MAAM;UACL,IAAIO,SAAS,GAAGpD,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACM,SAAS,GAAGpD,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACM,SAAS,GAAG,CAAC;UACrFP,GAAG,GAAGI,MAAM,CAAC,CAACJ,GAAG,GAAGO,SAAS,EAAEV,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;UAC3DL,GAAG,GAAGA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,KAAK,GAAIA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,GAAG,GAAGA,GAAI;UACpG,OAAO,CAAAhD,CAAA;YAAA,SAAa,MAAM;YAAA,SAAAgG,aAAA,KAAOR,KAAK;UAAA,IAAMxC,GAAG,GAAS;QAC1D;MACF,CAAC,MAAM;QACL,OAAO,CAAAhD,CAAA;UAAA,SAAa,MAAM;UAAA,SAAAgG,aAAA,KAAOR,KAAK;QAAA,GAAa;MACrD;IACF,CAAC;IACDiB,UAAU,WAAAA,WAACzG,CAAC,EAAAsI,MAAA,EAAAC,MAAA,EAA8B;MAAA,IAAAC,KAAA;MAAA,IAA1BhD,KAAK,GAAA8C,MAAA,CAAL9C,KAAK;MAAA,IAAM/E,GAAG,GAAA8H,MAAA,CAAH9H,GAAG;QAAEF,MAAM,GAAAgI,MAAA,CAANhI,MAAM;MACpC;MACA;MACAiF,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC;MACnB;MACA,OAAO,CAAAxF,CAAA;QAAA;UAAA,QAGI,CAAC;UAAA,QACH,OAAO;UAAA,OACJ,IAAI;UAAA,OAEP,aAAa;UAAA,eACN,KAAK;UAAA;QAAA;QAAA,SAAAgG,aAAA,KAFXR,KAAK;QAAA;UAAAnD,KAAA,EAJF5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAAF,KAAA,CAAAG,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,GAS9B;MAAA,CACD;IACH,CAAC;IACDrC,UAAU,WAAAA,WAACrG,CAAC,EAAA4I,MAAA,EAAAC,MAAA,EAA8B1I,OAAO,EAAE;MAAA,IAAnCqF,KAAK,GAAAoD,MAAA,CAALpD,KAAK;MAAA,IAAM/E,GAAG,GAAAoI,MAAA,CAAHpI,GAAG;QAAEF,MAAM,GAAAsI,MAAA,CAANtI,MAAM;MACpCiF,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC;MACnB,IAAIxC,GAAG,GAAGT,KAAK,CAACC,UAAU,CAAC/B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGP,UAAU,CAAC/B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC;MACzF,IAAIC,GAAG,KAAK,EAAE,EAAE;QACdvC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGC,GAAG,CAACH,OAAO,CAAC,CAAC,CAAC;QACrC,IAAI1C,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACC,mBAAmB,CAACC,uBAAuB,EAAE;UACrEH,GAAG,GAAGI,MAAM,CAAEJ,GAAG,CAAEH,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;UAC/CL,GAAG,GAAGA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,KAAK,GAAIA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,GAAG,GAAGA,GAAI;UACpG,OAAO,CAAAhD,CAAA;YAAA,SAAa,MAAM;YAAA,SAAAgG,aAAA,KAAOR,KAAK;UAAA,IAAMxC,GAAG,GAAS;QAC1D,CAAC,MAAM;UACL,IAAIO,SAAS,GAAGpD,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACM,SAAS,GAAGpD,OAAO,CAAC2C,KAAK,CAACG,OAAO,CAACM,SAAS,GAAG,CAAC;UACrFP,GAAG,GAAGI,MAAM,CAAC,CAACJ,GAAG,GAAGO,SAAS,EAAEV,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;UAC3DL,GAAG,GAAGA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,KAAK,GAAIA,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACrB,MAAM,KAAK,CAAC,GAAGe,GAAG,GAAG,GAAG,GAAGA,GAAI;UACpG,OAAO,CAAAhD,CAAA;YAAA,SAAa,MAAM;YAAA,SAAAgG,aAAA,KAAOR,KAAK;UAAA,IAAMxC,GAAG,GAAS;QAC1D;MACF,CAAC,MAAM;QACL,OAAO,CAAAhD,CAAA;UAAA,SAAa,MAAM;UAAA,SAAAgG,aAAA,KAAOR,KAAK;QAAA,GAAY;MACpD;IACF;EACF,CAAC;EACDsD,SAAS,EAAE;IACTzC,UAAU,WAAAA,WAACrG,CAAC,EAAE+I,UAAU,EAAAC,MAAA,EAAmB7I,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAAuI,MAAA,CAAHvI,GAAG;QAAEF,MAAM,GAAAyI,MAAA,CAANzI,MAAM;MACrC,IAAMgF,IAAI,GAAG9E,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO,KAAK,GAAG,GAAG,EAAE,GAAGtC,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MACvF,IAAMoE,IAAI,GAAG1G,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO,KAAK,GAAG,GAAG,EAAE,GAAGtC,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MACvF,IAAMkG,MAAM,GAAGF,UAAU,CAACvD,KAAK,IAAIuD,UAAU,CAACvD,KAAK,CAACyD,MAAM;MAC1D,IAAMC,YAAY,GAAGH,UAAU,CAACvD,KAAK,IAAIuD,UAAU,CAACvD,KAAK,CAAC0D,YAAY;MACtE,IAAIC,IAAI,GAAG,EAAE;MACb,IAAID,YAAY,EAAE;QAChBC,IAAI,GAAG1I,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,EAAG,GAAGtC,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,EAAG,GAAG,EAAE;MACnE,CAAC,MAAM;QACL,IAAIwC,IAAI,EAAE;UACR4D,IAAI,GAAGF,MAAM,MAAAtG,MAAA,CAAM4C,IAAI,OAAA5C,MAAA,CAAQwE,IAAI,OAAAxE,MAAA,CAAI4C,IAAI,CAAE;QAC/C;MACF;MAEA,OAAO,CAAAvF,CAAA;QAAA,SAAa;MAAM,IAAEmJ,IAAI,GAAS;IAC3C,CAAC;IACD1C,UAAU,WAAAA,WAACzG,CAAC,EAAE+I,UAAU,EAAAK,MAAA,EAAmBjJ,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAA2I,MAAA,CAAH3I,GAAG;QAAEF,MAAM,GAAA6I,MAAA,CAAN7I,MAAM;MACrC,IAAMgF,IAAI,GAAG9E,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO,KAAK,GAAG,GAAG,EAAE,GAAGtC,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MACvF,IAAMoE,IAAI,GAAG1G,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO,KAAK,GAAG,GAAG,EAAE,GAAGtC,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MACvF,IAAMkG,MAAM,GAAGF,UAAU,CAACvD,KAAK,IAAIuD,UAAU,CAACvD,KAAK,CAACyD,MAAM;MAC1D,IAAIE,IAAI,GAAG,EAAE;MACb,IAAI5D,IAAI,EAAE;QACR4D,IAAI,GAAGF,MAAM,MAAAtG,MAAA,CAAM4C,IAAI,OAAA5C,MAAA,CAAQwE,IAAI,OAAAxE,MAAA,CAAI4C,IAAI,CAAE;MAC/C;MACA,OAAO,CAAAvF,CAAA;QAAA;UAAA,eAGS,MAAM;UAAA;UAAA;QAAA;QAAA;UAAAqC,KAAA,EADT8G,IAAI;UAAAV,QAAA,WAAAA,SAAAC,GAAA;YAAJS,IAAI,GAAAT,GAAA;UAAA;QAAA;MAAA,GAKhB;MACD;IACF;EACF,CAAC;;EACDW,UAAU,EAAE;IACVhD,UAAU,WAAAA,WAACrG,CAAC,EAAE+I,UAAU,EAAAO,MAAA,EAA8BnJ,OAAO,EAAE;MAAA,IAAnCM,GAAG,GAAA6I,MAAA,CAAH7I,GAAG;QAAEF,MAAM,GAAA+I,MAAA,CAAN/I,MAAM;QAAEF,SAAS,GAAAiJ,MAAA,CAATjJ,SAAS;MAChD;MACA;MACA,IAAImF,KAAK,GAAGuD,UAAU,CAACvD,KAAK,IAAI,CAAC,CAAC;MAClC,IAAIzC,QAAQ,GAAGxC,MAAM,CAACwC,QAAQ;MAC9ByC,KAAK,CAAC,QAAQ,CAAC,GAAGzC,QAAQ;MAE1B,IAAIwG,SAAS,GAAG,CAAC,IAAIC,IAAI,CAAC,CAAC;MAC3B,IAAI/I,GAAG,CAACsC,QAAQ,CAAC,EAAE;QACjB,IAAM0G,QAAQ,GAAGhJ,GAAG,CAACsC,QAAQ,CAAC,CAACO,KAAK,CAAC,IAAI,CAAC;QAC1C7C,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;QAClChJ,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;QACpChJ,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;MACtC;MAEA,IAAI,CAAChJ,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,EAAE;QACzBtC,GAAG,CAACsC,QAAQ,CAAC,GAAG,QAAQ,GAAGwG,SAAS,GAAG,QAAQ;MACjD,CAAC,MAAM;QACL9I,GAAG,CAACsC,QAAQ,CAAC,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG,IAAI,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC;MACtG;MAEA,IAAMwC,IAAI,GAAG9E,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MAC1C,IAAMoE,IAAI,GAAG1G,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MAC1C,IAAMkG,MAAM,GAAGF,UAAU,CAACvD,KAAK,IAAIuD,UAAU,CAACvD,KAAK,CAACyD,MAAM;MAE1D,IAAIE,IAAI,GAAG,EAAE;MACb,IAAI5D,IAAI,IAAIA,IAAI,KAAK,GAAG,EAAE;QACxB4D,IAAI,GAAGF,MAAM,MAAAtG,MAAA,CAAM4C,IAAI,OAAA5C,MAAA,CAAQwE,IAAI,OAAAxE,MAAA,CAAI4C,IAAI,CAAE;MAC/C;MAEA,OAAO,CAAAvF,CAAA;QAAA,SAAe;MAAM,SAAKmJ,IAAI,QAAW;IAClD,CAAC;IACD1C,UAAU,WAAAA,WAACzG,CAAC,EAAE+I,UAAU,EAAAW,MAAA,EAAmBvJ,OAAO,EAAE;MAAA,IAAAwJ,MAAA;MAAA,IAAxBlJ,GAAG,GAAAiJ,MAAA,CAAHjJ,GAAG;QAAEF,MAAM,GAAAmJ,MAAA,CAANnJ,MAAM;MACrC;MACA,IAAI;QACF,IAAIiF,KAAK,GAAGuD,UAAU,CAACvD,KAAK,IAAI,CAAC,CAAC;QAClC,IAAIzC,QAAQ,GAAGxC,MAAM,CAACwC,QAAQ;QAC9B,IAAI6G,OAAO,GAAGb,UAAU,CAACa,OAAO,IAAI,EAAE;QAEtCpE,KAAK,CAAC,QAAQ,CAAC,GAAGzC,QAAQ;QAC1B,IAAIwG,SAAS,GAAG,CAAC,IAAIC,IAAI,CAAC,CAAC;QAC3B;QACA,IAAI,CAAC/I,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,EAAE;UACzB;UACAtC,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG,QAAQ,GAAGwG,SAAS;UAC3C9I,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG,GAAG;UAC5BtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG,GAAG;QAC9B,CAAC,MAAM;UACL;UACAtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,IAAI,GAAG;UACtDtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,IAAI,GAAG;QACxD;;QAEA;QACA,IAAItC,GAAG,CAACsC,QAAQ,CAAC,EAAE;UACjB,IAAM0G,QAAQ,GAAGhJ,GAAG,CAACsC,QAAQ,CAAC,CAACO,KAAK,CAAC,IAAI,CAAC;UAC1C7C,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;UAClChJ,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;UACpChJ,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;QACtC;;QAEA;QACA,IAAI,CAAChJ,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,EAAE;UACzBtC,GAAG,CAACsC,QAAQ,CAAC,GAAG,QAAQ,GAAGwG,SAAS,GAAG,QAAQ;QACjD,CAAC,MAAM;UACL9I,GAAG,CAACsC,QAAQ,CAAC,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG,IAAI,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC;QACtG;QACA,OAAO,CAAA/C,CAAA;UAAA;YAAA,SACgB4J;UAAO;UAAA,SAAA5D,aAAA,KAAwCR,KAAK;UAAA;YAAAnD,KAAA,EAAjC5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;YAAA0F,QAAA,WAAAA,SAAAC,GAAA;cAAAiB,MAAA,CAAAhB,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;YAAA;UAAA;QAAA,GAC5D;MACH,CAAC,CAAC,OAAOrE,CAAC,EAAE,CAAC;IACf;EACF,CAAC;EACDwF,cAAc,EAAE;IACdxD,UAAU,WAAAA,WAACrG,CAAC,EAAE+I,UAAU,EAAAe,MAAA,EAAmB3J,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAAqJ,MAAA,CAAHrJ,GAAG;QAAEF,MAAM,GAAAuJ,MAAA,CAANvJ,MAAM;MACrC,IAAMgF,IAAI,GAAG9E,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO,KAAK,GAAG,GAAG,EAAE,GAAGtC,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MACvF,IAAMoE,IAAI,GAAG1G,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO,KAAK,GAAG,GAAG,EAAE,GAAGtC,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MACvF,IAAMkG,MAAM,GAAGF,UAAU,CAACvD,KAAK,IAAIuD,UAAU,CAACvD,KAAK,CAACyD,MAAM;MAC1D,IAAIE,IAAI,GAAG,EAAE;MACb,IAAI5D,IAAI,EAAE;QACR,IAAIwE,KAAK,GAAGxE,IAAI,CAACjC,KAAK,CAAC,GAAG,CAAC;QAC3B,IAAI0G,KAAK,GAAG7C,IAAI,CAAC7D,KAAK,CAAC,GAAG,CAAC;QAC3B,IAAI2G,IAAI,GAAG,EAAE;QACb,IAAIF,KAAK,CAAC9H,MAAM,KAAK+H,KAAK,CAAC/H,MAAM,EAAE;UACjC,KAAK,IAAIiI,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAGJ,KAAK,CAAC9H,MAAM,EAAEiI,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;YAChDD,IAAI,IAAKhB,MAAM,MAAAtG,MAAA,CAAMoH,KAAK,CAACG,CAAC,CAAC,OAAAvH,MAAA,CAAQqH,KAAK,CAACE,CAAC,CAAC,OAAAvH,MAAA,CAAIoH,KAAK,CAACG,CAAC,CAAC,CAAG;YAC5D,IAAIA,CAAC,GAAGC,GAAG,GAAG,CAAC,EAAE;cACfF,IAAI,IAAI,GAAG;YACb;UACF;QACF,CAAC,MAAM;UACLxH,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;QACvC;QACAyG,IAAI,GAAGc,IAAI;MACb;MACA,OAAO,CAAAjK,CAAA;QAAA,SAAa;MAAM,IAAEmJ,IAAI,GAAS;IAC3C;EACF,CAAC;EACDiB,eAAe,EAAE;IACf/D,UAAU,WAAAA,WAACrG,CAAC,EAAE+I,UAAU,EAAAsB,MAAA,EAA8BlK,OAAO,EAAE;MAAA,IAAnCM,GAAG,GAAA4J,MAAA,CAAH5J,GAAG;QAAEF,MAAM,GAAA8J,MAAA,CAAN9J,MAAM;QAAEF,SAAS,GAAAgK,MAAA,CAAThK,SAAS;MAChD;MACA;MACA,IAAImF,KAAK,GAAGuD,UAAU,CAACvD,KAAK,IAAI,CAAC,CAAC;MAClC,IAAIzC,QAAQ,GAAGxC,MAAM,CAACwC,QAAQ;MAC9ByC,KAAK,CAAC,QAAQ,CAAC,GAAGzC,QAAQ;MAE1B,IAAIwG,SAAS,GAAG,CAAC,IAAIC,IAAI,CAAC,CAAC;MAC3B,IAAI/I,GAAG,CAACsC,QAAQ,CAAC,EAAE;QACjB,IAAM0G,QAAQ,GAAGhJ,GAAG,CAACsC,QAAQ,CAAC,CAACO,KAAK,CAAC,IAAI,CAAC;QAC1C7C,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;QAClChJ,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;QACpChJ,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;MACtC;MAEA,IAAI,CAAChJ,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,EAAE;QACzBtC,GAAG,CAACsC,QAAQ,CAAC,GAAG,QAAQ,GAAGwG,SAAS,GAAG,QAAQ;MACjD,CAAC,MAAM;QACL9I,GAAG,CAACsC,QAAQ,CAAC,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG,IAAI,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC;MACtG;MAEA,IAAMwC,IAAI,GAAG9E,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MAC1C,IAAMoE,IAAI,GAAG1G,GAAG,IAAAkC,MAAA,CAAIpC,MAAM,CAACwC,QAAQ,UAAO;MAC1C,IAAMkG,MAAM,GAAGF,UAAU,CAACvD,KAAK,IAAIuD,UAAU,CAACvD,KAAK,CAACyD,MAAM;MAE1D,IAAIE,IAAI,GAAG,EAAE;MACb,IAAI5D,IAAI,IAAIA,IAAI,KAAK,GAAG,EAAE;QACxB4D,IAAI,GAAGF,MAAM,MAAAtG,MAAA,CAAM4C,IAAI,OAAA5C,MAAA,CAAQwE,IAAI,OAAAxE,MAAA,CAAI4C,IAAI,CAAE;MAC/C;MAEA,OAAO,CAAAvF,CAAA;QAAA,SAAe;MAAM,SAAKmJ,IAAI,QAAW;IAClD,CAAC;IACD1C,UAAU,WAAAA,WAACzG,CAAC,EAAE+I,UAAU,EAAAuB,MAAA,EAAmBnK,OAAO,EAAE;MAAA,IAAAoK,MAAA;MAAA,IAAxB9J,GAAG,GAAA6J,MAAA,CAAH7J,GAAG;QAAEF,MAAM,GAAA+J,MAAA,CAAN/J,MAAM;MACrC;MACA,IAAI;QACF,IAAIiF,KAAK,GAAGuD,UAAU,CAACvD,KAAK,IAAI,CAAC,CAAC;QAClC,IAAIzC,QAAQ,GAAGxC,MAAM,CAACwC,QAAQ;QAC9B,IAAI6G,OAAO,GAAGb,UAAU,CAACa,OAAO,IAAI,EAAE;QAEtCpE,KAAK,CAAC,QAAQ,CAAC,GAAGzC,QAAQ;QAC1B,IAAIwG,SAAS,GAAG,CAAC,IAAIC,IAAI,CAAC,CAAC;QAC3B;QACA,IAAI,CAAC/I,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,EAAE;UACzB;UACAtC,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG,QAAQ,GAAGwG,SAAS;UAC3C9I,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG,GAAG;UAC5BtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG,GAAG;QAC9B,CAAC,MAAM;UACL;UACAtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,IAAI,GAAG;UACtDtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,IAAI,GAAG;QACxD;;QAEA;QACA,IAAItC,GAAG,CAACsC,QAAQ,CAAC,EAAE;UACjB,IAAM0G,QAAQ,GAAGhJ,GAAG,CAACsC,QAAQ,CAAC,CAACO,KAAK,CAAC,IAAI,CAAC;UAC1C7C,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;UAClChJ,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;UACpChJ,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG0G,QAAQ,CAAC,CAAC,CAAC;QACtC;;QAEA;QACA,IAAI,CAAChJ,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,EAAE;UACzBtC,GAAG,CAACsC,QAAQ,CAAC,GAAG,QAAQ,GAAGwG,SAAS,GAAG,QAAQ;QACjD,CAAC,MAAM;UACL9I,GAAG,CAACsC,QAAQ,CAAC,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC,GAAG,IAAI,GAAGtC,GAAG,CAACsC,QAAQ,GAAG,MAAM,CAAC;QACtG;QACA,OAAO,CAAA/C,CAAA;UAAA;YAAA,SACoB4J;UAAO;UAAA,SAAA5D,aAAA,KAAwCR,KAAK;UAAA;YAAAnD,KAAA,EAAjC5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;YAAA0F,QAAA,WAAAA,SAAAC,GAAA;cAAA6B,MAAA,CAAA5B,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;YAAA;UAAA;QAAA,GAChE;MACH,CAAC,CAAC,OAAOrE,CAAC,EAAE,CAAC;IACf;EACF,CAAC;EACDmG,iBAAiB,EAAE;IACjBC,SAAS,EAAE,mBAAmB;IAC9BhE,UAAU,WAAAA,WAACzG,CAAC,EAAEC,UAAU,EAAEyK,MAAM,EAAE;MAChC,OAAO,CAAA1K,CAAA;QAAA;UAAA,UACwB0K;QAAM;MAAA,GACpC;IACH,CAAC;IACDrE,UAAU,WAAAA,WAACrG,CAAC,EAAE+I,UAAU,EAAA4B,MAAA,EAAmBxK,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAAkK,MAAA,CAAHlK,GAAG;QAAEF,MAAM,GAAAoK,MAAA,CAANpK,MAAM;MACrC,OAAO,CAAAP,CAAA;QAAA,SAAa;MAAM,IAAES,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC3D;EACF,CAAC;EACD6H,aAAa,EAAE;IACbH,SAAS,EAAE,mBAAmB;IAC9BhE,UAAU,WAAAA,WAACzG,CAAC,EAAEC,UAAU,EAAEyK,MAAM,EAAE;MAChC,OAAO,CAAA1K,CAAA;QAAA;UAAA,UACoB0K;QAAM;MAAA,GAChC;IACH,CAAC;IACD;IACA;IACA;IACA;IACA;IACArE,UAAU,WAAAA,WAACrG,CAAC,EAAE+I,UAAU,EAAA8B,MAAA,EAAmB1K,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAAoK,MAAA,CAAHpK,GAAG;QAAEF,MAAM,GAAAsK,MAAA,CAANtK,MAAM;MACrC,IAAI8B,KAAK,GAAGyI,IAAI,CAACC,SAAS,CAACtK,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC;MAChD,OAAO,CAAA/C,CAAA;QAAA,SAAa;MAAM,IAAEqC,KAAK,GAAS;IAC5C;EACF,CAAC;EACD2I,mBAAmB,EAAE;IACnBP,SAAS,EAAE,mBAAmB;IAC9BhE,UAAU,WAAAA,WAACzG,CAAC,EAAAiL,MAAA,EAA4BP,MAAM,EAAE;MAAA,IAAhCnF,IAAI,GAAA0F,MAAA,CAAJ1F,IAAI;QAAEqE,OAAO,GAAAqB,MAAA,CAAPrB,OAAO;QAAEpE,KAAK,GAAAyF,MAAA,CAALzF,KAAK;MAClC,OAAO,CAAAxF,CAAA;QAAA;UAAA,cAC8BwF,KAAK;UAAA,UAAYkF;QAAM;MAAA,GAC3D;IACH,CAAC;IACDrE,UAAU,WAAAA,WAACrG,CAAC,EAAE+I,UAAU,EAAAmC,MAAA,EAAmB/K,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAAyK,MAAA,CAAHzK,GAAG;QAAEF,MAAM,GAAA2K,MAAA,CAAN3K,MAAM;MACrC,OAAO,CAAAP,CAAA;QAAA,SAAa;MAAM,IAAES,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC3D;EACF,CAAC;EACDoI,WAAW,EAAE;IACX/F,aAAa,WAAAA,cAACpF,CAAC,EAAE+I,UAAU,EAAAqC,MAAA,EAAAC,MAAA,EAA4I;MAAA,IAAxIjL,YAAY,GAAAgL,MAAA,CAAZhL,YAAY;QAAEC,SAAS,GAAA+K,MAAA,CAAT/K,SAAS;QAAEC,KAAK,GAAA8K,MAAA,CAAL9K,KAAK;QAAEC,MAAM,GAAA6K,MAAA,CAAN7K,MAAM;QAAEC,IAAI,GAAA4K,MAAA,CAAJ5K,IAAI;QAAEC,GAAG,GAAA2K,MAAA,CAAH3K,GAAG;QAAEC,IAAI,GAAA0K,MAAA,CAAJ1K,IAAI;QAAEG,WAAW,GAAAuK,MAAA,CAAXvK,WAAW;QAAEC,MAAM,GAAAsK,MAAA,CAANtK,MAAM;QAAEC,KAAK,GAAAqK,MAAA,CAALrK,KAAK;QAAEC,QAAQ,GAAAoK,MAAA,CAARpK,QAAQ;QAAEC,GAAG,GAAAmK,MAAA,CAAHnK,GAAG;MAAA,IAAMqK,MAAM,GAAAD,MAAA,CAANC,MAAM;QAAExI,KAAK,GAAAuI,MAAA,CAALvI,KAAK;QAAEnC,MAAM,GAAA0K,MAAA,CAAN1K,MAAM;QAAEC,KAAK,GAAAyK,MAAA,CAALzK,KAAK;MACjK,IAAI2K,IAAI,GAAGzI,KAAK,CAACG,OAAO;MACxB;MACA,OAAO,CAAAjD,CAAA;QAAA,SACM;MAAsC,IAAAA,CAAA;QAAA,SACtC,4BAA4B;QAAA;UAAA,SAAU,SAAAwL,MAAA;YAAA,OAAMD,IAAI,CAACE,oBAAoB,CAAC;cAAEhL,GAAG,EAAHA,GAAG;cAAEF,MAAM,EAANA,MAAM;cAAEF,SAAS,EAATA,SAAS;cAAEG,IAAI,EAAJA,IAAI;cAAEF,KAAK,EAALA,KAAK;cAAEoL,UAAU,EAAE;YAAS,CAAC,CAAC;UAAA;QAAA;MAAA,sBAAA1L,CAAA;QAAA,SACpI,0BAA0B;QAAA;UAAA,SAAU,SAAAwL,MAAA;YAAA,OAAMD,IAAI,CAACE,oBAAoB,CAAC;cAAEhL,GAAG,EAAHA,GAAG;cAAEF,MAAM,EAANA,MAAM;cAAEF,SAAS,EAATA,SAAS;cAAEG,IAAI,EAAJA,IAAI;cAAEF,KAAK,EAALA,KAAK;cAAEoL,UAAU,EAAE;YAAW,CAAC,CAAC;UAAA;QAAA;MAAA,sBAAA1L,CAAA;QAAA,SACpI,4BAA4B;QAAA;UAAA,SAAU,SAAAwL,MAAA;YAAA,OAAMD,IAAI,CAACE,oBAAoB,CAAC;cAAEhL,GAAG,EAAHA,GAAG;cAAEF,MAAM,EAANA,MAAM;cAAEF,SAAS,EAATA,SAAS;cAAEG,IAAI,EAAJA,IAAI;cAAEF,KAAK,EAALA,KAAK;cAAEoL,UAAU,EAAE;YAAU,CAAC,CAAC;UAAA;QAAA;MAAA,sBAAA1L,CAAA;QAAA,SACrI,4BAA4B;QAAA;UAAA,SAAU,SAAAwL,MAAA;YAAA,OAAMD,IAAI,CAACE,oBAAoB,CAAC;cAAEhL,GAAG,EAAHA,GAAG;cAAEF,MAAM,EAANA,MAAM;cAAEF,SAAS,EAATA,SAAS;cAAEG,IAAI,EAAJA,IAAI;cAAEF,KAAK,EAALA,KAAK;cAAEoL,UAAU,EAAE;YAAa,CAAC,CAAC;UAAA;QAAA;MAAA,uBAEpJ;IACH;EACF,CAAC;EACDC,SAAS,EAAE;IACTvG,aAAa,WAAAA,cAACpF,CAAC,EAAE+I,UAAU,EAAA6C,MAAA,EAAmBzL,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAAmL,MAAA,CAAHnL,GAAG;QAAEF,MAAM,GAAAqL,MAAA,CAANrL,MAAM;MACxC,IAAIgL,IAAI,GAAGpL,OAAO,CAAC2C,KAAK,CAACG,OAAO;MAChC;MACA,IAAIxC,GAAG,CAACoL,MAAM,KAAK,CAAC,EAAE;QACpB,OAAO,CAAA7L,CAAA;UAAA,SACM;QAA6B,IAAAA,CAAA;UAAA,SAC7B,4BAA4B;UAAA;YAAA,SAAU,SAAAwL,MAAA;cAAA,OAAMD,IAAI,CAACO,gBAAgB,CAAC;gBAAErL,GAAG,EAAHA,GAAG;gBAAEF,MAAM,EAANA,MAAM;gBAAEmL,UAAU,EAAE;cAAS,CAAC,CAAC;YAAA;UAAA;QAAA,sBAAA1L,CAAA;UAAA,SACxG,0BAA0B;UAAA;YAAA,SAAU,SAAAwL,MAAA;cAAA,OAAMD,IAAI,CAACO,gBAAgB,CAAC;gBAAErL,GAAG,EAAHA,GAAG;gBAAEF,MAAM,EAANA,MAAM;gBAAEmL,UAAU,EAAE;cAAO,CAAC,CAAC;YAAA;UAAA;QAAA,sBAAA1L,CAAA;UAAA,SACpG,4BAA4B;UAAA;YAAA,SAAU,SAAAwL,MAAA;cAAA,OAAMD,IAAI,CAACO,gBAAgB,CAAC;gBAAErL,GAAG,EAAHA,GAAG;gBAAEF,MAAM,EAANA,MAAM;gBAAEmL,UAAU,EAAE;cAAS,CAAC,CAAC;YAAA;UAAA;QAAA,sBAAA1L,CAAA;UAAA,SACxG,4BAA4B;UAAA;YAAA,SAAU,SAAAwL,MAAA;cAAA,OAAMD,IAAI,CAACO,gBAAgB,CAAC;gBAAErL,GAAG,EAAHA,GAAG;gBAAEF,MAAM,EAANA,MAAM;gBAAEmL,UAAU,EAAE;cAAS,CAAC,CAAC;YAAA;UAAA;QAAA,uBAEpH;MACH,CAAC,MAAM;QACL,OAAO,CAAA1L,CAAA;UAAA,SACM;QAA6B,IAAAA,CAAA;UAAA,SAC7B,4BAA4B;UAAA;YAAA,SAAU,SAAAwL,MAAA;cAAA,OAAMD,IAAI,CAACO,gBAAgB,CAAC;gBAAErL,GAAG,EAAHA,GAAG;gBAAEF,MAAM,EAANA,MAAM;gBAAEmL,UAAU,EAAE;cAAS,CAAC,CAAC;YAAA;UAAA;QAAA,sBAAA1L,CAAA;UAAA,SACxG,4BAA4B;UAAA;YAAA,SAAU,SAAAwL,MAAA;cAAA,OAAMD,IAAI,CAACO,gBAAgB,CAAC;gBAAErL,GAAG,EAAHA,GAAG;gBAAEF,MAAM,EAANA,MAAM;gBAAEmL,UAAU,EAAE;cAAS,CAAC,CAAC;YAAA;UAAA;QAAA,uBAEpH;MACH;IACF;EACF,CAAC;EACDK,YAAY,EAAE;IACZ;IACA1F,UAAU,WAAAA,WAACrG,CAAC,EAAAgM,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAnCzG,KAAK,GAAAwG,MAAA,CAALxG,KAAK;QAAEoE,OAAO,GAAAoC,MAAA,CAAPpC,OAAO;MAAA,IAAMnJ,GAAG,GAAAwL,MAAA,CAAHxL,GAAG;QAAEF,MAAM,GAAA0L,MAAA,CAAN1L,MAAM;MAC7C,OAAO,CAAAP,CAAA;QAAA;UAAA,eACoB,MAAM;UAAA,gBAAc,IAAI;UAAA,cAAaS,GAAG,CAACF,MAAM,CAACwC,QAAQ;QAAC;QAAA,SAAQ;MAAkB,GAC7G;IACH,CAAC;IACDqC,aAAa,WAAAA,cAACpF,CAAC,EAAAkM,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAnC3G,KAAK,GAAA0G,MAAA,CAAL1G,KAAK;QAAEoE,OAAO,GAAAsC,MAAA,CAAPtC,OAAO;MAAA,IAAMnJ,GAAG,GAAA0L,MAAA,CAAH1L,GAAG;QAAEF,MAAM,GAAA4L,MAAA,CAAN5L,MAAM;MAChD,OAAO,CAAAP,CAAA;QAAA;UAAA,eACoB,MAAM;UAAA,gBAAc,IAAI;UAAA,cAAaS,GAAG,CAACF,MAAM,CAACwC,QAAQ;QAAC;QAAA,SAAQ;MAAkB,GAC7G;IACH,CAAC;IACD0D,UAAU,WAAAA,WAACzG,CAAC,EAAAoM,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAnC7G,KAAK,GAAA4G,MAAA,CAAL5G,KAAK;QAAEoE,OAAO,GAAAwC,MAAA,CAAPxC,OAAO;MAAA,IAAMnJ,GAAG,GAAA4L,MAAA,CAAH5L,GAAG;QAAEF,MAAM,GAAA8L,MAAA,CAAN9L,MAAM;MAC7C,OAAO,CAAAP,CAAA;QAAA;UAAA,eACoB,MAAM;UAAA,gBAAc,IAAI;UAAA,cAAaS,GAAG,CAACF,MAAM,CAACwC,QAAQ;QAAC;QAAA,SAAQ;MAAkB,GAC7G;IACH;EACF,CAAC;EACDuJ,UAAU,EAAE;IACV;IACA;IACA;IACA;IACA;IACA;IACA;IACAjG,UAAU,WAAAA,WAACrG,CAAC,EAAAuM,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAAC,MAAA;MAAA,IAAnCjH,KAAK,GAAA+G,MAAA,CAAL/G,KAAK;QAAEoE,OAAO,GAAA2C,MAAA,CAAP3C,OAAO;MAAA,IAAMnJ,GAAG,GAAA+L,MAAA,CAAH/L,GAAG;QAAEF,MAAM,GAAAiM,MAAA,CAANjM,MAAM;MAC7C,OAAO,CAAAP,CAAA;QAAA,SAAAgG,aAAA,KAEGR,KAAK;QAAA;UAAA,eACGoE,OAAO,CAAC,CAAC,CAAC,CAAC8C,KAAK;UAAA,iBACd9C,OAAO,CAAC,CAAC,CAAC,CAAC8C,KAAK;UAAA,gBAEnB,SAAS;UAAA,gBACP9C,OAAO,CAAC,CAAC,CAAC,CAACvH,KAAK;UAAA,kBACduH,OAAO,CAAC,CAAC,CAAC,CAACvH;QAAK;QAAA;UAAAA,KAAA,EAHxB5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAA+D,MAAA,CAAA9D,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,GAK/B;IACH,CAAC;IACDtD,aAAa,WAAAA,cAACpF,CAAC,EAAA2M,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAAC,MAAA;MAAA,IAAnCrH,KAAK,GAAAmH,MAAA,CAALnH,KAAK;QAAEoE,OAAO,GAAA+C,MAAA,CAAP/C,OAAO;MAAA,IAAMnJ,GAAG,GAAAmM,MAAA,CAAHnM,GAAG;QAAEF,MAAM,GAAAqM,MAAA,CAANrM,MAAM;MAChD,OAAO,CAAAP,CAAA;QAAA,SAAAgG,aAAA,KAEGR,KAAK;QAAA;UAAA,eACGoE,OAAO,CAAC,CAAC,CAAC,CAAC8C,KAAK;UAAA,iBACd9C,OAAO,CAAC,CAAC,CAAC,CAAC8C,KAAK;UAAA,gBAEnB,SAAS;UAAA,gBACP9C,OAAO,CAAC,CAAC,CAAC,CAACvH,KAAK;UAAA,kBACduH,OAAO,CAAC,CAAC,CAAC,CAACvH;QAAK;QAAA;UAAAA,KAAA,EAHxB5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAAmE,MAAA,CAAAlE,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,GAK/B;IACH,CAAC;IACDjC,UAAU,WAAAA,WAACzG,CAAC,EAAA8M,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAAC,MAAA;MAAA,IAAnCxH,KAAK,GAAAsH,MAAA,CAALtH,KAAK;QAAEoE,OAAO,GAAAkD,MAAA,CAAPlD,OAAO;MAAA,IAAMnJ,GAAG,GAAAsM,MAAA,CAAHtM,GAAG;QAAEF,MAAM,GAAAwM,MAAA,CAANxM,MAAM;MAC7C,OAAO,CAAAP,CAAA;QAAA,SAAAgG,aAAA,KAEGR,KAAK;QAAA;UAAA,eACGoE,OAAO,CAAC,CAAC,CAAC,CAAC8C,KAAK;UAAA,iBACd9C,OAAO,CAAC,CAAC,CAAC,CAAC8C,KAAK;UAAA,gBAEnB,SAAS;UAAA,gBACP9C,OAAO,CAAC,CAAC,CAAC,CAACvH,KAAK;UAAA,kBACduH,OAAO,CAAC,CAAC,CAAC,CAACvH;QAAK;QAAA;UAAAA,KAAA,EAHxB5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAAsE,MAAA,CAAArE,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,GAK/B;IACH;EACF,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAuE,QAAQ,EAAE;IACR;IACA5G,UAAU,WAAAA,WAACrG,CAAC,EAAAkN,MAAA,EAAAC,MAAA,EAA8B;MAAA,IAA1B3H,KAAK,GAAA0H,MAAA,CAAL1H,KAAK;MAAA,IAAM/E,GAAG,GAAA0M,MAAA,CAAH1M,GAAG;QAAEF,MAAM,GAAA4M,MAAA,CAAN5M,MAAM;MACpC,IAAI6M,QAAQ,GAAG3M,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,CAAC;MACvCqK,QAAQ,GAAGA,QAAQ,IAAI,IAAI,GAAG,CAAC,GAAIA,QAAQ,IAAI,IAAI,GAAG,CAAC,GAAG,GAAI;MAC9D3M,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGsK,IAAI,CAACC,KAAK,CAAC7M,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAGqK,QAAQ;MACtE,OAAO,CAAApN,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC9C,CAAC;IACDqC,aAAa,WAAAA,cAACpF,CAAC,EAAAuN,MAAA,EAAAC,MAAA,EAA8B;MAAA,IAA1BhI,KAAK,GAAA+H,MAAA,CAAL/H,KAAK;MAAA,IAAM/E,GAAG,GAAA+M,MAAA,CAAH/M,GAAG;QAAEF,MAAM,GAAAiN,MAAA,CAANjN,MAAM;MACvC,IAAI6M,QAAQ,GAAG3M,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,CAAC;MACvCqK,QAAQ,GAAGA,QAAQ,IAAI,IAAI,GAAG,CAAC,GAAIA,QAAQ,IAAI,IAAI,GAAG,CAAC,GAAG,GAAI;MAC9D3M,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGsK,IAAI,CAACC,KAAK,CAAC7M,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAGqK,QAAQ;MACtE,OAAO,CAAApN,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC9C,CAAC;IACD0D,UAAU,WAAAA,WAACzG,CAAC,EAAAyN,MAAA,EAAAC,MAAA,EAA8B;MAAA,IAAAC,MAAA;MAAA,IAA1BnI,KAAK,GAAAiI,MAAA,CAALjI,KAAK;MAAA,IAAM/E,GAAG,GAAAiN,MAAA,CAAHjN,GAAG;QAAEF,MAAM,GAAAmN,MAAA,CAANnN,MAAM;MACpC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,OAAO,CAAAP,CAAA;QAAA;UAAA,eAEW,OAAO;UAAA,QAChB,QAAQ;UAAA;QAAA;QAAA,SAAAgG,aAAA,KAENR,KAAK;QAAA;UAAAnD,KAAA,EACH5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAAiF,MAAA,CAAAhF,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,GAE/B;IACH;EACF,CAAC;EACDkF,QAAQ,EAAE;IACR;IACAvH,UAAU,WAAAA,WAACrG,CAAC,EAAA6N,MAAA,EAAAC,MAAA,EAA8B;MAAA,IAA1BtI,KAAK,GAAAqI,MAAA,CAALrI,KAAK;MAAA,IAAM/E,GAAG,GAAAqN,MAAA,CAAHrN,GAAG;QAAEF,MAAM,GAAAuN,MAAA,CAANvN,MAAM;MACpCiF,KAAK,CAACuI,MAAM,GAAGvI,KAAK,CAACuI,MAAM,IAAI,qBAAqB;MACpDtN,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,IAAIyG,IAAI,CAAC/I,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,CAACgL,MAAM,CAACvI,KAAK,CAACuI,MAAM,CAAC,GAAG,EAAE;MACtG,OAAO,CAAA/N,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC9C,CAAC;IACDqC,aAAa,WAAAA,cAACpF,CAAC,EAAAgO,MAAA,EAAAC,MAAA,EAA8B;MAAA,IAA1BzI,KAAK,GAAAwI,MAAA,CAALxI,KAAK;MAAA,IAAM/E,GAAG,GAAAwN,MAAA,CAAHxN,GAAG;QAAEF,MAAM,GAAA0N,MAAA,CAAN1N,MAAM;MACvCiF,KAAK,CAACuI,MAAM,GAAGvI,KAAK,CAACuI,MAAM,IAAI,qBAAqB;MACpDtN,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,IAAIyG,IAAI,CAAC/I,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,CAACgL,MAAM,CAACvI,KAAK,CAACuI,MAAM,CAAC,GAAG,EAAE;MACtG,OAAO,CAAA/N,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC9C,CAAC;IACD0D,UAAU,WAAAA,WAACzG,CAAC,EAAAkO,MAAA,EAAAC,MAAA,EAA8B;MAAA,IAAAC,MAAA;MAAA,IAA1B5I,KAAK,GAAA0I,MAAA,CAAL1I,KAAK;MAAA,IAAM/E,GAAG,GAAA0N,MAAA,CAAH1N,GAAG;QAAEF,MAAM,GAAA4N,MAAA,CAAN5N,MAAM;MACpC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,OAAO,CAAAP,CAAA;QAAA;UAAA,eAEW,OAAO;UAAA,QAChB,MAAM;UAAA;QAAA;QAAA,SAAAgG,aAAA,KAEJR,KAAK;QAAA;UAAAnD,KAAA,EACH5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAA0F,MAAA,CAAAzF,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,GAE/B;IACH;EACF,CAAC;EACD2F,KAAK,EAAE;IACL;IACAhI,UAAU,WAAAA,WAACrG,CAAC,EAAEC,UAAU,EAAAqO,MAAA,EAAmB;MAAA,IAAf7N,GAAG,GAAA6N,MAAA,CAAH7N,GAAG;QAAEF,MAAM,GAAA+N,MAAA,CAAN/N,MAAM;MACrC,OAAO,CAAAP,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC9C,CAAC;IACD0D,UAAU,WAAAA,WAACzG,CAAC,EAAEC,UAAU,EAAAsO,MAAA,EAAmB;MAAA,IAAAC,MAAA;MAAA,IAAf/N,GAAG,GAAA8N,MAAA,CAAH9N,GAAG;QAAEF,MAAM,GAAAgO,MAAA,CAANhO,MAAM;MACrC,OAAO,CAAAP,CAAA;QAAA;UAAA,eAGS,MAAM;UAAA;UAAA;QAAA;QAAA;UAAAqC,KAAA,EADT5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAA8F,MAAA,CAAA7F,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,GAK/B;MACD;IACF;EACF,CAAC;;EACD+F,KAAK,EAAE;IACL;IACApI,UAAU,WAAAA,WAACrG,CAAC,EAAEC,UAAU,EAAAyO,MAAA,EAAmB;MAAA,IAAfjO,GAAG,GAAAiO,MAAA,CAAHjO,GAAG;QAAEF,MAAM,GAAAmO,MAAA,CAANnO,MAAM;MACrC,OAAO,CAAAP,CAAA;QAAA,SAAa;MAAa,IAAAA,CAAA,OAAKS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,KAAa;IACzE,CAAC;IACD0D,UAAU,WAAAA,WAACzG,CAAC,EAAEC,UAAU,EAAA0O,MAAA,EAAmB;MAAA,IAAflO,GAAG,GAAAkO,MAAA,CAAHlO,GAAG;QAAEF,MAAM,GAAAoO,MAAA,CAANpO,MAAM;MACrC,OAAO,CAAAP,CAAA;QAAA,SAAa;MAAa,IAAAA,CAAA,OAAKS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,KAAa;IACzE,CAAC;IACDqC,aAAa,WAAAA,cAACpF,CAAC,EAAEC,UAAU,EAAA2O,MAAA,EAAmB;MAAA,IAAfnO,GAAG,GAAAmO,MAAA,CAAHnO,GAAG;QAAEF,MAAM,GAAAqO,MAAA,CAANrO,MAAM;MACxC,OAAO,CAAAP,CAAA;QAAA,SAAa;MAAa,IAAAA,CAAA,OAAKS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,KAAa;IACzE;EACF,CAAC;EACD8L,QAAQ,EAAE;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACApI,UAAU,WAAAA,WAACzG,CAAC,EAAE8O,UAAU,EAAAC,MAAA,EAAmB;MAAA,IAAAC,OAAA;MAAA,IAAfvO,GAAG,GAAAsO,MAAA,CAAHtO,GAAG;QAAEF,MAAM,GAAAwO,MAAA,CAANxO,MAAM;MACrC,OAAO,CAAAP,CAAA;QAAA;UAAA,eAGS,KAAK;UAAA;QAAA;QAAA;UAAAqC,KAAA,EADR5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAAsG,OAAA,CAAArG,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,GAI9B;MAAA,CACD;IACH,CAAC;IACDrC,UAAU,WAAAA,WAACrG,CAAC,EAAE+I,UAAU,EAAAkG,MAAA,EAAmB9O,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAAwO,MAAA,CAAHxO,GAAG;QAAEF,MAAM,GAAA0O,MAAA,CAAN1O,MAAM;MACrC,OAAO,CAAAP,CAAA;QAAA,SAAa;MAAM,IAAES,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC3D;EACF,CAAC;EACDmM,UAAU,EAAE;IACV;IACAzI,UAAU,WAAAA,WAACzG,CAAC,EAAAmP,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAAC,OAAA;MAAA,IAAnC7J,KAAK,GAAA2J,MAAA,CAAL3J,KAAK;QAAEoE,OAAO,GAAAuF,MAAA,CAAPvF,OAAO;MAAA,IAAMnJ,GAAG,GAAA2O,MAAA,CAAH3O,GAAG;QAAEF,MAAM,GAAA6O,MAAA,CAAN7O,MAAM;MAC7CqJ,OAAO,GAAGA,OAAO,IAAI,EAAE;MACvB,OAAO,CAAA5J,CAAA;QAAA,SAAAgG,aAAA,KAC6CR,KAAK;QAAA;UAAA,eAAiB;QAAK;QAAA;UAAAnD,KAAA,EAAxD5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAA2G,OAAA,CAAA1G,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,IACrCkB,OAAO,CAAChG,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;QAC5B,OAAO,CAAAxB,CAAA;UAAA;YAAA,SAEIuB,IAAI,CAACc,KAAK;YAAA,SACVd,IAAI,CAACmL;UAAK;QAAA,GAEpB;MACH,CAAC,CAAC,GAEL;IACH,CAAC;IACDtH,aAAa,WAAAA,cAACpF,CAAC,EAAAsP,MAAA,EAAAC,MAAA,EAAuCpP,OAAO,EAAE;MAAA,IAA5CqF,KAAK,GAAA8J,MAAA,CAAL9J,KAAK;QAAEoE,OAAO,GAAA0F,MAAA,CAAP1F,OAAO;MAAA,IAAMnJ,GAAG,GAAA8O,MAAA,CAAH9O,GAAG;QAAEF,MAAM,GAAAgP,MAAA,CAANhP,MAAM;MAChDiF,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC;MACnBA,KAAK,CAACG,QAAQ,GAAGH,KAAK,CAACG,QAAQ,KAAK6J,SAAS,GAAG,KAAK,GAAGhK,KAAK,CAACG,QAAQ;MACtEiE,OAAO,GAAGA,OAAO,IAAI,EAAE;MACvB,IAAIpE,KAAK,CAACG,QAAQ,EAAE;QAClB,IAAItD,KAAK,GAAG,EAAE;QACduH,OAAO,CAAC6F,OAAO,CAAC,UAAClO,IAAI,EAAEC,KAAK,EAAK;UAC/B,IAAIM,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAACe,OAAO,CAACvC,IAAI,CAACc,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,EAAE,EAAEO,KAAK,CAAC,GAAG,CAAC,CAACQ,OAAO,CAACvC,IAAI,CAACc,KAAK,CAAC,IAAI,CAAC,EAAE;YACzJA,KAAK,CAACqN,IAAI,CAACnO,IAAI,CAACmL,KAAK,CAAC;UACxB;QACF,CAAC,CAAC;QACFjM,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,cAAc,CAAC,GAAGV,KAAK,CAAC4B,IAAI,CAAC,GAAG,CAAC;QACvD,OAAO,CAAAjE,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,cAAc,CAAC,GAAS;MAC/D,CAAC,MAAM;QACL,IAAI4M,QAAQ,GAAG/F,OAAO,CAACgG,MAAM,CAAC,UAACrO,IAAI,EAAEC,KAAK,EAAK;UAC7C,OAAOD,IAAI,CAACc,KAAK,KAAK5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;QAC5C,CAAC,CAAC;QACF,IAAIV,MAAK,GAAGsN,QAAQ,CAAC,CAAC,CAAC,GAAGA,QAAQ,CAAC,CAAC,CAAC,CAACjD,KAAK,GAAG,EAAE;QAChD,OAAO,CAAA1M,CAAA,UAAQqC,MAAK,GAAS;MAC/B;IACF,CAAC;IACDgE,UAAU,WAAAA,WAACrG,CAAC,EAAA6P,MAAA,EAAAC,MAAA,EAAuC3P,OAAO,EAAE;MAAA,IAA5CqF,KAAK,GAAAqK,MAAA,CAALrK,KAAK;QAAEoE,OAAO,GAAAiG,MAAA,CAAPjG,OAAO;MAAA,IAAMnJ,GAAG,GAAAqP,MAAA,CAAHrP,GAAG;QAAEF,MAAM,GAAAuP,MAAA,CAANvP,MAAM;MAC7CiF,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC;MACnBA,KAAK,CAACG,QAAQ,GAAGH,KAAK,CAACG,QAAQ,KAAK6J,SAAS,GAAG,KAAK,GAAGhK,KAAK,CAACG,QAAQ;MACtEiE,OAAO,GAAGA,OAAO,IAAI,EAAE;MACvB,IAAIpE,KAAK,CAACG,QAAQ,EAAE;QAClB,IAAItD,KAAK,GAAG,EAAE;QACduH,OAAO,CAAC6F,OAAO,CAAC,UAAClO,IAAI,EAAEC,KAAK,EAAK;UAC/B,IAAIM,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAACe,OAAO,CAACvC,IAAI,CAACc,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,EAAE,EAAEO,KAAK,CAAC,GAAG,CAAC,CAACQ,OAAO,CAACvC,IAAI,CAACc,KAAK,CAAC,IAAI,CAAC,EAAE;YACzJA,KAAK,CAACqN,IAAI,CAACnO,IAAI,CAACmL,KAAK,CAAC;UACxB;QACF,CAAC,CAAC;QACFjM,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,cAAc,CAAC,GAAGV,KAAK,CAAC4B,IAAI,CAAC,GAAG,CAAC;QACvD,OAAO,CAAAjE,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,cAAc,CAAC,GAAS;MAC/D,CAAC,MAAM;QACL,IAAI4M,QAAQ,GAAG/F,OAAO,CAACgG,MAAM,CAAC,UAACrO,IAAI,EAAEC,KAAK,EAAK;UAC7C,OAAOD,IAAI,CAACc,KAAK,KAAK5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;QAC5C,CAAC,CAAC;QACF,IAAIV,OAAK,GAAGsN,QAAQ,CAAC,CAAC,CAAC,GAAGA,QAAQ,CAAC,CAAC,CAAC,CAACjD,KAAK,GAAG,EAAE;QAChD,OAAO,CAAA1M,CAAA,UAAQqC,OAAK,GAAS;MAC/B;IACF;EACF,CAAC;EACD0N,SAAS,EAAE;IACTtJ,UAAU,WAAAA,WAACzG,CAAC,EAAAgQ,MAAA,EAAAC,MAAA,EAA+C;MAAA,IAAAC,OAAA;MAAA,IAA3CtG,OAAO,GAAAoG,MAAA,CAAPpG,OAAO;QAAEpE,KAAK,GAAAwK,MAAA,CAALxK,KAAK;QAAE2K,MAAM,GAAAH,MAAA,CAANG,MAAM;MAAA,IAAM1P,GAAG,GAAAwP,MAAA,CAAHxP,GAAG;QAAEF,MAAM,GAAA0P,MAAA,CAAN1P,MAAM;MACrDiF,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC;MACnB2K,MAAM,GAAGA,MAAM,IAAI,CAAC,CAAC;MACrB,OAAO,CAAAnQ,CAAA;QAAA,SAAAgG,aAAA,KACkBR,KAAK;QAAA;UAAA,eAA+C;QAAK;QAAA;UAAAnD,KAAA,EAAvC5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAAwH,OAAA,CAAAvH,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,IACzDkB,OAAO,CAAChG,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;QAC5B,OAAO,CAAAxB,CAAA,cAAAoQ,cAAA;UAAA;YAAA,SAEI7O,IAAI,CAACc;UAAK;QAAA,GACZ;UAAE8N,MAAM,EAANA;QAAO,CAAC,KAEd5O,IAAI,CAACmL,KAAK,GAEd;MACH,CAAC,CAAC,GAEL;IACH,CAAC;IACDtH,aAAa,WAAAA,cAACpF,CAAC,EAAAqQ,MAAA,EAAAC,MAAA,EAAuCnQ,OAAO,EAAE;MAAA,IAA5CyJ,OAAO,GAAAyG,MAAA,CAAPzG,OAAO;QAAEpE,KAAK,GAAA6K,MAAA,CAAL7K,KAAK;MAAA,IAAM/E,GAAG,GAAA6P,MAAA,CAAH7P,GAAG;QAAEF,MAAM,GAAA+P,MAAA,CAAN/P,MAAM;MAChD,IAAI8B,KAAK,GAAG,EAAE;MACduH,OAAO,CAAC6F,OAAO,CAAC,UAAClO,IAAI,EAAEC,KAAK,EAAK;QAC/B,IAAIf,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,KAAKxB,IAAI,CAACc,KAAK,EAAE;UACvCA,KAAK,GAAGd,IAAI,CAACmL,KAAK;QACpB;MACF,CAAC,CAAC;MACF,OAAO,CAAA1M,CAAA,UAAQqC,KAAK,GAAS;IAC/B,CAAC;IACDgE,UAAU,WAAAA,WAACrG,CAAC,EAAAuQ,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAnC5G,OAAO,GAAA2G,MAAA,CAAP3G,OAAO;QAAEpE,KAAK,GAAA+K,MAAA,CAAL/K,KAAK;MAAA,IAAM/E,GAAG,GAAA+P,MAAA,CAAH/P,GAAG;QAAEF,MAAM,GAAAiQ,MAAA,CAANjQ,MAAM;MAC7C,IAAI8B,KAAK,GAAG,EAAE;MACduH,OAAO,CAAC6F,OAAO,CAAC,UAAClO,IAAI,EAAEC,KAAK,EAAK;QAC/B,IAAIf,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,KAAKxB,IAAI,CAACc,KAAK,EAAE;UACvCA,KAAK,GAAGd,IAAI,CAACmL,KAAK;QACpB;MACF,CAAC,CAAC;MACF,OAAO,CAAA1M,CAAA,UAAQqC,KAAK,GAAS;IAC/B;EACF,CAAC;EACDoO,YAAY,EAAE;IACZhK,UAAU,WAAAA,WAACzG,CAAC,EAAA0Q,MAAA,EAAAC,MAAA,EAA+C;MAAA,IAAAC,OAAA;MAAA,IAA3ChH,OAAO,GAAA8G,MAAA,CAAP9G,OAAO;QAAEpE,KAAK,GAAAkL,MAAA,CAALlL,KAAK;QAAE2K,MAAM,GAAAO,MAAA,CAANP,MAAM;MAAA,IAAM1P,GAAG,GAAAkQ,MAAA,CAAHlQ,GAAG;QAAEF,MAAM,GAAAoQ,MAAA,CAANpQ,MAAM;MACrDiF,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC;MACnB2K,MAAM,GAAGA,MAAM,IAAI,CAAC,CAAC;MACrB1P,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGjB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,EAAE;MACtF,OAAO,CAAA/C,CAAA;QAAA,SAAAgG,aAAA,KACqBR,KAAK;QAAA;UAAA,eAA+C;QAAK;QAAA;UAAAnD,KAAA,EAAvC5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAAkI,OAAA,CAAAjI,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,IAC5DkB,OAAO,CAAChG,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;QAC5B,OAAO,CAAAxB,CAAA,iBAAA6Q,eAAA;UAAA;YAAA,SAEItP,IAAI,CAACc;UAAK;QAAA,GACZ;UAAE8N,MAAM,EAANA;QAAO,CAAC,KAEd5O,IAAI,CAACmL,KAAK,GAEd;MACH,CAAC,CAAC,GAEL;IACH,CAAC;IACDtH,aAAa,WAAAA,cAACpF,CAAC,EAAA8Q,MAAA,EAAAC,MAAA,EAAuC5Q,OAAO,EAAE;MAAA,IAA5CyJ,OAAO,GAAAkH,MAAA,CAAPlH,OAAO;QAAEpE,KAAK,GAAAsL,MAAA,CAALtL,KAAK;MAAA,IAAM/E,GAAG,GAAAsQ,MAAA,CAAHtQ,GAAG;QAAEF,MAAM,GAAAwQ,MAAA,CAANxQ,MAAM;MAChDE,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGjB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,EAAE;MACtF,IAAIV,KAAK,GAAG,EAAE;MACduH,OAAO,CAAC6F,OAAO,CAAC,UAAClO,IAAI,EAAEC,KAAK,EAAK;QAC/B,IAAIf,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAACe,OAAO,CAACvC,IAAI,CAACc,KAAK,CAAC,IAAI,CAAC,EAAE;UACjDA,KAAK,CAACqN,IAAI,CAACnO,IAAI,CAACmL,KAAK,CAAC;QACxB;MACF,CAAC,CAAC;MACFjM,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,gBAAgB,CAAC,GAAGV,KAAK,CAAC4B,IAAI,CAAC,GAAG,CAAC;MACzD,OAAO,CAAAjE,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,gBAAgB,CAAC,GAAS;IACjE,CAAC;IACDsD,UAAU,WAAAA,WAACrG,CAAC,EAAAgR,MAAA,EAAAC,MAAA,EAAuC;MAAA,IAAnCrH,OAAO,GAAAoH,MAAA,CAAPpH,OAAO;QAAEpE,KAAK,GAAAwL,MAAA,CAALxL,KAAK;MAAA,IAAM/E,GAAG,GAAAwQ,MAAA,CAAHxQ,GAAG;QAAEF,MAAM,GAAA0Q,MAAA,CAAN1Q,MAAM;MAC7CE,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAGjB,KAAK,CAACC,OAAO,CAACtB,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAAC,GAAGtC,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAG,EAAE;MACtF,IAAIV,KAAK,GAAG,EAAE;MACduH,OAAO,CAAC6F,OAAO,CAAC,UAAClO,IAAI,EAAEC,KAAK,EAAK;QAC/B,IAAIf,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,CAACe,OAAO,CAACvC,IAAI,CAACc,KAAK,CAAC,IAAI,CAAC,EAAE;UACjDA,KAAK,CAACqN,IAAI,CAACnO,IAAI,CAACmL,KAAK,CAAC;QACxB;MACF,CAAC,CAAC;MACFjM,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,gBAAgB,CAAC,GAAGV,KAAK,CAAC4B,IAAI,CAAC,GAAG,CAAC;MACzD,OAAO,CAAAjE,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,GAAG,gBAAgB,CAAC,GAAS;IACjE;EACF,CAAC;EACDmO,iBAAiB,EAAE;IACjBzK,UAAU,WAAAA,WAACzG,CAAC,EAAAmR,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAyE;MAAA,IAAAC,OAAA;MAAA,IAArE9L,KAAK,GAAA2L,MAAA,CAAL3L,KAAK;QAAEoE,OAAO,GAAAuH,MAAA,CAAPvH,OAAO;MAAA,IAAMnJ,GAAG,GAAA2Q,MAAA,CAAH3Q,GAAG;QAAEF,MAAM,GAAA6Q,MAAA,CAAN7Q,MAAM;MAAA,IAAM+K,MAAM,GAAA+F,MAAA,CAAN/F,MAAM;QAAExI,KAAK,GAAAuO,MAAA,CAALvO,KAAK;QAAEnC,MAAM,GAAA0Q,MAAA,CAAN1Q,MAAM;QAAEC,KAAK,GAAAyQ,MAAA,CAALzQ,KAAK;MAC/E;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAH,GAAG,CAACmJ,OAAO,GAAGnJ,GAAG,CAACmJ,OAAO,IAAI,EAAE;MAC/B,OAAO,CAAA5J,CAAA;QAAA;UAAA,eACkD;QAAK;QAAA;UAAAqC,KAAA,EAAvC5B,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;UAAA0F,QAAA,WAAAA,SAAAC,GAAA;YAAA4I,OAAA,CAAA3I,IAAA,CAApBlI,GAAG,EAACF,MAAM,CAACwC,QAAQ,EAAA2F,GAAA;UAAA;QAAA;MAAA,IACrCjI,GAAG,CAACmJ,OAAO,CAAChG,GAAG,CAAC,UAACrC,IAAI,EAAEC,KAAK,EAAK;QAChC,OAAO,CAAAxB,CAAA;UAAA;YAAA,SAEIuB,IAAI,CAACc,KAAK;YAAA,SACVd,IAAI,CAACmL;UAAK;QAAA,GAEpB;MACH,CAAC,CAAC,GAEL;IACH,CAAC;IACDtH,aAAa,WAAAA,cAACpF,CAAC,EAAE+I,UAAU,EAAAwI,MAAA,EAAmBpR,OAAO,EAAE;MAAA,IAAxBM,GAAG,GAAA8Q,MAAA,CAAH9Q,GAAG;QAAEF,MAAM,GAAAgR,MAAA,CAANhR,MAAM;MACxC,OAAO,CAAAP,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC9C,CAAC;IACDsD,UAAU,WAAAA,WAACrG,CAAC,EAAEC,UAAU,EAAAuR,MAAA,EAAmB;MAAA,IAAf/Q,GAAG,GAAA+Q,MAAA,CAAH/Q,GAAG;QAAEF,MAAM,GAAAiR,MAAA,CAANjR,MAAM;MACrC,OAAO,CAAAP,CAAA,UAAQS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC,GAAS;IAC9C;EACF,CAAC;EACD0O,aAAa,EAAE;IACbC,YAAY,WAAAA,aAAC1R,CAAC,EAAA2R,OAAA,EAAAC,OAAA,EAAoIzR,OAAO,EAAE;MAAA,IAAzIqF,KAAK,GAAAmM,OAAA,CAALnM,KAAK;MAAA,IAAMpF,YAAY,GAAAwR,OAAA,CAAZxR,YAAY;QAAEC,SAAS,GAAAuR,OAAA,CAATvR,SAAS;QAAEC,KAAK,GAAAsR,OAAA,CAALtR,KAAK;QAAEC,MAAM,GAAAqR,OAAA,CAANrR,MAAM;QAAEC,IAAI,GAAAoR,OAAA,CAAJpR,IAAI;QAAEC,GAAG,GAAAmR,OAAA,CAAHnR,GAAG;QAAEC,IAAI,GAAAkR,OAAA,CAAJlR,IAAI;QAAEC,MAAM,GAAAiR,OAAA,CAANjR,MAAM;QAAEC,KAAK,GAAAgR,OAAA,CAALhR,KAAK;QAAEC,WAAW,GAAA+Q,OAAA,CAAX/Q,WAAW;QAAEC,MAAM,GAAA8Q,OAAA,CAAN9Q,MAAM;QAAEC,KAAK,GAAA6Q,OAAA,CAAL7Q,KAAK;QAAEC,QAAQ,GAAA4Q,OAAA,CAAR5Q,QAAQ;QAAEC,GAAG,GAAA2Q,OAAA,CAAH3Q,GAAG;MAC5I,IAAM4Q,WAAW,GAAG;QAClBC,YAAY,EAAE;UAAE;UACd;UACAC,SAAS,EAAE,EAAE;UACb9Q,GAAG,EAAE;QACP;MACF,CAAC;MACD,OAAO,CAAAjB,CAAA;QAAA;UAAA,iBACmB,KAAK;UAAA,eAAe,KAAK;UAAA,eAAgB6R,WAAW;UAAA,UAA0B,OAAO;UAAA,sBAAsBpR,GAAG,CAACuR,SAAS;UAAA,aAAevR,GAAG,CAACwR;QAAS;QAAA,SAAAjM,aAAA,KAAtFR,KAAK;MAAA,GAC5F;IACH;EACF;AACF,CAAC;AACD,IAAM0M,eAAe,GAAG;EACtBC,aAAa,EAAE;IACb;IACAC,QAAQ,EAAE,KAAK;IACf;IACAC,YAAY,WAAAA,aAACrS,CAAC,EAAEC,UAAU,EAAEyK,MAAM,EAAE;MAClC,OAAO,CAAA1K,CAAA;QAAA;UAAA,UACmB0K;QAAM;MAAA,GAC/B;IACH,CAAC;IACD;IACA4H,iBAAiB,WAAAA,kBAAAC,OAAA,EAAc;MAAA,IAAX3I,OAAO,GAAA2I,OAAA,CAAP3I,OAAO;MACzBA,OAAO,CAAC6F,OAAO,CAAC,UAAA+C,MAAM,EAAI;QACxBA,MAAM,CAAChS,IAAI,GAAG;UAAEiS,IAAI,EAAE,KAAK;UAAEC,MAAM,EAAE,KAAK;UAAErQ,KAAK,EAAE;QAAG,CAAC;MACzD,CAAC,CAAC;IACJ,CAAC;IACD;IACAsQ,YAAY,WAAAA,aAAAC,OAAA,EAA0B;MAAA,IAAvBJ,MAAM,GAAAI,OAAA,CAANJ,MAAM;QAAE/R,GAAG,GAAAmS,OAAA,CAAHnS,GAAG;QAAEF,MAAM,GAAAqS,OAAA,CAANrS,MAAM;MAChC,IAAIsS,SAAS,GAAGpS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;MACpC,IAAA+P,YAAA,GAA8BN,MAAM,CAAChS,IAAI;QAAnCiS,IAAI,GAAAK,YAAA,CAAJL,IAAI;QAAEC,MAAM,GAAAI,YAAA,CAANJ,MAAM;QAAErQ,KAAK,GAAAyQ,YAAA,CAALzQ,KAAK;MACzB,IAAIwQ,SAAS,EAAE;QACb,IAAIH,MAAM,EAAE;UACVG,SAAS,GAAGA,SAAS,CAACE,WAAW,CAAC,CAAC;UACnC1Q,KAAK,GAAGA,KAAK,CAAC0Q,WAAW,CAAC,CAAC;QAC7B;MACF;MACA,QAAQN,IAAI;QACV,KAAK,KAAK;UACR,OAAO,IAAIO,MAAM,CAACH,SAAS,CAAC,CAAC/O,OAAO,CAACzB,KAAK,CAAC,GAAG,CAAC,CAAC;QAClD,KAAK,IAAI;UACP;UACA,IAAIqQ,MAAM,EAAE;YACV,OAAOG,SAAS,IAAIxQ,KAAK;UAC3B,CAAC,MAAM;YACL,OAAOG,UAAU,CAACqQ,SAAS,CAAC,IAAIrQ,UAAU,CAACH,KAAK,CAAC;UACnD;QACF,KAAK,IAAI;UACP,OAAOe,MAAM,CAACyP,SAAS,CAAC,GAAGzP,MAAM,CAACf,KAAK,CAAC;QAC1C,KAAK,IAAI;UACP,OAAOe,MAAM,CAACyP,SAAS,CAAC,GAAGzP,MAAM,CAACf,KAAK,CAAC;MAC5C;MACA,OAAO,IAAI;IACb;EACF,CAAC;EACD4Q,aAAa,EAAE;IACf;IACEb,QAAQ,EAAE,KAAK;IACf;IACAC,YAAY,WAAAA,aAAErS,CAAC,EAAEC,UAAU,EAAEyK,MAAM,EAAE;MACnC,OAAO,CAAA1K,CAAA;QAAA;UAAA,UACoB0K;QAAM;MAAA,GAChC;IACH,CAAC;IACD;IACA4H,iBAAiB,WAAAA,kBAAAY,OAAA,EAAe;MAAA,IAAXtJ,OAAO,GAAAsJ,OAAA,CAAPtJ,OAAO;MAC1BA,OAAO,CAAC6F,OAAO,CAAC,UAAA+C,MAAM,EAAI;QACxBA,MAAM,CAAChS,IAAI,GAAG;UAAE2S,IAAI,EAAE,EAAE;UAAEC,IAAI,EAAE;QAAG,CAAC;MACtC,CAAC,CAAC;IACJ,CAAC;IACD;IACAT,YAAY,WAAAA,aAAAU,OAAA,EAA0B;MAAA,IAAvBb,MAAM,GAAAa,OAAA,CAANb,MAAM;QAAE/R,GAAG,GAAA4S,OAAA,CAAH5S,GAAG;QAAEF,MAAM,GAAA8S,OAAA,CAAN9S,MAAM;MAChC,IAAQ4S,IAAI,GAAKX,MAAM,CAAChS,IAAI,CAApB2S,IAAI;MACZ,IAAIrR,KAAK,CAACC,OAAO,CAACoR,IAAI,CAAC,IAAIA,IAAI,CAAClR,MAAM,EAAE;QACtC,IAAM4Q,SAAS,GAAGpS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;QACtC,IAAI,IAAIiQ,MAAM,CAACH,SAAS,CAAC,CAAC/O,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;UAC3C,IAAIzB,KAAK,GAAGwQ,SAAS,CAACvP,KAAK,CAAC,IAAI,CAAC;UACjCjB,KAAK,CAACiR,KAAK,CAAC,CAAC;UACb,OAAOT,SAAS,IAAIxQ,KAAK,CAAC4B,IAAI,CAAC,GAAG,CAAC;QACrC;QACA,OAAOkP,IAAI,CAACI,QAAQ,CAACV,SAAS,CAAC;MACjC,CAAC,MAAM;QACL,OAAO,IAAI;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF;EACF,CAAC;;EACDW,WAAW,EAAE;IACX;IACA;IACA;IACAnB,YAAY,WAAAA,aAACrS,CAAC,EAAEC,UAAU,EAAEyK,MAAM,EAAE;MAClC,OAAO,CAAA1K,CAAA;QAAA;UAAA,UACiB0K;QAAM;MAAA,GAC7B;IACH,CAAC;IACD;IACAiI,YAAY,WAAAA,aAAAc,OAAA,EAA0B;MAAA,IAAvBjB,MAAM,GAAAiB,OAAA,CAANjB,MAAM;QAAE/R,GAAG,GAAAgT,OAAA,CAAHhT,GAAG;QAAEF,MAAM,GAAAkT,OAAA,CAANlT,MAAM;MAChC,IAAQC,IAAI,GAAKgS,MAAM,CAAfhS,IAAI;MACZ,IAAIqS,SAAS,GAAGpS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;MACpC,OAAO,IAAIiQ,MAAM,CAACH,SAAS,CAAC,CAACE,WAAW,CAAC,CAAC,CAACjP,OAAO,CAACtD,IAAI,CAACuS,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC7E;EACF,CAAC;EACDW,YAAY,EAAE;IACZtB,QAAQ,EAAE,KAAK;IACf;IACA;IACA;IACAC,YAAY,WAAAA,aAACrS,CAAC,EAAEC,UAAU,EAAEyK,MAAM,EAAE;MAClC,OAAO,CAAA1K,CAAA;QAAA;UAAA,cACuBC,UAAU;UAAA,UAAWyK;QAAM;MAAA,GACxD;IACH,CAAC;IACD;IACAiI,YAAY,WAAAA,aAAAgB,OAAA,EAA0B;MAAA,IAAvBnB,MAAM,GAAAmB,OAAA,CAANnB,MAAM;QAAE/R,GAAG,GAAAkT,OAAA,CAAHlT,GAAG;QAAEF,MAAM,GAAAoT,OAAA,CAANpT,MAAM;MAChC,IAAQqJ,OAAO,GAAW4I,MAAM,CAAxB5I,OAAO;QAAEpJ,IAAI,GAAKgS,MAAM,CAAfhS,IAAI;MACrB,IAAQ2S,IAAI,GAAK3S,IAAI,CAAb2S,IAAI;MACZ,IAAIN,SAAS,GAAGpS,GAAG,CAACF,MAAM,CAACwC,QAAQ,CAAC;MACpC,IAAIV,KAAK,GAAG,EAAE;MACduH,OAAO,CAAC6F,OAAO,CAAC,UAAClO,IAAI,EAAEC,KAAK,EAAK;QAC/B,IAAI,IAAIwR,MAAM,CAACH,SAAS,CAAC,CAAC/O,OAAO,CAACvC,IAAI,CAACc,KAAK,CAAC,IAAI,CAAC,EAAE;UAClDA,KAAK,CAACqN,IAAI,CAACnO,IAAI,CAACmL,KAAK,CAAC;QACxB;MACF,CAAC,CAAC;MACF,OAAOrK,KAAK,CAACf,IAAI,CAAC,UAACC,IAAI,EAAK;QAC1B,OAAO4R,IAAI,CAACrP,OAAO,CAACvC,IAAI,CAAC,IAAI,CAAC;MAChC,CAAC,CAAC;IACJ;EACF;AACF,CAAC;AACD,OAAO,IAAMqS,gBAAgB,GAAA5N,aAAA,CAAAA,aAAA,KACxBd,aAAa,GACbgN,eAAe,CACnB;AACD,OAAO,IAAM2B,YAAY,GAAG;EAAE;EAC5BC,OAAO,EAAE;IACPC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,cAAc;IACrBC,SAAS,EAAE,YAAY;IACvBC,KAAK,EAAE;MACLC,OAAO,EAAE,SAAAC,SAACC,GAAG,EAAErU,CAAC,EAAK;QACnB,OAAO,CAAAA,CAAA;UAAA,SACO;QAAU,IAAAA,CAAA;UAAA,SACX;QAAgB,KAE5B;MACH,CAAC;MACDsU,MAAM,EAAE,SAAAA,OAAAC,OAAA,EAAavU,CAAC,EAAK;QAAA,IAAhBW,MAAM,GAAA4T,OAAA,CAAN5T,MAAM;QACf,IAAI6T,OAAO,GAAG7T,MAAM,CAACsC,OAAO,CAACA,OAAO;QACpC,OAAO,CACL;QAAAjD,CAAA;UAAA,SACS,oBAAoB;UAAA;YAAA,SAAU,SAAAwL,MAAA,EAAM;cAAEgJ,OAAO,CAACC,kBAAkB,GAAG,CAACD,OAAO,CAACC,kBAAkB;YAAC;UAAC;QAAA,GACzG;QAAA,CACD;MACH;IACF;EACF,CAAC;EACDxT,GAAG,EAAE;IAAE;IACL+S,KAAK,EAAE,IAAI;IACXvB,IAAI,EAAE,KAAK;IACXsB,KAAK,EAAE,EAAE;IACTW,KAAK,EAAE,QAAQ;IACfT,SAAS,EAAE,WAAW;IACtBU,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IAAE;IACVb,KAAK,EAAE,EAAE;IACTvB,IAAI,EAAE,UAAU;IAChBsB,KAAK,EAAE,EAAE;IACTW,KAAK,EAAE,QAAQ;IACfC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE,KAAK;IACfX,SAAS,EAAE;EACb,CAAC;EACDa,UAAU,EAAE;IAAE;IACZd,KAAK,EAAE,MAAM;IACbvB,IAAI,EAAE,UAAU;IAChBhR,KAAK,EAAE,UAAU;IACjBsS,KAAK,EAAE,GAAG;IACVW,KAAK,EAAE,QAAQ;IACfC,KAAK,EAAE,OAAO;IACdC,QAAQ,EAAE,KAAK;IACfX,SAAS,EAAE,oBAAoB;IAC/BlL,UAAU,EAAE;MACV0J,IAAI,EAAE,YAAY;MAClBlN,IAAI,EAAE;IACR;EACF,CAAC;EACDwP,KAAK,EAAE;IAAE;IACPf,KAAK,EAAE,IAAI;IACXvB,IAAI,EAAE,OAAO;IACbsB,KAAK,EAAE,EAAE;IACTW,KAAK,EAAE,QAAQ;IACfC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE,KAAK;IACfX,SAAS,EAAE;EACb,CAAC;EACDtI,SAAS,EAAE;IAAE;IACXqI,KAAK,EAAE,IAAI;IACXvS,KAAK,EAAE,WAAW;IAClBgR,IAAI,EAAE,WAAW;IACjBuC,QAAQ,EAAE,KAAK;IACfjB,KAAK,EAAE,GAAG;IACVW,KAAK,EAAE,QAAQ;IACfC,KAAK,EAAE,OAAO;IACdC,QAAQ,EAAE,KAAK;IACfX,SAAS,EAAE,kBAAkB;IAC7BlL,UAAU,EAAE;MACV0J,IAAI,EAAE,YAAY;MAAE;MACpBlN,IAAI,EAAE;IACR;EACF;AACF,CAAC;AACD,OAAO,IAAM0P,WAAW,GAAG;EACzBP,KAAK,EAAE,OAAO;EACd;EACAQ,SAAS,EAAE,CACT;IACExI,KAAK,EAAE,KAAK;IACZrK,KAAK,EAAE;EACT,CAAC,EACD;IACEqK,KAAK,EAAE,KAAK;IACZrK,KAAK,EAAE;EACT,CAAC,EACD;IACEqK,KAAK,EAAE,MAAM;IACbrK,KAAK,EAAE;EACT,CAAC,EACD;IACEqK,KAAK,EAAE,MAAM;IACbrK,KAAK,EAAE;EACT,CAAC,EACD;IACEqK,KAAK,EAAE,OAAO;IACdrK,KAAK,EAAE;EACT,CAAC,EACD;IACEqK,KAAK,EAAE,IAAI;IACXrK,KAAK,EAAE;EACT,CAAC,CACF;EACD8S,OAAO,EAAE,CACP,OAAO,EACP,UAAU,EACV,UAAU,EACV,QAAQ,EACR,UAAU,EACV,UAAU,EACV,UAAU,EACV,OAAO,CACR;EACDC,OAAO,EAAE,IAAI;EACblB,KAAK,EAAE;IACLmB,IAAI,EAAE;IACN;EACF;AACF,CAAC;;AACD,OAAO,IAAIC,eAAe,GAAG;EAC3B9U,IAAI,EAAE;IACJ+U,OAAO,EAAE;EACX,CAAC;EACDjV,KAAK,EAAE,CACL;IAAEmB,KAAK,EAAE,SAAS;IAAE+T,UAAU,EAAE;MAAEjQ,IAAI,EAAE,QAAQ;MAAEC,KAAK,EAAE;QAAEiQ,WAAW,EAAE;MAAW;IAAE;EAAE,CAAC,EACxF;IAAED,UAAU,EAAE;MAAEjQ,IAAI,EAAE,UAAU;MAAEvD,QAAQ,EAAE,CAAC;QAAEwD,KAAK,EAAE;UAAEiN,IAAI,EAAE,QAAQ;UAAEiD,OAAO,EAAE,IAAI;UAAE7J,MAAM,EAAE;QAAU;MAAE,CAAC,EAAE;QAAErG,KAAK,EAAE;UAAEiN,IAAI,EAAE,OAAO;UAAEiD,OAAO,EAAE;QAAK;MAAE,CAAC;IAAE;EAAE,CAAC;AAElK,CAAC;AACD,OAAO,IAAMC,gBAAgB,GAAG;EAC9BC,MAAM,EAAE,MAAM;EAAE;EAChBC,SAAS,EAAE,MAAM;EAAE;EACnBC,MAAM,EAAE,KAAK;EAAE;EACfC,mBAAmB,EAAE,KAAK;EAAE;EAC5BC,iBAAiB,EAAE,IAAI,CAAC;EACxB;AACF,CAAC;;AACD,OAAO,IAAMC,iBAAiB,GAAG;EAC/BC,WAAW,WAAAA,YAAAC,OAAA,EAA6B;IAAA,IAA1BtD,SAAS,GAAAsD,OAAA,CAATtD,SAAS;MAAEpS,GAAG,GAAA0V,OAAA,CAAH1V,GAAG;MAAEF,MAAM,GAAA4V,OAAA,CAAN5V,MAAM;IAClC;IACA,IAAI,CAACsS,SAAS,EAAE;MACd,OAAO,EAAE;IACX,CAAC,MAAM;MACL,IAAIuD,GAAG,GAAG7T,KAAK,CAACC,UAAU,CAACqQ,SAAS,CAAC,CAAC,GAAG,CAAC,GAAGrQ,UAAU,CAACqQ,SAAS,CAAC;MAClEuD,GAAG,GAAG,CAACA,GAAG,GAAG,IAAI,CAAC7S,SAAS,EAAEV,OAAO,CAAC,CAAC,CAAC;MACvC,IAAI,OAAOuT,GAAG,KAAK,QAAQ,EAAE;QAC3B,OAAOhT,MAAM,CAACZ,UAAU,CAAC4T,GAAG,CAAC,CAACvT,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;MAC5D,CAAC,MAAM,IAAI,OAAO+S,GAAG,KAAK,QAAQ,EAAE;QAClC,OAAOhT,MAAM,CAACgT,GAAG,CAACvT,OAAO,CAAC,CAAC,CAAC,CAAC,CAACQ,cAAc,CAAC,CAAC;MAChD;IACF;EACF,CAAC;EACDgT,cAAc,WAAAA,eAAAC,OAAA,EAA6B;IAAA,IAA1BzD,SAAS,GAAAyD,OAAA,CAATzD,SAAS;MAAEpS,GAAG,GAAA6V,OAAA,CAAH7V,GAAG;MAAEF,MAAM,GAAA+V,OAAA,CAAN/V,MAAM;IACrC,IAAIgW,CAAC,GAAG1D,SAAS;IACjB;IACA,IAAI,OAAO0D,CAAC,KAAK,QAAQ,EAAE;MACzBA,CAAC,GAAG,EAAE,GAAGA,CAAC;IACZ;IACAA,CAAC,GAAGA,CAAC,CAACjU,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAC;IACxBiU,CAAC,GAAGA,CAAC,CAACjU,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAC;IACxBiU,CAAC,GAAGA,CAAC,CAACjU,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAC;IACxB;IACA;IACA;IACA;IACA,IAAIkU,QAAQ,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC;IACzB,IAAIC,KAAK,GAAG,CACV,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EACvB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CACxB;IACD,IAAIC,IAAI,GAAG,CACT,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EACzB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CACpB;IACD,IAAIC,IAAI,GAAGJ,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;IAC3BA,CAAC,GAAGlJ,IAAI,CAACuJ,GAAG,CAACL,CAAC,CAAC;IACf,IAAIM,CAAC,GAAG,EAAE;IACV,KAAK,IAAI3M,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsM,QAAQ,CAACvU,MAAM,EAAEiI,CAAC,EAAE,EAAE;MACxC2M,CAAC,IAAI,CAACJ,KAAK,CAACpJ,IAAI,CAACC,KAAK,CAACiJ,CAAC,GAAG,EAAE,GAAGlJ,IAAI,CAACyJ,GAAG,CAAC,EAAE,EAAE5M,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAGsM,QAAQ,CAACtM,CAAC,CAAC,EAAE5H,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IACzF;IACAuU,CAAC,GAAGA,CAAC,IAAI,GAAG;IACZN,CAAC,GAAGlJ,IAAI,CAACC,KAAK,CAACiJ,CAAC,CAAC;IACjB,KAAK,IAAIrM,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAGwM,IAAI,CAAC,CAAC,CAAC,CAACzU,MAAM,IAAIsU,CAAC,GAAG,CAAC,EAAErM,EAAC,EAAE,EAAE;MAChD,IAAI6M,CAAC,GAAG,EAAE;MACV,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,IAAI,CAAC,CAAC,CAAC,CAACzU,MAAM,IAAIsU,CAAC,GAAG,CAAC,EAAES,CAAC,EAAE,EAAE;QAChDD,CAAC,GAAGN,KAAK,CAACF,CAAC,GAAG,EAAE,CAAC,GAAGG,IAAI,CAAC,CAAC,CAAC,CAACM,CAAC,CAAC,GAAGD,CAAC;QAClCR,CAAC,GAAGlJ,IAAI,CAACC,KAAK,CAACiJ,CAAC,GAAG,EAAE,CAAC;MACxB;MACAM,CAAC,GAAGE,CAAC,CAACzU,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,GAAGoU,IAAI,CAAC,CAAC,CAAC,CAACxM,EAAC,CAAC,GAAG2M,CAAC;IAClE;IACA,OAAOF,IAAI,GAAGE,CAAC,CAACvU,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CACpCA,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CACtBA,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;EAC1B,CAAC;EACD2U,YAAY,EAAE,SAAAA,aAAAC,OAAA,EAAgBC,MAAM,EAAK;IAAA,IAAxBtE,SAAS,GAAAqE,OAAA,CAATrE,SAAS;IACxB,OAAOuE,OAAI,CAACC,QAAQ,CAACC,OAAO,CAACzE,SAAS,EAAE;MAAEsE,MAAM,EAAEA,MAAM,IAAI;IAAE,CAAC,CAAC;EAClE;AACF,CAAC;AACD,OAAO,IAAMI,YAAY,GAAG;EAC1BC,UAAU,EAAE,KAAK;EACjBvS,QAAQ,EAAE,CAAC,CAAC;EAAE;EACdtB,YAAY,EAAE,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,aAAa,CAAC;EAAE;EAChE8T,YAAY,WAAAA,aAAAC,OAAA,EAAmC;IAAA,IAAhCvW,OAAO,GAAAuW,OAAA,CAAPvW,OAAO;MAAEX,IAAI,GAAAkX,OAAA,CAAJlX,IAAI;MAAEG,MAAM,GAAA+W,OAAA,CAAN/W,MAAM;MAAEmC,KAAK,GAAA4U,OAAA,CAAL5U,KAAK;IACzC,IAAIa,YAAY,GAAGb,KAAK,CAACG,OAAO,CAAC+B,cAAc,CAACrB,YAAY,IAAI,CAAC,aAAa,CAAC;IAC/E;IACA;IACA;IACA;IACA;IACA,IAAIgU,UAAU,GAAG,EAAE;IACnB,IAAIhU,YAAY,CAACG,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;MAC5C,IAAIhB,KAAK,CAAC6B,kBAAkB,CAAC,CAAC,CAAC1C,MAAM,EAAE;QACrC0V,UAAU,GAAG,CAAC7X,mBAAmB,CAAC,0BAA0B,CAAC,CAAC;UAAEqB,OAAO,EAAPA,OAAO;UAAEX,IAAI,EAAJA,IAAI;UAAEG,MAAM,EAANA,MAAM;UAAEmC,KAAK,EAALA;QAAM,CAAC,CAAC,CAAC;QAChG;MACF,CAAC,MAAM;QACL6U,UAAU,GAAG,CAAC7X,mBAAmB,CAAC,0BAA0B,CAAC,CAAC;UAAEqB,OAAO,EAAPA,OAAO;UAAEX,IAAI,EAAJA,IAAI;UAAEG,MAAM,EAANA,MAAM;UAAEmC,KAAK,EAALA;QAAM,CAAC,CAAC,CAAC;QAChG;MACF;IACF,CAAC,MAAM;MACL6U,UAAU,GAAGhU,YAAY,CAACC,GAAG,CAAC,UAAArC,IAAI,EAAI;QACpC,OAAOzB,mBAAmB,CAAC,kBAAkB,GAAGyB,IAAI,CAAC,CAAC;UAAEJ,OAAO,EAAPA,OAAO;UAAEX,IAAI,EAAJA,IAAI;UAAEG,MAAM,EAANA,MAAM;UAAEmC,KAAK,EAALA;QAAM,CAAC,CAAC;MACzF,CAAC,CAAC;IACJ;IACA;IACA;IACA;IACA;IACA,OAAO6U,UAAU;EACnB,CAAC;EACDC,gBAAgB,WAAAA,iBAAAC,OAAA,EAAyD;IAAA,IAAtDxX,SAAS,GAAAwX,OAAA,CAATxX,SAAS;MAAEE,MAAM,GAAAsX,OAAA,CAANtX,MAAM;MAAEM,WAAW,GAAAgX,OAAA,CAAXhX,WAAW;MAAET,YAAY,GAAAyX,OAAA,CAAZzX,YAAY;MAAEI,IAAI,GAAAqX,OAAA,CAAJrX,IAAI;IACnE,OAAO;MACLsX,OAAO,EAAE,CAAC;MACVC,OAAO,EAAE;IACX,CAAC;EACH;AACF,CAAC;AACD,OAAO,IAAMC,iBAAiB,GAAG;EAC/B1D,MAAM,EAAE;IACN1K,OAAO,EAAE,CACP,CAAC;MACCzC,IAAI,EAAE,MAAM;MACZ5B,IAAI,EAAE,KAAK;MACXvD,QAAQ,EAAE,CACR;QAAEmF,IAAI,EAAE,YAAY;QAAE5B,IAAI,EAAE,OAAO;QAAE0S,QAAQ,EAAE;MAAM,CAAC,EACtD;QAAE9Q,IAAI,EAAE,eAAe;QAAE5B,IAAI,EAAE,SAAS;QAAE0S,QAAQ,EAAE;MAAM,CAAC;IAE/D,CAAC,EACD;MACE9Q,IAAI,EAAE,OAAO;MACb5B,IAAI,EAAE,KAAK;MACXvD,QAAQ,EAAE,CACR;QAAEmF,IAAI,EAAE,mBAAmB;QAAE5B,IAAI,EAAE,SAAS;QAAE0S,QAAQ,EAAE;MAAM,CAAC,EAC/D;QAAE9Q,IAAI,EAAE,oBAAoB;QAAE5B,IAAI,EAAE,SAAS;QAAE0S,QAAQ,EAAE;MAAM,CAAC,EAChE;QAAE9Q,IAAI,EAAE,oBAAoB;QAAE5B,IAAI,EAAE,OAAO;QAAE0S,QAAQ,EAAE;MAAM,CAAC;IAElE,CAAC,EACD;MACE9Q,IAAI,EAAE,OAAO;MACb5B,IAAI,EAAE,KAAK;MACXvD,QAAQ,EAAE,CACR;QAAEmF,IAAI,EAAE,iBAAiB;QAAE5B,IAAI,EAAE,QAAQ;QAAE0S,QAAQ,EAAE;MAAM,CAAC;MAC5D;MACA;QAAE9Q,IAAI,EAAE,aAAa;QAAE5B,IAAI,EAAE,UAAU;QAAE0S,QAAQ,EAAE;MAAM,CAAC;IAE9D,CAAC,EACD;MACE9Q,IAAI,EAAE,QAAQ;MACd5B,IAAI,EAAE,IAAI;MACVvD,QAAQ,EAAE,CACR;QACEmF,IAAI,EAAE,cAAc;QACpB5B,IAAI,EAAE;MACR,CAAC,EACD;QACE4B,IAAI,EAAE,kBAAkB;QACxB5B,IAAI,EAAE;MACR;MACA;MACA;MACA;MACA;MAAA;IAEJ,CAAC,EACD;MACE4B,IAAI,EAAE,MAAM;MACZ5B,IAAI,EAAE,IAAI;MACVvD,QAAQ,EAAE,CACR;QACEmF,IAAI,EAAE,WAAW;QACjB5B,IAAI,EAAE;MACR,CAAC,EACD;QACE4B,IAAI,EAAE,SAAS;QACf5B,IAAI,EAAE;MACR,CAAC,EACD;QACE4B,IAAI,EAAE,UAAU;QAChB5B,IAAI,EAAE;MACR,CAAC;IACL,CAAC,CAAC;EAEN,CAAC;EACD2S,IAAI,EAAE;IACJtO,OAAO,EAAE,CACP,CACE;MACEzC,IAAI,EAAE,QAAQ;MACd5B,IAAI,EAAE,KAAK;MACXvD,QAAQ,EAAE,CACR;QACEmF,IAAI,EAAE,QAAQ;QACd5B,IAAI,EAAE,OAAO;QACb0S,QAAQ,EAAE;MACZ,CAAC,EACD;QACE9Q,IAAI,EAAE,qBAAqB;QAC3B5B,IAAI,EAAE,OAAO;QACb0S,QAAQ,EAAE;MACZ,CAAC,EACD;QACE9Q,IAAI,EAAE,WAAW;QACjB5B,IAAI,EAAE;MACR,CAAC,EACD;QACE4B,IAAI,EAAE,YAAY;QAClB5B,IAAI,EAAE;MACR,CAAC,EACD;QACE4B,IAAI,EAAE,oBAAoB;QAC1B5B,IAAI,EAAE;MACR,CAAC,EACD;QACE4B,IAAI,EAAE,qBAAqB;QAC3B5B,IAAI,EAAE;MACR,CAAC,EACD;QACE4B,IAAI,EAAE,WAAW;QACjB5B,IAAI,EAAE;MACR,CAAC,EACD;QACE4B,IAAI,EAAE,YAAY;QAClB5B,IAAI,EAAE;MACR,CAAC;IAEL,CAAC,CAAC,EACJ,CACE;MACE4B,IAAI,EAAE,OAAO;MACb5B,IAAI,EAAE,WAAW;MACjB4S,OAAO,EAAE,IAAI;MACbF,QAAQ,EAAE;IACZ,CAAC,EACD;MACE9Q,IAAI,EAAE,UAAU;MAChB5B,IAAI,EAAE,QAAQ;MACd0S,QAAQ,EAAE;IACZ,CAAC,EACD;MACE9Q,IAAI,EAAE,uBAAuB;MAC7B5B,IAAI,EAAE,UAAU;MAChB0S,QAAQ,EAAE;IACZ,CAAC,EACD;MACE9Q,IAAI,EAAE,QAAQ;MACd5B,IAAI,EAAE,aAAa;MACnB0S,QAAQ,EAAE;IACZ,CAAC,EACD;MACE9Q,IAAI,EAAE,QAAQ;MACd5B,IAAI,EAAE,QAAQ;MACd0S,QAAQ,EAAE;IACZ,CAAC,EAED;MACE9Q,IAAI,EAAE,MAAM;MACZ5B,IAAI,EAAE,aAAa;MACnB0S,QAAQ,EAAE;IACZ,CAAC,EACD;MACE9Q,IAAI,EAAE,gBAAgB;MACtB5B,IAAI,EAAE,UAAU;MAChB0S,QAAQ,EAAE;IACZ,CAAC,EACD;MACE9Q,IAAI,EAAE,gBAAgB;MACtB5B,IAAI,EAAE,SAAS;MACf0S,QAAQ,EAAE;IACZ;IACA;IACA;IACA;IACA;IAAA,CACD;EAGL,CAAC;EACDG,aAAa,WAAAA,cAAAC,OAAA,EAAsB;IAAA,IAAnBzO,OAAO,GAAAyO,OAAA,CAAPzO,OAAO;MAAErJ,MAAM,GAAA8X,OAAA,CAAN9X,MAAM;IAC7B;IACA;IACA;IACA;IACA;IACA;IACA,OAAO,IAAI;EACb;AACF,CAAC"}]}