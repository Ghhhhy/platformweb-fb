{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\dynamicTableSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\dynamicTableSetting.vue","mtime":1694505522433},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IFRhYmxlQ29uZk1vZGFsIGZyb20gJy4vdGFibGVDb25mTW9kYWwudnVlJzsKaW1wb3J0IEZvcm1Db25mTW9kYWwgZnJvbSAnLi9Gb3JtQ29uZk1vZGFsLnZ1ZSc7CmltcG9ydCBFbnRlcmluZ0RlZmF1bHQgZnJvbSAnLi9lbnRlcmluZ0RlZmF1bHQudnVlJzsKaW1wb3J0IGdldEZvcm1Db25mRGF0YSBmcm9tICcuL2Zvcm1Db25mLmpzJzsKaW1wb3J0IFN1YlRhYkNvbmZpZ01vZGFsIGZyb20gJy4vU3ViVGFiQ29uZmlnTW9kYWwudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICcnLAogIGNvbXBvbmVudHM6IHsKICAgIFRhYmxlQ29uZk1vZGFsOiBUYWJsZUNvbmZNb2RhbCwKICAgIEZvcm1Db25mTW9kYWw6IEZvcm1Db25mTW9kYWwsCiAgICBFbnRlcmluZ0RlZmF1bHQ6IEVudGVyaW5nRGVmYXVsdCwKICAgIFN1YlRhYkNvbmZpZ01vZGFsOiBTdWJUYWJDb25maWdNb2RhbAogIH0sCiAgcHJvcHM6IHsKICAgIGFsbFByb3BEYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudWd1aWRzOiBbXSwKICAgICAgY3VyQ29uZlR5cGU6ICd0YWJsZScsCiAgICAgIGxlZnRWaXNpYmxlOiB0cnVlLAogICAgICBsZWZ0VHJlZURhdGE6IFtdLAogICAgICBjdXJTcGxpdFBhbmVMZWZ0V2lkdGg6IDIwLAogICAgICBpc1Nob3dRdWVyeUNvbmRpdGlvbnM6IGZhbHNlLAogICAgICBzZXJ2ZXJVcmk6ICdtcC1iLXBlcm0tc2VydmljZS92MS90YWJsZWNvbmYvbWVudWd1aWQnLAogICAgICB0cmVlUXVlcnlwYXJhbXM6IHsKICAgICAgICBtZW51Z3VpZDogJ3Rlc3RfMTIzNDU2JywKICAgICAgICB1c2VSaWdodDogZmFsc2UsCiAgICAgICAgYmF0Y2hubzogMiwKICAgICAgICBkYXRhdHlwZTogNSwKICAgICAgICBlbGVDb2RlOiAnREVQQkdURUNPJywKICAgICAgICBzeHNwZWNyb2xlZ3VpZDogJzYzN0I2RDVBODIzRjQ1OUFCMzEzQ0JGOTRDODc3NjVCJwogICAgICB9LAogICAgICB0cmVlbGVmdFRyZWVDb25maWc6IHsKICAgICAgICBpbnB1dFZhbDogJycKICAgICAgfSwKICAgICAgdHJlZUNvbmZpZzogewogICAgICAgIGN1clJhZGlvOiAnemYnLAogICAgICAgIHJhZGlvR3JvdXA6IFt7CiAgICAgICAgICBjb2RlOiAnemYnLAogICAgICAgICAgbGFiZWw6ICfmlL/lupzpg6jpl6jmoJEnCiAgICAgICAgfSwgewogICAgICAgICAgY29kZTogJ3h1ZXhpYW8nLAogICAgICAgICAgbGFiZWw6ICflrabmoKHmoJEnCiAgICAgICAgfSwgewogICAgICAgICAgY29kZTogJ2ppZ291JywKICAgICAgICAgIGxhYmVsOiAn5py65p6E5qCRJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGxlZnRUcmVlQ29uZmlnOiB7CiAgICAgICAgaW5wdXRWYWw6ICcnCiAgICAgIH0sCiAgICAgIHBhZ2VyQ29uZmlnOiB7CiAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgdG90YWw6IDEwMAogICAgICB9LAogICAgICBjdXJUYWJsZUNvbmZEYXRhczogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcEFycjogWwogICAgICAgIC8vIHsKICAgICAgICAvLyAgIHRhYmxlTmFtZTogJzEnLAogICAgICAgIC8vICAgYnVzaW5lc3NUYWJsZU5hbWU6ICcxJywKICAgICAgICAvLyAgIHRhYmxlTm90ZTogJzEnLAogICAgICAgIC8vICAgbWVhc3VyaW5nVW5pdDogMSwKICAgICAgICAvLyAgIHZpZXdPcmRlcjogJzAwMScsCiAgICAgICAgLy8gICBlZGl0YWJsZUJhdGNoOiAnMDAxJywKICAgICAgICAvLyAgIHRhYmxlVHlwZTogJzAwMScsCiAgICAgICAgLy8gICBub3RlOiAnMScsCiAgICAgICAgLy8gICBhdXRvQnVpbHRUYWJsZXM6IGZhbHNlLAogICAgICAgIC8vICAgZWRpdGJsZTogdHJ1ZSwKICAgICAgICAvLyAgIHNob3dDaGVja2JveDogdHJ1ZSwKICAgICAgICAvLyAgIGNhblVzZTogdHJ1ZSwKICAgICAgICAvLyAgIGFTaW5nbGVUYWJsZTogZmFsc2UsCiAgICAgICAgLy8gICBiYXRjaE1vZGlmeTogZmFsc2UsCiAgICAgICAgLy8gICByb3dDb25maWc6IGZhbHNlLAogICAgICAgIC8vICAgbm9SZWNvcmRJc0FsbG93ZWRUb1JlcG9ydDogdHJ1ZSwKICAgICAgICAvLyAgIHN1YnRvdGFsUm93czogdHJ1ZQogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgY3VyVGFibGVDb25mRGF0YXNNYXA6IHt9LAogICAgICBnbG9ibGVDb25maWdDcDogewogICAgICAgIHRhYmxlTmFtZTogJycsCiAgICAgICAgYnVzaW5lc3NUYWJsZU5hbWU6ICcnLAogICAgICAgIHRhYmxlTm90ZTogJycsCiAgICAgICAgbWVhc3VyaW5nVW5pdDogJycsCiAgICAgICAgdmlld09yZGVyOiAnJywKICAgICAgICBlZGl0YWJsZUJhdGNoOiAnJywKICAgICAgICB0YWJsZVR5cGU6ICcnLAogICAgICAgIG5vdGU6ICcnLAogICAgICAgIGF1dG9CdWlsdFRhYmxlczogZmFsc2UsCiAgICAgICAgZWRpdGJsZTogdHJ1ZSwKICAgICAgICBzaG93Q2hlY2tib3g6IHRydWUsCiAgICAgICAgY2FuVXNlOiB0cnVlLAogICAgICAgIGFTaW5nbGVUYWJsZTogZmFsc2UsCiAgICAgICAgYmF0Y2hNb2RpZnk6IGZhbHNlLAogICAgICAgIHJvd0NvbmZpZzogZmFsc2UsCiAgICAgICAgbm9SZWNvcmRJc0FsbG93ZWRUb1JlcG9ydDogdHJ1ZSwKICAgICAgICBzdWJ0b3RhbFJvd3M6IHRydWUKICAgICAgfSwKICAgICAgdG9vbGJhckNvbmZpZzogX29iamVjdFNwcmVhZCh7CiAgICAgICAgZGlzYWJsZWRNb25leUNvbnZlcnNpb246IGZhbHNlCiAgICAgIH0sIGdldEZvcm1Db25mRGF0YSgndGFibGVJbmZvckNvbmYnLCAndG9vbGJhckNvbmZpZycpKSwKICAgICAgdGFibGVDb25maWc6IGdldEZvcm1Db25mRGF0YSgndGFibGVJbmZvckNvbmYnLCAndGFibGVDb25maWcnKSwKICAgICAgdGFibGVDb2x1bW5zQ29uZmlnOiBnZXRGb3JtQ29uZkRhdGEoJ3RhYmxlSW5mb3JDb25mJywgJ3RhYmxlQ29sdW1uc0NvbmZpZycpLAogICAgICB0YWJsZUNvbmZNb2RhbFZpc2libGU6IGZhbHNlLAogICAgICBmb3JtQ29uZk1vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIGVudGVyaW5nRGVmYXVsdFZpc2libGU6IGZhbHNlLAogICAgICBjdXJMZWZ0VHJlZUNsaWNrTm9kZToge30sCiAgICAgIGVudGVyaW5nRGVmYXVsdEZsYWc6IGZhbHNlLAogICAgICBTdWJUYWJDb25maWdWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjdXJOYXZNb2R1bGU6IGZ1bmN0aW9uIGN1ck5hdk1vZHVsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZTsKICAgIH0sCiAgICB1c2VySW5mbzogZnVuY3Rpb24gdXNlckluZm8oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRlZXBDb3B5OiBmdW5jdGlvbiBkZWVwQ29weShvYmopIHsKICAgICAgLy8g5rex5ou36LSd6YCa55So5pa55rOVCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIGlmIChfdHlwZW9mKG9iaikgIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIG9iajsKICAgICAgdmFyIG5ld09iaiA9IG9iaiBpbnN0YW5jZW9mIEFycmF5ID8gW10gOiB7fTsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgbmV3T2JqW2tleV0gPSBfdHlwZW9mKG9ialtrZXldKSA9PT0gJ29iamVjdCcgPyBtZS5kZWVwQ29weShvYmpba2V5XSkgOiBvYmpba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5ld09iajsKICAgIH0sCiAgICBqc29uU3RyaW5naWZ5OiBmdW5jdGlvbiBqc29uU3RyaW5naWZ5KGNvbHVtbnMpIHsKICAgICAgLy8g5a+56LGh6L2s5o2i5oiQanNvbuWtl+espuS4sgogICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29sdW1ucywgZnVuY3Rpb24gKGtleSwgdmFsKSB7CiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHJldHVybiB2YWwgKyAnJzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgfSk7CiAgICB9LAogICAganNvblBhcnNlOiBmdW5jdGlvbiBqc29uUGFyc2Uoc3RyKSB7CiAgICAgIC8vIGpzb27lrZfnrKbkuLLovazmjaLmiJDlr7nosaEKICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyLCBmdW5jdGlvbiAoaywgdikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAodi5pbmRleE9mICYmICh2LmluZGV4T2YoJ2Z1bmN0aW9uJykgPiAtMSB8fCB2LmluZGV4T2YoJz0+JykgPiAtMSkpIHsKICAgICAgICAgICAgLy8gcmV0dXJuIGV2YWwoJyhmdW5jdGlvbigpe3JldHVybiAnICsgdiArICcgfSkoKScpCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYwogICAgICAgICAgICB2YXIgZnVuYyA9IG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyB2KTsKICAgICAgICAgICAgcmV0dXJuIGZ1bmMoKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB2OwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiB2OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlSW5wdXQ6IGZ1bmN0aW9uIGNoYW5nZUlucHV0KHZhbCkgewogICAgICB0aGlzLnRyZWVsZWZ0VHJlZUNvbmZpZy5pbnB1dFZhbCA9IHZhbDsKICAgIH0sCiAgICBjb25mcmltRGF0YTogZnVuY3Rpb24gY29uZnJpbURhdGEoY3VyVHJlZSkgewogICAgICB0aGlzLmNvbmZyaW1EYXRhLmN1clJhZGlvID0gY3VyVHJlZS5jb2RlOwogICAgICBzd2l0Y2ggKGN1clRyZWUuY29kZSkgewogICAgICAgIGNhc2UgJ3pmJzoKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3h1ZXhpYW8nOgogICAgICAgICAgdGhpcy50YWJTdGF0dXNOdW1Db25maWdbJ3ljbCddID0gMTI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdqaWdvdSc6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIG9uU3BsaXRQYW5lUmVzaXplOiBmdW5jdGlvbiBvblNwbGl0UGFuZVJlc2l6ZShsZWZ0V2lkdGgpIHsKICAgICAgaWYgKGxlZnRXaWR0aCA+IDEpIHsKICAgICAgICB0aGlzLmN1clNwbGl0UGFuZUxlZnRXaWR0aCA9IGxlZnRXaWR0aDsKICAgICAgICB0aGlzLmxlZnRWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxlZnRWaXNpYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBhamF4RGF0YTogZnVuY3Rpb24gYWpheERhdGEoX3JlZikgewogICAgICB2YXIgY3VycmVudFBhZ2UgPSBfcmVmLmN1cnJlbnRQYWdlLAogICAgICAgIHBhZ2VTaXplID0gX3JlZi5wYWdlU2l6ZTsKICAgICAgdGhpcy5wYWdlckNvbmZpZy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gT2JqZWN0LmFzc2lnbih0aGlzLnF1ZXJ5UGFyYW1zLCB7CiAgICAgICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlLAogICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZQogICAgICB9KTsKICAgICAgdGhpcy5nZXRUYWJsZURhdGFzKGN1cnJlbnRQYWdlLCBwYWdlU2l6ZSk7CiAgICB9LAogICAgZ2V0VGFibGVEYXRhczogZnVuY3Rpb24gZ2V0VGFibGVEYXRhcyhjdXJyZW50UGFnZSwgcGFnZVNpemUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgLy8g5pyN5Yqh56uv5p+l6K+i5pWw5o2uCiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuJGh0dHAucG9zdCgndXJsJywgdGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHNlbGYudGFibGVEYXRhID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgIHNlbGYucGFnZXJDb25maWcgPSB7CiAgICAgICAgICAgIHRvdGFsOiByZXMuZGF0YS50b3RhbCwKICAgICAgICAgICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlCiAgICAgICAgICB9OwogICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHRyYW5zZm9ybUNvbmx1bXNEYXRhVG9OZXN0OiBmdW5jdGlvbiB0cmFuc2Zvcm1Db25sdW1zRGF0YVRvTmVzdChjb2x1bW5zKSB7CiAgICAgIC8vIGNvbHVtbnPovazljJbkuLp2eGUtdGFibGUgY29sdW1uc+aVsOaNrue7k+aehAogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uLCBjb2x1bW5JbmRleCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5jaGlsZHJlbikgJiYgY29sdW1uLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gc2VsZi50cmFuc2Zvcm1Db25sdW1zRGF0YVRvTmVzdChjb2x1bW4uY2hpbGRyZW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb2x1bW5bY29sdW1uLnJlbmRlclR5cGVdID0gewogICAgICAgICAgICBuYW1lOiBjb2x1bW4ucmVuZGVyTmFtZSwKICAgICAgICAgICAgLy8g5riy5p+T5Zmo5ZCNLAogICAgICAgICAgICBvcHRpb25zOiBmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICAgICAgICAgaWYgKF90eXBlb2YocGFyYW1zKSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmRlZXBDb3B5KHBhcmFtcyk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcyA/IHBhcmFtcy5zcGxpdCgnKycpLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5zcGxpdCgnIycpWzBdLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtLnNwbGl0KCcjJylbMV0KICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pIDogW107CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KGNvbHVtbi5vcHRpb25zKSwKICAgICAgICAgICAgLy8g5LiL5ouJ5pWw5o2u5rqQCiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogY29sdW1uLmRlZmF1bHRWYWx1ZSwKICAgICAgICAgICAgLy8g6buY6K6k5YC8CiAgICAgICAgICAgIHByb3BzOiBjb2x1bW4ucHJvcHMgLy8g6aKd5aSW5Y+C5pWwCiAgICAgICAgICB9OwoKICAgICAgICAgIGRlbGV0ZSBjb2x1bW4uX1hJRDsKICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucmVuZGVyVHlwZTsKICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucmVuZGVyTmFtZTsKICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ub3B0aW9uczsKICAgICAgICAgIGRlbGV0ZSBjb2x1bW4ucHJvcHM7CiAgICAgICAgICBkZWxldGUgY29sdW1uLmRlZmF1bHRWYWx1ZTsKICAgICAgICAgIGRlbGV0ZSBzZWxmLmRlZXBDb3B5KGNvbHVtbi5wcm9wcyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGNvbHVtbnM7CiAgICB9LAogICAgdHJhbnNmb3JtQ29ubHVtc0RhdGFUb1NpbmdsZTogZnVuY3Rpb24gdHJhbnNmb3JtQ29ubHVtc0RhdGFUb1NpbmdsZShjb2x1bW5zKSB7CiAgICAgIC8vIHZ4ZS10YWJsZSBjb2x1bW5z5pWw5o2u57uT5p6E6L2s5YyW5Li65Y2V5bGCY29sdW1ucwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uLCBjb2x1bW5JbmRleCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5jaGlsZHJlbikgJiYgY29sdW1uLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gc2VsZi50cmFuc2Zvcm1Db25sdW1zRGF0YVRvTmVzdChjb2x1bW4uY2hpbGRyZW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoY29sdW1uLmhhc093blByb3BlcnR5KCdlZGl0UmVuZGVyJykpIHsKICAgICAgICAgICAgY29sdW1uLnJlbmRlclR5cGUgPSAnZWRpdFJlbmRlcic7CiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJOYW1lID0gY29sdW1uLmVkaXRSZW5kZXIubmFtZTsKICAgICAgICAgICAgY29sdW1uID0gT2JqZWN0LmFzc2lnbihjb2x1bW4sIHNlbGYuZGVlcENvcHkoY29sdW1uLmVkaXRSZW5kZXIpKTsKICAgICAgICAgICAgZGVsZXRlIGNvbHVtbi5lZGl0UmVuZGVyOwogICAgICAgICAgfSBlbHNlIGlmIChjb2x1bW4uaGFzT3duUHJvcGVydHkoJ2NlbGxSZW5kZXInKSkgewogICAgICAgICAgICBjb2x1bW4ucmVuZGVyVHlwZSA9ICdjZWxsUmVuZGVyJzsKICAgICAgICAgICAgY29sdW1uLnJlbmRlck5hbWUgPSBjb2x1bW4uY2VsbFJlbmRlci5uYW1lOwogICAgICAgICAgICBjb2x1bW4gPSBPYmplY3QuYXNzaWduKGNvbHVtbiwgc2VsZi5kZWVwQ29weShjb2x1bW4uY2VsbFJlbmRlcikpOwogICAgICAgICAgfSBlbHNlIGlmIChjb2x1bW4uaGFzT3duUHJvcGVydHkoJ2l0ZW1SZW5kZXInKSkgewogICAgICAgICAgICBjb2x1bW4ucmVuZGVyVHlwZSA9ICdpdGVtUmVuZGVyJzsKICAgICAgICAgICAgY29sdW1uLnJlbmRlck5hbWUgPSBjb2x1bW4uaXRlbVJlbmRlci5uYW1lOwogICAgICAgICAgICBjb2x1bW4gPSBPYmplY3QuYXNzaWduKGNvbHVtbiwgc2VsZi5kZWVwQ29weShjb2x1bW4uaXRlbVJlbmRlcikpOwogICAgICAgICAgfSBlbHNlIHt9CiAgICAgICAgICBpZiAoWyckc2VsZWN0JywgJyR2eGVTZWxlY3QnLCAnJHZ4ZUZvcm1TZWxlY3QnLCAnJHZ4ZVN3aXRjaCcsICckdnhlUmFkaW8nLCAnJHZ4ZVN3aXRjaCcsICckdnhlQ2hlY2tib3gnXS5pbmRleE9mKGNvbHVtbi5yZW5kZXJOYW1lKSA+PSAwKSB7CiAgICAgICAgICAgIGNvbHVtbi5vcHRpb25zID0gY29sdW1uLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlICsgJyMnICsgaXRlbS5sYWJlbDsKICAgICAgICAgICAgfSkuam9pbignKycpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBjb2x1bW5zOwogICAgfSwKICAgIHRyYW5zZm9ybUl0ZW1zRGF0YVRvU2luZ2xlOiBmdW5jdGlvbiB0cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShpdGVtcykgewogICAgICAvLyB2eGUtdGFibGUgaXRlbXPmlbDmja7nu5PmnoTovazljJbkuLrljZXlsYJpdGVtcwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGl0ZW1JbmRleCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0uY2hpbGRyZW4pICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBpdGVtLmNoaWxkcmVuID0gc2VsZi50cmFuc2Zvcm1Db25sdW1zRGF0YVRvTmVzdChpdGVtLmNoaWxkcmVuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2l0ZW1SZW5kZXInKSkgewogICAgICAgICAgICBpdGVtLnJlbmRlclR5cGUgPSAnaXRlbVJlbmRlcic7CiAgICAgICAgICAgIGl0ZW0ucmVuZGVyTmFtZSA9IGl0ZW0uaXRlbVJlbmRlci5uYW1lOwogICAgICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbihpdGVtLCBzZWxmLmRlZXBDb3B5KGl0ZW0uaXRlbVJlbmRlcikpOwogICAgICAgICAgICBkZWxldGUgaXRlbS5pdGVtUmVuZGVyOwogICAgICAgICAgfQogICAgICAgICAgaWYgKFsnJHNlbGVjdCcsICckdnhlU2VsZWN0JywgJyR2eGVGb3JtUmFkaW8nLCAnJHZ4ZUZvcm1TZWxlY3QnLCAnJHZ4ZVN3aXRjaCcsICckdnhlUmFkaW8nLCAnJHZ4ZVN3aXRjaCcsICckdnhlQ2hlY2tib3gnLCAnJHZ4ZUZvcm1DaGVja2JveCddLmluZGV4T2YoaXRlbS5yZW5kZXJOYW1lKSA+PSAwKSB7CiAgICAgICAgICAgIGl0ZW0ub3B0aW9ucyA9IEFycmF5LmlzQXJyYXkoaXRlbS5vcHRpb25zKSA/IGl0ZW0ub3B0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgKyAnIycgKyBpdGVtLmxhYmVsOwogICAgICAgICAgICB9KS5qb2luKCcrJykgOiBpdGVtLm9wdGlvbnM7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGl0ZW1zOwogICAgfSwKICAgIGdldFRhYmxlQ29uZkJ5TWVudWd1aWQ6IGZ1bmN0aW9uIGdldFRhYmxlQ29uZkJ5TWVudWd1aWQobWVudWd1aWQpIHsKICAgICAgLy8g5qC55o2u6I+c5Y2VbWVudWd1aWTojrflj5blhbbkuIvmiYDmnInooajphY3nva4KICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHNlbGYuJGh0dHAuZ2V0KCdtcC1iLXBlcm0tc2VydmljZS92MS90YWJsZWNvbmYvbWVudWd1aWQnLCB7CiAgICAgICAgICBtZW51Z3VpZDogbWVudWd1aWQsCiAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHNlbGYudXNlckluZm8ucHJvdmluY2UsCiAgICAgICAgICAvLyDljLrliJIKICAgICAgICAgIGZpc2NhbHllYXI6IHNlbGYudXNlckluZm8ueWVhciAvLyDlubTku70KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgewogICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICAgICAgLy8gcmVzb2x2ZShzZWxmLmdlbmVyYXRlQ3VyVGFibGVDb25mRGF0YU1hcChyZXMuZGF0YSkpCiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZW5lcmF0ZUN1clRhYmxlQ29uZkRhdGFNYXA6IGZ1bmN0aW9uIGdlbmVyYXRlQ3VyVGFibGVDb25mRGF0YU1hcChjdXJNZW51Q29uZnMpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIC8vIOeUn+aIkOW9k+WJjW1lbnXkuIvooajmoLzmlbDmja7mmKDlsIQKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcmVzdWx0T2JqID0ge307CiAgICAgIHZhciBjdXJUYWJsZUNvbmZEYXRhc01hcCA9IHt9OwogICAgICB2YXIgY3VyVGFibGVDb25mRGF0YXNNYXBBcnIgPSBbXTsKICAgICAgcmVzdWx0T2JqLmN1clRhYmxlQ29uZkRhdGFzID0gY3VyTWVudUNvbmZzOwogICAgICBjdXJNZW51Q29uZnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICB2YXIgX3NlbGYkanNvblBhcnNlID0gc2VsZi5qc29uUGFyc2UoaXRlbS5jb25maWd1cmUpLAogICAgICAgICAgaXRlbXNDb25maWcgPSBfc2VsZiRqc29uUGFyc2UuaXRlbXNDb25maWcsCiAgICAgICAgICBnbG9iYWxDb25maWcgPSBfc2VsZiRqc29uUGFyc2UuZ2xvYmFsQ29uZmlnLAogICAgICAgICAgZm9ybUNvbmZpZyA9IF9zZWxmJGpzb25QYXJzZS5mb3JtQ29uZmlnOwogICAgICAgIGdsb2JhbENvbmZpZyA9IGdsb2JhbENvbmZpZyB8fCB7fTsKICAgICAgICBpdGVtc0NvbmZpZyA9IGl0ZW1zQ29uZmlnIHx8IFtdOwogICAgICAgIGZvcm1Db25maWcgPSBmb3JtQ29uZmlnIHx8IFtdOwogICAgICAgIHZhciBnbG9iYWxDb25maWdDcCA9IE9iamVjdC5hc3NpZ24oewogICAgICAgICAgdGFibGVuYW1lOiAnJywKICAgICAgICAgIGJ1c2luZXNzVGFibGVOYW1lOiAnJywKICAgICAgICAgIHRhYmxlTm90ZTogJycsCiAgICAgICAgICBtZWFzdXJpbmdVbml0OiAnJywKICAgICAgICAgIHZpZXdPcmRlcjogJycsCiAgICAgICAgICBlZGl0YWJsZUJhdGNoOiAnJywKICAgICAgICAgIHRhYmxlVHlwZTogJycsCiAgICAgICAgICBub3RlOiAnJywKICAgICAgICAgIGF1dG9CdWlsdFRhYmxlczogJycsCiAgICAgICAgICBlZGl0YmxlOiAnJywKICAgICAgICAgIHNob3dDaGVja2JveDogJycsCiAgICAgICAgICBjYW5Vc2U6ICcnLAogICAgICAgICAgYVNpbmdsZVRhYmxlOiAnJywKICAgICAgICAgIGJhdGNoTW9kaWZ5OiAnJywKICAgICAgICAgIHJvd0NvbmZpZzogJycsCiAgICAgICAgICBub1JlY29yZElzQWxsb3dlZFRvUmVwb3J0OiAnJywKICAgICAgICAgIHN1YnRvdGFsUm93czogJycKICAgICAgICB9LCBnbG9iYWxDb25maWcsIHsKICAgICAgICAgIC8vIHRhYmxlbmFtZTogaXRlbS50YWJsZW5hbWUsCiAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsCiAgICAgICAgICB1cGRhdGV0aW1lOiBpdGVtLnVwZGF0ZXRpbWUsCiAgICAgICAgICBtZW51bmFtZTogX3RoaXMyLmN1ckxlZnRUcmVlQ2xpY2tOb2RlLm5hbWUsCiAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgIG1lbnVndWlkOiBpdGVtLm1lbnVndWlkCiAgICAgICAgfSk7CiAgICAgICAgY3VyVGFibGVDb25mRGF0YXNNYXBBcnIucHVzaChnbG9iYWxDb25maWdDcCk7CiAgICAgICAgY3VyVGFibGVDb25mRGF0YXNNYXBbaXRlbS5pZF0gPSB7CiAgICAgICAgICBpdGVtc0NvbmZpZzogc2VsZi50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKSwKICAgICAgICAgIGZvcm1Db25maWc6IHNlbGYudHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoZm9ybUNvbmZpZyksCiAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgIGdsb2JhbENvbmZpZzogZ2xvYmFsQ29uZmlnQ3AsCiAgICAgICAgICBtZW51Z3VpZDogaXRlbS5tZW51Z3VpZCwKICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZQogICAgICAgIH07CiAgICAgIH0pOwogICAgICByZXN1bHRPYmouY3VyVGFibGVDb25mRGF0YXNNYXBBcnIgPSBjdXJUYWJsZUNvbmZEYXRhc01hcEFycjsKICAgICAgcmVzdWx0T2JqLmN1clRhYmxlQ29uZkRhdGFzTWFwID0gY3VyVGFibGVDb25mRGF0YXNNYXA7CiAgICAgIHJldHVybiByZXN1bHRPYmo7CiAgICB9LAogICAgc2V0TGVmdE1lbnVUcmVlOiBmdW5jdGlvbiBzZXRMZWZ0TWVudVRyZWUoKSB7CiAgICAgIC8vIOWKoOi9veW3puS+p+agkQogICAgICB0aGlzLmxlZnRUcmVlRGF0YSA9IFtdLmNvbmNhdCh0aGlzLiRzdG9yZS5zdGF0ZS5zeXN0ZW1NZW51KTsKICAgIH0sCiAgICBvbkxlZnRUcmVlTm9kZUNsaWNrOiBmdW5jdGlvbiBvbkxlZnRUcmVlTm9kZUNsaWNrKG5vZGUsIGxlZnRUcmVlKSB7CiAgICAgIC8vIOW3puS+p+agkeeCueWHu+S6i+S7tgogICAgICBpZiAoIShBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSkgewogICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICB0aGlzLmN1ckxlZnRUcmVlQ2xpY2tOb2RlID0gbm9kZTsKICAgICAgICB0aGlzLmdldFRhYmxlQ29uZkJ5TWVudWd1aWQobm9kZS5ndWlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHNlbGYuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJcdTVGNTNcdTUyNERcdTgzRENcdTUzNTVcdTY1NzBcdTYzNkVcdTY3RTVcdThCRTJcdTYyMTBcdTUyOUYsXHU1MTcxXHU4QkExKCIuY29uY2F0KHJlcy5sZW5ndGgsICJcdTY3NjEpIiksCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgICBzZWxmLmN1clRhYmxlQ29uZkRhdGFzTWFwQXJyID0gcmVzOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVmcmVzaFRhYmxlOiBmdW5jdGlvbiByZWZyZXNoVGFibGUoKSB7CiAgICAgIC8vIOWIt+aWsOihqOagvAogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuZ2V0VGFibGVDb25mQnlNZW51Z3VpZCh0aGlzLmN1ckxlZnRUcmVlQ2xpY2tOb2RlLmd1aWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNlbGYuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+W9k+WJjeiPnOWNleaVsOaNruW3suWIt+aWsCcsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKICAgICAgICBzZWxmLmN1clRhYmxlQ29uZkRhdGFzTWFwQXJyID0gcmVzOwogICAgICAgIHNlbGYuJHJlZnMuYnNUYWJsZVJlZi50YWJsZU9wdGlvbkZuKCkucmVsb2FkRGF0YShzZWxmLmN1clRhYmxlQ29uZkRhdGFzTWFwQXJyKS50aGVuKGZ1bmN0aW9uICgpIHt9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uRWRpdFRhYmxlQ2xpY2s6IGZ1bmN0aW9uIG9uRWRpdFRhYmxlQ2xpY2soKSB7CiAgICAgIC8vIOe8lui+keeCueWHu+S6i+S7tgogICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy4kcmVmcy5ic1RhYmxlUmVmLnNlbGVjdGlvbjsKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICB2YXIgX3RoaXMkanNvblBhcnNlID0gdGhpcy5qc29uUGFyc2Uoc2VsZWN0aW9uWzBdLmNvbmZpZ3VyZSksCiAgICAgICAgICBpdGVtc0NvbmZpZyA9IF90aGlzJGpzb25QYXJzZS5pdGVtc0NvbmZpZywKICAgICAgICAgIGdsb2JhbENvbmZpZyA9IF90aGlzJGpzb25QYXJzZS5nbG9iYWxDb25maWcsCiAgICAgICAgICBmb3JtQ29uZmlnID0gX3RoaXMkanNvblBhcnNlLmZvcm1Db25maWc7CiAgICAgICAgZ2xvYmFsQ29uZmlnID0gZ2xvYmFsQ29uZmlnIHx8IHt9OwogICAgICAgIGl0ZW1zQ29uZmlnID0gaXRlbXNDb25maWcgfHwgW107CiAgICAgICAgZm9ybUNvbmZpZyA9IGZvcm1Db25maWcgfHwgW107CiAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oc2VsZWN0aW9uWzBdLCB7CiAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpLAogICAgICAgICAgZm9ybUNvbmZpZzogdGhpcy50cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShmb3JtQ29uZmlnKQogICAgICAgIH0pOwogICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuIDmnaHmlbDmja7ov5vooYznvJbovpEnLAogICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkVkaXRGb3JtQ2xpY2s6IGZ1bmN0aW9uIG9uRWRpdEZvcm1DbGljaygpIHsKICAgICAgLy8g57yW6L6R54K55Ye75LqL5Lu2CiAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uOwogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHZhciBfdGhpcyRqc29uUGFyc2UyID0gdGhpcy5qc29uUGFyc2Uoc2VsZWN0aW9uWzBdLmNvbmZpZ3VyZSksCiAgICAgICAgICBpdGVtc0NvbmZpZyA9IF90aGlzJGpzb25QYXJzZTIuaXRlbXNDb25maWcsCiAgICAgICAgICBnbG9iYWxDb25maWcgPSBfdGhpcyRqc29uUGFyc2UyLmdsb2JhbENvbmZpZywKICAgICAgICAgIGZvcm1Db25maWcgPSBfdGhpcyRqc29uUGFyc2UyLmZvcm1Db25maWc7CiAgICAgICAgZ2xvYmFsQ29uZmlnID0gZ2xvYmFsQ29uZmlnIHx8IHt9OwogICAgICAgIGl0ZW1zQ29uZmlnID0gaXRlbXNDb25maWcgfHwgW107CiAgICAgICAgZm9ybUNvbmZpZyA9IGZvcm1Db25maWcgfHwgW107CiAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oc2VsZWN0aW9uWzBdLCB7CiAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpLAogICAgICAgICAgZm9ybUNvbmZpZzogdGhpcy50cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZShmb3JtQ29uZmlnKQogICAgICAgIH0pOwogICAgICAgIHRoaXMuZm9ybUNvbmZNb2RhbFZpc2libGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeS4gOadoeaVsOaNrui/m+ihjOe8lui+kScsCiAgICAgICAgICB0eXBlOiAnaW5mbycKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uRWRpdENsaWNrOiBmdW5jdGlvbiBvbkVkaXRDbGljaygpIHsKICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb247CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgdmFyIF90aGlzJGpzb25QYXJzZTMgPSB0aGlzLmpzb25QYXJzZShzZWxlY3Rpb25bMF0uY29uZmlndXJlKSwKICAgICAgICAgIGl0ZW1zQ29uZmlnID0gX3RoaXMkanNvblBhcnNlMy5pdGVtc0NvbmZpZywKICAgICAgICAgIGdsb2JhbENvbmZpZyA9IF90aGlzJGpzb25QYXJzZTMuZ2xvYmFsQ29uZmlnLAogICAgICAgICAgc3ViVGFiQ29uZmlnID0gX3RoaXMkanNvblBhcnNlMy5zdWJUYWJDb25maWcsCiAgICAgICAgICBkZWZhdWx0Q29uZmlnID0gX3RoaXMkanNvblBhcnNlMy5kZWZhdWx0Q29uZmlnOwogICAgICAgIGdsb2JhbENvbmZpZyA9IGdsb2JhbENvbmZpZyB8fCB7fTsKICAgICAgICBpdGVtc0NvbmZpZyA9IGl0ZW1zQ29uZmlnIHx8IFtdOwogICAgICAgIHN1YlRhYkNvbmZpZyA9IHN1YlRhYkNvbmZpZyB8fCB7CiAgICAgICAgICBidXR0b25zOiBbXSwKICAgICAgICAgIGJ1dHRvbnNJbmZvOiB7fQogICAgICAgIH07CiAgICAgICAgZGVmYXVsdENvbmZpZyA9IGRlZmF1bHRDb25maWcgfHwgW107CiAgICAgICAgaWYgKHNlbGVjdGlvblswXS50eXBlID09PSAnZm9ybScgfHwgc2VsZWN0aW9uWzBdLnR5cGUgPT09ICdmb3JtQ29uZicgfHwgc2VsZWN0aW9uWzBdLnR5cGUgPT09ICdkZXRhaWwnIHx8IHNlbGVjdGlvblswXS50eXBlID09PSAnZGV0YWlsQ29uZicpIHsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KGl0ZW1zQ29uZmlnKSwKICAgICAgICAgICAgaXRlbXNDb25maWc6IHRoaXMudHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZm9ybUNvbmZNb2RhbFZpc2libGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uWzBdLnR5cGUgPT09ICd0YWJQYW5lQ29uZicpIHsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KHN1YlRhYkNvbmZpZyksCiAgICAgICAgICAgIHN1YlRhYkNvbmZpZzogc3ViVGFiQ29uZmlnCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuU3ViVGFiQ29uZmlnVmlzaWJsZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb25bMF0udHlwZSA9PT0gJ2VudGVyaW5nRGVmYXVsdCcpIHsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KGRlZmF1bHRDb25maWcpLAogICAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGRlZmF1bHRDb25maWcpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZW50ZXJpbmdEZWZhdWx0VmlzaWJsZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZywKICAgICAgICAgICAgaXRlbXNDb25maWdOZXN0OiB0aGlzLmRlZXBDb3B5KGl0ZW1zQ29uZmlnKSwKICAgICAgICAgICAgaXRlbXNDb25maWc6IHRoaXMudHJhbnNmb3JtQ29ubHVtc0RhdGFUb1NpbmdsZShpdGVtc0NvbmZpZykKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy50YWJsZUNvbmZNb2RhbFZpc2libGUgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuIDmnaHmlbDmja7ov5vooYznvJbovpEnLAogICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkFkZENsaWNrOiBmdW5jdGlvbiBvbkFkZENsaWNrKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5pbnNlcnRSb3dEYXRhKHsKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBtZW51Z3VpZDogc2VsZi5jdXJMZWZ0VHJlZUNsaWNrTm9kZS5ndWlkLAogICAgICAgICAgdHlwZTogJ3RhYmxlJywKICAgICAgICAgIG9wdGlvblR5cGU6ICdhZGQnLAogICAgICAgICAgaWQ6IHNlbGYuJFRvb2xGbi51dGlsRm4uZ2V0VXVpZCgpLAogICAgICAgICAgbWVudW5hbWU6IHNlbGYuY3VyTGVmdFRyZWVDbGlja05vZGUubmFtZSwKICAgICAgICAgIG1vZl9kaXZfY29kZTogc2VsZi51c2VySW5mby5wcm92aW5jZSwKICAgICAgICAgIHRhYmxlbmFtZTogJycsCiAgICAgICAgICBmaXNjYWx5ZWFyOiBzZWxmLnVzZXJJbmZvLnllYXIsCiAgICAgICAgICBjb25maWd1cmU6IHNlbGYuanNvblN0cmluZ2lmeSh7CiAgICAgICAgICAgIGdsb2JhbENvbmZpZzoge30sCiAgICAgICAgICAgIC8vIOWFqOWxgOmFjee9rgogICAgICAgICAgICBpdGVtc0NvbmZpZzogW10sCiAgICAgICAgICAgIC8vIOmhuemFjee9rgogICAgICAgICAgICBwYWdlQ29uZmlnOiB7fSwKICAgICAgICAgICAgLy8g5YiG6aG16YWN572uCiAgICAgICAgICAgIGVkaXRDb25maWc6IHt9LAogICAgICAgICAgICAvLyDnvJbovpHphY3nva4KICAgICAgICAgICAgZWRpdFJ1bGVzOiB7fSwKICAgICAgICAgICAgLy8g5qCh6aqM6KeE5YiZCiAgICAgICAgICAgIGZvb3RlckNvbmZpZzoge30sCiAgICAgICAgICAgIC8vIOihqOWwvumFjee9rgogICAgICAgICAgICBkYXRhQ29uZmlnOiB7CiAgICAgICAgICAgICAgZGF0YVNvdWNlVHlwZTogJ3F1ZXJ5JwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWJUYWJDb25maWc6IFtdLAogICAgICAgICAgICBkZWZhdWx0Q29uZmlnOiBbXSAvLyDlvZXlhaXpu5jorqTlgLwKICAgICAgICAgIH0pCiAgICAgICAgICAvLyBtZW51Z3VpZDogJzEyMzQ1NicKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uRGVsZXRlQ2xpY2s6IGZ1bmN0aW9uIG9uRGVsZXRlQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gaXRlbS5pZDsKICAgICAgfSk7CiAgICAgIHZhciBtZW51Z3VpZCA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb25bMF0ubWVudWd1aWQ7CiAgICAgIHRoaXMubWVudWd1aWRzWzBdID0gbWVudWd1aWQ7CiAgICAgIGlmIChpZHMubGVuZ3RoKSB7CiAgICAgICAgc2VsZi4kY29uZmlybSgn56Gu5a6a5Yig6Zmk77yfJywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZWxmLiRodHRwLmRlbCgnbXAtYi1wZXJtLXNlcnZpY2UvdjEvdGFibGVjb25mJywgewogICAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHNlbGYudXNlckluZm8ucHJvdmluY2UsCiAgICAgICAgICAgIC8vIOWMuuWIkgogICAgICAgICAgICBmaXNjYWx5ZWFyOiBzZWxmLnVzZXJJbmZvLnllYXIsCiAgICAgICAgICAgIC8vIOW5tOS7vXMKICAgICAgICAgICAgaWRzOiBpZHMsCiAgICAgICAgICAgIG1lbnVndWlkczogX3RoaXMzLm1lbnVndWlkcwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMucnNjb2RlID09PSAnMTAwMDAwJykgewogICAgICAgICAgICAgIHNlbGYuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgbWVzc2FnZTogIlx1OTAwOVx1NEUyRFx1NzY4NCIuY29uY2F0KGlkcy5sZW5ndGgsICJcdTY3NjFcdTY1NzBcdTYzNkVcdTVERjJcdTUyMjBcdTk2NjQiKSwKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHNlbGYucmVmcmVzaFRhYmxlKCk7CiAgICAgICAgICAgICAgLy8gcmVzb2x2ZShzZWxmLmdlbmVyYXRlQ3VyVGFibGVDb25mRGF0YU1hcChyZXMuZGF0YSkpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgc2VsZi4kbWVzc2FnZS5zdWNjZXNzKCflj5bmtojliKDpmaTmiJDlip8nKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uVGFibGVDZWxsQ2xpY2s6IGZ1bmN0aW9uIG9uVGFibGVDZWxsQ2xpY2soX3JlZjIpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYyLnJvdywKICAgICAgICByb3dJbmRleCA9IF9yZWYyLnJvd0luZGV4LAogICAgICAgICRyb3dJbmRleCA9IF9yZWYyLiRyb3dJbmRleCwKICAgICAgICBjb2x1bW4gPSBfcmVmMi5jb2x1bW4sCiAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmMi5jb2x1bW5JbmRleCwKICAgICAgICAkY29sdW1uSW5kZXggPSBfcmVmMi4kY29sdW1uSW5kZXgsCiAgICAgICAgdHJpZ2dlclJhZGlvID0gX3JlZjIudHJpZ2dlclJhZGlvLAogICAgICAgIHRyaWdnZXJDaGVja2JveCA9IF9yZWYyLnRyaWdnZXJDaGVja2JveCwKICAgICAgICB0cmlnZ2VyVHJlZU5vZGUgPSBfcmVmMi50cmlnZ2VyVHJlZU5vZGUsCiAgICAgICAgdHJpZ2dlckV4cGFuZE5vZGUgPSBfcmVmMi50cmlnZ2VyRXhwYW5kTm9kZSwKICAgICAgICAkZXZlbnQgPSBfcmVmMi4kZXZlbnQ7CiAgICB9IC8vIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSB0aGlzLmN1clRhYmxlQ29uZkRhdGFzTWFwW3Jvdy5pZF0KICAgIC8vIHRoaXMuVGFibGVDb25mTW9kYWxWaXNpYmxlID0gdHJ1ZQogICAgLAogICAgLy8g5Yy65YiS6buY6K6k5YC8CiAgICBnZXRQcm92aW5jZTogZnVuY3Rpb24gZ2V0UHJvdmluY2UoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgb2JqID0gewogICAgICAgIHZhbHVlOiB0aGlzLnVzZXJJbmZvLnByb3ZpbmNlLAogICAgICAgIGxhYmVsOiB0aGlzLnVzZXJJbmZvLmFkbWRpdm5hbWUKICAgICAgfTsKICAgICAgdmFyIGZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy50YWJsZUNvbHVtbnNDb25maWdbMF0uZWRpdFJlbmRlci5vcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gX3RoaXM0LnVzZXJJbmZvLnByb3ZpbmNlKSB7CiAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoIWZsYWcpIHsKICAgICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZ1swXS5lZGl0UmVuZGVyLm9wdGlvbnMucHVzaChvYmopOwogICAgICB9CiAgICAgIHRoaXMudGFibGVDb2x1bW5zQ29uZmlnWzBdLmVkaXRSZW5kZXIuZGVmYXVsdFZhbHVlID0gdGhpcy51c2VySW5mby5wcm92aW5jZTsKICAgIH0sCiAgICAvLyDnvJbovpHnmoTml7blgJnlvZXlhaXpu5jorqTlgLzmnInkuKrpu5jorqRpZAogICAgZWRpdENsb3NlZDogZnVuY3Rpb24gZWRpdENsb3NlZChfcmVmMykgewogICAgICB2YXIgcm93ID0gX3JlZjMucm93LAogICAgICAgIGNvbHVtbiA9IF9yZWYzLmNvbHVtbjsKICAgICAgLy8gZW50ZXJpbmdEZWZhdWx0RmxhZ+agh+ivhu+8jOW9k+aUuei/h+S4uuW9leWFpem7mOiupOWAvOWQju+8jOWGjeabtOaUueaJjeW9seWTjWlk5Y+Y5YyWCiAgICAgIGlmIChyb3cudHlwZSA9PT0gJ2VudGVyaW5nRGVmYXVsdCcpIHsKICAgICAgICByb3cuaWQgPSAnRDlBMEI1OEU1QzIyNDJGMzg2MEU2RDgxNTFDMjExQjInOwogICAgICAgIHJvdy5pZF9fdmlld1NvcnQgPSAnRDlBMEI1OEU1QzIyNDJGMzg2MEU2RDgxNTFDMjExQjInOwogICAgICAgIHRoaXMuZW50ZXJpbmdEZWZhdWx0RmxhZyA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAocm93LnR5cGUgIT09ICdlbnRlcmluZ0RlZmF1bHQnICYmIHRoaXMuZW50ZXJpbmdEZWZhdWx0RmxhZyA9PT0gdHJ1ZSkgewogICAgICAgIHJvdy5pZCA9IHRoaXMuJFRvb2xGbi51dGlsRm4uZ2V0VXVpZCgpOwogICAgICAgIHJvdy5pZF9fdmlld1NvcnQgPSByb3cuaWQ7CiAgICAgICAgdGhpcy5lbnRlcmluZ0RlZmF1bHRGbGFnID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldExlZnRNZW51VHJlZSgpOwogICAgaWYgKHRoaXMuJGdsb2FibGVUb29sRm4uY3VycmVudFByb3ZpbmNlID09PSB0aGlzLiRnbG9hYmxlVG9vbEZuLkZ1SmlhbikgewogICAgICB0aGlzLmdldFByb3ZpbmNlKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdGFibGVDb25mTW9kYWxWaXNpYmxlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3dmFsKSB7CiAgICAgICAgLy8gaWYgKCFuZXd2YWwpIHsKICAgICAgICAvLyAgIHRoaXMucmVmcmVzaFRhYmxlKCkKICAgICAgICAvLyB9CiAgICAgIH0sCiAgICAgIC8vIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIGZvcm1Db25mTW9kYWxWaXNpYmxlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3dmFsKSB7CiAgICAgICAgLy8gaWYgKCFuZXd2YWwpIHsKICAgICAgICAvLyAgIHRoaXMucmVmcmVzaFRhYmxlKCkKICAgICAgICAvLyB9CiAgICAgIH0sCiAgICAgIC8vIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"names":["TableConfModal","FormConfModal","EnteringDefault","getFormConfData","SubTabConfigModal","name","components","props","allPropData","type","Object","default","_default","data","menuguids","curConfType","leftVisible","leftTreeData","curSplitPaneLeftWidth","isShowQueryConditions","serverUri","treeQueryparams","menuguid","useRight","batchno","datatype","eleCode","sxspecroleguid","treeleftTreeConfig","inputVal","treeConfig","curRadio","radioGroup","code","label","leftTreeConfig","pagerConfig","currentPage","total","curTableConfDatas","curTableConfDatasMapArr","curTableConfDatasMap","globleConfigCp","tableName","businessTableName","tableNote","measuringUnit","viewOrder","editableBatch","tableType","note","autoBuiltTables","editble","showCheckbox","canUse","aSingleTable","batchModify","rowConfig","noRecordIsAllowedToReport","subtotalRows","toolbarConfig","_objectSpread","disabledMoneyConversion","tableConfig","tableColumnsConfig","tableConfModalVisible","formConfModalVisible","enteringDefaultVisible","curLeftTreeClickNode","enteringDefaultFlag","SubTabConfigVisible","computed","curNavModule","$store","state","userInfo","methods","deepCopy","obj","me","_typeof","newObj","Array","key","hasOwnProperty","jsonStringify","columns","JSON","stringify","val","jsonParse","str","parse","k","v","indexOf","func","Function","e","changeInput","confrimData","curTree","tabStatusNumConfig","onSplitPaneResize","leftWidth","ajaxData","_ref","pageSize","queryParams","assign","getTableDatas","_this","showLoading","self","$http","post","then","res","tableData","list","transformConlumsDataToNest","forEach","column","columnIndex","isArray","children","length","renderType","renderName","options","params","split","map","item","index","value","defaultValue","_XID","transformConlumsDataToSingle","editRender","cellRender","itemRender","join","transformItemsDataToSingle","items","itemIndex","getTableConfByMenuguid","Promise","resolve","reject","get","mof_div_code","province","fiscalyear","year","rscode","catch","error","generateCurTableConfDataMap","curMenuConfs","_this2","resultObj","_self$jsonParse","configure","itemsConfig","globalConfig","formConfig","globalConfigCp","tablename","updatetime","menuname","id","push","setLeftMenuTree","concat","systemMenu","onLeftTreeNodeClick","node","leftTree","guid","$message","showClose","message","refreshTable","$refs","bsTableRef","tableOptionFn","reloadData","onEditTableClick","selection","_this$jsonParse","tableConfModalParams","onEditFormClick","_this$jsonParse2","onEditClick","_this$jsonParse3","subTabConfig","defaultConfig","buttons","buttonsInfo","itemsConfigNest","onAddClick","insertRowData","optionType","$ToolFn","utilFn","getUuid","pageConfig","editConfig","editRules","footerConfig","dataConfig","dataSouceType","onDeleteClick","_this3","ids","$confirm","confirmButtonText","cancelButtonText","del","console","log","success","onTableCellClick","_ref2","row","rowIndex","$rowIndex","$columnIndex","triggerRadio","triggerCheckbox","triggerTreeNode","triggerExpandNode","$event","getProvince","_this4","admdivname","flag","editClosed","_ref3","id__viewSort","mounted","$gloableToolFn","currentProvince","FuJian","watch","handler","newval","immediate"],"sources":["src/views/main/dynamicTableSetting/dynamicTableSetting.vue"],"sourcesContent":["<!--  表格信息配置   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div class=\"height-all\">\r\n    <BsMainFormListLayout :left-visible.sync=\"leftVisible\">\r\n      <template v-slot:topTap>\r\n        <!-- <JsonEditor />  -->\r\n      </template>\r\n      <template v-slot:topTabPane> </template>\r\n      <template v-slot:query> </template>\r\n      <!-- leftVisible不为undefined为渲染mainTree和mainForm插槽 ，否则渲染mainCon插槽-->\r\n      <template v-slot:mainTree>\r\n        <div class=\"height-all left-tree-pane\">\r\n          <div class=\"mmc-left-tree-title\">\r\n            <BsTreeSet\r\n              :tree-config=\"treeConfig\"\r\n              @onAsideChange=\"leftVisible = false\"\r\n              @onChangeInput=\"changeInput\"\r\n              @onConfrimData=\"confrimData\"\r\n            />\r\n            <!-- <div class=\"mmc-title\">\r\n              <span class=\"fn-inline\">菜单树</span>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"mmc-left-tree-body\" style=\"height: calc(100% - 48px)\">\r\n            <BsBossTree\r\n              ref=\"testTree\"\r\n              is-need-root\r\n              :tree-props=\"{\r\n                label: 'name',\r\n                children: 'children',\r\n              }\"\r\n              open-loading\r\n              :is-server=\"false\"\r\n              :datas=\"leftTreeData\"\r\n              :server-uri=\"serverUri\"\r\n              :global-config=\"leftTreeConfig\"\r\n              :queryparams=\"treeQueryparams\"\r\n              :clickmethod=\"onLeftTreeNodeClick\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template v-slot:mainForm>\r\n        <BsTable\r\n          ref=\"bsTableRef\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"tableColumnsConfig\"\r\n          :table-data=\"curTableConfDatasMapArr\"\r\n          :toolbar-config=\"toolbarConfig\"\r\n          :pager-config=\"false\"\r\n          :edit-config=\"{}\"\r\n          @ajaxData=\"ajaxData\"\r\n          @editClosed=\"editClosed\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left\">\r\n              <div\r\n                v-if=\"leftVisible === false\"\r\n                class=\"table-toolbar-contro-leftvisible\"\r\n                @click=\"leftVisible = true\"\r\n              ></div>\r\n              <div class=\"table-toolbar-left-title\">\r\n                <span class=\"fn-inline\">{{\r\n                  (curLeftTreeClickNode.name ? curLeftTreeClickNode.name : '') + '菜单表配置'\r\n                }}</span>\r\n                <i class=\"fn-inline\"></i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <template v-slot:toolbar-custom-slot>\r\n            <div class=\"toolbar-slot-custom-slot fn-inline\">\r\n              <!-- <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表单项配置\"\r\n                @click=\"onEditFormClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表格列配置\"\r\n                @click=\"onEditTableClick\"\r\n              /> -->\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"新增\"\r\n                @click=\"onAddClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"删除\"\r\n                @click=\"onDeleteClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑\"\r\n                @click=\"onEditClick\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </BsTable>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <div>\r\n      <TableConfModal\r\n        v-if=\"tableConfModalVisible\"\r\n        :dialog-visible.sync=\"tableConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <FormConfModal\r\n        v-if=\"formConfModalVisible\"\r\n        :dialog-visible.sync=\"formConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <EnteringDefault\r\n        v-if=\"enteringDefaultVisible\"\r\n        :dialog-visible.sync=\"enteringDefaultVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <SubTabConfigModal\r\n        v-if=\"SubTabConfigVisible\"\r\n        :dialog-visible.sync=\"SubTabConfigVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TableConfModal from './tableConfModal.vue'\r\nimport FormConfModal from './FormConfModal.vue'\r\nimport EnteringDefault from './enteringDefault.vue'\r\nimport getFormConfData from './formConf.js'\r\nimport SubTabConfigModal from './SubTabConfigModal.vue'\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    TableConfModal,\r\n    FormConfModal,\r\n    EnteringDefault,\r\n    SubTabConfigModal\r\n  },\r\n  props: {\r\n    allPropData: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      menuguids: [],\r\n      curConfType: 'table',\r\n      leftVisible: true,\r\n      leftTreeData: [],\r\n      curSplitPaneLeftWidth: 20,\r\n      isShowQueryConditions: false,\r\n      serverUri: 'mp-b-perm-service/v1/tableconf/menuguid',\r\n      treeQueryparams: {\r\n        menuguid: 'test_123456',\r\n        useRight: false,\r\n        batchno: 2,\r\n        datatype: 5,\r\n        eleCode: 'DEPBGTECO',\r\n        sxspecroleguid: '637B6D5A823F459AB313CBF94C87765B'\r\n      },\r\n      treeleftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      treeConfig: {\r\n        curRadio: 'zf',\r\n        radioGroup: [\r\n          {\r\n            code: 'zf',\r\n            label: '政府部门树'\r\n          },\r\n          {\r\n            code: 'xuexiao',\r\n            label: '学校树'\r\n          },\r\n          {\r\n            code: 'jigou',\r\n            label: '机构树'\r\n          }\r\n        ]\r\n      },\r\n      leftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      pagerConfig: {\r\n        currentPage: 1,\r\n        total: 100\r\n      },\r\n      curTableConfDatas: [],\r\n      currentPage: 1,\r\n      curTableConfDatasMapArr: [\r\n        // {\r\n        //   tableName: '1',\r\n        //   businessTableName: '1',\r\n        //   tableNote: '1',\r\n        //   measuringUnit: 1,\r\n        //   viewOrder: '001',\r\n        //   editableBatch: '001',\r\n        //   tableType: '001',\r\n        //   note: '1',\r\n        //   autoBuiltTables: false,\r\n        //   editble: true,\r\n        //   showCheckbox: true,\r\n        //   canUse: true,\r\n        //   aSingleTable: false,\r\n        //   batchModify: false,\r\n        //   rowConfig: false,\r\n        //   noRecordIsAllowedToReport: true,\r\n        //   subtotalRows: true\r\n        // }\r\n      ],\r\n      curTableConfDatasMap: {},\r\n      globleConfigCp: {\r\n        tableName: '',\r\n        businessTableName: '',\r\n        tableNote: '',\r\n        measuringUnit: '',\r\n        viewOrder: '',\r\n        editableBatch: '',\r\n        tableType: '',\r\n        note: '',\r\n        autoBuiltTables: false,\r\n        editble: true,\r\n        showCheckbox: true,\r\n        canUse: true,\r\n        aSingleTable: false,\r\n        batchModify: false,\r\n        rowConfig: false,\r\n        noRecordIsAllowedToReport: true,\r\n        subtotalRows: true\r\n      },\r\n      toolbarConfig: {\r\n        disabledMoneyConversion: false,\r\n        ...getFormConfData('tableInforConf', 'toolbarConfig')\r\n      },\r\n      tableConfig: getFormConfData('tableInforConf', 'tableConfig'),\r\n      tableColumnsConfig: getFormConfData(\r\n        'tableInforConf',\r\n        'tableColumnsConfig'\r\n      ),\r\n      tableConfModalVisible: false,\r\n      formConfModalVisible: false,\r\n      enteringDefaultVisible: false,\r\n      curLeftTreeClickNode: {},\r\n      enteringDefaultFlag: false,\r\n      SubTabConfigVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.userInfo\r\n    }\r\n  },\r\n  methods: {\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    jsonStringify(columns) {\r\n      // 对象转换成json字符串\r\n      return JSON.stringify(columns, function (key, val) {\r\n        if (typeof val === 'function') {\r\n          return val + ''\r\n        }\r\n        return val\r\n      })\r\n    },\r\n    jsonParse(str) {\r\n      // json字符串转换成对象\r\n      return JSON.parse(str, function (k, v) {\r\n        try {\r\n          if (\r\n            v.indexOf &&\r\n            (v.indexOf('function') > -1 || v.indexOf('=>') > -1)\r\n          ) {\r\n            // return eval('(function(){return ' + v + ' })()')\r\n            // eslint-disable-next-line no-new-func\r\n            let func = new Function('return ' + v)\r\n            return func()\r\n          }\r\n          return v\r\n        } catch (e) {\r\n          return v\r\n        }\r\n      })\r\n    },\r\n    changeInput(val) {\r\n      this.treeleftTreeConfig.inputVal = val\r\n    },\r\n    confrimData(curTree) {\r\n      this.confrimData.curRadio = curTree.code\r\n      switch (curTree.code) {\r\n        case 'zf':\r\n          break\r\n        case 'xuexiao':\r\n          this.tabStatusNumConfig['ycl'] = 12\r\n          break\r\n        case 'jigou':\r\n          break\r\n      }\r\n    },\r\n    onSplitPaneResize(leftWidth) {\r\n      if (leftWidth > 1) {\r\n        this.curSplitPaneLeftWidth = leftWidth\r\n        this.leftVisible = true\r\n      } else {\r\n        this.leftVisible = false\r\n      }\r\n    },\r\n    ajaxData({ currentPage, pageSize }) {\r\n      this.pagerConfig.currentPage = currentPage\r\n      this.queryParams = Object.assign(this.queryParams, {\r\n        currentPage,\r\n        pageSize\r\n      })\r\n      this.getTableDatas(currentPage, pageSize)\r\n    },\r\n    getTableDatas(currentPage, pageSize) {\r\n      // 服务端查询数据\r\n      this.showLoading = true\r\n      let self = this\r\n      this.$http.post('url', this.queryParams).then((res) => {\r\n        if (res.code === 200) {\r\n          self.tableData = res.data.list\r\n          self.pagerConfig = {\r\n            total: res.data.total,\r\n            currentPage: currentPage\r\n          }\r\n          this.showLoading = false\r\n        }\r\n      })\r\n    },\r\n    transformConlumsDataToNest(columns) {\r\n      // columns转化为vxe-table columns数据结构\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          column[column.renderType] = {\r\n            name: column.renderName, // 渲染器名,\r\n            options: ((params) => {\r\n              if (typeof params === 'object') {\r\n                return self.deepCopy(params)\r\n              } else if (typeof params === 'string') {\r\n                return params\r\n                  ? params.split('+').map((item, index) => {\r\n                    return {\r\n                      value: item.split('#')[0],\r\n                      label: item.split('#')[1]\r\n                    }\r\n                  })\r\n                  : []\r\n              } else {\r\n                return params\r\n              }\r\n            })(column.options), // 下拉数据源\r\n            defaultValue: column.defaultValue, // 默认值\r\n            props: column.props // 额外参数\r\n          }\r\n          delete column._XID\r\n          delete column.renderType\r\n          delete column.renderName\r\n          delete column.options\r\n          delete column.props\r\n          delete column.defaultValue\r\n          delete self.deepCopy(column.props)\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformConlumsDataToSingle(columns) {\r\n      // vxe-table columns数据结构转化为单层columns\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          if (column.hasOwnProperty('editRender')) {\r\n            column.renderType = 'editRender'\r\n            column.renderName = column.editRender.name\r\n            column = Object.assign(column, self.deepCopy(column.editRender))\r\n            delete column.editRender\r\n          } else if (column.hasOwnProperty('cellRender')) {\r\n            column.renderType = 'cellRender'\r\n            column.renderName = column.cellRender.name\r\n            column = Object.assign(column, self.deepCopy(column.cellRender))\r\n          } else if (column.hasOwnProperty('itemRender')) {\r\n            column.renderType = 'itemRender'\r\n            column.renderName = column.itemRender.name\r\n            column = Object.assign(column, self.deepCopy(column.itemRender))\r\n          } else {\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox'].indexOf(column.renderName) >= 0) {\r\n            column.options = column.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+')\r\n          }\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformItemsDataToSingle(items) {\r\n      // vxe-table items数据结构转化为单层items\r\n      let self = this\r\n      items.forEach((item, itemIndex) => {\r\n        if (Array.isArray(item.children) && item.children.length) {\r\n          item.children = self.transformConlumsDataToNest(item.children)\r\n        } else {\r\n          if (item.hasOwnProperty('itemRender')) {\r\n            item.renderType = 'itemRender'\r\n            item.renderName = item.itemRender.name\r\n            item = Object.assign(item, self.deepCopy(item.itemRender))\r\n            delete item.itemRender\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormRadio', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox', '$vxeFormCheckbox'].indexOf(item.renderName) >= 0) {\r\n            item.options = Array.isArray(item.options) ? item.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+') : item.options\r\n          }\r\n        }\r\n      })\r\n      return items\r\n    },\r\n    getTableConfByMenuguid(menuguid) {\r\n      // 根据菜单menuguid获取其下所有表配置\r\n      let self = this\r\n      return new Promise((resolve, reject) => {\r\n        self.$http\r\n          .get('mp-b-perm-service/v1/tableconf/menuguid', {\r\n            menuguid: menuguid,\r\n            mof_div_code: self.userInfo.province, // 区划\r\n            fiscalyear: self.userInfo.year // 年份\r\n          })\r\n          .then((res) => {\r\n            if (res.rscode === '100000') {\r\n              resolve(res.data)\r\n              // resolve(self.generateCurTableConfDataMap(res.data))\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            reject(error)\r\n          })\r\n      })\r\n    },\r\n    generateCurTableConfDataMap(curMenuConfs) {\r\n      // 生成当前menu下表格数据映射\r\n      let self = this\r\n      let resultObj = {}\r\n      let curTableConfDatasMap = {}\r\n      let curTableConfDatasMapArr = []\r\n      resultObj.curTableConfDatas = curMenuConfs\r\n      curMenuConfs.forEach((item, index) => {\r\n        let { itemsConfig, globalConfig, formConfig } = self.jsonParse(\r\n          item.configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        let globalConfigCp = Object.assign(\r\n          {\r\n            tablename: '',\r\n            businessTableName: '',\r\n            tableNote: '',\r\n            measuringUnit: '',\r\n            viewOrder: '',\r\n            editableBatch: '',\r\n            tableType: '',\r\n            note: '',\r\n            autoBuiltTables: '',\r\n            editble: '',\r\n            showCheckbox: '',\r\n            canUse: '',\r\n            aSingleTable: '',\r\n            batchModify: '',\r\n            rowConfig: '',\r\n            noRecordIsAllowedToReport: '',\r\n            subtotalRows: ''\r\n          },\r\n          globalConfig,\r\n          {\r\n            // tablename: item.tablename,\r\n            type: item.type,\r\n            updatetime: item.updatetime,\r\n            menuname: this.curLeftTreeClickNode.name,\r\n            id: item.id,\r\n            menuguid: item.menuguid\r\n          }\r\n        )\r\n        curTableConfDatasMapArr.push(globalConfigCp)\r\n        curTableConfDatasMap[item.id] = {\r\n          itemsConfig: self.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: self.transformItemsDataToSingle(formConfig),\r\n          id: item.id,\r\n          globalConfig: globalConfigCp,\r\n          menuguid: item.menuguid,\r\n          type: item.type\r\n        }\r\n      })\r\n      resultObj.curTableConfDatasMapArr = curTableConfDatasMapArr\r\n      resultObj.curTableConfDatasMap = curTableConfDatasMap\r\n      return resultObj\r\n    },\r\n    setLeftMenuTree() {\r\n      // 加载左侧树\r\n      this.leftTreeData = [].concat(this.$store.state.systemMenu)\r\n    },\r\n    onLeftTreeNodeClick(node, leftTree) {\r\n      // 左侧树点击事件\r\n      if (!(Array.isArray(node.children) && node.children.length)) {\r\n        let self = this\r\n        this.curLeftTreeClickNode = node\r\n        this.getTableConfByMenuguid(node.guid).then((res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: `当前菜单数据查询成功,共计(${res.length}条)`,\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n        })\r\n      }\r\n    },\r\n    refreshTable() {\r\n      // 刷新表格\r\n      let self = this\r\n      this.getTableConfByMenuguid(this.curLeftTreeClickNode.guid).then(\r\n        (res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: '当前菜单数据已刷新',\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n          self.$refs.bsTableRef\r\n            .tableOptionFn()\r\n            .reloadData(self.curTableConfDatasMapArr).then(() => {}).catch(() => {\r\n            })\r\n        }\r\n      )\r\n    },\r\n    onEditTableClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.tableConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditFormClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.formConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditClick() {\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, subTabConfig, defaultConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        subTabConfig = subTabConfig || {\r\n          buttons: [],\r\n          buttonsInfo: {}\r\n        }\r\n        defaultConfig = defaultConfig || []\r\n        if (selection[0].type === 'form' || selection[0].type === 'formConf' || selection[0].type === 'detail' || selection[0].type === 'detailConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformItemsDataToSingle(itemsConfig)\r\n          })\r\n          this.formConfModalVisible = true\r\n        } else if (selection[0].type === 'tabPaneConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(subTabConfig),\r\n            subTabConfig: subTabConfig\r\n          })\r\n          this.SubTabConfigVisible = true\r\n        } else if (selection[0].type === 'enteringDefault') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(defaultConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(defaultConfig)\r\n          })\r\n          this.enteringDefaultVisible = true\r\n        } else {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(itemsConfig)\r\n          })\r\n          this.tableConfModalVisible = true\r\n        }\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onAddClick() {\r\n      let self = this\r\n      this.$refs.bsTableRef.insertRowData({\r\n        data: {\r\n          menuguid: self.curLeftTreeClickNode.guid,\r\n          type: 'table',\r\n          optionType: 'add',\r\n          id: self.$ToolFn.utilFn.getUuid(),\r\n          menuname: self.curLeftTreeClickNode.name,\r\n          mof_div_code: self.userInfo.province,\r\n          tablename: '',\r\n          fiscalyear: self.userInfo.year,\r\n          configure: self.jsonStringify({\r\n            globalConfig: {}, // 全局配置\r\n            itemsConfig: [], // 项配置\r\n            pageConfig: {}, // 分页配置\r\n            editConfig: {}, // 编辑配置\r\n            editRules: {}, // 校验规则\r\n            footerConfig: {}, // 表尾配置\r\n            dataConfig: {\r\n              dataSouceType: 'query'\r\n            },\r\n            subTabConfig: [],\r\n            defaultConfig: [] // 录入默认值\r\n          })\r\n        // menuguid: '123456'\r\n        }\r\n      })\r\n    },\r\n    onDeleteClick() {\r\n      let self = this\r\n      let ids = this.$refs.bsTableRef.selection.map((item, index) => {\r\n        return item.id\r\n      })\r\n      let menuguid = this.$refs.bsTableRef.selection[0].menuguid\r\n      this.menuguids[0] = menuguid\r\n      if (ids.length) {\r\n        self.$confirm('确定删除？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          self.$http\r\n            .del('mp-b-perm-service/v1/tableconf', {\r\n              mof_div_code: self.userInfo.province, // 区划\r\n              fiscalyear: self.userInfo.year, // 年份s\r\n              ids: ids,\r\n              menuguids: this.menuguids\r\n            })\r\n            .then((res) => {\r\n              if (res.rscode === '100000') {\r\n                self.$message({\r\n                  showClose: true,\r\n                  message: `选中的${ids.length}条数据已删除`,\r\n                  type: 'success'\r\n                })\r\n                self.refreshTable()\r\n                // resolve(self.generateCurTableConfDataMap(res.data))\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.log('error', error)\r\n            })\r\n        }).catch(e => {\r\n          self.$message.success('取消删除成功')\r\n        })\r\n      }\r\n    },\r\n    onTableCellClick({\r\n      row,\r\n      rowIndex,\r\n      $rowIndex,\r\n      column,\r\n      columnIndex,\r\n      $columnIndex,\r\n      triggerRadio,\r\n      triggerCheckbox,\r\n      triggerTreeNode,\r\n      triggerExpandNode,\r\n      $event\r\n    }) {\r\n      // this.tableConfModalParams = this.curTableConfDatasMap[row.id]\r\n      // this.TableConfModalVisible = true\r\n    },\r\n    // 区划默认值\r\n    getProvince() {\r\n      let obj = {\r\n        value: this.userInfo.province,\r\n        label: this.userInfo.admdivname\r\n      }\r\n      let flag = false\r\n      this.tableColumnsConfig[0].editRender.options.forEach(item => {\r\n        if (item.value === this.userInfo.province) {\r\n          flag = true\r\n        }\r\n      })\r\n      if (!flag) {\r\n        this.tableColumnsConfig[0].editRender.options.push(obj)\r\n      }\r\n      this.tableColumnsConfig[0].editRender.defaultValue = this.userInfo.province\r\n    },\r\n    // 编辑的时候录入默认值有个默认id\r\n    editClosed({ row, column }) {\r\n      // enteringDefaultFlag标识，当改过为录入默认值后，再更改才影响id变化\r\n      if (row.type === 'enteringDefault') {\r\n        row.id = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        row.id__viewSort = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        this.enteringDefaultFlag = true\r\n      } else if (row.type !== 'enteringDefault' && this.enteringDefaultFlag === true) {\r\n        row.id = this.$ToolFn.utilFn.getUuid()\r\n        row.id__viewSort = row.id\r\n        this.enteringDefaultFlag = false\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setLeftMenuTree()\r\n    if (this.$gloableToolFn.currentProvince === this.$gloableToolFn.FuJian) {\r\n      this.getProvince()\r\n    }\r\n  },\r\n  watch: {\r\n    tableConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    },\r\n    formConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.left-tree-pane {\r\n  .mmc-title {\r\n    height: 47px;\r\n    padding: 7px 15px;\r\n    line-height: 31px;\r\n    color: #464c5b;\r\n    font-size: 16px;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #dce3f3;\r\n    background-color: #e3f2fe;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}