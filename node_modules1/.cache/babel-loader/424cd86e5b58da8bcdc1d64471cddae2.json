{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\hb\\components\\filePreviewHB.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\hb\\components\\filePreviewHB.vue","mtime":1694505522135},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGxheWVyIGZyb20gJ3Z1ZS1hcGxheWVyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdGaWxlUHJldmlld0hCJywKICBjb21wb25lbnRzOiB7CiAgICBBcGxheWVyOiBBcGxheWVyCiAgfSwKICBwcm9wczogewogICAgdmlzaWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBmaWxlR3VpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIGFwcElkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICdwYXlfdm91Y2hlcic7CiAgICAgIH0KICAgIH0sCiAgICB0b3BUaXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAn5p+l55yLJzsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc2l6ZTogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzdHlsZTogewogICAgICAgIGhlaWdodDogJ2NhbGMoMTAwdmggLSAxcHgpJwogICAgICB9LAogICAgICBlcnJvclNob3c6IGZhbHNlLAogICAgICBmaWxlU2hvdzogZmFsc2UsCiAgICAgIHRpdGxlOiAn6ZmE5Lu26aKE6KeIJywKICAgICAgLy8g5paH5pys57G75Z6L5paH5Lu25ZCO57yACiAgICAgIHRleHRUeXBlOiBbJ3R4dCcsICdzcWwnLCAnamF2YScsICdqcycsICdodG1sJywgJ3htbCcsICdjc3MnLCAneW1sJ10sCiAgICAgIC8vIOWbvueJh+exu+Wei+aWh+S7tuWQjue8gAogICAgICBpbWdUeXBlOiBbJ3BuZycsICdqcGcnLCAnanBlZycsICdibXAnLCAnZ2lmJ10sCiAgICAgIC8vIG9mZmljZeaWh+S7tuexu+Wei+WQjue8gAogICAgICBvZmZpY2VUeXBlOiBbJ2RvYycsICdkb2N4JywgJ3hsc3gnLCAneGxzJywgJ3BwdCcsICdwcHR4J10sCiAgICAgIC8vIHBkZuaWh+S7tuWQjue8gAogICAgICBwZGZUeXBlOiBbJ3BkZiddLAogICAgICAvLyDop4bpopHnsbvlnovmlofku7blkI7nvIAKICAgICAgdmlkZW9UeXBlOiBbJ21wNCcsICdtMnYnLCAnbWt2J10sCiAgICAgIC8vIOmfs+S5kOexu+Wei+aWh+S7tuWQjue8gAogICAgICBtdXNpY1R5cGU6IFsnbXAzJ10sCiAgICAgIC8vIOWOi+e8qeWMheebuOWFswogICAgICBjb21wcmVzc1R5cGU6IFsnemlwJywgJ3RhciddLAogICAgICAvLyDkuI3mlK/mjIHnmoTmlofku7bnsbvlnosKICAgICAgbm90U3VwcG9ydFR5cGU6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiB0aGlzLnZpc2libGUsCiAgICAgIHVybDogJycsCiAgICAgIGZpbGVUeXBlOiAnJywKICAgICAgZmlsZToge30sCiAgICAgIG11c2ljT3B0aW9uczogewogICAgICAgIHRpdGxlOiAnUHJlcGFyYXRpb24nLAogICAgICAgIC8vIGF1dGhvcjogJycsCiAgICAgICAgdXJsOiAnaHR0cDovL2RldnRlc3QucWluaXVkbi5jb20vUHJlcGFyYXRpb24ubXAzJywKICAgICAgICAvLyBwaWM6ICdodHRwOi8vZGV2dGVzdC5xaW5pdWRuLmNvbS9QcmVwYXJhdGlvbi5qcGcnLAogICAgICAgIGxyYzogJ1swMDowMC4wMF1scmMgaGVyZVxuWzAwOjAxLjAwXWFwbGF5ZXInCiAgICAgIH0sCiAgICAgIC8vIOaSreaUvuWZqOmFjee9rgogICAgICBwb3NpdGl2ZVBsYXllck9wdGlvbnM6IHsKICAgICAgICBwbGF5YmFja1JhdGVzOiBbMC41LCAxLjAsIDEuNSwgMi4wXSwKICAgICAgICAvLyDmkq3mlL7pgJ/luqYKICAgICAgICBhdXRvcGxheTogZmFsc2UsCiAgICAgICAgLy8g5aaC5p6cdHJ1ZSzmtY/op4jlmajlh4blpIflpb3ml7blvIDlp4vlm57mlL7jgIIKICAgICAgICBtdXRlZDogZmFsc2UsCiAgICAgICAgLy8g6buY6K6k5oOF5Ya15LiL5bCG5Lya5raI6Zmk5Lu75L2V6Z+z6aKR44CCCiAgICAgICAgbG9vcDogZmFsc2UsCiAgICAgICAgLy8g5a+86Ie06KeG6aKR5LiA57uT5p2f5bCx6YeN5paw5byA5aeL44CCCiAgICAgICAgcHJlbG9hZDogJ2F1dG8nLAogICAgICAgIC8vIOW7uuiurua1j+iniOWZqOWcqDx2aWRlbz7liqDovb3lhYPntKDlkI7mmK/lkKblupTor6XlvIDlp4vkuIvovb3op4bpopHmlbDmja7jgIJhdXRv5rWP6KeI5Zmo6YCJ5oup5pyA5L2z6KGM5Li6LOeri+WNs+W8gOWni+WKoOi9veinhumike+8iOWmguaenOa1j+iniOWZqOaUr+aMge+8iQogICAgICAgIGxhbmd1YWdlOiAnemgtQ04nLAogICAgICAgIGFzcGVjdFJhdGlvOiAnMTY6MTMnLAogICAgICAgIC8vIOWwhuaSreaUvuWZqOe9ruS6jua1geeVheaooeW8j++8jOW5tuWcqOiuoeeul+aSreaUvuWZqOeahOWKqOaAgeWkp+Wwj+aXtuS9v+eUqOivpeWAvOOAguWAvOW6lOivpeS7o+ihqOS4gOS4quavlOS+iyAtIOeUqOWGkuWPt+WIhumalOeahOS4pOS4quaVsOWtl++8iOS+i+WmgiIxNjo5IuaIliI0OjMi77yJCiAgICAgICAgZmx1aWQ6IHRydWUsCiAgICAgICAgLy8g5b2TdHJ1ZeaXtu+8jFZpZGVvLmpzIHBsYXllcuWwhuaLpeaciea1geS9k+Wkp+Wwj+OAguaNouWPpeivneivtO+8jOWug+WwhuaMieavlOS+i+e8qeaUvuS7pemAguW6lOWFtuWuueWZqOOAggogICAgICAgIHNvdXJjZXM6IFt7CiAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgIHNyYzogJycgLy8g6KeG6aKRdXJs5Zyw5Z2ACiAgICAgICAgfV0sCgogICAgICAgIHBvc3RlcjogJycsCiAgICAgICAgLy8g5L2g55qE5bCB6Z2i5Zyw5Z2ACiAgICAgICAgLy8gd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwKICAgICAgICBub3RTdXBwb3J0ZWRNZXNzYWdlOiAn5q2k6KeG6aKR5pqC5peg5rOV5pKt5pS+77yM6K+356iN5ZCO5YaN6K+VJywKICAgICAgICAvLyDlhYHorrjopobnm5ZWaWRlby5qc+aXoOazleaSreaUvuWqkuS9k+a6kOaXtuaYvuekuueahOm7mOiupOS/oeaBr+OAggogICAgICAgIGNvbnRyb2xCYXI6IHsKICAgICAgICAgIHRpbWVEaXZpZGVyOiB0cnVlLAogICAgICAgICAgZHVyYXRpb25EaXNwbGF5OiB0cnVlLAogICAgICAgICAgcmVtYWluaW5nVGltZURpc3BsYXk6IGZhbHNlLAogICAgICAgICAgZnVsbHNjcmVlblRvZ2dsZTogdHJ1ZSAvLyDlhajlsY/mjInpkq4KICAgICAgICB9LAoKICAgICAgICBjb21tb246ICdwb3NpdGl2ZVBsYXllcicKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1vdW50ZWRJbml0OiBmdW5jdGlvbiBtb3VudGVkSW5pdCgpIHsKICAgICAgdGhpcy50b1BkZigpOwogICAgfSwKICAgIC8vIHJlc2l6ZeWbnuiwg+WHveaVsO+8jOiuoeeul+mrmOW6pgogICAgem9vbUNhbGxiYWNrOiBmdW5jdGlvbiB6b29tQ2FsbGJhY2sodHlwZSwgJGV2ZW50KSB7CiAgICAgIHZhciBjdXJNb2RhbEhlaWdodCA9IHRoaXMuJHJlZnMuZmlsZVByZXZpZXdSZWYuZ2V0Qm94KCkuc3R5bGUuaGVpZ2h0OwogICAgICB2YXIgY3VyTW9kYWxIZWlnaHROdW1iZXIgPSBjdXJNb2RhbEhlaWdodC5zdWJzdHJpbmcoMCwgY3VyTW9kYWxIZWlnaHQubGVuZ3RoIC0gMik7CiAgICAgIC8vIHRvZG8g6L+Z6YeM6KaB5YeP5Y6755qE5bqU6K+l5piv5a+86Iiq5qCP5pWi6LWM77yM546w5Zyo5YWI5YaZ5q27CiAgICAgIGN1ck1vZGFsSGVpZ2h0TnVtYmVyID0gY3VyTW9kYWxIZWlnaHROdW1iZXIgLSA2NTsKICAgICAgdGhpcy5zdHlsZSA9IHsKICAgICAgICBoZWlnaHQ6IGN1ck1vZGFsSGVpZ2h0TnVtYmVyICsgJ3B4JwogICAgICB9OwogICAgfSwKICAgIGluQXJyYXk6IGZ1bmN0aW9uIGluQXJyYXkodHlwZSwgdHlwZXMpIHsKICAgICAgdmFyIGZsYWcgPSBmYWxzZTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0eXBlID09PSB0eXBlc1tpXSkgewogICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZsYWc7CiAgICB9LAogICAgLy8g5bCGd29yZOetieaWh+S7tui9rOaIkHBkZui/m+ihjOmihOiniAogICAgdG9QZGY6IGZ1bmN0aW9uIHRvUGRmKCkgewogICAgICB3aW5kb3cub3BlbigiIi5jb25jYXQocHJvY2Vzcy5lbnYuQkFTRV9VUkwsICJmaWxlVmlldy5odG1sP2ZpbGVndWlkPSIpICsgdGhpcy5maWxlR3VpZCArICcmYXBwaWQ9JyArIHRoaXMuYXBwSWQpOwogICAgICAvLyB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIC8vIGxldCBzZWxmID0gdGhpcwogICAgICAvLyAvLyBjb25zdCB1cmxPYmogPSAnZmlsZVByZXZpZXdTZXJ2aWNlL3YxL2ZpbGVfcHJldmlldycKICAgICAgLy8gY29uc3QgdXJsT2JqID0gJ2ZpbGVzZXJ2aWNlL3YyL2ZpbmQvZmlsZUV4aXN0cycKICAgICAgLy8gdGhpcy4kaHR0cC5nZXQodXJsT2JqLCB7CiAgICAgIC8vICAgYXBwaWQ6IHNlbGYuYXBwaWQgfHwgc2VsZi4kc3RvcmUuc3RhdGUuY3VyTmF2TW9kdWxlLmFwcGlkLAogICAgICAvLyAgIHByb3ZpbmNlOiBzZWxmLiRzdG9yZS5zdGF0ZS51c2VySW5mby5wcm92aW5jZSwKICAgICAgLy8gICB5ZWFyOiBzZWxmLiRzdG9yZS5zdGF0ZS51c2VySW5mby55ZWFyLAogICAgICAvLyAgIGZpbGVndWlkOiBzZWxmLmZpbGVHdWlkCiAgICAgIC8vIH0pCiAgICAgIC8vICAgLnRoZW4ocmVzID0+IHsKICAgICAgLy8gICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIC8vICAgICBpZiAocmVzLnJzY29kZSA9PT0gJzEwMDAwMCcpIHsKICAgICAgLy8gICAgICAgdGhpcy5maWxlID0gcmVzLmRhdGEuZGF0YQogICAgICAvLyAgICAgICB0aGlzLmJ1aWxkRmlsZVR5cGUoKQogICAgICAvLyAgICAgICB0aGlzLmZpbGVTaG93ID0gdHJ1ZQogICAgICAvLyAgICAgICB0aGlzLmVycm9yU2hvdyA9IGZhbHNlCiAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAvLyAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogJ3dhcm5pbmcnLCBtZXNzYWdlOiByZXMubXNnIH0pCiAgICAgIC8vICAgICAgIHRoaXMuZmlsZVNob3cgPSBmYWxzZQogICAgICAvLyAgICAgICB0aGlzLmVycm9yU2hvdyA9IHRydWUKICAgICAgLy8gICAgICAgdGhpcy5yZXNpemUgPSBmYWxzZQogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZSh7IHR5cGU6ICdlcnJvcicsIG1lc3NhZ2U6IGVycm9yIH0pCiAgICAgIC8vICAgICB0aGlzLmZpbGVTaG93ID0gZmFsc2UKICAgICAgLy8gICAgIHRoaXMuZXJyb3JTaG93ID0gdHJ1ZQogICAgICAvLyAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgLy8gICAgIHRoaXMucmVzaXplID0gZmFsc2UKICAgICAgLy8gICB9KQogICAgfSwKICAgIGJ1aWxkRmlsZVR5cGU6IGZ1bmN0aW9uIGJ1aWxkRmlsZVR5cGUoKSB7CiAgICAgIC8vIGxldCBmaWxlU3VmZml4ID0gdGhpcy5maWxlLnN1ZmZpeAogICAgICB2YXIgZmlsZW5hbWUgPSB0aGlzLmZpbGUuZmlsZW5hbWU7CiAgICAgIHRoaXMudGl0bGUgPSBmaWxlbmFtZTsKICAgICAgdmFyIHN1Zml4ID0gZmlsZW5hbWUuc3Vic3RyKGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJykgKyAxLCBmaWxlbmFtZS5sZW5ndGgpIHx8ICcnOwogICAgICB2YXIgZmlsZVN1ZmZpeCA9IHN1Zml4OwogICAgICB0aGlzLmZpbGUuc3VmZml4ID0gc3VmaXg7CiAgICAgIHZhciBwYXRoID0gdGhpcy5maWxlLmZpbGVwYXRoOwogICAgICB2YXIgZmlsZVBhdGggPSBwYXRoLnNwbGl0KCcuJylbMF0gKyAnLicgKyBzdWZpeDsKICAgICAgdmFyIG5ld1VybCA9IHdpbmRvdy5nbG9hYmxlVG9vbEZuLnNlcnZlckdhdGV3YXlNYXAuZGV2ZWxvcG1lbnQuZmlsZVByZXZpZXdTZXJ2aWNlICsgJy8nICsgZmlsZVBhdGg7CiAgICAgIHRoaXMudXJsID0gbmV3VXJsOwogICAgICBjb25zb2xlLmxvZyhuZXdVcmwpOwogICAgICB0aGlzLnBvc2l0aXZlUGxheWVyT3B0aW9ucy5zb3VyY2VzWzBdLnNyYyA9IHRoaXMudXJsOwogICAgICBpZiAodGhpcy5pbkFycmF5KGZpbGVTdWZmaXgsIHRoaXMuaW1nVHlwZSkpIHsKICAgICAgICB0aGlzLmZpbGVUeXBlID0gJ2ltZyc7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbkFycmF5KGZpbGVTdWZmaXgsIFsncGRmJ10pKSB7CiAgICAgICAgdGhpcy5maWxlVHlwZSA9ICdwZGYnOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaW5BcnJheShmaWxlU3VmZml4LCB0aGlzLnZpZGVvVHlwZSkpIHsKICAgICAgICB0aGlzLmZpbGVUeXBlID0gJ3ZpZGVvJzsKICAgICAgfSBlbHNlIGlmICh0aGlzLmluQXJyYXkoZmlsZVN1ZmZpeCwgdGhpcy5tdXNpY1R5cGUpKSB7CiAgICAgICAgdGhpcy5maWxlVHlwZSA9ICdtdXNpYyc7CiAgICAgICAgdGhpcy5zdHlsZSA9IHsKICAgICAgICAgIGhlaWdodDogJzcwcHgnCiAgICAgICAgfTsKICAgICAgICB0aGlzLm11c2ljT3B0aW9ucy51cmwgPSB0aGlzLnVybDsKICAgICAgICB0aGlzLm11c2ljT3B0aW9ucy50aXRsZSA9IHRoaXMudGl0bGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWxlVHlwZSA9ICcnOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5tb3VudGVkSW5pdCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGRpYWxvZ1Zpc2libGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXd2YWwpIHsKICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIG5ld3ZhbCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"names":["Aplayer","name","components","props","visible","type","Boolean","default","_default","fileGuid","String","appId","topTitle","data","resize","loading","style","height","errorShow","fileShow","title","textType","imgType","officeType","pdfType","videoType","musicType","compressType","notSupportType","dialogVisible","url","fileType","file","musicOptions","lrc","positivePlayerOptions","playbackRates","autoplay","muted","loop","preload","language","aspectRatio","fluid","sources","src","poster","notSupportedMessage","controlBar","timeDivider","durationDisplay","remainingTimeDisplay","fullscreenToggle","common","methods","mountedInit","toPdf","zoomCallback","$event","curModalHeight","$refs","filePreviewRef","getBox","curModalHeightNumber","substring","length","inArray","types","flag","i","window","open","concat","process","env","BASE_URL","buildFileType","filename","sufix","substr","lastIndexOf","fileSuffix","suffix","path","filepath","filePath","split","newUrl","gloableToolFn","serverGatewayMap","development","filePreviewService","console","log","mounted","watch","handler","newval","$emit","deep","immediate"],"sources":["src/hb/components/filePreviewHB.vue"],"sourcesContent":["<template>\r\n  <vxe-modal\r\n    id=\"filePreview\"\r\n    ref=\"filePreviewRef\"\r\n    v-model=\"dialogVisible\"\r\n    width=\"90%\"\r\n    height=\"90%\"\r\n    :resize=\"resize\"\r\n    :dblclick-zoom=\"resize\"\r\n    storage\r\n    transfer\r\n    esc-closable\r\n    :loading=\"loading\"\r\n    @zoom=\"zoomCallback\"\r\n  >\r\n    <template v-slot:title>\r\n      <span>{{ topTitle }}</span>\r\n    </template>\r\n    <template v-slot>\r\n      <div style=\"text-align: center;\">\r\n        <div v-if=\"fileShow\">\r\n          <!-- 图片 -->\r\n          <el-image\r\n            v-if=\"fileType === 'img'\"\r\n            :src=\"url\"\r\n            fit=\"contain\"\r\n          />\r\n          <!-- 视频 -->\r\n          <video-player\r\n            v-if=\"fileType === 'video'\"\r\n            class=\"video-player vjs-custom-skin\"\r\n            :playsinline=\"true\"\r\n            :options=\"positivePlayerOptions\"\r\n          />\r\n          <!-- 音乐 -->\r\n          <Aplayer\r\n            v-if=\"fileType === 'music'\"\r\n            :music=\"musicOptions\"\r\n          />\r\n          <!-- word -->\r\n          <div v-if=\"fileType === 'pdf'\" class=\"dialog-body-content-base-style\">\r\n            <iframe\r\n              frameborder=\"0\"\r\n              :src=\"url\"\r\n              width=\"100%\"\r\n              :style=\"style\"\r\n            >\r\n            </iframe>\r\n          </div>\r\n          <div v-if=\"fileType === ''\" style=\"text-align:left\">\r\n            <span style=\"color: red; font-weight: 700\">\r\n              <i class=\"vxe-icon--warning\"></i>\r\n              {{ file.suffix }}格式的文件不支持预览，请下载之后查看\r\n            </span>\r\n            <span>\r\n              <el-divider content-position=\"left\">支持如下附件类型进行预览</el-divider>\r\n            </span>\r\n            <div style=\"padding-left: 30px\">\r\n              <span>txt</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>sql</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>java</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>js</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>html</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>xml</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>css</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>yml</span>\r\n              <br>\r\n\r\n              <span>png</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>jpg</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>jpeg</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>bmp</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>gif</span>\r\n              <br>\r\n\r\n              <span>doc</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>docx</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>xlsx</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>xls</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>ppt</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>pptx</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>pdf</span>\r\n              <br>\r\n\r\n              <span>mp4</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>m2v</span>\r\n              <el-divider direction=\"vertical\" />\r\n              <span>mkv</span>\r\n              <br>\r\n\r\n              <span>mp3</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"errorShow\">\r\n          <span style=\"color: red\">\r\n            <i class=\"vxe-icon--warning\"></i>\r\n            附件加载失败\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </vxe-modal>\r\n</template>\r\n\r\n<script>\r\nimport Aplayer from 'vue-aplayer'\r\nexport default {\r\n  name: 'FilePreviewHB',\r\n  components: { Aplayer },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default() {\r\n        return false\r\n      }\r\n    },\r\n    fileGuid: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    },\r\n    appId: {\r\n      type: String,\r\n      default() {\r\n        return 'pay_voucher'\r\n      }\r\n    },\r\n    topTitle: {\r\n      type: String,\r\n      default() {\r\n        return '查看'\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      resize: false,\r\n      loading: false,\r\n      style: {\r\n        height: 'calc(100vh - 1px)'\r\n      },\r\n      errorShow: false,\r\n      fileShow: false,\r\n      title: '附件预览',\r\n      // 文本类型文件后缀\r\n      textType: ['txt', 'sql', 'java', 'js', 'html', 'xml', 'css', 'yml'],\r\n      // 图片类型文件后缀\r\n      imgType: ['png', 'jpg', 'jpeg', 'bmp', 'gif'],\r\n      // office文件类型后缀\r\n      officeType: ['doc', 'docx', 'xlsx', 'xls', 'ppt', 'pptx'],\r\n      // pdf文件后缀\r\n      pdfType: ['pdf'],\r\n      // 视频类型文件后缀\r\n      videoType: ['mp4', 'm2v', 'mkv'],\r\n      // 音乐类型文件后缀\r\n      musicType: ['mp3'],\r\n      // 压缩包相关\r\n      compressType: ['zip', 'tar'],\r\n      // 不支持的文件类型\r\n      notSupportType: [],\r\n      dialogVisible: this.visible,\r\n      url: '',\r\n      fileType: '',\r\n      file: {},\r\n      musicOptions: {\r\n        title: 'Preparation',\r\n        // author: '',\r\n        url: 'http://devtest.qiniudn.com/Preparation.mp3',\r\n        // pic: 'http://devtest.qiniudn.com/Preparation.jpg',\r\n        lrc: '[00:00.00]lrc here\\n[00:01.00]aplayer'\r\n      },\r\n      // 播放器配置\r\n      positivePlayerOptions: {\r\n        playbackRates: [0.5, 1.0, 1.5, 2.0], // 播放速度\r\n        autoplay: false, // 如果true,浏览器准备好时开始回放。\r\n        muted: false, // 默认情况下将会消除任何音频。\r\n        loop: false, // 导致视频一结束就重新开始。\r\n        preload: 'auto', // 建议浏览器在<video>加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）\r\n        language: 'zh-CN',\r\n        aspectRatio: '16:13', // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\r\n        fluid: true, // 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。\r\n        sources: [{\r\n          type: '',\r\n          src: '' // 视频url地址\r\n        }],\r\n        poster: '', // 你的封面地址\r\n        // width: document.documentElement.clientWidth,\r\n        notSupportedMessage: '此视频暂无法播放，请稍后再试', // 允许覆盖Video.js无法播放媒体源时显示的默认信息。\r\n        controlBar: {\r\n          timeDivider: true,\r\n          durationDisplay: true,\r\n          remainingTimeDisplay: false,\r\n          fullscreenToggle: true // 全屏按钮\r\n        },\r\n        common: 'positivePlayer'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    mountedInit() {\r\n      this.toPdf()\r\n    },\r\n    // resize回调函数，计算高度\r\n    zoomCallback(type, $event) {\r\n      let curModalHeight = this.$refs.filePreviewRef.getBox().style.height\r\n      let curModalHeightNumber = curModalHeight.substring(0, curModalHeight.length - 2)\r\n      // todo 这里要减去的应该是导航栏敢赌，现在先写死\r\n      curModalHeightNumber = curModalHeightNumber - 65\r\n      this.style = {\r\n        height: curModalHeightNumber + 'px'\r\n      }\r\n    },\r\n    inArray(type, types) {\r\n      let flag = false\r\n      for (let i = 0; i < types.length; i++) {\r\n        if (type === types[i]) {\r\n          flag = true\r\n          break\r\n        }\r\n      }\r\n      return flag\r\n    },\r\n    // 将word等文件转成pdf进行预览\r\n    toPdf() {\r\n      window.open(`${process.env.BASE_URL}fileView.html?fileguid=` + this.fileGuid + '&appid=' + this.appId)\r\n      // this.loading = true\r\n      // let self = this\r\n      // // const urlObj = 'filePreviewService/v1/file_preview'\r\n      // const urlObj = 'fileservice/v2/find/fileExists'\r\n      // this.$http.get(urlObj, {\r\n      //   appid: self.appid || self.$store.state.curNavModule.appid,\r\n      //   province: self.$store.state.userInfo.province,\r\n      //   year: self.$store.state.userInfo.year,\r\n      //   fileguid: self.fileGuid\r\n      // })\r\n      //   .then(res => {\r\n      //     this.loading = false\r\n      //     if (res.rscode === '100000') {\r\n      //       this.file = res.data.data\r\n      //       this.buildFileType()\r\n      //       this.fileShow = true\r\n      //       this.errorShow = false\r\n      //     } else {\r\n      //       this.$message({ type: 'warning', message: res.msg })\r\n      //       this.fileShow = false\r\n      //       this.errorShow = true\r\n      //       this.resize = false\r\n      //     }\r\n      //   })\r\n      //   .catch(error => {\r\n      //     console.log(error)\r\n      //     this.$message({ type: 'error', message: error })\r\n      //     this.fileShow = false\r\n      //     this.errorShow = true\r\n      //     this.loading = false\r\n      //     this.resize = false\r\n      //   })\r\n    },\r\n    buildFileType() {\r\n      // let fileSuffix = this.file.suffix\r\n      let filename = this.file.filename\r\n      this.title = filename\r\n      let sufix = filename.substr(filename.lastIndexOf('.') + 1, filename.length) || ''\r\n      let fileSuffix = sufix\r\n      this.file.suffix = sufix\r\n      let path = this.file.filepath\r\n      let filePath = path.split('.')[0] + '.' + sufix\r\n      let newUrl = window.gloableToolFn.serverGatewayMap.development.filePreviewService + '/' + filePath\r\n      this.url = newUrl\r\n      console.log(newUrl)\r\n      this.positivePlayerOptions.sources[0].src = this.url\r\n      if (this.inArray(fileSuffix, this.imgType)) {\r\n        this.fileType = 'img'\r\n      } else if (this.inArray(fileSuffix, ['pdf'])) {\r\n        this.fileType = 'pdf'\r\n      } else if (this.inArray(fileSuffix, this.videoType)) {\r\n        this.fileType = 'video'\r\n      } else if (this.inArray(fileSuffix, this.musicType)) {\r\n        this.fileType = 'music'\r\n        this.style = { height: '70px' }\r\n        this.musicOptions.url = this.url\r\n        this.musicOptions.title = this.title\r\n      } else {\r\n        this.fileType = ''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.mountedInit()\r\n  },\r\n  watch: {\r\n    dialogVisible: {\r\n      handler(newval) {\r\n        this.$emit('update:visible', newval)\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n"],"mappings":"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"}]}