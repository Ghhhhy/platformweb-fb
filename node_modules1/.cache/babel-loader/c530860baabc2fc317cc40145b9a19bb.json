{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableOld\\export\\export\\export.js","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableOld\\export\\export\\export.js","mtime":1694505521632},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQovKiBlc2xpbnQtZGlzYWJsZSBuby11c2VsZXNzLWNvbnN0cnVjdG9yICovCi8qDQogKiBkZXNjcmliZTogIOWfuuS6jnZ4ZS10YWJsZSB2eGUtZ3JpZOaVsOaNruagvOW8j+eahOWvvOWHuuW3peWFt+exu+WHveaVsCDln7rnoYDniYgNCiAqIEBEYXRlOiAgIDIwMjAtMDktMDINCiAqIEF1dGhvcjogVGl0YW5zQDIzOTY3NTc1OTFAcXEuY29tDQogKiBATGFzdCBNb2RpZmllZCB0aW1lOiAyMDIwLTExLTMwDQogKi8KLy8gaW1wb3J0IHsgY29sdW1ucywgZGF0YXMgfSBmcm9tICcuL3Rlc3REYXRhLmpzJwovLyBpbXBvcnQgeGxzeCBmcm9tICdqcy14bHN4JwovLyBpbXBvcnQganN6aXAgZnJvbSAnLi91dGlsL2pzemlwVS5qcycKaW1wb3J0IHsgZGVmYXVsdFZpZXdWYWx1ZUZvcm1hdCwgZ2V0Q2VsbFZhbHVlQWxpZ24gfSBmcm9tICcuL2V4cG9ydFV0aWwuanMnOwppbXBvcnQgWGxzeFRvb2wgZnJvbSAneGxzeCc7CmltcG9ydCBGaWxlU2F2ZXIgZnJvbSAnZmlsZS1zYXZlcic7CmV4cG9ydCB2YXIgRXhwb3J0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBFeHBvcnQoKSB7CiAgICB2YXIgZ2xvYWJlbENvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhwb3J0KTsKICAgIHRoaXMuWGxzeFRvb2wgPSBYbHN4VG9vbDsKICAgIHRoaXMueGxzeCA9IHdpbmRvdy54bHN4OwogICAgdGhpcy5hVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgdGhpcy5leHBvcnRIaXN0b3J5ID0gW107IC8vIOWvvOWHuuWOhuWPsuiusOW9lQogICAgdGhpcy5leHBvcnREZWZhdWx0Q29uZmlnID0gewogICAgICBzYXZlVHlwZTogJy54bHN4JywKICAgICAgZmlsZU5hbWU6ICdleHBvcnQnLAogICAgICAvLyDmlofku7blkI0KICAgICAgZGF0YVR5cGU6ICdmdWxsRGF0YScsCiAgICAgIGlzRXhwb3J0T25seVNvdXJjZUZpZWxkOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5Y+q5a+85Ye65pWw5o2u5rqQ6KGo5aS05a2X5q6177yMCiAgICAgIGlzRXhwb3J0T25seVZpZXdUaXRsZTogZmFsc2UsCiAgICAgIC8vIOaYr+WQpuWPquWvvOWHuuaVsOaNruihqOWktOWQjeensO+8jAogICAgICBpc0V4cG9ydEhlYWQ6IHRydWUsCiAgICAgIC8vIOaYr+WQpuWvvOWHuuihqOWktAogICAgICBleHBvcnRWaWV3VGl0bGVUeXBlOiAnbmVzdFRpdGxlJywKICAgICAgLy8gbmVzdFRpdGxlKOW1jOWll+ihqOWktCnvvIwgc2luZ1RpdGxlKOWNleihqOWktCkKICAgICAgaXNFeHBvcnRGb290ZXI6IGZhbHNlLAogICAgICAvLyDmmK/lkKblr7zlh7rooajlsL7pg6gKICAgICAgaXNFeHBvcnRPcmlnaW5hbERhdGE6IHRydWUsCiAgICAgIC8vIOaYr+WQpuWvvOWHuua6kOaVsOaNrgogICAgICBpc0V4cG9ydERhdGE6IHRydWUsCiAgICAgIC8vIOaYr+WQpuWvvOWHuuaVsOaNrgogICAgICBjb2x1bW5zOiBbXSwKICAgICAgLy8g6KGo5aS06YWN572uCiAgICAgIGRhdGFzOiBbXSwKICAgICAgLy8g5rqQ5pWw5o2uLAogICAgICBzZWxlY3Rpb246IFtdLAogICAgICAvLyDpgInkuK3mlbDmja4KICAgICAgaXNFeHBvcnRUcmVlOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5piv5qCR5b2i5pWw5o2uCiAgICAgIGluZGV4OiB0cnVlLAogICAgICAvLyDmmK/lkKbmt7vliqDluo/lj7csCiAgICAgIGlnbm9yZUNvbHNUeXBlczogWydkcmFnU29ydCcsICdzZXEnLCAnY2hlY2tib3gnLCAncmFkaW8nLCAnb3B0aW9uUm93JywgJ2V4cGFuZCcsICdhdHRhY2gnLCAnYWNoJywgJ2xpc3QnLCAnYXR0YWNobGlzdCcsICdnbG9hYmxlT3B0aW9uUm93J10sCiAgICAgIC8vIOW/veeVpeWvvOWHuueahOWIl+exu+WeiwogICAgICB2aWV3VmFsdWVGb3JtYXQ6IGZ1bmN0aW9uIHZpZXdWYWx1ZUZvcm1hdCh2YWx1ZSwgcm93LCBjb2x1bW4pIHsvLyDop4blm77mlbDmja7moLzlvI/ljJbmlrnms5UKICAgICAgICAvLyByZXR1cm4gdmFsdWUKICAgICAgfSwKICAgICAgZm9vdGVyTWV0aG9kczogZnVuY3Rpb24gZm9vdGVyTWV0aG9kcyhfcmVmKSB7CiAgICAgICAgdmFyIGNvbHVtbnMgPSBfcmVmLmNvbHVtbnMsCiAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgIHJldHVybiBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBjb2x1bW5JbmRleCkgewogICAgICAgICAgLy8gIGNvbWJpbmVkVHlwZTogWydhdmVyYWdlJywgJ3RvdGFsJ10sCiAgICAgICAgICB2YXIgY29sdW1uSW5kZXhUZXh0ID0gJ+WQiOiuoSc7CiAgICAgICAgICB2YXIgY29tYmluZWRUeXBlID0gJ3RvdGFsJzsKICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkgewogICAgICAgICAgICByZXR1cm4gY29sdW1uSW5kZXhUZXh0OwogICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5jb21iaW5lZFR5cGUpICYmIGNvbHVtbi5jb21iaW5lZFR5cGUuaW5kZXhPZihjb21iaW5lZFR5cGUpID49IDApIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0eXBlb2YgaXRlbVtjb2x1bW4uZmllbGRdID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaXRlbVtjb2x1bW4uZmllbGRdID09PSAnc3RyaW5nJyA/IHBhcnNlRmxvYXQoaXRlbVtjb2x1bW4uZmllbGRdLnRvU3RyaW5nKCkuc3BsaXQoJywnKS5qb2luKCcnKSkgOiAwOwogICAgICAgICAgICAgICAgcmV0dXJuIGlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKSA/IDAgOiBwYXJzZUZsb2F0KHZhbHVlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlZHVjZShmdW5jdGlvbiAocHJldiwgbmV4dCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcHJldiArIG5leHQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgdGhyb3cgZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICcnOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogICAgdGhpcy5leHBvcnREZWZhdWx0Q29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5leHBvcnREZWZhdWx0Q29uZmlnLCBnbG9hYmVsQ29uZmlnKTsKICB9CiAgX2NyZWF0ZUNsYXNzKEV4cG9ydCwgW3sKICAgIGtleTogImV4cG9ydEV4Y2VsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBleHBvcnRFeGNlbCgpIHsKICAgICAgdmFyIGN1clVzZXJDb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgY2IgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDsKICAgICAgLy8g5a+85Ye6ZXhjZWwKICAgICAgdGhpcy5pbml0KGN1clVzZXJDb25maWcpOwogICAgICB0aGlzLmdlbmVyYXRlRXhwb3J0Um93c01hcCh0aGlzLmN1ckV4cG9ydENvbmZpZy5jb2x1bW5zKTsKICAgICAgdGhpcy5jdXJFeHBvcnRDb25maWcuZGF0YXMgPSB0aGlzLmN1ckV4cG9ydENvbmZpZ1t0aGlzLmN1ckV4cG9ydENvbmZpZy5kYXRhVHlwZV07CiAgICAgIGlmICh0aGlzLmN1ckV4cG9ydENvbmZpZy5pc0V4cG9ydE9ubHlTb3VyY2VGaWVsZCB8fCB0aGlzLmN1ckV4cG9ydENvbmZpZy5pc0V4cG9ydE9ubHlWaWV3VGl0bGUpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlRXhwb3J0U291cmNlRmllbGQodGhpcy5jdXJFeHBvcnRDb25maWcuaXNFeHBvcnRPbmx5U291cmNlRmllbGQgPyAnZmllbGQnIDogJ3RpdGxlJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuY3VyRXhwb3J0Q29uZmlnLmlzRXhwb3J0RGF0YSkgewogICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cG9ydFZpZXdEYXRhU291cmNlKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmN1ckV4cG9ydENvbmZpZy5pc0V4cG9ydE9yaWdpbmFsRGF0YSkgewogICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cG9ydE9yaWdpbmFsRGF0YVNvdXJjZSgpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5jdXJFeHBvcnRDb25maWcuc2F2ZVR5cGUgPT09ICcueGxzeCcpIHsKICAgICAgICB0aGlzLmV4cG9ydERvd25sb2FkKHRoaXMuWGxzeCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kb3dubG9hZENzdigpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChvYmopIHsKICAgICAgLy8g5Yid5aeL5YyW5bm26K6w5b2V5LiK5qyh5a+85Ye65Y6G5Y+yCiAgICAgIHRoaXMuaGVhZGVyUm93cyA9IDE7CiAgICAgIHRoaXMuZGF0YUNvbE1hcCA9IFtdOwogICAgICB0aGlzLmhlYWRlclJvd3NNYXAgPSB7fTsKICAgICAgdGhpcy5jdXJFeHBvcnRDb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmV4cG9ydERlZmF1bHRDb25maWcsIG9iaik7CiAgICAgIHRoaXMuY3VyRXhwb3J0Q29uZmlnLnZpZXdWYWx1ZUZvcm1hdCA9IGRlZmF1bHRWaWV3VmFsdWVGb3JtYXQ7CiAgICAgIHRoaXMuc2V0RXhwb3J0Q29sdW1ucygpOwogICAgICAvLyBsZXQgeGxzeCA9IHdpbmRvdy54bHN4CiAgICAgIHRoaXMuWGxzeCA9IG5ldyB0aGlzLnhsc3guRmlsZSgpOwogICAgICB0aGlzLmV4cG9ydEhpc3RvcnkucHVzaCh7CiAgICAgICAgZXhwb3J0Q29uZmlnOiB0aGlzLmN1ckV4cG9ydENvbmZpZywKICAgICAgICBleHBvcnREYXRhU291cmNlOiB0aGlzLlhsc3gKICAgICAgfSk7CiAgICAgIHRoaXMuZXhwb3J0SGlzdG9yeSA9IHRoaXMuZXhwb3J0SGlzdG9yeS5yZXZlcnNlKCkuc2xpY2UoMCwgMjApLnJldmVyc2UoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRFeHBvcnRDb2x1bW5zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRFeHBvcnRDb2x1bW5zKCkgewogICAgICAvLyDorr7nva7lr7zlh7rliJcKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLmN1ckV4cG9ydENvbmZpZy5jb2x1bW5zID0gdGhpcy5jdXJFeHBvcnRDb25maWcuY29sdW1ucy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS50cmVlTm9kZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gc2VsZi5jdXJFeHBvcnRDb25maWcuaWdub3JlQ29sc1R5cGVzLmluZGV4T2YoaXRlbS50eXBlKSA8IDA7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8gaWYgKHRoaXMuY3VyRXhwb3J0Q29uZmlnLmluZGV4KSB7CiAgICAgIC8vICAgdGhpcy5jdXJFeHBvcnRDb25maWcuY29sdW1ucy51bnNoaWZ0KHsgdGl0bGU6ICfluo/lj7cnLCBmaWVsZDogJ3NlcUluZGV4JywgdHlwZTogJ3NlcUluZGV4JyB9KQogICAgICAvLyB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2VuZXJhdGVFeHBvcnRSb3dzTWFwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUV4cG9ydFJvd3NNYXAoY29sdW1ucykgewogICAgICB2YXIgY3VyUm93SW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7CiAgICAgIHZhciBwY0NvdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOeUn+aIkOinhuWbvuaVsOaNruWvvOWHuuWFg+aVsOaNriDliJfmmKDlsITmlbDmja4KICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKHJvd0Nvbmx1bSwgaW5kZXgpIHsKICAgICAgICBpZiAoY3VyUm93SW5kZXggPiBzZWxmLmhlYWRlclJvd3MpIHsKICAgICAgICAgIHNlbGYuaGVhZGVyUm93cyA9IGN1clJvd0luZGV4OwogICAgICAgIH0KICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyb3dDb25sdW0uY2hpbGRyZW4pICYmIHJvd0Nvbmx1bS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgIHNlbGYuZ2VuZXJhdGVFeHBvcnRSb3dzTWFwKHJvd0Nvbmx1bS5jaGlsZHJlbiwgY3VyUm93SW5kZXggKyAxLCByb3dDb25sdW0uY2hpbGRyZW4ubGVuZ3RoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gaWYgKHJvd0Nvbmx1bSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyAgIHJvd0Nvbmx1bS5wY0NvdW50ID0gcGNDb3VudAogICAgICAgICAgLy8gICAvLyBzZWxmLmRhdGFDb2xDZWxsc01hcFtyb3dDb25sdW0uZmllbGRdID0gcGNDb3VudAogICAgICAgICAgLy8gfQogICAgICAgICAgc2VsZi5kYXRhQ29sTWFwLnB1c2gocm93Q29ubHVtKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlVmlzaWJsZUhlYWRlclJvd3NNYXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlVmlzaWJsZUhlYWRlclJvd3NNYXAoKSB7CiAgICAgIC8vIOeUn+aIkOW1jOWll+ihqOWktOihjOaYoOWwhOaVsOaNrgogICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSB0aGlzLmhlYWRlclJvd3M7IGkrKykgewogICAgICAgIHRoaXMuaGVhZGVyUm93c01hcFsncm93cycgKyBpXSA9IHRoaXMuc2hlZXRWaXNpYmxlRGF0YS5hZGRSb3coKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlRXhwb3J0U291cmNlRmllbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlRXhwb3J0U291cmNlRmllbGQodHlwZSkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuc2hlZXRGaWVsZERhdGEgPSB0aGlzLlhsc3guYWRkU2hlZXQodGhpcy5jdXJFeHBvcnRDb25maWcuZmlsZU5hbWUucmVwbGFjZSgnLnhsc3gnLCAnJykpOwogICAgICB2YXIgbmV3cm93ID0gc2VsZi5zaGVldEZpZWxkRGF0YS5hZGRSb3coKTsKICAgICAgc2VsZi5kYXRhQ29sTWFwLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgICB2YXIgY2VsbCA9IG5ld3Jvdy5hZGRDZWxsKCk7CiAgICAgICAgY2VsbC52YWx1ZSA9IGNvbHVtblt0eXBlXTsKICAgICAgICBjZWxsLmhNZXJnZSA9IDA7CiAgICAgICAgY2VsbC52TWVyZ2UgPSAwOwogICAgICAgIHNlbGYuZ2VuZXJhdGVDZWxsVmlzaWJsZXRpdGxlU3R5bGUoY2VsbCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlRXhwb3J0Vmlld0RhdGFTb3VyY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlRXhwb3J0Vmlld0RhdGFTb3VyY2UoKSB7CiAgICAgIC8vIOeUn+aIkOinhuWbvuaVsOaNruWvvOWHuuaVsOaNrua6kAogICAgICBpZiAodGhpcy5jdXJFeHBvcnRDb25maWcuaXNFeHBvcnRPcmlnaW5hbERhdGEpIHsKICAgICAgICB0aGlzLnNoZWV0VmlzaWJsZURhdGEgPSB0aGlzLlhsc3guYWRkU2hlZXQoJ+inhuWbvuaVsOaNricpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hlZXRWaXNpYmxlRGF0YSA9IHRoaXMuWGxzeC5hZGRTaGVldCh0aGlzLmN1ckV4cG9ydENvbmZpZy5maWxlTmFtZS5yZXBsYWNlKCcueGxzeCcsICcnKSk7CiAgICAgIH0KICAgICAgdGhpcy5nZW5lcmF0ZVZpc2libGVIZWFkZXJSb3dzTWFwKCk7CiAgICAgIGlmICh0aGlzLmN1ckV4cG9ydENvbmZpZy5pc0V4cG9ydEhlYWQpIHsKICAgICAgICBpZiAodGhpcy5jdXJFeHBvcnRDb25maWcuaXNFeHBvcnRIZWFkID09PSAnbmVzdFRpdGxlJykgewogICAgICAgICAgdGhpcy5yaXZlckdlbmVyYXRlRXhwb3J0TmVzdGVkSGVhZGVyKHRoaXMuY3VyRXhwb3J0Q29uZmlnLmNvbHVtbnMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnJpdmVyR2VuZXJhdGVFeHBvcnROZXN0ZWRIZWFkZXIodGhpcy5kYXRhQ29sTWFwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5zZXRTaGVldENvbCh0aGlzLnNoZWV0VmlzaWJsZURhdGEpOwogICAgICB0aGlzLmdlbmVyYXRlRXhwb3J0Vmlld0RhdGFCb2R5KHRoaXMuY3VyRXhwb3J0Q29uZmlnLmRhdGFzKTsKICAgICAgaWYgKHRoaXMuY3VyRXhwb3J0Q29uZmlnLmlzRXhwb3J0Rm9vdGVyKSB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cG9ydFZpZXdEYXRhZm9vdGVyKHRoaXMuY3VyRXhwb3J0Q29uZmlnLmRhdGFzKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldFNoZWV0Q29sIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTaGVldENvbChzaGVldCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3RpdGxlJzsKICAgICAgLy8g6K6+572uIOWIl+S/oeaBrwogICAgICAvLyBjb2xsYXBzZWQ6IGZhbHNlCiAgICAgIC8vIGhpZGRlbjogZmFsc2UKICAgICAgLy8gbWF4OiAxCiAgICAgIC8vIG1pbjogMQogICAgICAvLyBudW1GbXQ6ICIiCiAgICAgIC8vIG91dGxpbmVMZXZlbDogMAogICAgICAvLyBzdHlsZTogU3R5bGUKICAgICAgLy8gYWxpZ246ICguLi4pCiAgICAgIC8vIGFwcGx5QWxpZ25tZW50OiAoLi4uKQogICAgICAvLyBhcHBseUJvcmRlcjogKC4uLikKICAgICAgLy8gYXBwbHlGaWxsOiAoLi4uKQogICAgICAvLyBhcHBseUZvbnQ6ICguLi4pCiAgICAgIC8vIGJvcmRlcjogKC4uLikKICAgICAgLy8gZmlsbDogKC4uLikKICAgICAgLy8gZm9udDogKC4uLikKICAgICAgLy8gd2lkdGg6MAogICAgICAvLyBuYW1lZFN0eWxlSW5kZXg6ICguLi4pCiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgc2hlZXQuY29scy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wsIGNvbEluZGV4KSB7CiAgICAgICAgY29sLndpZHRoID0gc2VsZi5nZXRDb2xXaWR0aChjb2xJbmRleCwgdHlwZSk7CiAgICAgICAgY29sLm1heCA9IDIwMDA7CiAgICAgICAgY29sLmZpZWxkID0gX3RoaXMuZGF0YUNvbE1hcFtjb2xJbmRleF1bJ2ZpZWxkJ107CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENvbFdpZHRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2xXaWR0aChjb2xJbmRleCwgdHlwZSkgewogICAgICAvLyDojrflj5Zjb2x3aWR0aAogICAgICB2YXIgdGV4dCA9IHRoaXMuZGF0YUNvbE1hcFtjb2xJbmRleF1bdHlwZV07CiAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQodGhpcy5kYXRhQ29sTWFwW2NvbEluZGV4XS53aWR0aCkpKSB7CiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLmRhdGFDb2xNYXBbY29sSW5kZXhdLndpZHRoIC8gMTApOwogICAgICB9IGVsc2UgaWYgKHRleHQubGVuZ3RoIDwgNSkgewogICAgICAgIHJldHVybiAxNTsKICAgICAgfQogICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuZ2V0U3RyQnl0ZSh0ZXh0KSAqIDIpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFN0ckJ5dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0ckJ5dGUoc3RyKSB7CiAgICAgIC8vICDojrflj5blrZfnrKbkuLLlrZfoioLmlbAKICAgICAgdmFyIGFyciA9IHN0ci5zcGxpdCgnJyk7CiAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoOwogICAgICB2YXIgY291bnQgPSAwOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgdmFyIHMgPSBlc2NhcGUoYXJyW2ldKTsKICAgICAgICAvLyDkvovlpoLvvJpzID0gJ+S9oCc7IGVzY2FwZShhKTsgIiV1NEY2MCIKICAgICAgICBpZiAocy5pbmRleE9mKCcldScpID49IDApIHsKICAgICAgICAgIGNvdW50ID0gY291bnQgKyAyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgIH0KICAgICAgfQogICAgICBjb25zb2xlLmxvZyhzdHIsIGNvdW50KTsKICAgICAgcmV0dXJuIGNvdW50OwogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlRXhwb3J0T3JpZ2luYWxEYXRhU291cmNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUV4cG9ydE9yaWdpbmFsRGF0YVNvdXJjZSgpIHsKICAgICAgLy8g55Sf5oiQ5rqQ5pWw5o2u5a+85Ye65pWw5o2u5rqQCiAgICAgIHRoaXMuc2hlZXRPcmlnaW5hbERhdGEgPSB0aGlzLlhsc3guYWRkU2hlZXQoJ+a6kOaVsOaNricpOwogICAgICBpZiAodGhpcy5jdXJFeHBvcnRDb25maWcuaXNFeHBvcnRIZWFkKSB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cG9ydE9yaWdpbmFsRGF0YUhlYWRlcigpOwogICAgICB9CiAgICAgIHRoaXMuZ2VuZXJhdGVFeHBvcnRPcmlnaW5hbERhdGFCb2R5KHRoaXMuY3VyRXhwb3J0Q29uZmlnLmRhdGFzKTsKICAgICAgdGhpcy5zZXRTaGVldENvbCh0aGlzLnNoZWV0T3JpZ2luYWxEYXRhLCAnZmllbGQnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyaXZlckdlbmVyYXRlRXhwb3J0TmVzdGVkSGVhZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByaXZlckdlbmVyYXRlRXhwb3J0TmVzdGVkSGVhZGVyKGNvbHVtbnMpIHsKICAgICAgdmFyIGN1clJvd0luZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxOwogICAgICB2YXIgcENlbGwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g6YCS5b2S55Sf5oiQ5bWM5aWX6KGo5aS0CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4sIGluZGV4KSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sdW1uLmNoaWxkcmVuKSAmJiBjb2x1bW4uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICB2YXIgY2VsbDAgPSBzZWxmLmdlbmVyYXRlQ3VyTmVzdGVkSGVhZGVyQ2VsbChzZWxmLmhlYWRlclJvd3NNYXBbJ3Jvd3MnICsgY3VyUm93SW5kZXhdLCBjb2x1bW4sIGN1clJvd0luZGV4LCBwQ2VsbCk7CiAgICAgICAgICBzZWxmLnJpdmVyR2VuZXJhdGVFeHBvcnROZXN0ZWRIZWFkZXIoY29sdW1uLmNoaWxkcmVuLCBjdXJSb3dJbmRleCArIDEsIGNlbGwwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZi5nZW5lcmF0ZUN1ck5lc3RlZEhlYWRlckNlbGwoc2VsZi5oZWFkZXJSb3dzTWFwWydyb3dzJyArIGN1clJvd0luZGV4XSwgY29sdW1uLCBjdXJSb3dJbmRleCwgcENlbGwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2VuZXJhdGVDdXJOZXN0ZWRIZWFkZXJDZWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUN1ck5lc3RlZEhlYWRlckNlbGwocm93LCBjb2x1bW4sIGN1clJvd3MsIHBDZWxsKSB7CiAgICAgIC8vIOeUn+aIkOihqOWktOaVsOaNruW5tuihpem9kOepuuS9jQogICAgICAvLyBjZWxsVHlwZTogKC4uLikKICAgICAgLy8gZGF0ZTE5MDQ6ICguLi4pCiAgICAgIC8vIGZvcm11bGE6ICguLi4pCiAgICAgIC8vIGhNZXJnZTogKC4uLikKICAgICAgLy8gaGlkZGVuOiAoLi4uKQogICAgICAvLyBudW1GbXQ6ICguLi4pCiAgICAgIC8vIHJvdzogKC4uLikKICAgICAgLy8gdk1lcmdlOiAoLi4uKQogICAgICAvLyBfc3R5bGU6ICguLi4pCiAgICAgIC8vIF92YWx1ZTogKC4uLikKICAgICAgdmFyIGNlbGwwID0ge307CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbi5jaGlsZHJlbikgJiYgY29sdW1uLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIHZhciBfdGhpcyRnZXRGbG9vckRhdGEgPSB0aGlzLmdldEZsb29yRGF0YShjb2x1bW4uY2hpbGRyZW4pLAogICAgICAgICAgZmxvb3JMZW5ndGggPSBfdGhpcyRnZXRGbG9vckRhdGEuZmxvb3JMZW5ndGg7CiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW4uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZsb29yTGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBjZWxsID0gcm93LmFkZENlbGwoKTsKICAgICAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgICAgIGNlbGwudmFsdWUgPSBjb2x1bW5bJ3RpdGxlJ107CiAgICAgICAgICAgIGNlbGwuaE1lcmdlID0gZmxvb3JMZW5ndGggLSAxOwogICAgICAgICAgICBjZWxsLnZNZXJnZSA9IDA7CiAgICAgICAgICAgIGNlbGwwID0gY2VsbDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNlbGwudmFsdWUgPSBjb2x1bW5bJ3RpdGxlJ107CiAgICAgICAgICAgIGNlbGwuaE1lcmdlID0gMDsKICAgICAgICAgICAgY2VsbC52TWVyZ2UgPSAwOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5nZW5lcmF0ZUNlbGxWaXNpYmxldGl0bGVTdHlsZShjZWxsKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGNlbGxTaW5nID0gcm93LmFkZENlbGwoKTsKICAgICAgICBjZWxsU2luZy52YWx1ZSA9IGNvbHVtblsndGl0bGUnXTsKICAgICAgICBjZWxsU2luZy5oTWVyZ2UgPSAwOwogICAgICAgIGNlbGxTaW5nLnZNZXJnZSA9IHRoaXMuaGVhZGVyUm93cyAtIGN1clJvd3M7CiAgICAgICAgY2VsbDAgPSBjZWxsU2luZzsKICAgICAgICB0aGlzLmdlbmVyYXRlQ2VsbFZpc2libGV0aXRsZVN0eWxlKGNlbGxTaW5nKTsKICAgICAgICB0aGlzLnN1cHBsZW1lbnRIZWFkZXJWTWVyZ2VDZWxscyhyb3csIGNvbHVtbiwgY3VyUm93cywgcENlbGwpOwogICAgICAgIHJldHVybiBjZWxsMDsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImdldEZsb29yRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rmxvb3JEYXRhKHRyZWVEYXRhKSB7CiAgICAgIC8vIOiOt+WPluW9k+WJjeW1jOWll+WtkOmbhueahOWNleWFg+agvOS4quaVsOS7peWPiua3seW6pgogICAgICB2YXIgbWF4ID0gMDsKICAgICAgdmFyIGZsb29yQ29scyA9IFtdOwogICAgICBmdW5jdGlvbiBlYWNoKGRhdGEsIGZsb29yKSB7CiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3dDb25sdW0sIGluZGV4KSB7CiAgICAgICAgICBpZiAoZmxvb3IgPiBtYXgpIHsKICAgICAgICAgICAgbWF4ID0gZmxvb3I7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyb3dDb25sdW0uY2hpbGRyZW4pICYmIHJvd0Nvbmx1bS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgICAgZWFjaChyb3dDb25sdW0uY2hpbGRyZW4sIGZsb29yICsgMSwgcm93Q29ubHVtLmNoaWxkcmVuLmxlbmd0aCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmbG9vckNvbHMucHVzaChyb3dDb25sdW0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGVhY2godHJlZURhdGEsIDEpOwogICAgICByZXR1cm4gewogICAgICAgIGZsb29yOiBtYXgsCiAgICAgICAgZmxvb3JMZW5ndGg6IGZsb29yQ29scy5sZW5ndGgKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZW5lcmF0ZUV4cG9ydFZpZXdEYXRhQm9keSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVFeHBvcnRWaWV3RGF0YUJvZHkoZGF0YSwgcFJvd0luZGV4KSB7CiAgICAgIC8vIOeUn+aIkOinhuWbvuaVsOaNruWvvOWHuuS4u+S9k+aVsOaNrgogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm93LCByb3dJbmRleCkgewogICAgICAgIHZhciBuZXdyb3cgPSBzZWxmLnNoZWV0VmlzaWJsZURhdGEuYWRkUm93KCk7CiAgICAgICAgcm93LnNlcUluZGV4ID0gcFJvd0luZGV4ID09PSB1bmRlZmluZWQgPyByb3dJbmRleCArIDEgOiBwUm93SW5kZXggKyAnLicgKyAoK3Jvd0luZGV4ICsgMSk7CiAgICAgICAgc2VsZi5kYXRhQ29sTWFwLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgICAgIHZhciBjZWxsID0gbmV3cm93LmFkZENlbGwoKTsKICAgICAgICAgIHNlbGYuZ2VuZXJhdGVDZWxsVmlld1ZhbHVlKGNlbGwsIHJvdywgY29sdW1uLCByb3dJbmRleCArIDEsIHBSb3dJbmRleCk7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHNlbGYuY3VyRXhwb3J0Q29uZmlnLmlzRXhwb3J0VHJlZSAmJiBBcnJheS5pc0FycmF5KHJvdy5jaGlsZHJlbikgJiYgcm93LmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgc2VsZi5nZW5lcmF0ZUV4cG9ydFZpZXdEYXRhQm9keShyb3cuY2hpbGRyZW4sIHJvdy5zZXFJbmRleCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZW5lcmF0ZUV4cG9ydFZpZXdEYXRhZm9vdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUV4cG9ydFZpZXdEYXRhZm9vdGVyKGRhdGEpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgZm9vdERhdGEgPSB0aGlzLmN1ckV4cG9ydENvbmZpZy5mb290ZXJNZXRob2RzKHsKICAgICAgICBjb2x1bW5zOiBzZWxmLmRhdGFDb2xNYXAsCiAgICAgICAgZGF0YTogZGF0YQogICAgICB9KTsKICAgICAgdmFyIG5ld3JvdyA9IHRoaXMuc2hlZXRWaXNpYmxlRGF0YS5hZGRSb3coKTsKICAgICAgdGhpcy5kYXRhQ29sTWFwLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgICB2YXIgY2VsbCA9IG5ld3Jvdy5hZGRDZWxsKCk7CiAgICAgICAgc2VsZi5nZW5lcmF0ZUZvb3RlckNlbGxWaWV3VmFsdWUoY2VsbCwgZm9vdERhdGFbY29sdW1uSW5kZXhdLCBjb2x1bW4pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdXBwbGVtZW50SGVhZGVyVk1lcmdlQ2VsbHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN1cHBsZW1lbnRIZWFkZXJWTWVyZ2VDZWxscyhyb3csIGNvbHVtbiwgY3VyUm93cywgcENlbGwpIHsKICAgICAgLy8g5b2T6KGo5aS05pyJ5ZCI6K6h6KGM5pe26KGl6b2Q6KGM5Y2V5YWD5qC856m65L2NCiAgICAgIGZvciAodmFyIGkgPSBjdXJSb3dzICsgMTsgaSA8PSB0aGlzLmhlYWRlclJvd3M7IGkrKykgewogICAgICAgIGlmIChwQ2VsbCkgewogICAgICAgICAgdmFyIGNlbGxzID0gcENlbGwudk1lcmdlOwogICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGNlbGxzOyBfaSsrKSB7CiAgICAgICAgICAgIHRoaXMuaGVhZGVyUm93c01hcFsncm93cycgKyBfaV0uYWRkQ2VsbCgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmhlYWRlclJvd3NNYXBbJ3Jvd3MnICsgaV0uYWRkQ2VsbCgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlQ2VsbFZpZXdWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVDZWxsVmlld1ZhbHVlKGNlbGwsIGl0ZW0sIGNvbHVtbiwgcm93SW5kZXgsIHBSb3dJbmRleCkgewogICAgICAvLyDnlJ/miJBib2R55Y2V5YWD5qC85pWw5o2uCiAgICAgIGlmIChjb2x1bW4uZmllbGQgPT09ICdzZXFJbmRleCcpIHsKICAgICAgICBjZWxsLnZhbHVlID0gcFJvd0luZGV4ICE9PSB1bmRlZmluZWQgPyBwUm93SW5kZXggKyAnLicgKyByb3dJbmRleCA6IHJvd0luZGV4OwogICAgICB9IGVsc2UgewogICAgICAgIGNlbGwudmFsdWUgPSB0aGlzLmdldFZpZXdDZWxsVmFsdWUoaXRlbSwgY29sdW1uKTsKICAgICAgfQogICAgICB0aGlzLmdlbmVyYXRlQ2VsbFZpZXdWYWx1ZVN0eWxlKGNlbGwsIGNvbHVtbik7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2VuZXJhdGVGb290ZXJDZWxsVmlld1ZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUZvb3RlckNlbGxWaWV3VmFsdWUoY2VsbCwgdmFsdWUsIGNvbHVtbikgewogICAgICAvLyDnlJ/miJBmb290ZXLljZXlhYPmoLzmlbDmja4KICAgICAgY2VsbC52YWx1ZSA9IHZhbHVlOwogICAgICB0aGlzLmdlbmVyYXRlQ2VsbFZpZXdWYWx1ZVN0eWxlKGNlbGwsIGNvbHVtbik7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Vmlld0NlbGxWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Vmlld0NlbGxWYWx1ZShpdGVtLCBjb2x1bW4pIHsKICAgICAgLy8g6I635Y+WYm9keeWNleWFg+agvOinhuWbvuaVsOaNrgogICAgICByZXR1cm4gdGhpcy5jdXJFeHBvcnRDb25maWcudmlld1ZhbHVlRm9ybWF0KGl0ZW1bY29sdW1uLmZpZWxkXSwgaXRlbSwgY29sdW1uKTsKICAgICAgLy8gaXRlbVtjb2x1bW4uZmllbGRdCiAgICB9CiAgfSwgewogICAga2V5OiAiZ2VuZXJhdGVDZWxsVmlzaWJsZXRpdGxlU3R5bGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlQ2VsbFZpc2libGV0aXRsZVN0eWxlKGNlbGwpIHsKICAgICAgLy8g55Sf5oiQ6KGo5aS05qC35byPCiAgICAgIGNlbGwuc3R5bGUuYWxpZ24gPSB7CiAgICAgICAgaW5kZW50OiAwLAogICAgICAgIHNocmlua1RvRml0OiBmYWxzZSwKICAgICAgICB0ZXh0Um90YXRpb246IDAsCiAgICAgICAgd3JhcFRleHQ6IGZhbHNlLAogICAgICAgIGg6ICdjZW50ZXInLAogICAgICAgIHY6ICdjZW50ZXInCiAgICAgIH07CiAgICAgIGNlbGwuc3R5bGUuYm9yZGVyID0gewogICAgICAgIGxlZnQ6ICd0aGluJywKICAgICAgICByaWdodDogJ3RoaW4nLAogICAgICAgIHRvcDogJ3RoaW4nLAogICAgICAgIGJvdHRvbTogJ3RoaW4nLAogICAgICAgIGxlZnRDb2xvcjogJ0ZGMDAwMDAwJywKICAgICAgICByaWdodENvbG9yOiAnRkYwMDAwMDAnLAogICAgICAgIHRvcENvbG9yOiAnRkYwMDAwMDAnLAogICAgICAgIGJvdHRvbUNvbG9yOiAnRkYwMDAwMDAnCiAgICAgIH07CiAgICAgIGNlbGwuc3R5bGUuZm9udCA9IHsKICAgICAgICBjb2xvcjogJzAwMDAwMDAwJywKICAgICAgICBib2xkOiB0cnVlLAogICAgICAgIGZhbWlseTogMCwKICAgICAgICBjaGFyc2V0OiAwLAogICAgICAgIGl0YWxpYzogZmFsc2UsCiAgICAgICAgdW5kZXJsaW5lOiBmYWxzZSwKICAgICAgICBzaXplOiAxMiwKICAgICAgICBuYW1lOiAnVmVyZGFuYScKICAgICAgfTsKICAgICAgY2VsbC5zdHlsZS5maWxsID0gewogICAgICAgIGJnQ29sb3I6ICdmZmZmZmZmZicsCiAgICAgICAgZmdDb2xvcjogJ2ZmRDJFOUZGJywKICAgICAgICBwYXR0ZXJuVHlwZTogJ3NvbGlkJwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlQ2VsbFZpZXdWYWx1ZVN0eWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUNlbGxWaWV3VmFsdWVTdHlsZShjZWxsLCBjb2x1bW4pIHsKICAgICAgY2VsbC5zdHlsZS5ib3JkZXIgPSB7CiAgICAgICAgbGVmdDogJ3RoaW4nLAogICAgICAgIHJpZ2h0OiAndGhpbicsCiAgICAgICAgdG9wOiAndGhpbicsCiAgICAgICAgYm90dG9tOiAndGhpbicsCiAgICAgICAgbGVmdENvbG9yOiAnRkYwMDAwMDAnLAogICAgICAgIHJpZ2h0Q29sb3I6ICdGRjAwMDAwMCcsCiAgICAgICAgdG9wQ29sb3I6ICdGRjAwMDAwMCcsCiAgICAgICAgYm90dG9tQ29sb3I6ICdGRjAwMDAwMCcKICAgICAgfTsKICAgICAgY2VsbC5zdHlsZS5hbGlnbiA9IHsKICAgICAgICBpbmRlbnQ6IDAsCiAgICAgICAgc2hyaW5rVG9GaXQ6IGZhbHNlLAogICAgICAgIHRleHRSb3RhdGlvbjogMCwKICAgICAgICB3cmFwVGV4dDogZmFsc2UsCiAgICAgICAgaDogZ2V0Q2VsbFZhbHVlQWxpZ24oY29sdW1uKSwKICAgICAgICB2OiAnY2VudGVyJwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlRXhwb3J0T3JpZ2luYWxEYXRhSGVhZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUV4cG9ydE9yaWdpbmFsRGF0YUhlYWRlcigpIHsKICAgICAgLy8g6K6+572u6KGo5aS06YOo5qC35byPCiAgICAgIC8qKg0KICAgICAgICogQ2VsbCBpbnRlbmRlZCB0byBwcm92aWRlIHVzZXIgYWNjZXNzIHRvIHRoZSBjb250ZW50cyBvZiBDZWxsIHdpdGhpbiBhbiB4bHN4LlJvdy4NCiAgICAgICAqDQogICAgICAgKiBgYGBqcw0KICAgICAgICogY29uc3QgY2VsbCA9IHJvdy5hZGRDZWxsKCk7DQogICAgICAgKiBjZWxsLnZhbHVlID0gJ0kgYW0gYSBjZWxsISc7DQogICAgICAgKiBjZWxsLmhNZXJnZSA9IDI7DQogICAgICAgKiBjZWxsLnZNZXJnZSA9IDE7DQogICAgICAgKiBjZWxsLnN0eWxlLmZpbGwucGF0dGVyblR5cGUgPSAnc29saWQnOw0KICAgICAgICogY2VsbC5zdHlsZS5maWxsLmZnQ29sb3IgPSAnMDBGRjAwMDAnOw0KICAgICAgICogY2VsbC5zdHlsZS5maWxsLmJnQ29sb3IgPSAnRkYwMDAwMDAnOw0KICAgICAgICogY2VsbC5zdHlsZS5hbGlnbi5oID0gJ2NlbnRlcic7DQogICAgICAgKiBjZWxsLnN0eWxlLmFsaWduLnYgPSAnY2VudGVyJzsNCiAgICAgICAqIGBgYA0KICAgICAgICoNCiAgICAgICAqIFNldCB0aGUgY2VsbCB2YWx1ZQ0KICAgICAgICoNCiAgICAgICAqIGBgYGpzDQogICAgICAgKiBjb25zdCBjZWxsID0gcm93LmFkZENlbGwoKTsNCiAgICAgICAqIC8vIERhdGUgdHlwZQ0KICAgICAgICogY2VsbC5zZXREYXRlKG5ldyBEYXRlKCkpOw0KICAgICAgICogLy8gTnVtYmVyIHR5cGUNCiAgICAgICAqIGNlbGwuc2V0TnVtYmVyKDEyMzQ1Nik7DQogICAgICAgKiBjZWxsLm51bUZtdCA9ICckIywjIzAuMDAnOw0KICAgICAgICogYGBgDQogICAgICAgKi8KICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgbmV3cm93ID0gc2VsZi5zaGVldE9yaWdpbmFsRGF0YS5hZGRSb3coKTsKICAgICAgc2VsZi5kYXRhQ29sTWFwLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgICB2YXIgY2VsbCA9IG5ld3Jvdy5hZGRDZWxsKCk7CiAgICAgICAgc2VsZi5nZW5lcmF0ZUNlbGxWaXNpYmxldGl0bGVTdHlsZShjZWxsLCBjb2x1bW4pOwogICAgICAgIGNlbGwudmFsdWUgPSBjb2x1bW4uZmllbGQgfHwgJyc7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlRXhwb3J0T3JpZ2luYWxEYXRhQm9keSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVFeHBvcnRPcmlnaW5hbERhdGFCb2R5KGRhdGEsIHBSb3dJbmRleCkgewogICAgICAvLyDnlJ/miJBib2R55rqQ5pWw5o2uCiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3csIHJvd0luZGV4KSB7CiAgICAgICAgdmFyIG5ld3JvdyA9IHNlbGYuc2hlZXRPcmlnaW5hbERhdGEuYWRkUm93KCk7CiAgICAgICAgcm93LnNlcUluZGV4ID0gcFJvd0luZGV4ID09PSB1bmRlZmluZWQgPyByb3dJbmRleCArIDEgOiBwUm93SW5kZXggKyAnLicgKyAoK3Jvd0luZGV4ICsgMSk7CiAgICAgICAgc2VsZi5kYXRhQ29sTWFwLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgICAgIHZhciBjZWxsID0gbmV3cm93LmFkZENlbGwoKTsKICAgICAgICAgIHNlbGYuZ2VuZXJhdGVDZWxsT3JhbmdlVmFsdWUoY2VsbCwgcm93LCBjb2x1bW4sIHJvd0luZGV4ICsgMSwgcFJvd0luZGV4KTsKICAgICAgICB9KTsKICAgICAgICBpZiAoc2VsZi5jdXJFeHBvcnRDb25maWcuaXNFeHBvcnRUcmVlICYmIEFycmF5LmlzQXJyYXkocm93LmNoaWxkcmVuKSAmJiByb3cuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBzZWxmLmdlbmVyYXRlRXhwb3J0T3JpZ2luYWxEYXRhQm9keShyb3cuY2hpbGRyZW4sIHJvdy5zZXFJbmRleCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZW5lcmF0ZUNlbGxPcmFuZ2VWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVDZWxsT3JhbmdlVmFsdWUoY2VsbCwgaXRlbSwgY29sdW1uLCByb3dJbmRleCwgcFJvd0luZGV4KSB7CiAgICAgIC8vIOeUn+aIkGJvZHnljZXlhYPmoLzmlbDmja4KICAgICAgaWYgKGNvbHVtbi5maWVsZCA9PT0gJ3NlcUluZGV4JykgewogICAgICAgIGNlbGwudmFsdWUgPSBwUm93SW5kZXggIT09IHVuZGVmaW5lZCA/IHBSb3dJbmRleCArICcuJyArIHJvd0luZGV4IDogcm93SW5kZXg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2VsbC52YWx1ZSA9IGl0ZW1bY29sdW1uLmZpZWxkXSA9PT0gdW5kZWZpbmVkID8gJycgOiBpdGVtW2NvbHVtbi5maWVsZF07CiAgICAgIH0KICAgICAgdGhpcy5nZW5lcmF0ZUNlbGxWaWV3VmFsdWVTdHlsZShjZWxsLCBjb2x1bW4pOwogICAgfQogIH0sIHsKICAgIGtleTogInRvQnVmZmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0J1ZmZlcih3Ym91dCkgewogICAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKHdib3V0Lmxlbmd0aCk7CiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTsKICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCAhPT0gd2JvdXQubGVuZ3RoOyArK2luZGV4KSB2aWV3W2luZGV4XSA9IHdib3V0LmNoYXJDb2RlQXQoaW5kZXgpICYgMHhGRjsKICAgICAgcmV0dXJuIGJ1ZjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJleHBvcnREb3dubG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwb3J0RG93bmxvYWQoZXhwb3J0WGxzeCkgewogICAgICAvLyDkuIvovb0KICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAvLyBjb25zdCB3Ym91dCA9IHRoaXMuWGxzeFRvb2wud3JpdGUoZXhwb3J0WGxzeCwgeyBib29rVHlwZTogJ3hsc3gnLCBib29rU1NUOiBmYWxzZSwgdHlwZTogJ2JpbmFyeScgfSkKICAgICAgLy8gY29uc3QgYmxvYiA9IG5ldyBCbG9iKFt0aGlzLnRvQnVmZmVyKHdib3V0KV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScgfSkKICAgICAgZXhwb3J0WGxzeC5zYXZlQXMoJ2Jsb2InKS50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7CiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0sIHsKICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nCiAgICAgICAgfSk7CiAgICAgICAgLy8gdmFyIGJsb2IgPSBuZXcgQmxvYihbJ0hlbGxvLCB3b3JsZCEnXSwgeyB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04JyB9KQogICAgICAgIEZpbGVTYXZlci5zYXZlQXMoYmxvYiwgc2VsZi5jdXJFeHBvcnRDb25maWcuZmlsZU5hbWUgKyBzZWxmLmN1ckV4cG9ydENvbmZpZy5zYXZlVHlwZSk7CiAgICAgICAgLy8gbGV0IG9iamVjdFVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikKICAgICAgICAvLyBpZiAoJ2Rvd25sb2FkJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykpIHsKICAgICAgICAvLyAgIGxldCBhVGFnID0gc2VsZi5hVGFnCiAgICAgICAgLy8gICBhVGFnLnNldEF0dHJpYnV0ZSgnaHJlZicsIG9iamVjdFVybCkKICAgICAgICAvLyAgIGFUYWcuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIHNlbGYuY3VyRXhwb3J0Q29uZmlnLmZpbGVOYW1lICsgc2VsZi5jdXJFeHBvcnRDb25maWcuc2F2ZVR5cGUpCiAgICAgICAgLy8gICBhVGFnLmNsaWNrKCkKICAgICAgICAvLyAgIHNlbGYuY3VyRXhwb3J0Q29uZmlnLnN1Y2Nlc3NDYihzZWxmLmN1ckV4cG9ydENvbmZpZykKICAgICAgICAvLyB9IGVsc2UgewogICAgICAgIC8vICAgLy8gSUUxMCvkuIvovb0KICAgICAgICAvLyAgIG5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIHNlbGYuY3VyRXhwb3J0Q29uZmlnLmZpbGVOYW1lKQogICAgICAgIC8vIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZG93bmxvYWRDc3YiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ3N2KGV4cG9ydFhsc3gpIHsKICAgICAgdmFyIHdvcmtzaGVldCA9IHRoaXMuc2hlZXRWaXNpYmxlRGF0YTsgLy8g6L+Z6YeM5oiR5Lus5Y+q6K+75Y+W56ys5LiA5bygc2hlZXQKICAgICAgdmFyIGNzdiA9IHRoaXMuWGxzeFRvb2wudXRpbHMuc2hlZXRfdG9fY3N2KHdvcmtzaGVldCk7CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoWyJcdUZFRkYiICsgY3N2XSwgewogICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluY2hhcnNldD11dGYtOCcKICAgICAgfSk7CiAgICAgIHZhciBhVGFnID0gdGhpcy5hVGFnOwogICAgICBhVGFnLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCB0aGlzLmN1ckV4cG9ydENvbmZpZy5maWxlTmFtZSArIHRoaXMuY3VyRXhwb3J0Q29uZmlnLnNhdmVUeXBlKTsKICAgICAgYVRhZy5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgYVRhZy5jbGljaygpOwogICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2IpOwogICAgfQogIH1dKTsKICByZXR1cm4gRXhwb3J0Owp9KCk7Ci8vIOiwg+eUqAovLyBjb25zdCAkZ2xvYmFsRXhwb3J0PSBuZXcgRXhwb3J0KCkKLy8gJGdsb2JhbEV4cG9ydEV4Y2VsLmV4cG9ydEV4Y2VsKHsKLy8gICBmaWxlTmFtZTogJ2V4cG9ydC54bHN4JywgLy8g5paH5Lu25ZCNCi8vICAgaXNFeHBvcnRIZWFkOiB0cnVlLCAvLyDmmK/lkKblr7zlh7rooajlpLQKLy8gICBpc0V4cG9ydEZvb3RlcjogdHJ1ZSwgLy8g5piv5ZCm5a+85Ye66KGo5bC+6YOoCi8vICAgaXNFeHBvcnRPcmlnaW5hbERhdGE6IHRydWUsIC8vIOaYr+WQpuWvvOWHuua6kOaVsOaNrgovLyAgIGlzRXhwb3J0RGF0YTogdHJ1ZSwgLy8g5piv5ZCm5a+85Ye65pWw5o2uCi8vICAgY29sdW1uczogW10sIC8vIOihqOWktOmFjee9rgovLyAgIGRhdGFzOiBbXSwgLy8g5pWw5o2u5rqQ5aS0Ci8vICAgaW5kZXg6IHRydWUsIC8vIOaYr+WQpua3u+WKoOW6j+WPtwovLyAgIGlnbm9yZUNvbHNUeXBlczogWydkcmFnU29ydCcsICdzZXEnLCAnY2hlY2tib3gnLCAncmFkaW8nLCAnb3B0aW9uUm93JywgJ2V4cGFuZCddLAovLyAgIHZpZXdWYWx1ZUZvcm1hdCh2YWx1ZSwgcm93LCBjb2x1bW4pIHsKLy8gICAgIHJldHVybiB2YWx1ZQovLyAgIH0KLy8gfSk="},{"version":3,"names":["defaultViewValueFormat","getCellValueAlign","XlsxTool","FileSaver","Export","gloabelConfig","arguments","length","undefined","_classCallCheck","xlsx","window","aTag","document","createElement","exportHistory","exportDefaultConfig","saveType","fileName","dataType","isExportOnlySourceField","isExportOnlyViewTitle","isExportHead","exportViewTitleType","isExportFooter","isExportOriginalData","isExportData","columns","datas","selection","isExportTree","index","ignoreColsTypes","viewValueFormat","value","row","column","footerMethods","_ref","data","map","columnIndex","columnIndexText","combinedType","Array","isArray","indexOf","result","item","field","parseFloat","toString","split","join","isNaN","reduce","prev","next","toFixed","e","Object","assign","_createClass","key","exportExcel","curUserConfig","context","cb","init","generateExportRowsMap","curExportConfig","generateExportSourceField","generateExportViewDataSource","generateExportOriginalDataSource","exportDownload","Xlsx","downloadCsv","obj","headerRows","dataColMap","headerRowsMap","setExportColumns","File","push","exportConfig","exportDataSource","reverse","slice","self","filter","treeNode","type","curRowIndex","pcCount","forEach","rowConlum","children","generateVisibleHeaderRowsMap","i","sheetVisibleData","addRow","sheetFieldData","addSheet","replace","newrow","cell","addCell","hMerge","vMerge","generateCellVisibletitleStyle","riverGenerateExportNestedHeader","setSheetCol","generateExportViewDataBody","generateExportViewDatafooter","sheet","_this","cols","col","colIndex","width","getColWidth","max","text","parseInt","Math","ceil","getStrByte","str","arr","len","count","s","escape","console","log","sheetOriginalData","generateExportOriginalDataHeader","generateExportOriginalDataBody","pCell","cell0","generateCurNestedHeaderCell","curRows","_this$getFloorData","getFloorData","floorLength","cellSing","supplementHeaderVMergeCells","treeData","floorCols","each","floor","pRowIndex","rowIndex","seqIndex","generateCellViewValue","footData","generateFooterCellViewValue","cells","getViewCellValue","generateCellViewValueStyle","style","align","indent","shrinkToFit","textRotation","wrapText","h","v","border","left","right","top","bottom","leftColor","rightColor","topColor","bottomColor","font","color","bold","family","charset","italic","underline","size","name","fill","bgColor","fgColor","patternType","generateCellOrangeValue","toBuffer","wbout","buf","ArrayBuffer","view","Uint8Array","charCodeAt","exportXlsx","saveAs","then","content","blob","Blob","worksheet","csv","utils","sheet_to_csv","setAttribute","href","URL","createObjectURL","click","revokeObjectURL"],"sources":["C:/Users/何小龙/Desktop/platformweb-fb/src/components/TableOld/export/export/export.js"],"sourcesContent":["/* eslint-disable no-useless-constructor */\r\n/*\r\n * describe:  基于vxe-table vxe-grid数据格式的导出工具类函数 基础版\r\n * @Date:   2020-09-02\r\n * Author: Titans@2396757591@qq.com\r\n * @Last Modified time: 2020-11-30\r\n */\r\n// import { columns, datas } from './testData.js'\r\n// import xlsx from 'js-xlsx'\r\n// import jszip from './util/jszipU.js'\r\nimport { defaultViewValueFormat, getCellValueAlign } from './exportUtil.js'\r\nimport XlsxTool from 'xlsx'\r\nimport FileSaver from 'file-saver'\r\nexport class Export {\r\n  constructor(gloabelConfig = {}) {\r\n    this.XlsxTool = XlsxTool\r\n    this.xlsx = window.xlsx\r\n    this.aTag = document.createElement('a')\r\n    this.exportHistory = [] // 导出历史记录\r\n    this.exportDefaultConfig = {\r\n      saveType: '.xlsx',\r\n      fileName: 'export', // 文件名\r\n      dataType: 'fullData',\r\n      isExportOnlySourceField: false, // 是否只导出数据源表头字段，\r\n      isExportOnlyViewTitle: false, // 是否只导出数据表头名称，\r\n      isExportHead: true, // 是否导出表头\r\n      exportViewTitleType: 'nestTitle', // nestTitle(嵌套表头)， singTitle(单表头)\r\n      isExportFooter: false, // 是否导出表尾部\r\n      isExportOriginalData: true, // 是否导出源数据\r\n      isExportData: true, // 是否导出数据\r\n      columns: [], // 表头配置\r\n      datas: [], // 源数据,\r\n      selection: [], // 选中数据\r\n      isExportTree: false, // 是否是树形数据\r\n      index: true, // 是否添加序号,\r\n      ignoreColsTypes: ['dragSort', 'seq', 'checkbox', 'radio', 'optionRow', 'expand', 'attach', 'ach', 'list', 'attachlist', 'gloableOptionRow'], // 忽略导出的列类型\r\n      viewValueFormat(value, row, column) { // 视图数据格式化方法\r\n        // return value\r\n      },\r\n      footerMethods({ columns, data }) {\r\n        return columns.map((column, columnIndex) => {\r\n          //  combinedType: ['average', 'total'],\r\n          let columnIndexText = '合计'\r\n          let combinedType = 'total'\r\n          if (columnIndex === 0) {\r\n            return columnIndexText\r\n          } else if (Array.isArray(column.combinedType) && column.combinedType.indexOf(combinedType) >= 0) {\r\n            try {\r\n              let result = data.map((item, index) => {\r\n                let value = (typeof (item[column.field]) === 'number' || typeof (item[column.field]) === 'string') ? parseFloat(item[column.field].toString().split(',').join('')) : 0\r\n                return isNaN(parseFloat(value)) ? 0 : parseFloat(value)\r\n              })\r\n              if (result.length) {\r\n                result = result.reduce((prev, next) => {\r\n                  return prev + next\r\n                })\r\n                result = (result).toFixed(2)\r\n                return result\r\n              } else {\r\n                return 0\r\n              }\r\n            } catch (e) {\r\n              throw (e)\r\n            }\r\n          } else {\r\n            return ''\r\n          }\r\n        })\r\n      }\r\n    }\r\n    this.exportDefaultConfig = Object.assign({}, this.exportDefaultConfig, gloabelConfig)\r\n  }\r\n  exportExcel(curUserConfig = {}, context, cb) {\r\n    this.context = context\r\n    // 导出excel\r\n    this.init(curUserConfig)\r\n    this.generateExportRowsMap(this.curExportConfig.columns)\r\n    this.curExportConfig.datas = this.curExportConfig[this.curExportConfig.dataType]\r\n    if (this.curExportConfig.isExportOnlySourceField || this.curExportConfig.isExportOnlyViewTitle) {\r\n      this.generateExportSourceField(this.curExportConfig.isExportOnlySourceField ? 'field' : 'title')\r\n    } else {\r\n      if (this.curExportConfig.isExportData) {\r\n        this.generateExportViewDataSource()\r\n      }\r\n      if (this.curExportConfig.isExportOriginalData) {\r\n        this.generateExportOriginalDataSource()\r\n      }\r\n    }\r\n    if (this.curExportConfig.saveType === '.xlsx') {\r\n      this.exportDownload(this.Xlsx)\r\n    } else {\r\n      this.downloadCsv()\r\n    }\r\n  }\r\n  init(obj) {\r\n    // 初始化并记录上次导出历史\r\n    this.headerRows = 1\r\n    this.dataColMap = []\r\n    this.headerRowsMap = {}\r\n    this.curExportConfig = Object.assign({}, this.exportDefaultConfig, obj)\r\n    this.curExportConfig.viewValueFormat = defaultViewValueFormat\r\n    this.setExportColumns()\r\n    // let xlsx = window.xlsx\r\n    this.Xlsx = new this.xlsx.File()\r\n    this.exportHistory.push({ exportConfig: this.curExportConfig, exportDataSource: this.Xlsx })\r\n    this.exportHistory = this.exportHistory.reverse().slice(0, 20).reverse()\r\n  }\r\n  setExportColumns() {\r\n    // 设置导出列\r\n    let self = this\r\n    this.curExportConfig.columns = this.curExportConfig.columns.filter((item) => {\r\n      if (item.treeNode) {\r\n        return false\r\n      } else {\r\n        return self.curExportConfig.ignoreColsTypes.indexOf(item.type) < 0\r\n      }\r\n    })\r\n    // if (this.curExportConfig.index) {\r\n    //   this.curExportConfig.columns.unshift({ title: '序号', field: 'seqIndex', type: 'seqIndex' })\r\n    // }\r\n  }\r\n  generateExportRowsMap(columns, curRowIndex = 1, pcCount) {\r\n    // 生成视图数据导出元数据 列映射数据\r\n    let self = this\r\n    columns.forEach((rowConlum, index) => {\r\n      if (curRowIndex > self.headerRows) {\r\n        self.headerRows = curRowIndex\r\n      }\r\n      if (Array.isArray(rowConlum.children) && rowConlum.children.length) {\r\n        self.generateExportRowsMap(rowConlum.children, curRowIndex + 1, rowConlum.children.length)\r\n      } else {\r\n        // if (rowConlum !== undefined) {\r\n        //   rowConlum.pcCount = pcCount\r\n        //   // self.dataColCellsMap[rowConlum.field] = pcCount\r\n        // }\r\n        self.dataColMap.push(rowConlum)\r\n      }\r\n    })\r\n  }\r\n\r\n  generateVisibleHeaderRowsMap() {\r\n    // 生成嵌套表头行映射数据\r\n    for (let i = 1; i <= this.headerRows; i++) {\r\n      this.headerRowsMap['rows' + i] = this.sheetVisibleData.addRow()\r\n    }\r\n  }\r\n  generateExportSourceField(type) {\r\n    let self = this\r\n    this.sheetFieldData = this.Xlsx.addSheet(this.curExportConfig.fileName.replace('.xlsx', ''))\r\n    let newrow = self.sheetFieldData.addRow()\r\n    self.dataColMap.forEach((column, columnIndex) => {\r\n      let cell = newrow.addCell()\r\n      cell.value = column[type]\r\n      cell.hMerge = 0\r\n      cell.vMerge = 0\r\n      self.generateCellVisibletitleStyle(cell)\r\n    })\r\n  }\r\n  generateExportViewDataSource() {\r\n    // 生成视图数据导出数据源\r\n    if (this.curExportConfig.isExportOriginalData) {\r\n      this.sheetVisibleData = this.Xlsx.addSheet('视图数据')\r\n    } else {\r\n      this.sheetVisibleData = this.Xlsx.addSheet(this.curExportConfig.fileName.replace('.xlsx', ''))\r\n    }\r\n    this.generateVisibleHeaderRowsMap()\r\n    if (this.curExportConfig.isExportHead) {\r\n      if (this.curExportConfig.isExportHead === 'nestTitle') {\r\n        this.riverGenerateExportNestedHeader(this.curExportConfig.columns)\r\n      } else {\r\n        this.riverGenerateExportNestedHeader(this.dataColMap)\r\n      }\r\n    }\r\n    this.setSheetCol(this.sheetVisibleData)\r\n    this.generateExportViewDataBody(this.curExportConfig.datas)\r\n    if (this.curExportConfig.isExportFooter) {\r\n      this.generateExportViewDatafooter(this.curExportConfig.datas)\r\n    }\r\n  }\r\n  setSheetCol(sheet, type = 'title') {\r\n    // 设置 列信息\r\n    // collapsed: false\r\n    // hidden: false\r\n    // max: 1\r\n    // min: 1\r\n    // numFmt: \"\"\r\n    // outlineLevel: 0\r\n    // style: Style\r\n    // align: (...)\r\n    // applyAlignment: (...)\r\n    // applyBorder: (...)\r\n    // applyFill: (...)\r\n    // applyFont: (...)\r\n    // border: (...)\r\n    // fill: (...)\r\n    // font: (...)\r\n    // width:0\r\n    // namedStyleIndex: (...)\r\n    let self = this\r\n    sheet.cols.forEach((col, colIndex) => {\r\n      col.width = self.getColWidth(colIndex, type)\r\n      col.max = 2000\r\n      col.field = this.dataColMap[colIndex]['field']\r\n    })\r\n  }\r\n  getColWidth(colIndex, type) {\r\n    // 获取colwidth\r\n    let text = this.dataColMap[colIndex][type]\r\n    if (!isNaN(parseInt(this.dataColMap[colIndex].width))) {\r\n      return Math.ceil(this.dataColMap[colIndex].width / 10)\r\n    } else if (text.length < 5) {\r\n      return 15\r\n    }\r\n    return Math.ceil(this.getStrByte(text) * 2)\r\n  }\r\n  getStrByte(str) {\r\n    //  获取字符串字节数\r\n    let arr = str.split('')\r\n    let len = arr.length\r\n    let count = 0\r\n    for (let i = 0; i < len; i++) {\r\n      let s = escape(arr[i])\r\n      // 例如：s = '你'; escape(a); \"%u4F60\"\r\n      if (s.indexOf('%u') >= 0) {\r\n        count = count + 2\r\n      } else {\r\n        count++\r\n      }\r\n    }\r\n    console.log(str, count)\r\n    return count\r\n  }\r\n  generateExportOriginalDataSource() {\r\n    // 生成源数据导出数据源\r\n    this.sheetOriginalData = this.Xlsx.addSheet('源数据')\r\n    if (this.curExportConfig.isExportHead) {\r\n      this.generateExportOriginalDataHeader()\r\n    }\r\n    this.generateExportOriginalDataBody(this.curExportConfig.datas)\r\n    this.setSheetCol(this.sheetOriginalData, 'field')\r\n  }\r\n  riverGenerateExportNestedHeader(columns, curRowIndex = 1, pCell) {\r\n    // 递归生成嵌套表头\r\n    let self = this\r\n    columns.forEach((column, index) => {\r\n      if (Array.isArray(column.children) && column.children.length) {\r\n        let cell0 = self.generateCurNestedHeaderCell(self.headerRowsMap['rows' + curRowIndex], column, curRowIndex, pCell)\r\n        self.riverGenerateExportNestedHeader(column.children, curRowIndex + 1, cell0)\r\n      } else {\r\n        self.generateCurNestedHeaderCell(self.headerRowsMap['rows' + curRowIndex], column, curRowIndex, pCell)\r\n      }\r\n    })\r\n  }\r\n  generateCurNestedHeaderCell(row, column, curRows, pCell) {\r\n    // 生成表头数据并补齐空位\r\n    // cellType: (...)\r\n    // date1904: (...)\r\n    // formula: (...)\r\n    // hMerge: (...)\r\n    // hidden: (...)\r\n    // numFmt: (...)\r\n    // row: (...)\r\n    // vMerge: (...)\r\n    // _style: (...)\r\n    // _value: (...)\r\n    let cell0 = {}\r\n    if (Array.isArray(column.children) && column.children.length) {\r\n      let { floorLength } = this.getFloorData(column.children)\r\n      // for (let i = 0; i < column.children.length; i++) {\r\n      for (let i = 0; i < floorLength; i++) {\r\n        let cell = row.addCell()\r\n        if (i === 0) {\r\n          cell.value = column['title']\r\n          cell.hMerge = floorLength - 1\r\n          cell.vMerge = 0\r\n          cell0 = cell\r\n        } else {\r\n          cell.value = column['title']\r\n          cell.hMerge = 0\r\n          cell.vMerge = 0\r\n        }\r\n        this.generateCellVisibletitleStyle(cell)\r\n      }\r\n    } else {\r\n      let cellSing = row.addCell()\r\n      cellSing.value = column['title']\r\n      cellSing.hMerge = 0\r\n      cellSing.vMerge = this.headerRows - curRows\r\n      cell0 = cellSing\r\n      this.generateCellVisibletitleStyle(cellSing)\r\n      this.supplementHeaderVMergeCells(row, column, curRows, pCell)\r\n      return cell0\r\n    }\r\n  }\r\n  getFloorData(treeData) {\r\n    // 获取当前嵌套子集的单元格个数以及深度\r\n    let max = 0\r\n    let floorCols = []\r\n    function each(data, floor) {\r\n      data.forEach((rowConlum, index) => {\r\n        if (floor > max) {\r\n          max = floor\r\n        }\r\n        if (Array.isArray(rowConlum.children) && rowConlum.children.length) {\r\n          each(rowConlum.children, floor + 1, rowConlum.children.length)\r\n        } else {\r\n          floorCols.push(rowConlum)\r\n        }\r\n      })\r\n    }\r\n    each(treeData, 1)\r\n    return {\r\n      floor: max,\r\n      floorLength: floorCols.length\r\n    }\r\n  }\r\n  generateExportViewDataBody(data, pRowIndex) {\r\n    // 生成视图数据导出主体数据\r\n    let self = this\r\n    data.forEach((row, rowIndex) => {\r\n      let newrow = self.sheetVisibleData.addRow()\r\n      row.seqIndex = pRowIndex === undefined ? rowIndex + 1 : pRowIndex + '.' + (+rowIndex + 1)\r\n      self.dataColMap.forEach((column, columnIndex) => {\r\n        let cell = newrow.addCell()\r\n        self.generateCellViewValue(cell, row, column, rowIndex + 1, pRowIndex)\r\n      })\r\n      if (self.curExportConfig.isExportTree && Array.isArray(row.children) && row.children.length) {\r\n        self.generateExportViewDataBody(row.children, row.seqIndex)\r\n      }\r\n    })\r\n  }\r\n  generateExportViewDatafooter(data) {\r\n    let self = this\r\n    let footData = this.curExportConfig.footerMethods({ columns: self.dataColMap, data: data })\r\n    let newrow = this.sheetVisibleData.addRow()\r\n    this.dataColMap.forEach((column, columnIndex) => {\r\n      let cell = newrow.addCell()\r\n      self.generateFooterCellViewValue(cell, footData[columnIndex], column)\r\n    })\r\n  }\r\n  supplementHeaderVMergeCells(row, column, curRows, pCell) {\r\n    // 当表头有合计行时补齐行单元格空位\r\n    for (let i = curRows + 1; i <= this.headerRows; i++) {\r\n      if (pCell) {\r\n        let cells = pCell.vMerge\r\n        for (let i = 0; i < cells; i++) {\r\n          this.headerRowsMap['rows' + i].addCell()\r\n        }\r\n      } else {\r\n        this.headerRowsMap['rows' + i].addCell()\r\n      }\r\n    }\r\n  }\r\n  generateCellViewValue(cell, item, column, rowIndex, pRowIndex) {\r\n    // 生成body单元格数据\r\n    if (column.field === 'seqIndex') {\r\n      cell.value = pRowIndex !== undefined ? pRowIndex + '.' + rowIndex : rowIndex\r\n    } else {\r\n      cell.value = this.getViewCellValue(item, column)\r\n    }\r\n    this.generateCellViewValueStyle(cell, column)\r\n  }\r\n  generateFooterCellViewValue(cell, value, column) {\r\n    // 生成footer单元格数据\r\n    cell.value = value\r\n    this.generateCellViewValueStyle(cell, column)\r\n  }\r\n  getViewCellValue(item, column) {\r\n    // 获取body单元格视图数据\r\n    return this.curExportConfig.viewValueFormat(item[column.field], item, column)\r\n    // item[column.field]\r\n  }\r\n  generateCellVisibletitleStyle(cell) {\r\n    // 生成表头样式\r\n    cell.style.align = {\r\n      indent: 0,\r\n      shrinkToFit: false,\r\n      textRotation: 0,\r\n      wrapText: false,\r\n      h: 'center',\r\n      v: 'center'\r\n    }\r\n    cell.style.border = {\r\n      left: 'thin',\r\n      right: 'thin',\r\n      top: 'thin',\r\n      bottom: 'thin',\r\n      leftColor: 'FF000000',\r\n      rightColor: 'FF000000',\r\n      topColor: 'FF000000',\r\n      bottomColor: 'FF000000'\r\n    }\r\n    cell.style.font = {\r\n      color: '00000000',\r\n      bold: true,\r\n      family: 0,\r\n      charset: 0,\r\n      italic: false,\r\n      underline: false,\r\n      size: 12,\r\n      name: 'Verdana'\r\n    }\r\n    cell.style.fill = {\r\n      bgColor: 'ffffffff',\r\n      fgColor: 'ffD2E9FF',\r\n      patternType: 'solid'\r\n    }\r\n  }\r\n  generateCellViewValueStyle(cell, column) {\r\n    cell.style.border = {\r\n      left: 'thin',\r\n      right: 'thin',\r\n      top: 'thin',\r\n      bottom: 'thin',\r\n      leftColor: 'FF000000',\r\n      rightColor: 'FF000000',\r\n      topColor: 'FF000000',\r\n      bottomColor: 'FF000000'\r\n    }\r\n    cell.style.align = {\r\n      indent: 0,\r\n      shrinkToFit: false,\r\n      textRotation: 0,\r\n      wrapText: false,\r\n      h: getCellValueAlign(column),\r\n      v: 'center'\r\n    }\r\n  }\r\n  generateExportOriginalDataHeader() {\r\n    // 设置表头部样式\r\n    /**\r\n     * Cell intended to provide user access to the contents of Cell within an xlsx.Row.\r\n     *\r\n     * ```js\r\n     * const cell = row.addCell();\r\n     * cell.value = 'I am a cell!';\r\n     * cell.hMerge = 2;\r\n     * cell.vMerge = 1;\r\n     * cell.style.fill.patternType = 'solid';\r\n     * cell.style.fill.fgColor = '00FF0000';\r\n     * cell.style.fill.bgColor = 'FF000000';\r\n     * cell.style.align.h = 'center';\r\n     * cell.style.align.v = 'center';\r\n     * ```\r\n     *\r\n     * Set the cell value\r\n     *\r\n     * ```js\r\n     * const cell = row.addCell();\r\n     * // Date type\r\n     * cell.setDate(new Date());\r\n     * // Number type\r\n     * cell.setNumber(123456);\r\n     * cell.numFmt = '$#,##0.00';\r\n     * ```\r\n     */\r\n    let self = this\r\n    let newrow = self.sheetOriginalData.addRow()\r\n    self.dataColMap.forEach((column, columnIndex) => {\r\n      let cell = newrow.addCell()\r\n      self.generateCellVisibletitleStyle(cell, column)\r\n      cell.value = column.field || ''\r\n    })\r\n  }\r\n  generateExportOriginalDataBody(data, pRowIndex) {\r\n    // 生成body源数据\r\n    let self = this\r\n    data.forEach((row, rowIndex) => {\r\n      let newrow = self.sheetOriginalData.addRow()\r\n      row.seqIndex = pRowIndex === undefined ? rowIndex + 1 : pRowIndex + '.' + (+rowIndex + 1)\r\n      self.dataColMap.forEach((column, columnIndex) => {\r\n        let cell = newrow.addCell()\r\n        self.generateCellOrangeValue(cell, row, column, rowIndex + 1, pRowIndex)\r\n      })\r\n      if (self.curExportConfig.isExportTree && Array.isArray(row.children) && row.children.length) {\r\n        self.generateExportOriginalDataBody(row.children, row.seqIndex)\r\n      }\r\n    })\r\n  }\r\n  generateCellOrangeValue(cell, item, column, rowIndex, pRowIndex) {\r\n    // 生成body单元格数据\r\n    if (column.field === 'seqIndex') {\r\n      cell.value = pRowIndex !== undefined ? pRowIndex + '.' + rowIndex : rowIndex\r\n    } else {\r\n      cell.value = item[column.field] === undefined ? '' : item[column.field]\r\n    }\r\n    this.generateCellViewValueStyle(cell, column)\r\n  }\r\n  toBuffer(wbout) {\r\n    const buf = new ArrayBuffer(wbout.length)\r\n    const view = new Uint8Array(buf)\r\n    for (let index = 0; index !== wbout.length; ++index) view[index] = wbout.charCodeAt(index) & 0xFF\r\n    return buf\r\n  }\r\n  exportDownload(exportXlsx) {\r\n    // 下载\r\n    let self = this\r\n    // const wbout = this.XlsxTool.write(exportXlsx, { bookType: 'xlsx', bookSST: false, type: 'binary' })\r\n    // const blob = new Blob([this.toBuffer(wbout)], { type: 'application/octet-stream' })\r\n    exportXlsx.saveAs('blob').then(function (content) {\r\n      const blob = new Blob([content], {\r\n        type: 'application/octet-stream'\r\n      })\r\n      // var blob = new Blob(['Hello, world!'], { type: 'text/plain;charset=utf-8' })\r\n      FileSaver.saveAs(blob, self.curExportConfig.fileName + self.curExportConfig.saveType)\r\n      // let objectUrl = URL.createObjectURL(blob)\r\n      // if ('download' in document.createElement('a')) {\r\n      //   let aTag = self.aTag\r\n      //   aTag.setAttribute('href', objectUrl)\r\n      //   aTag.setAttribute('download', self.curExportConfig.fileName + self.curExportConfig.saveType)\r\n      //   aTag.click()\r\n      //   self.curExportConfig.successCb(self.curExportConfig)\r\n      // } else {\r\n      //   // IE10+下载\r\n      //   navigator.msSaveBlob(blob, self.curExportConfig.fileName)\r\n      // }\r\n    })\r\n  }\r\n  downloadCsv(exportXlsx) {\r\n    let worksheet = this.sheetVisibleData // 这里我们只读取第一张sheet\r\n    let csv = this.XlsxTool.utils.sheet_to_csv(worksheet)\r\n    let blob = new Blob(['\\uFEFF' + csv], {\r\n      type: 'text/plaincharset=utf-8'\r\n    })\r\n    let aTag = this.aTag\r\n    aTag.setAttribute('download', this.curExportConfig.fileName + this.curExportConfig.saveType)\r\n    aTag.href = URL.createObjectURL(blob)\r\n    aTag.click()\r\n    URL.revokeObjectURL(blob)\r\n  }\r\n}\r\n// 调用\r\n// const $globalExport= new Export()\r\n// $globalExportExcel.exportExcel({\r\n//   fileName: 'export.xlsx', // 文件名\r\n//   isExportHead: true, // 是否导出表头\r\n//   isExportFooter: true, // 是否导出表尾部\r\n//   isExportOriginalData: true, // 是否导出源数据\r\n//   isExportData: true, // 是否导出数据\r\n//   columns: [], // 表头配置\r\n//   datas: [], // 数据源头\r\n//   index: true, // 是否添加序号\r\n//   ignoreColsTypes: ['dragSort', 'seq', 'checkbox', 'radio', 'optionRow', 'expand'],\r\n//   viewValueFormat(value, row, column) {\r\n//     return value\r\n//   }\r\n// })\r\n"],"mappings":"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"}]}