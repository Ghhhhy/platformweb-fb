{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\cardMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\CardMenu\\cardMenu.vue","mtime":1694505521316},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJkIGZyb20gJy4vY2FyZC9jYXJkJzsKaW1wb3J0IENhcmRNZW51VHJlZSBmcm9tICcuL290aGVyL21lbnVUcmVlL2luZGV4LnZ1ZSc7CmltcG9ydCBDYXJkVmlkZW8gZnJvbSAnLi9vdGhlci92aWRlbyc7CmltcG9ydCBQb3BlckV4dGVuZCBmcm9tICcuL3BvcGVyL3BvcGVyJzsKaW1wb3J0IE1lbnVUb2RvIGZyb20gJy4vb3RoZXIvbWVudVRvZG8nOwppbXBvcnQgZGF0YSBmcm9tICcuL2NvbmZpZy9kYXRhJzsKaW1wb3J0IE1lbnVNb2R1bGUgZnJvbSAnQC9hcGkvZnJhbWUvY29tbW9uL21lbnUuanMnOwoKLy8gaW1wb3J0IGRhdGFiZiBmcm9tICcuL2NvbmZpZy9kYXRhYmYnCgppbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuL3V0aWxzJzsKLy8gY29uc3QgQ0FSRFdJRFRIID0gNDc2CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhcmRNZW51JywKICAvLyBtaXhpbnM6IFtkYXRhYmZdLAogIG1peGluczogW2RhdGFdLAogIGNvbXBvbmVudHM6IHsKICAgIENhcmQ6IENhcmQsCiAgICBDYXJkTWVudVRyZWU6IENhcmRNZW51VHJlZSwKICAgIENhcmRWaWRlbzogQ2FyZFZpZGVvLAogICAgTWVudVRvZG86IE1lbnVUb2RvLAogICAgUG9wZXJFeHRlbmQ6IFBvcGVyRXh0ZW5kCiAgfSwKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkTG9hZGluZzogZmFsc2UsCiAgICAgIHVpQ2FyZE1lbnU6IHt9LAogICAgICBtZW51VHJlZToge30sCiAgICAgIGN1ckV4dGVuZDogZmFsc2UsCiAgICAgIC8vIOW9k+WJjeWxleW8gOeahOihjAogICAgICBjdXJyZW50QnRuOiAnJywKICAgICAgLy8g5b2T5YmNY2FyZOS4iueCueWHu+eahOaMiemSrgogICAgICBjdXJyZW50Q2FyZDogJycsCiAgICAgIC8vIOW9k+WJjWNhcmTmqKHlnZcKICAgICAgYWN0aXZlQnRuOiAnJywKICAgICAgZXh0ZW5kV2lkdGg6ICcwcHgnLAogICAgICBjYXJkV2lkdGg6ICcwcHgnLAogICAgICBtYXJnaW5XaWR0aDogJzUwcHgnLAogICAgICBhbGxvd051bUluOiAwLAogICAgICBhcnJvd0RpcmVjdENsYXNzOiAnYXJyb3ctbGVmdCcKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY3VyOiBmdW5jdGlvbiBjdXIoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY3VycmVudEJ0bjogdGhpcy5jdXJyZW50QnRuLAogICAgICAgIGN1cnJlbnRDYXJkOiB0aGlzLmN1cnJlbnRDYXJkLAogICAgICAgIGFsbG93TnVtOiB0aGlzLmFsbG93TnVtSW4sCiAgICAgICAgYXJyb3dEaXJlY3RDbGFzczogdGhpcy5hcnJvd0RpcmVjdENsYXNzCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDnlJ/lrZjphY3nva7pobkKICAgIGdlbmVyYXRlQ29uZmlnOiBmdW5jdGlvbiBnZW5lcmF0ZUNvbmZpZygpIHsKICAgICAgLy8gMS4g5Yqo5oCB55Sf5oiQ6YWN572u5pWw5o2uCiAgICAgIHRoaXMuZ2VuZXJhdGVDYXJkTWVudSgpOwogICAgICAvLyDlvoXlip7lt7Llip4KICAgICAgLy8gdGhpcy5nZW5lcmF0ZUNhcmRCdG5zKCkKICAgICAgLy8gMS4g5Yqg6L295pys5Zyw5Zu+54mHCiAgICAgIHRoaXMuZ2V0SW1hZ2VVcmwoKTsKICAgICAgLy8gMy4g6Ieq6YCC5bqU57yp5pS+CiAgICAgIHRoaXMucmVzaXplKCk7CiAgICB9LAogICAgcHJlR2VuZXJhdGVDYXJkQnRuczogZnVuY3Rpb24gcHJlR2VuZXJhdGVDYXJkQnRucyhzdGF0dXMsIG1lbnVzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuYWRMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5nZW5lcmF0ZUNhcmRCdG5zKHN0YXR1cywgbWVudXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmFkTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBjYXJk5LiK5oyJ6ZKu77yM5LqL5Lu25Zue6LCDCiAgICBic0NhcmRDbGlja0V2ZW50OiBmdW5jdGlvbiBic0NhcmRDbGlja0V2ZW50KG9iaiwgJHRoaXMpIHsKICAgICAgdGhpcy5tZW51VHJlZSA9IHt9OwogICAgICAvLyDlkIzkuIDooYznmoTvvIzlkIzkuIDkuKrmqKHlnZfvvIzlkIzkuIDmjInpkq7ngrnlh7vlpoLmnpzlt7Lnu4/lsZXlvIDvvIznrKzkuozmrKHngrnlh7vliJnmlLYKICAgICAgdmFyIHN5c01lbnUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zeXN0ZW1NZW51IHx8IFtdOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHN5c01lbnUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChvYmoudHlwZSA9PT0gaXRlbS5ndWlkKSB7CiAgICAgICAgICBzZWxmLm1lbnVUcmVlID0gaXRlbTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyB0aGlzLmNhcmRCdG5zW29iai50eXBlXS5mdW5NZW51ID0gc3lzTWVudS5tZW51CiAgICAgIGlmICh0aGlzLmN1ckV4dGVuZCA9PT0gb2JqLnJvd05vICYmIHRoaXMuY3VycmVudENhcmQgPT09IG9iai50eXBlICYmIHRoaXMuY3VycmVudEJ0biA9PT0gb2JqLmNvZGUgJiYgdGhpcy5jdXJFeHRlbmQpIHsKICAgICAgICB0aGlzLmN1ckV4dGVuZCA9IGZhbHNlOwogICAgICAgIHRoaXMuYWN0aXZlQnRuID0gJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHN3aXRjaCAob2JqLnNlcSkgewogICAgICAgIGNhc2UgJ2ZpcnN0JzoKICAgICAgICAgIHRoaXMuYXJyb3dEaXJlY3RDbGFzcyA9ICdhcnJvdy1sZWZ0JzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ21pZGRsZSc6CiAgICAgICAgICB0aGlzLmFycm93RGlyZWN0Q2xhc3MgPSAnYXJyb3ctbWlkZGxlJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2VuZCc6CiAgICAgICAgICB0aGlzLmFycm93RGlyZWN0Q2xhc3MgPSAnYXJyb3ctcmlnaHQnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRoaXMuYXJyb3dEaXJlY3RDbGFzcyA9ICdhcnJvdy1sZWZ0JzsKICAgICAgfQogICAgICB0aGlzLmFjdGl2ZUJ0biA9ICIiLmNvbmNhdChvYmoudHlwZSwgIi0iKS5jb25jYXQob2JqLmNvZGUpOyAvLyDmv4DmtLvnmoTmjInpkq7vvIzlhajlsYDlj6rmnInkuIDkuKoKICAgICAgdGhpcy5jdXJFeHRlbmQgPSBvYmoucm93Tm87CiAgICAgIHRoaXMuY3VycmVudEJ0biA9IG9iai5jb2RlOwogICAgICB0aGlzLmN1cnJlbnRDYXJkID0gb2JqLnR5cGU7CiAgICB9LAogICAgLy8g5bGV5byA6Z2i5p2/77yM5oyJ6ZKu5Zue6LCDCiAgICBic0NhcmRQb3BlckNsaWNrRXZlbnQ6IGZ1bmN0aW9uIGJzQ2FyZFBvcGVyQ2xpY2tFdmVudChvYmosICR0aGlzKSB7CiAgICAgIGNvbnNvbGUubG9nKDU2LCAn5Zue6LCD5pa55byPNDQ0Jywgb2JqLCAkdGhpcy4kb3B0aW9ucyk7CiAgICAgIHRoaXMuZ2V0Um91dGVyKG9iaik7CiAgICB9LAogICAgZ2V0Um91dGVyOiBmdW5jdGlvbiBnZXRSb3V0ZXIodmFsdWUpIHsKICAgICAgdmFyIGFyciA9IFtdOwogICAgICBhcnIucHVzaCh2YWx1ZSk7CiAgICAgIHZhciB2YWx1ZU51bSA9IGFyci5zbGljZSgwLCBhcnIubGVuZ3RoICsgMSk7CiAgICAgIGlmICh2YWx1ZU51bVswXS5uYW1lID09PSB2YWx1ZU51bVswXS5mX0Z1bGxOYW1lKSB7CiAgICAgICAgdGhpcy5vbk1lbnVTZWxlY3RDaGFuZ2UodmFsdWUpOwogICAgICB9CiAgICB9LAogICAgb25NZW51U2VsZWN0Q2hhbmdlOiBmdW5jdGlvbiBvbk1lbnVTZWxlY3RDaGFuZ2Uob2JqKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGlmIChvYmoucGFyYW01ICYmIG9iai5wYXJhbTUuaW5kZXhPZignbmVlZGNoZWNrPXRydWUnKSA+PSAwKSB7CiAgICAgICAgLy8g6ZyA6KaB5qCh6aqM57yW5oql5piv5ZCm5bey5YWz6ZetCiAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgIG1lbnVndWlkOiBvYmouZ3VpZCwKICAgICAgICAgIGFwcGd1aWQ6IG9iai5hcHBpZCwKICAgICAgICAgIGFwcGlkOiBvYmouYXBwc3lzaWQsCiAgICAgICAgICBzcGVjcm9sZWd1aWQ6ICcnLAogICAgICAgICAgcm9sZWd1aWQ6IG9iai5yb2xlZ3VpZAogICAgICAgIH07CiAgICAgICAgTWVudU1vZHVsZS5nZXRGYlBhZ2VDb25maWcocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIE9iamVjdC5hc3NpZ24ob2JqLCByZXMpOwogICAgICAgICAgaWYgKHJlcy5kYXRhLmlzYnVkZ2V0YmVnaW4gPT09IDAgJiYgcmVzLmRhdGEuZGF0YXR5cGUgIT09IDgpIHsKICAgICAgICAgICAgc2VsZi4kbWVzc2FnZSgn6aKE566X57yW5oql5bey5YWz6ZetJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgnc2V0Q3VyTWVudU9iaicsIG9iaik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJNZW51T2JqJywgb2JqKTsKICAgICAgfQogICAgfSwKICAgIC8vIOe8qeaUvgogICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgIHZhciBhbGxvd051bSA9IDA7CiAgICAgIGlmICh0aGlzLiRyZWZzLmNhcmRDb250ZW50Lm9mZnNldFdpZHRoID49ICcxNDQwJykgewogICAgICAgIGFsbG93TnVtID0gNDsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGxvd051bSA9IDM7CiAgICAgIH0KICAgICAgdmFyIHJvd3MgPSBbXTsKICAgICAgdmFyIG1lbnVzID0ge307CiAgICAgIGlmIChhbGxvd051bSA+IDApIHsKICAgICAgICAvLyDlsIbkuIDkuKrmlbDnu4TvvIzmjInnhaflh6DkuKrlhYPntKDkuIDotbfliIblr7jlpJrkuKrlrZDmlbDnu4QKICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5jYXJkTWVudS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gYWxsb3dOdW0pIHsKICAgICAgICAgIHJvd3MucHVzaCh0aGlzLmNhcmRNZW51LnNsaWNlKGksIGkgKyBhbGxvd051bSkpOwogICAgICAgIH0KICAgICAgICB0aGlzLmV4dGVuZFdpZHRoID0gdGhpcy4kcmVmcy5jYXJkQ29udGVudC5vZmZzZXRXaWR0aCAtIDEwMCArICdweCc7CiAgICAgICAgdGhpcy5jYXJkV2lkdGggPSB0aGlzLiRyZWZzLmNhcmRDb250ZW50Lm9mZnNldFdpZHRoIC0gMTAwICsgJ3B4JzsKICAgICAgICB0aGlzLmFsbG93TnVtSW4gPSBhbGxvd051bTsKICAgICAgfQogICAgICByb3dzLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBtZW51c1sicm93Ii5jb25jYXQoaW5kZXggKyAxKV0gPSB7CiAgICAgICAgICByb3dObzogInJvdyIuY29uY2F0KGluZGV4ICsgMSksCiAgICAgICAgICBjYXJkTWVudTogaXRlbQogICAgICAgIH07CiAgICAgIH0pOwogICAgICB0aGlzLnVpQ2FyZE1lbnUgPSBleHRlbmQodHJ1ZSwge30sIG1lbnVzKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTsKICAgIHRoaXMuZ2VuZXJhdGVDb25maWcoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpOwogIH0sCiAgd2F0Y2g6IHt9Cn07"},{"version":3,"names":["Card","CardMenuTree","CardVideo","PoperExtend","MenuTodo","data","MenuModule","extend","name","mixins","components","props","adLoading","uiCardMenu","menuTree","curExtend","currentBtn","currentCard","activeBtn","extendWidth","cardWidth","marginWidth","allowNumIn","arrowDirectClass","computed","cur","allowNum","methods","generateConfig","generateCardMenu","getImageUrl","resize","preGenerateCardBtns","status","menus","_this","generateCardBtns","then","bsCardClickEvent","obj","$this","sysMenu","$store","state","systemMenu","self","forEach","item","type","guid","rowNo","code","seq","concat","bsCardPoperClickEvent","console","log","$options","getRouter","value","arr","push","valueNum","slice","length","f_FullName","onMenuSelectChange","_this2","param5","indexOf","params","menuguid","appguid","appid","appsysid","specroleguid","roleguid","getFbPageConfig","res","Object","assign","isbudgetbegin","datatype","$message","commit","$refs","cardContent","offsetWidth","rows","i","len","cardMenu","map","index","created","mounted","window","addEventListener","beforeDestroy","removeEventListener","watch"],"sources":["src/components/CardMenu/cardMenu.vue"],"sourcesContent":["<!-- 卡片菜单 -->\r\n<template>\r\n  <div ref=\"cardContent\" class=\"card-menu__content\">\r\n    <div v-for=\"(item, index) in uiCardMenu\" :key=\"index\" class=\"menu-panel\">\r\n      <div ref=\"cardMenu\" class=\"card-menu__card\" :style=\"{ width: cardWidth, 'margin-left': marginWidth, 'margin-right': marginWidth, '--top-item-nums': allowNumIn }\">\r\n        <Card\r\n          v-for=\"(card, idx) in item.cardMenu\"\r\n          :key=\"idx\"\r\n          :card-global=\"cardGlobal\"\r\n          :card-menu=\"card\"\r\n          :row-no=\"item.rowNo\"\r\n          :active-btn=\"activeBtn\"\r\n          :seq=\"item.cardMenu.length === allowNumIn ? (idx === 0 ? 'first' : ((idx + 1) === item.cardMenu.length ? 'end' : 'middle')) : 'first'\"\r\n          :class=\"(idx === item.cardMenu.length - 1 ) ? 'row-last-card' : ''\"\r\n          @generateCardBtns=\"preGenerateCardBtns\"\r\n        />\r\n      </div>\r\n      <div v-show=\"curExtend === item.rowNo\" ref=\"cardExtend\" class=\"card-menu__extend\" :style=\"{ width: extendWidth, 'margin-left': marginWidth, 'margin-right': marginWidth }\">\r\n        <div class=\"arrow\" :class=\"arrowDirectClass\"></div>\r\n        <div class=\"extend-child\">\r\n          <!--自定义待办-->\r\n          <MenuTodo v-if=\"currentBtn === 'agentItem'\" :card=\"cur\" />\r\n          <PoperExtend v-if=\"currentBtn === 'doneItem'\" v-loading=\"adLoading\" :card-btns=\"cardBtns\" :cur=\"cur\" :allow-num=\"allowNumIn\" />\r\n          <CardMenuTree v-if=\"currentBtn === 'funMenu'\" :data=\"menuTree\" />\r\n          <CardVideo v-if=\"currentBtn === 'oprateGuide'\" :card-btns=\"cardBtns\" :cur=\"cur\" :allow-num=\"allowNumIn\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Card from './card/card'\r\nimport CardMenuTree from './other/menuTree/index.vue'\r\nimport CardVideo from './other/video'\r\nimport PoperExtend from './poper/poper'\r\nimport MenuTodo from './other/menuTodo'\r\nimport data from './config/data'\r\nimport MenuModule from '@/api/frame/common/menu.js'\r\n\r\n// import databf from './config/databf'\r\n\r\nimport { extend } from './utils'\r\n// const CARDWIDTH = 476\r\n\r\nexport default {\r\n  name: 'CardMenu',\r\n  // mixins: [databf],\r\n  mixins: [data],\r\n  components: {\r\n    Card,\r\n    CardMenuTree,\r\n    CardVideo,\r\n    MenuTodo,\r\n    PoperExtend\r\n  },\r\n  props: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      adLoading: false,\r\n      uiCardMenu: {},\r\n      menuTree: {},\r\n      curExtend: false, // 当前展开的行\r\n      currentBtn: '', // 当前card上点击的按钮\r\n      currentCard: '', // 当前card模块\r\n      activeBtn: '',\r\n      extendWidth: '0px',\r\n      cardWidth: '0px',\r\n      marginWidth: '50px',\r\n      allowNumIn: 0,\r\n      arrowDirectClass: 'arrow-left'\r\n    }\r\n  },\r\n  computed: {\r\n    cur() {\r\n      return {\r\n        currentBtn: this.currentBtn,\r\n        currentCard: this.currentCard,\r\n        allowNum: this.allowNumIn,\r\n        arrowDirectClass: this.arrowDirectClass\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 生存配置项\r\n    generateConfig() {\r\n      // 1. 动态生成配置数据\r\n      this.generateCardMenu()\r\n      // 待办已办\r\n      // this.generateCardBtns()\r\n      // 1. 加载本地图片\r\n      this.getImageUrl()\r\n      // 3. 自适应缩放\r\n      this.resize()\r\n    },\r\n    preGenerateCardBtns(status, menus) {\r\n      this.adLoading = true\r\n      this.generateCardBtns(status, menus).then(() => {\r\n        this.adLoading = false\r\n      })\r\n    },\r\n    // card上按钮，事件回调\r\n    bsCardClickEvent(obj, $this) {\r\n      this.menuTree = {}\r\n      // 同一行的，同一个模块，同一按钮点击如果已经展开，第二次点击则收\r\n      const sysMenu = this.$store.state.systemMenu || []\r\n      let self = this\r\n      sysMenu.forEach(item => {\r\n        if (obj.type === item.guid) {\r\n          self.menuTree = item\r\n        }\r\n      })\r\n      // this.cardBtns[obj.type].funMenu = sysMenu.menu\r\n      if (this.curExtend === obj.rowNo && this.currentCard === obj.type && this.currentBtn === obj.code && this.curExtend) {\r\n        this.curExtend = false\r\n        this.activeBtn = ''\r\n        return\r\n      }\r\n      switch (obj.seq) {\r\n        case 'first':\r\n          this.arrowDirectClass = 'arrow-left'\r\n          break\r\n        case 'middle':\r\n          this.arrowDirectClass = 'arrow-middle'\r\n          break\r\n        case 'end':\r\n          this.arrowDirectClass = 'arrow-right'\r\n          break\r\n        default:\r\n          this.arrowDirectClass = 'arrow-left'\r\n      }\r\n      this.activeBtn = `${obj.type}-${obj.code}` // 激活的按钮，全局只有一个\r\n      this.curExtend = obj.rowNo\r\n      this.currentBtn = obj.code\r\n      this.currentCard = obj.type\r\n    },\r\n\r\n    // 展开面板，按钮回调\r\n    bsCardPoperClickEvent(obj, $this) {\r\n      console.log(56, '回调方式444', obj, $this.$options)\r\n      this.getRouter(obj)\r\n    },\r\n\r\n    getRouter(value) {\r\n      let arr = []\r\n      arr.push(value)\r\n      let valueNum = arr.slice(0, arr.length + 1)\r\n      if (valueNum[0].name === valueNum[0].f_FullName) {\r\n        this.onMenuSelectChange(value)\r\n      }\r\n    },\r\n    onMenuSelectChange(obj) {\r\n      let self = this\r\n      if (obj.param5 && obj.param5.indexOf('needcheck=true') >= 0) { // 需要校验编报是否已关闭\r\n        let params = {\r\n          menuguid: obj.guid,\r\n          appguid: obj.appid,\r\n          appid: obj.appsysid,\r\n          specroleguid: '',\r\n          roleguid: obj.roleguid }\r\n        MenuModule.getFbPageConfig(params).then(res => {\r\n          Object.assign(obj, res)\r\n          if (res.data.isbudgetbegin === 0 && res.data.datatype !== 8) {\r\n            self.$message('预算编报已关闭')\r\n          } else {\r\n            this.$store.commit('setCurMenuObj', obj)\r\n          }\r\n        })\r\n      } else {\r\n        this.$store.commit('setCurMenuObj', obj)\r\n      }\r\n    },\r\n    // 缩放\r\n    resize() {\r\n      let allowNum = 0\r\n      if (this.$refs.cardContent.offsetWidth >= '1440') {\r\n        allowNum = 4\r\n      } else {\r\n        allowNum = 3\r\n      }\r\n      let rows = []\r\n      let menus = {}\r\n      if (allowNum > 0) {\r\n        // 将一个数组，按照几个元素一起分寸多个子数组\r\n        for (let i = 0, len = this.cardMenu.length; i < len; i += allowNum) {\r\n          rows.push(this.cardMenu.slice(i, i + allowNum))\r\n        }\r\n\r\n        this.extendWidth = (this.$refs.cardContent.offsetWidth - 100) + 'px'\r\n        this.cardWidth = (this.$refs.cardContent.offsetWidth - 100) + 'px'\r\n        this.allowNumIn = allowNum\r\n      }\r\n\r\n      rows.map((item, index) => {\r\n        menus[`row${index + 1}`] = {\r\n          rowNo: `row${index + 1}`,\r\n          cardMenu: item\r\n        }\r\n      })\r\n\r\n      this.uiCardMenu = extend(true, {}, menus)\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    window.addEventListener('resize', this.resize)\r\n    this.generateConfig()\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.resize)\r\n  },\r\n  watch: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.maskbox{\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\n.contextClass{\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 90px;\r\n  bottom: 0;\r\n}\r\n  .card-menu__content{\r\n    // text-align: left;\r\n    .card-menu__card{\r\n      display: grid;\r\n      grid-template-columns: repeat(var(--top-item-nums), 1fr);\r\n      grid-column-gap: 24px;\r\n      .row-last-card{\r\n        margin-right: 0px;\r\n      }\r\n    }\r\n    .card-menu__extend{\r\n      // position: relative;\r\n      // min-height: 139px;\r\n      max-height: 400px;\r\n      margin: 16px 10px 0 10px;\r\n      background: #ffffff;\r\n      border-radius: 2px;\r\n      display: grid;\r\n      grid-template-columns: 1fr;\r\n      .arrow{\r\n        position: absolute;\r\n        width: 0px;\r\n        height: 0px;\r\n        border: 12px solid transparent;\r\n        border-bottom-color: #fff;\r\n        top: -23px;\r\n        left: 36px;\r\n      }\r\n      .arrow-middle{\r\n        left: 48%;\r\n        right: unset;\r\n      }\r\n      .arrow-left{\r\n        left: 36px;\r\n        right: unset;\r\n      }\r\n      .arrow-right{\r\n        right: 36px;\r\n        left: unset;\r\n      }\r\n      .extend-child{\r\n        width: 100%;\r\n        // min-height: 139px;\r\n        max-height: 400px;\r\n        overflow: auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"],"mappings":"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"}]}