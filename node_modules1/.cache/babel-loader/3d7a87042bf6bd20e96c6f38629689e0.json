{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableOld\\batchModify\\BatchModify.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\components\\TableOld\\batchModify\\BatchModify.vue","mtime":1694505521632},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCAic3RyaW5nIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09ICJzeW1ib2wiID8ga2V5IDogU3RyaW5nKGtleSk7IH0KZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gIm9iamVjdCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgImRlZmF1bHQiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gIm9iamVjdCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7IH0gcmV0dXJuIChoaW50ID09PSAic3RyaW5nIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9CmZ1bmN0aW9uIF90eXBlb2YobykgeyAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOyByZXR1cm4gX3R5cGVvZiA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiAic3ltYm9sIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfQovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUYWJsZUJhdGNoTW9kaWZ5VnVlJywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgdGFibGVDb2x1bW5zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNNb2RpZnlJdGVtOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5pyJ5L+u5pS56aG5CiAgICAgIGl0ZW1zQ29uZmlnOiBbCiAgICAgIC8vIOaJuemHj+S/ruaUuemhueihqOWNlemFjee9rgogICAgICB7CiAgICAgICAgZmllbGQ6ICdtb2RpZnlGaWVsZCcsCiAgICAgICAgdGl0bGU6ICfliJcnLAogICAgICAgIGl0ZW1SZW5kZXI6IHsKICAgICAgICAgIG5hbWU6ICd2eGVTZWxlY3QnLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgY2xlYXJhYmxlOiB0cnVlLAogICAgICAgICAgICBvcHRpb25zOiBbXSwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6nkv67mlLnpobknCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZmllbGQ6ICdtb2RpZnlWYWx1ZScsCiAgICAgICAgdGl0bGU6ICfkv67mlLnkuLonLAogICAgICAgIGl0ZW1SZW5kZXI6IHsKICAgICAgICAgIG5hbWU6ICckdnhlSW5wdXQnLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgdHlwZTogJ3RleHQnLAogICAgICAgICAgICBjbGVhcmFibGU6IHRydWUsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5YC8JwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGl0ZW1SZW5kZXI6IHsKICAgICAgICAgIG5hbWU6ICdpbnB1dCcsCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICB0eXBlOiAnc3VibWl0JywKICAgICAgICAgICAgdmFsdWU6ICfnoa7lrponCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9XSwKICAgICAgbW9kaWZ5SXRlbTogewogICAgICAgIC8vIOS/ruaUuemhuQogICAgICAgIGZpZWxkOiAnbW9kaWZ5VmFsdWUnLAogICAgICAgIGl0ZW1SZW5kZXI6IHsKICAgICAgICAgIG5hbWU6ICckaW5wdXQnLAogICAgICAgICAgdHlwZTogJ3RleHQnCiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JtRGF0YTogewogICAgICAgIG1vZGlmeUZpZWxkOiAnJwogICAgICB9LAogICAgICAvLyDkv67mlLnpobnooajljZXmlbDmja4KICAgICAgZm9ybURhdGFDcDogewogICAgICAgIC8vIOS/ruaUuemhueihqOWNleaVsOaNrgogICAgICAgIG1vZGlmeUZpZWxkOiAnJwogICAgICB9LAogICAgICB0YWJsZUNvbHVtbnNNYXA6IHsKICAgICAgICB0YWJsZUNvbHVtbnNGaWVsZE1hcDoge30sCiAgICAgICAgLy8g5a2X5q61bWFwOiBmaWVsZDpjb25sdW0KICAgICAgICB0YWJsZUNvbHVtbnNPcHRpb25NYXA6IHt9LAogICAgICAgIC8vIOWtl+autW1hcDogZmllbGQ6cmVuZGVyCiAgICAgICAgdGFibGVDb2x1bW5zT3B0aW9uTWFwQXJyOiBbXSAvLyDmibnph4/kv67mlLnmupDmlbDmja4KICAgICAgfSwKCiAgICAgIHRhYmxlQ29sdW1uc0ZpZWxkTWFwOiB7fSwKICAgICAgLy8g5a2X5q61bWFwOiBmaWVsZDpjb25sdW0KICAgICAgdGFibGVDb2x1bW5zT3B0aW9uTWFwOiB7fSwKICAgICAgLy8g5a2X5q61bWFwOiBmaWVsZDpyZW5kZXIKICAgICAgdGFibGVDb2x1bW5zT3B0aW9uTWFwQXJyOiBbXSAvLyDmibnph4/kv67mlLnmupDmlbDmja4KICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgaXRlbUNoYW5nZTogZnVuY3Rpb24gaXRlbUNoYW5nZShfcmVmKSB7CiAgICAgIHZhciAkZm9ybSA9IF9yZWYuJGZvcm0sCiAgICAgICAgcHJvcGVydHkgPSBfcmVmLnByb3BlcnR5LAogICAgICAgIHZhbHVlID0gX3JlZi5pdGVtVmFsdWUsCiAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICByZW5kZXJPcHRzID0gX3JlZi5yZW5kZXJPcHRzOwogICAgfSwKICAgIGRlZXBDb3B5OiBmdW5jdGlvbiBkZWVwQ29weShvYmopIHsKICAgICAgLy8g5rex5ou36LSd6YCa55So5pa55rOVCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIGlmIChfdHlwZW9mKG9iaikgIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIG9iajsKICAgICAgdmFyIG5ld09iaiA9IG9iaiBpbnN0YW5jZW9mIEFycmF5ID8gW10gOiB7fTsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgbmV3T2JqW2tleV0gPSBfdHlwZW9mKG9ialtrZXldKSA9PT0gJ29iamVjdCcgPyBtZS5kZWVwQ29weShvYmpba2V5XSkgOiBvYmpba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5ld09iajsKICAgIH0sCiAgICByaXZlckNvbHVtbnNHZW5lcmF0ZUNvbHVtbnNNYXA6IGZ1bmN0aW9uIHJpdmVyQ29sdW1uc0dlbmVyYXRlQ29sdW1uc01hcChjb2x1bW5zLCBvYmopIHsKICAgICAgLy8g6YCS5b2S55Sf5oiQ5YiX6YWN572u5pig5bCECiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgb2JqID0gb2JqIHx8IHsKICAgICAgICB0YWJsZUNvbHVtbnNGaWVsZE1hcDoge30sCiAgICAgICAgLy8g5a2X5q61bWFwOiBmaWVsZDpjb25sdW0KICAgICAgICB0YWJsZUNvbHVtbnNPcHRpb25NYXA6IHt9LAogICAgICAgIC8vIOWtl+autW1hcDogZmllbGQ6cmVuZGVyCiAgICAgICAgdGFibGVDb2x1bW5zT3B0aW9uTWFwQXJyOiBbXSAvLyDmibnph4/kv67mlLnmupDmlbDmja4KICAgICAgfTsKCiAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29ubHVtLCBpbmRleCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmx1bS5jaGlsZHJlbikgJiYgY29ubHVtLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgc2VsZi5yaXZlckNvbHVtbnNHZW5lcmF0ZUNvbHVtbnNNYXAoY29ubHVtLmNoaWxkcmVuLCBvYmopOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoY29ubHVtLmZpZWxkICYmICFjb25sdW0uZm9ybXVsYSkgewogICAgICAgICAgICBvYmoudGFibGVDb2x1bW5zRmllbGRNYXBbY29ubHVtLmZpZWxkXSA9IGNvbmx1bTsKICAgICAgICAgICAgaWYgKGNvbmx1bS5lZGl0UmVuZGVyKSB7CiAgICAgICAgICAgICAgb2JqLnRhYmxlQ29sdW1uc09wdGlvbk1hcEFyci5wdXNoKHsKICAgICAgICAgICAgICAgIGxhYmVsOiBjb25sdW0udGl0bGUsCiAgICAgICAgICAgICAgICB2YWx1ZTogY29ubHVtLmZpZWxkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgb2JqLnRhYmxlQ29sdW1uc09wdGlvbk1hcFtjb25sdW0uZmllbGRdID0gewogICAgICAgICAgICAgICAgc3BhbjogMTIsCiAgICAgICAgICAgICAgICBhbGlnbjogY29ubHVtLmFsaWduLAogICAgICAgICAgICAgICAgZmllbGQ6IGNvbmx1bS5maWVsZCwKICAgICAgICAgICAgICAgIHRpdGxlOiBjb25sdW0udGl0bGUsCiAgICAgICAgICAgICAgICBpdGVtUmVuZGVyOiBjb25sdW0uZWRpdFJlbmRlcgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gb2JqOwogICAgfSwKICAgIGdlbmVyYXRlQ29sdW1uc01hcDogZnVuY3Rpb24gZ2VuZXJhdGVDb2x1bW5zTWFwKGNvbHVtbnMpIHsKICAgICAgLy8g55Sf5oiQ5L+u5pS5bWFwCiAgICAgIHZhciBvYmogPSB0aGlzLnJpdmVyQ29sdW1uc0dlbmVyYXRlQ29sdW1uc01hcChjb2x1bW5zKTsKICAgICAgdmFyIHRhYmxlQ29sdW1uc09wdGlvbk1hcCA9IG9iai50YWJsZUNvbHVtbnNPcHRpb25NYXAsCiAgICAgICAgdGFibGVDb2x1bW5zT3B0aW9uTWFwQXJyID0gb2JqLnRhYmxlQ29sdW1uc09wdGlvbk1hcEFycjsKICAgICAgdGhpcy50YWJsZUNvbHVtbnNNYXAgPSBvYmo7CiAgICAgIHRoaXMudGFibGVDb2x1bW5zT3B0aW9uTWFwID0gdGFibGVDb2x1bW5zT3B0aW9uTWFwOyAvLyDlrZfmrrVtYXA6IGZpZWxkOnJlbmRlcgogICAgICB0aGlzLnRhYmxlQ29sdW1uc09wdGlvbk1hcEFyciA9IHRhYmxlQ29sdW1uc09wdGlvbk1hcEFycjsgLy8g5om56YeP5L+u5pS55rqQ5pWw5o2uCiAgICAgIHRoaXMuaGFzTW9kaWZ5SXRlbSA9IGZhbHNlOwogICAgfSwKICAgIG9uTW9kaWZ5SXRlbUNoYW5nZTogZnVuY3Rpb24gb25Nb2RpZnlJdGVtQ2hhbmdlKF9yZWYyKSB7CiAgICAgIHZhciB2YWx1ZSA9IF9yZWYyLnZhbHVlLAogICAgICAgICRldmVudCA9IF9yZWYyLiRldmVudDsKICAgICAgLy8g5L+u5pS56aG55pS55Y+YCiAgICAgIHRoaXMuZm9ybURhdGEubW9kaWZ5RmllbGQgPSB2YWx1ZTsKICAgICAgdGhpcy5tb2RpZnlJdGVtID0gdGhpcy50YWJsZUNvbHVtbnNPcHRpb25NYXBbdmFsdWVdOwogICAgICB0aGlzLmZvcm1EYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgewogICAgICAgIG1vZGlmeUZpZWxkOiB2YWx1ZQogICAgICB9LCBfZGVmaW5lUHJvcGVydHkoe30sIHRoaXMubW9kaWZ5SXRlbS5maWVsZCwgJycpKTsKICAgICAgdGhpcy5oYXNNb2RpZnlJdGVtID0gdHJ1ZTsKICAgIH0sCiAgICBvbk1vZGlmeUl0ZW1DbGVhcjogZnVuY3Rpb24gb25Nb2RpZnlJdGVtQ2xlYXIoX3JlZjMpIHsKICAgICAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWUsCiAgICAgICAgJGV2ZW50ID0gX3JlZjMuJGV2ZW50OwogICAgICAvLyDkv67mlLnpobnnva7nqboKICAgICAgdGhpcy5oYXNNb2RpZnlJdGVtID0gZmFsc2U7CiAgICAgIHRoaXMubW9kaWZ5SXRlbSA9IHsKICAgICAgICBmaWVsZDogJ21vZGlmeVZhbHVlJywKICAgICAgICBpdGVtUmVuZGVyOiB7CiAgICAgICAgICBuYW1lOiAnJGlucHV0JywKICAgICAgICAgIHR5cGU6ICd0ZXh0JwogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy5mb3JtRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZm9ybURhdGFDcCk7CiAgICB9LAogICAgc3VibWl0RXZlbnQ6IGZ1bmN0aW9uIHN1Ym1pdEV2ZW50KCkgewogICAgICAvLyDmj5DkuqTkv67mlLkKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBpZiAoIXRoaXMuJHBhcmVudC4kcGFyZW50LiRwYXJlbnQuc2VsZWN0aW9uLmxlbmd0aCkgewogICAgICAgIHNlbGYuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+WFiOmAieS4reaVsOaNruWGjei/m+ihjOaJuemHj+S/ruaUue+8gScKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRYTW9kYWwuY29uZmlybSgn5oKo56Gu5a6a6KaB5om56YeP5L+u5pS55omA6YCJ5Lit5pWw5o2u5ZCXPycpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHJlc3VsdCA9IHNlbGYuZGVlcENvcHkoc2VsZi5mb3JtRGF0YSk7CiAgICAgICAgICBkZWxldGUgcmVzdWx0Lm1vZGlmeUZpZWxkOwogICAgICAgICAgc2VsZi4kZW1pdCgnb25TdXJlQ2xpY2snLCB7CiAgICAgICAgICAgIG1vZGlmeUl0ZW06IHNlbGYubW9kaWZ5SXRlbSwKICAgICAgICAgICAgZm9ybURhdGE6IHJlc3VsdAogICAgICAgICAgfSk7CiAgICAgICAgICAvLyB0aGlzLiRuZXh0VGljaygpLnRoZW4oKCkgPT4gewogICAgICAgICAgLy8gICB0aGlzLmluaXQoKQogICAgICAgICAgLy8gfSkKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZWxmLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB0aGlzLmdlbmVyYXRlQ29sdW1uc01hcCh0aGlzLnRhYmxlQ29sdW1ucyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICB3YXRjaDogewogICAgdGFibGVDb2x1bW5zOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5pbml0KCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"names":["name","components","props","tableColumns","type","Array","default","_default","data","hasModifyItem","itemsConfig","field","title","itemRender","clearable","options","placeholder","attrs","value","modifyItem","formData","modifyField","formDataCp","tableColumnsMap","tableColumnsFieldMap","tableColumnsOptionMap","tableColumnsOptionMapArr","methods","itemChange","_ref","$form","property","itemValue","renderOpts","deepCopy","obj","me","_typeof","newObj","key","hasOwnProperty","riverColumnsGenerateColumnsMap","columns","self","forEach","conlum","index","isArray","children","length","formula","editRender","push","label","span","align","generateColumnsMap","onModifyItemChange","_ref2","$event","Object","assign","_defineProperty","onModifyItemClear","_ref3","submitEvent","$parent","selection","$message","message","$XModal","confirm","then","result","$emit","catch","init","mounted","watch","handler","deep","immediate"],"sources":["src/components/TableOld/batchModify/BatchModify.vue"],"sourcesContent":["<!--  table modify   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div class=\"table-batch-modify\">\r\n    <vxe-form\r\n      ref=\"batchModifyForm\"\r\n      title-align=\"right\"\r\n      title-width=\"100\"\r\n      :data=\"formData\"\r\n      size=\"middle\"\r\n      @submit=\"submitEvent\"\r\n    >\r\n      <vxe-form-item\r\n        title-align=\"right\"\r\n        :title-width=\"30\"\r\n        align=\"left\"\r\n        span=\"9\"\r\n        title=\"列\"\r\n        field=\"modifyField\"\r\n      >\r\n        <template v-slot>\r\n          <vxe-select\r\n            v-model=\"formData.modifyField\"\r\n            placeholder=\"请选择修改项\"\r\n            clearable\r\n            @change=\"onModifyItemChange\"\r\n            @clear=\"onModifyItemClear\"\r\n          >\r\n            <vxe-option\r\n              v-for=\"(item, index) in tableColumnsOptionMapArr\"\r\n              :key=\"index\"\r\n              :value=\"item.value\"\r\n              :label=\"item.label\"\r\n            />\r\n          </vxe-select>\r\n        </template>\r\n      </vxe-form-item>\r\n      <vxe-form-item\r\n        title-align=\"right\"\r\n        :title-width=\"60\"\r\n        :align=\"modifyItem.align || 'left'\"\r\n        span=\"12\"\r\n        title=\"修改为\"\r\n        :field=\"modifyItem.field\"\r\n        :item-render=\"modifyItem.itemRender\"\r\n      />\r\n      <vxe-form-item align=\"center\" span=\"3\">\r\n        <template v-slot>\r\n          <vxe-button type=\"submit\" status=\"primary\">确定</vxe-button>\r\n        </template>\r\n      </vxe-form-item>\r\n    </vxe-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TableBatchModifyVue',\r\n  components: {},\r\n  props: {\r\n    tableColumns: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      hasModifyItem: false, // 是否有修改项\r\n      itemsConfig: [\r\n        // 批量修改项表单配置\r\n        {\r\n          field: 'modifyField',\r\n          title: '列',\r\n          itemRender: {\r\n            name: 'vxeSelect',\r\n            props: {\r\n              clearable: true,\r\n              options: [],\r\n              placeholder: '请选择修改项'\r\n            }\r\n          }\r\n        },\r\n        {\r\n          field: 'modifyValue',\r\n          title: '修改为',\r\n          itemRender: {\r\n            name: '$vxeInput',\r\n            props: {\r\n              type: 'text',\r\n              clearable: true,\r\n              placeholder: '请输入值'\r\n            }\r\n          }\r\n        },\r\n        {\r\n          itemRender: {\r\n            name: 'input',\r\n            attrs: {\r\n              type: 'submit',\r\n              value: '确定'\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      modifyItem: {\r\n        // 修改项\r\n        field: 'modifyValue',\r\n        itemRender: {\r\n          name: '$input',\r\n          type: 'text'\r\n        }\r\n      },\r\n      formData: {\r\n        modifyField: ''\r\n      }, // 修改项表单数据\r\n      formDataCp: {\r\n        // 修改项表单数据\r\n        modifyField: ''\r\n      },\r\n      tableColumnsMap: {\r\n        tableColumnsFieldMap: {}, // 字段map: field:conlum\r\n        tableColumnsOptionMap: {}, // 字段map: field:render\r\n        tableColumnsOptionMapArr: [] // 批量修改源数据\r\n      },\r\n      tableColumnsFieldMap: {}, // 字段map: field:conlum\r\n      tableColumnsOptionMap: {}, // 字段map: field:render\r\n      tableColumnsOptionMapArr: [] // 批量修改源数据\r\n    }\r\n  },\r\n  methods: {\r\n    itemChange({ $form, property, itemValue: value, data, renderOpts }) {},\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    riverColumnsGenerateColumnsMap(columns, obj) {\r\n      // 递归生成列配置映射\r\n      let self = this\r\n      obj = obj || {\r\n        tableColumnsFieldMap: {}, // 字段map: field:conlum\r\n        tableColumnsOptionMap: {}, // 字段map: field:render\r\n        tableColumnsOptionMapArr: [] // 批量修改源数据\r\n      }\r\n      columns.forEach((conlum, index) => {\r\n        if (Array.isArray(conlum.children) && conlum.children.length) {\r\n          self.riverColumnsGenerateColumnsMap(conlum.children, obj)\r\n        } else {\r\n          if (conlum.field && !conlum.formula) {\r\n            obj.tableColumnsFieldMap[conlum.field] = conlum\r\n            if (conlum.editRender) {\r\n              obj.tableColumnsOptionMapArr.push({\r\n                label: conlum.title,\r\n                value: conlum.field\r\n              })\r\n              obj.tableColumnsOptionMap[conlum.field] = {\r\n                span: 12,\r\n                align: conlum.align,\r\n                field: conlum.field,\r\n                title: conlum.title,\r\n                itemRender: conlum.editRender\r\n              }\r\n            }\r\n          }\r\n        }\r\n      })\r\n      return obj\r\n    },\r\n    generateColumnsMap(columns) {\r\n      // 生成修改map\r\n      let obj = this.riverColumnsGenerateColumnsMap(columns)\r\n      const { tableColumnsOptionMap, tableColumnsOptionMapArr } = obj\r\n      this.tableColumnsMap = obj\r\n      this.tableColumnsOptionMap = tableColumnsOptionMap // 字段map: field:render\r\n      this.tableColumnsOptionMapArr = tableColumnsOptionMapArr // 批量修改源数据\r\n      this.hasModifyItem = false\r\n    },\r\n    onModifyItemChange({ value, $event }) {\r\n      // 修改项改变\r\n      this.formData.modifyField = value\r\n      this.modifyItem = this.tableColumnsOptionMap[value]\r\n      this.formData = Object.assign(\r\n        {},\r\n        {\r\n          modifyField: value\r\n        },\r\n        {\r\n          [this.modifyItem.field]: ''\r\n        }\r\n      )\r\n      this.hasModifyItem = true\r\n    },\r\n    onModifyItemClear({ value, $event }) {\r\n      // 修改项置空\r\n      this.hasModifyItem = false\r\n      this.modifyItem = {\r\n        field: 'modifyValue',\r\n        itemRender: {\r\n          name: '$input',\r\n          type: 'text'\r\n        }\r\n      }\r\n      this.formData = Object.assign({}, this.formDataCp)\r\n    },\r\n    submitEvent() {\r\n      // 提交修改\r\n      let self = this\r\n      if (!this.$parent.$parent.$parent.selection.length) {\r\n        self.$message({\r\n          type: 'info',\r\n          message: '请先选中数据再进行批量修改！'\r\n        })\r\n      } else {\r\n        this.$XModal\r\n          .confirm('您确定要批量修改所选中数据吗?')\r\n          .then(() => {\r\n            let result = self.deepCopy(self.formData)\r\n            delete result.modifyField\r\n            self.$emit('onSureClick', {\r\n              modifyItem: self.modifyItem,\r\n              formData: result\r\n            })\r\n            // this.$nextTick().then(() => {\r\n            //   this.init()\r\n            // })\r\n          })\r\n          .catch(() => {\r\n            self.$message({\r\n              type: 'info',\r\n              message: '已取消删除'\r\n            })\r\n          })\r\n      }\r\n    },\r\n    init() {\r\n      this.generateColumnsMap(this.tableColumns)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  watch: {\r\n    tableColumns: {\r\n      handler() {\r\n        this.init()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.table-batch-modify {\r\n  width: 480px;\r\n  margin-right: 8px;\r\n  .vxe-form {\r\n    height: 34px;\r\n    background-color: #e3f1fe;\r\n\r\n    .vxe-form--item {\r\n      height: 100%;\r\n      padding: 0 5px;\r\n    }\r\n    .vxe-col--3 {\r\n      padding: 0 0 0 2px;\r\n    }\r\n    .vxe-form--item-inner {\r\n      height: 100%;\r\n      min-height: 32px;\r\n    }\r\n    .vxe-textarea {\r\n      height: 100%;\r\n    }\r\n    .vxe-form--item-content {\r\n      height: 100%;\r\n      line-height: 32px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}