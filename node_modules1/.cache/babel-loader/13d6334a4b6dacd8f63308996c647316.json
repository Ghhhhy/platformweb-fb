{"remainingRequest":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\dynamicTableSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\src\\views\\main\\dynamicTableSetting\\dynamicTableSetting.vue","mtime":1695716045292},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\babel.config.js","mtime":1694505520209},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\何小龙\\Desktop\\platformweb-fb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IFRhYmxlQ29uZk1vZGFsIGZyb20gJy4vdGFibGVDb25mTW9kYWwudnVlJzsKaW1wb3J0IEZvcm1Db25mTW9kYWwgZnJvbSAnLi9Gb3JtQ29uZk1vZGFsLnZ1ZSc7CmltcG9ydCBFbnRlcmluZ0RlZmF1bHQgZnJvbSAnLi9lbnRlcmluZ0RlZmF1bHQudnVlJzsKaW1wb3J0IGdldEZvcm1Db25mRGF0YSBmcm9tICcuL2Zvcm1Db25mLmpzJzsKaW1wb3J0IFN1YlRhYkNvbmZpZ01vZGFsIGZyb20gJy4vU3ViVGFiQ29uZmlnTW9kYWwudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICcnLAogIGNvbXBvbmVudHM6IHsKICAgIFRhYmxlQ29uZk1vZGFsOiBUYWJsZUNvbmZNb2RhbCwKICAgIEZvcm1Db25mTW9kYWw6IEZvcm1Db25mTW9kYWwsCiAgICBFbnRlcmluZ0RlZmF1bHQ6IEVudGVyaW5nRGVmYXVsdCwKICAgIFN1YlRhYkNvbmZpZ01vZGFsOiBTdWJUYWJDb25maWdNb2RhbAogIH0sCiAgcHJvcHM6IHsKICAgIGFsbFByb3BEYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudWd1aWRzOiBbXSwKICAgICAgY3VyQ29uZlR5cGU6ICd0YWJsZScsCiAgICAgIGxlZnRWaXNpYmxlOiB0cnVlLAogICAgICBsZWZ0VHJlZURhdGE6IFtdLAogICAgICBjdXJTcGxpdFBhbmVMZWZ0V2lkdGg6IDIwLAogICAgICBpc1Nob3dRdWVyeUNvbmRpdGlvbnM6IGZhbHNlLAogICAgICBzZXJ2ZXJVcmk6ICdtcC1iLXBlcm0tc2VydmljZS92MS90YWJsZWNvbmYvbWVudWd1aWQnLAogICAgICB0cmVlUXVlcnlwYXJhbXM6IHsKICAgICAgICBtZW51Z3VpZDogJ3Rlc3RfMTIzNDU2JywKICAgICAgICB1c2VSaWdodDogZmFsc2UsCiAgICAgICAgYmF0Y2hubzogMiwKICAgICAgICBkYXRhdHlwZTogNSwKICAgICAgICBlbGVDb2RlOiAnREVQQkdURUNPJywKICAgICAgICBzeHNwZWNyb2xlZ3VpZDogJzYzN0I2RDVBODIzRjQ1OUFCMzEzQ0JGOTRDODc3NjVCJwogICAgICB9LAogICAgICB0cmVlbGVmdFRyZWVDb25maWc6IHsKICAgICAgICBpbnB1dFZhbDogJycKICAgICAgfSwKICAgICAgdHJlZUNvbmZpZzogewogICAgICAgIGN1clJhZGlvOiAnemYnLAogICAgICAgIHJhZGlvR3JvdXA6IFt7CiAgICAgICAgICBjb2RlOiAnemYnLAogICAgICAgICAgbGFiZWw6ICfmlL/lupzpg6jpl6jmoJEnCiAgICAgICAgfSwgewogICAgICAgICAgY29kZTogJ3h1ZXhpYW8nLAogICAgICAgICAgbGFiZWw6ICflrabmoKHmoJEnCiAgICAgICAgfSwgewogICAgICAgICAgY29kZTogJ2ppZ291JywKICAgICAgICAgIGxhYmVsOiAn5py65p6E5qCRJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGxlZnRUcmVlQ29uZmlnOiB7CiAgICAgICAgaW5wdXRWYWw6ICcnCiAgICAgIH0sCiAgICAgIHBhZ2VyQ29uZmlnOiB7CiAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgdG90YWw6IDEwMAogICAgICB9LAogICAgICBjdXJUYWJsZUNvbmZEYXRhczogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBjdXJUYWJsZUNvbmZEYXRhc01hcEFycjogWwogICAgICAgIC8vIHsKICAgICAgICAvLyAgIHRhYmxlTmFtZTogJzEnLAogICAgICAgIC8vICAgYnVzaW5lc3NUYWJsZU5hbWU6ICcxJywKICAgICAgICAvLyAgIHRhYmxlTm90ZTogJzEnLAogICAgICAgIC8vICAgbWVhc3VyaW5nVW5pdDogMSwKICAgICAgICAvLyAgIHZpZXdPcmRlcjogJzAwMScsCiAgICAgICAgLy8gICBlZGl0YWJsZUJhdGNoOiAnMDAxJywKICAgICAgICAvLyAgIHRhYmxlVHlwZTogJzAwMScsCiAgICAgICAgLy8gICBub3RlOiAnMScsCiAgICAgICAgLy8gICBhdXRvQnVpbHRUYWJsZXM6IGZhbHNlLAogICAgICAgIC8vICAgZWRpdGJsZTogdHJ1ZSwKICAgICAgICAvLyAgIHNob3dDaGVja2JveDogdHJ1ZSwKICAgICAgICAvLyAgIGNhblVzZTogdHJ1ZSwKICAgICAgICAvLyAgIGFTaW5nbGVUYWJsZTogZmFsc2UsCiAgICAgICAgLy8gICBiYXRjaE1vZGlmeTogZmFsc2UsCiAgICAgICAgLy8gICByb3dDb25maWc6IGZhbHNlLAogICAgICAgIC8vICAgbm9SZWNvcmRJc0FsbG93ZWRUb1JlcG9ydDogdHJ1ZSwKICAgICAgICAvLyAgIHN1YnRvdGFsUm93czogdHJ1ZQogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgY3VyVGFibGVDb25mRGF0YXNNYXA6IHt9LAogICAgICBnbG9ibGVDb25maWdDcDogewogICAgICAgIHRhYmxlTmFtZTogJycsCiAgICAgICAgYnVzaW5lc3NUYWJsZU5hbWU6ICcnLAogICAgICAgIHRhYmxlTm90ZTogJycsCiAgICAgICAgbWVhc3VyaW5nVW5pdDogJycsCiAgICAgICAgdmlld09yZGVyOiAnJywKICAgICAgICBlZGl0YWJsZUJhdGNoOiAnJywKICAgICAgICB0YWJsZVR5cGU6ICcnLAogICAgICAgIG5vdGU6ICcnLAogICAgICAgIGF1dG9CdWlsdFRhYmxlczogZmFsc2UsCiAgICAgICAgZWRpdGJsZTogdHJ1ZSwKICAgICAgICBzaG93Q2hlY2tib3g6IHRydWUsCiAgICAgICAgY2FuVXNlOiB0cnVlLAogICAgICAgIGFTaW5nbGVUYWJsZTogZmFsc2UsCiAgICAgICAgYmF0Y2hNb2RpZnk6IGZhbHNlLAogICAgICAgIHJvd0NvbmZpZzogZmFsc2UsCiAgICAgICAgbm9SZWNvcmRJc0FsbG93ZWRUb1JlcG9ydDogdHJ1ZSwKICAgICAgICBzdWJ0b3RhbFJvd3M6IHRydWUKICAgICAgfSwKICAgICAgdG9vbGJhckNvbmZpZzogX29iamVjdFNwcmVhZCh7CiAgICAgICAgZGlzYWJsZWRNb25leUNvbnZlcnNpb246IGZhbHNlCiAgICAgIH0sIGdldEZvcm1Db25mRGF0YSgndGFibGVJbmZvckNvbmYnLCAndG9vbGJhckNvbmZpZycpKSwKICAgICAgdGFibGVDb25maWc6IGdldEZvcm1Db25mRGF0YSgndGFibGVJbmZvckNvbmYnLCAndGFibGVDb25maWcnKSwKICAgICAgdGFibGVDb2x1bW5zQ29uZmlnOiBnZXRGb3JtQ29uZkRhdGEoJ3RhYmxlSW5mb3JDb25mJywgJ3RhYmxlQ29sdW1uc0NvbmZpZycpLAogICAgICB0YWJsZUNvbmZNb2RhbFZpc2libGU6IGZhbHNlLAogICAgICBmb3JtQ29uZk1vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIGVudGVyaW5nRGVmYXVsdFZpc2libGU6IGZhbHNlLAogICAgICBjdXJMZWZ0VHJlZUNsaWNrTm9kZToge30sCiAgICAgIGVudGVyaW5nRGVmYXVsdEZsYWc6IGZhbHNlLAogICAgICBTdWJUYWJDb25maWdWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjdXJOYXZNb2R1bGU6IGZ1bmN0aW9uIGN1ck5hdk1vZHVsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmN1ck5hdk1vZHVsZTsKICAgIH0sCiAgICB1c2VySW5mbzogZnVuY3Rpb24gdXNlckluZm8oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRlZXBDb3B5OiBmdW5jdGlvbiBkZWVwQ29weShvYmopIHsKICAgICAgLy8g5rex5ou36LSd6YCa55So5pa55rOVCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIGlmIChfdHlwZW9mKG9iaikgIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIG9iajsKICAgICAgdmFyIG5ld09iaiA9IG9iaiBpbnN0YW5jZW9mIEFycmF5ID8gW10gOiB7fTsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgbmV3T2JqW2tleV0gPSBfdHlwZW9mKG9ialtrZXldKSA9PT0gJ29iamVjdCcgPyBtZS5kZWVwQ29weShvYmpba2V5XSkgOiBvYmpba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5ld09iajsKICAgIH0sCiAgICBqc29uU3RyaW5naWZ5OiBmdW5jdGlvbiBqc29uU3RyaW5naWZ5KGNvbHVtbnMpIHsKICAgICAgLy8g5a+56LGh6L2s5o2i5oiQanNvbuWtl+espuS4sgogICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29sdW1ucywgZnVuY3Rpb24gKGtleSwgdmFsKSB7CiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHJldHVybiB2YWwgKyAnJzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgfSk7CiAgICB9LAogICAganNvblBhcnNlOiBmdW5jdGlvbiBqc29uUGFyc2Uoc3RyKSB7CiAgICAgIC8vIGpzb27lrZfnrKbkuLLovazmjaLmiJDlr7nosaEKICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyLCBmdW5jdGlvbiAoaywgdikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAodi5pbmRleE9mICYmICh2LmluZGV4T2YoJ2Z1bmN0aW9uJykgPiAtMSB8fCB2LmluZGV4T2YoJz0+JykgPiAtMSkpIHsKICAgICAgICAgICAgLy8gcmV0dXJuIGV2YWwoJyhmdW5jdGlvbigpe3JldHVybiAnICsgdiArICcgfSkoKScpCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYwogICAgICAgICAgICB2YXIgZnVuYyA9IG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyB2KTsKICAgICAgICAgICAgcmV0dXJuIGZ1bmMoKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB2OwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiB2OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlSW5wdXQ6IGZ1bmN0aW9uIGNoYW5nZUlucHV0KHZhbCkgewogICAgICB0aGlzLiRyZWZzLnRlc3RUcmVlLmZpbHRlclRleHQgPSB2YWw7CiAgICB9LAogICAgY29uZnJpbURhdGE6IGZ1bmN0aW9uIGNvbmZyaW1EYXRhKGN1clRyZWUpIHsKICAgICAgdGhpcy5jb25mcmltRGF0YS5jdXJSYWRpbyA9IGN1clRyZWUuY29kZTsKICAgICAgc3dpdGNoIChjdXJUcmVlLmNvZGUpIHsKICAgICAgICBjYXNlICd6Zic6CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd4dWV4aWFvJzoKICAgICAgICAgIHRoaXMudGFiU3RhdHVzTnVtQ29uZmlnWyd5Y2wnXSA9IDEyOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnamlnb3UnOgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICBvblNwbGl0UGFuZVJlc2l6ZTogZnVuY3Rpb24gb25TcGxpdFBhbmVSZXNpemUobGVmdFdpZHRoKSB7CiAgICAgIGlmIChsZWZ0V2lkdGggPiAxKSB7CiAgICAgICAgdGhpcy5jdXJTcGxpdFBhbmVMZWZ0V2lkdGggPSBsZWZ0V2lkdGg7CiAgICAgICAgdGhpcy5sZWZ0VmlzaWJsZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sZWZ0VmlzaWJsZSA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgYWpheERhdGE6IGZ1bmN0aW9uIGFqYXhEYXRhKF9yZWYpIHsKICAgICAgdmFyIGN1cnJlbnRQYWdlID0gX3JlZi5jdXJyZW50UGFnZSwKICAgICAgICBwYWdlU2l6ZSA9IF9yZWYucGFnZVNpemU7CiAgICAgIHRoaXMucGFnZXJDb25maWcuY3VycmVudFBhZ2UgPSBjdXJyZW50UGFnZTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IE9iamVjdC5hc3NpZ24odGhpcy5xdWVyeVBhcmFtcywgewogICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSwKICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUKICAgICAgfSk7CiAgICAgIHRoaXMuZ2V0VGFibGVEYXRhcyhjdXJyZW50UGFnZSwgcGFnZVNpemUpOwogICAgfSwKICAgIGdldFRhYmxlRGF0YXM6IGZ1bmN0aW9uIGdldFRhYmxlRGF0YXMoY3VycmVudFBhZ2UsIHBhZ2VTaXplKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vIOacjeWKoeerr+afpeivouaVsOaNrgogICAgICB0aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLiRodHRwLnBvc3QoJ3VybCcsIHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBzZWxmLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICBzZWxmLnBhZ2VyQ29uZmlnID0gewogICAgICAgICAgICB0b3RhbDogcmVzLmRhdGEudG90YWwsCiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZQogICAgICAgICAgfTsKICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0cmFuc2Zvcm1Db25sdW1zRGF0YVRvTmVzdDogZnVuY3Rpb24gdHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoY29sdW1ucykgewogICAgICAvLyBjb2x1bW5z6L2s5YyW5Li6dnhlLXRhYmxlIGNvbHVtbnPmlbDmja7nu5PmnoQKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb2x1bW4uY2hpbGRyZW4pICYmIGNvbHVtbi5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IHNlbGYudHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoY29sdW1uLmNoaWxkcmVuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29sdW1uW2NvbHVtbi5yZW5kZXJUeXBlXSA9IHsKICAgICAgICAgICAgbmFtZTogY29sdW1uLnJlbmRlck5hbWUsCiAgICAgICAgICAgIC8vIOa4suafk+WZqOWQjSwKICAgICAgICAgICAgb3B0aW9uczogZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgICAgICAgIGlmIChfdHlwZW9mKHBhcmFtcykgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5kZWVwQ29weShwYXJhbXMpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXMgPyBwYXJhbXMuc3BsaXQoJysnKS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uc3BsaXQoJyMnKVswXSwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5zcGxpdCgnIycpWzFdCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KSA6IFtdOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfShjb2x1bW4ub3B0aW9ucyksCiAgICAgICAgICAgIC8vIOS4i+aLieaVsOaNrua6kAogICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGNvbHVtbi5kZWZhdWx0VmFsdWUsCiAgICAgICAgICAgIC8vIOm7mOiupOWAvAogICAgICAgICAgICBwcm9wczogY29sdW1uLnByb3BzIC8vIOmineWkluWPguaVsAogICAgICAgICAgfTsKCiAgICAgICAgICBkZWxldGUgY29sdW1uLl9YSUQ7CiAgICAgICAgICBkZWxldGUgY29sdW1uLnJlbmRlclR5cGU7CiAgICAgICAgICBkZWxldGUgY29sdW1uLnJlbmRlck5hbWU7CiAgICAgICAgICBkZWxldGUgY29sdW1uLm9wdGlvbnM7CiAgICAgICAgICBkZWxldGUgY29sdW1uLnByb3BzOwogICAgICAgICAgZGVsZXRlIGNvbHVtbi5kZWZhdWx0VmFsdWU7CiAgICAgICAgICBkZWxldGUgc2VsZi5kZWVwQ29weShjb2x1bW4ucHJvcHMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBjb2x1bW5zOwogICAgfSwKICAgIHRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGU6IGZ1bmN0aW9uIHRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoY29sdW1ucykgewogICAgICAvLyB2eGUtdGFibGUgY29sdW1uc+aVsOaNrue7k+aehOi9rOWMluS4uuWNleWxgmNvbHVtbnMKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb2x1bW4uY2hpbGRyZW4pICYmIGNvbHVtbi5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IHNlbGYudHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoY29sdW1uLmNoaWxkcmVuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKGNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnZWRpdFJlbmRlcicpKSB7CiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJUeXBlID0gJ2VkaXRSZW5kZXInOwogICAgICAgICAgICBjb2x1bW4ucmVuZGVyTmFtZSA9IGNvbHVtbi5lZGl0UmVuZGVyLm5hbWU7CiAgICAgICAgICAgIGNvbHVtbiA9IE9iamVjdC5hc3NpZ24oY29sdW1uLCBzZWxmLmRlZXBDb3B5KGNvbHVtbi5lZGl0UmVuZGVyKSk7CiAgICAgICAgICAgIGRlbGV0ZSBjb2x1bW4uZWRpdFJlbmRlcjsKICAgICAgICAgIH0gZWxzZSBpZiAoY29sdW1uLmhhc093blByb3BlcnR5KCdjZWxsUmVuZGVyJykpIHsKICAgICAgICAgICAgY29sdW1uLnJlbmRlclR5cGUgPSAnY2VsbFJlbmRlcic7CiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJOYW1lID0gY29sdW1uLmNlbGxSZW5kZXIubmFtZTsKICAgICAgICAgICAgY29sdW1uID0gT2JqZWN0LmFzc2lnbihjb2x1bW4sIHNlbGYuZGVlcENvcHkoY29sdW1uLmNlbGxSZW5kZXIpKTsKICAgICAgICAgIH0gZWxzZSBpZiAoY29sdW1uLmhhc093blByb3BlcnR5KCdpdGVtUmVuZGVyJykpIHsKICAgICAgICAgICAgY29sdW1uLnJlbmRlclR5cGUgPSAnaXRlbVJlbmRlcic7CiAgICAgICAgICAgIGNvbHVtbi5yZW5kZXJOYW1lID0gY29sdW1uLml0ZW1SZW5kZXIubmFtZTsKICAgICAgICAgICAgY29sdW1uID0gT2JqZWN0LmFzc2lnbihjb2x1bW4sIHNlbGYuZGVlcENvcHkoY29sdW1uLml0ZW1SZW5kZXIpKTsKICAgICAgICAgIH0gZWxzZSB7fQogICAgICAgICAgaWYgKFsnJHNlbGVjdCcsICckdnhlU2VsZWN0JywgJyR2eGVGb3JtU2VsZWN0JywgJyR2eGVTd2l0Y2gnLCAnJHZ4ZVJhZGlvJywgJyR2eGVTd2l0Y2gnLCAnJHZ4ZUNoZWNrYm94J10uaW5kZXhPZihjb2x1bW4ucmVuZGVyTmFtZSkgPj0gMCkgewogICAgICAgICAgICBjb2x1bW4ub3B0aW9ucyA9IGNvbHVtbi5vcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSArICcjJyArIGl0ZW0ubGFiZWw7CiAgICAgICAgICAgIH0pLmpvaW4oJysnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gY29sdW1uczsKICAgIH0sCiAgICB0cmFuc2Zvcm1JdGVtc0RhdGFUb1NpbmdsZTogZnVuY3Rpb24gdHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoaXRlbXMpIHsKICAgICAgLy8gdnhlLXRhYmxlIGl0ZW1z5pWw5o2u57uT5p6E6L2s5YyW5Li65Y2V5bGCaXRlbXMKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpdGVtSW5kZXgpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLmNoaWxkcmVuKSAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgaXRlbS5jaGlsZHJlbiA9IHNlbGYudHJhbnNmb3JtQ29ubHVtc0RhdGFUb05lc3QoaXRlbS5jaGlsZHJlbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdpdGVtUmVuZGVyJykpIHsKICAgICAgICAgICAgaXRlbS5yZW5kZXJUeXBlID0gJ2l0ZW1SZW5kZXInOwogICAgICAgICAgICBpdGVtLnJlbmRlck5hbWUgPSBpdGVtLml0ZW1SZW5kZXIubmFtZTsKICAgICAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oaXRlbSwgc2VsZi5kZWVwQ29weShpdGVtLml0ZW1SZW5kZXIpKTsKICAgICAgICAgICAgZGVsZXRlIGl0ZW0uaXRlbVJlbmRlcjsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChbJyRzZWxlY3QnLCAnJHZ4ZVNlbGVjdCcsICckdnhlRm9ybVJhZGlvJywgJyR2eGVGb3JtU2VsZWN0JywgJyR2eGVTd2l0Y2gnLCAnJHZ4ZVJhZGlvJywgJyR2eGVTd2l0Y2gnLCAnJHZ4ZUNoZWNrYm94JywgJyR2eGVGb3JtQ2hlY2tib3gnXS5pbmRleE9mKGl0ZW0ucmVuZGVyTmFtZSkgPj0gMCkgewogICAgICAgICAgICBpdGVtLm9wdGlvbnMgPSBBcnJheS5pc0FycmF5KGl0ZW0ub3B0aW9ucykgPyBpdGVtLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlICsgJyMnICsgaXRlbS5sYWJlbDsKICAgICAgICAgICAgfSkuam9pbignKycpIDogaXRlbS5vcHRpb25zOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBpdGVtczsKICAgIH0sCiAgICBnZXRUYWJsZUNvbmZCeU1lbnVndWlkOiBmdW5jdGlvbiBnZXRUYWJsZUNvbmZCeU1lbnVndWlkKG1lbnVndWlkKSB7CiAgICAgIC8vIOagueaNruiPnOWNlW1lbnVndWlk6I635Y+W5YW25LiL5omA5pyJ6KGo6YWN572uCiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBzZWxmLiRodHRwLmdldCgnbXAtYi1wZXJtLXNlcnZpY2UvdjEvdGFibGVjb25mL21lbnVndWlkJywgewogICAgICAgICAgbWVudWd1aWQ6IG1lbnVndWlkLAogICAgICAgICAgbW9mX2Rpdl9jb2RlOiBzZWxmLnVzZXJJbmZvLnByb3ZpbmNlLAogICAgICAgICAgLy8g5Yy65YiSCiAgICAgICAgICBmaXNjYWx5ZWFyOiBzZWxmLnVzZXJJbmZvLnllYXIgLy8g5bm05Lu9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnJzY29kZSA9PT0gJzEwMDAwMCcpIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgICAgIC8vIHJlc29sdmUoc2VsZi5nZW5lcmF0ZUN1clRhYmxlQ29uZkRhdGFNYXAocmVzLmRhdGEpKQogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVDdXJUYWJsZUNvbmZEYXRhTWFwOiBmdW5jdGlvbiBnZW5lcmF0ZUN1clRhYmxlQ29uZkRhdGFNYXAoY3VyTWVudUNvbmZzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAvLyDnlJ/miJDlvZPliY1tZW515LiL6KGo5qC85pWw5o2u5pig5bCECiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIHJlc3VsdE9iaiA9IHt9OwogICAgICB2YXIgY3VyVGFibGVDb25mRGF0YXNNYXAgPSB7fTsKICAgICAgdmFyIGN1clRhYmxlQ29uZkRhdGFzTWFwQXJyID0gW107CiAgICAgIHJlc3VsdE9iai5jdXJUYWJsZUNvbmZEYXRhcyA9IGN1ck1lbnVDb25mczsKICAgICAgY3VyTWVudUNvbmZzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgdmFyIF9zZWxmJGpzb25QYXJzZSA9IHNlbGYuanNvblBhcnNlKGl0ZW0uY29uZmlndXJlKSwKICAgICAgICAgIGl0ZW1zQ29uZmlnID0gX3NlbGYkanNvblBhcnNlLml0ZW1zQ29uZmlnLAogICAgICAgICAgZ2xvYmFsQ29uZmlnID0gX3NlbGYkanNvblBhcnNlLmdsb2JhbENvbmZpZywKICAgICAgICAgIGZvcm1Db25maWcgPSBfc2VsZiRqc29uUGFyc2UuZm9ybUNvbmZpZzsKICAgICAgICBnbG9iYWxDb25maWcgPSBnbG9iYWxDb25maWcgfHwge307CiAgICAgICAgaXRlbXNDb25maWcgPSBpdGVtc0NvbmZpZyB8fCBbXTsKICAgICAgICBmb3JtQ29uZmlnID0gZm9ybUNvbmZpZyB8fCBbXTsKICAgICAgICB2YXIgZ2xvYmFsQ29uZmlnQ3AgPSBPYmplY3QuYXNzaWduKHsKICAgICAgICAgIHRhYmxlbmFtZTogJycsCiAgICAgICAgICBidXNpbmVzc1RhYmxlTmFtZTogJycsCiAgICAgICAgICB0YWJsZU5vdGU6ICcnLAogICAgICAgICAgbWVhc3VyaW5nVW5pdDogJycsCiAgICAgICAgICB2aWV3T3JkZXI6ICcnLAogICAgICAgICAgZWRpdGFibGVCYXRjaDogJycsCiAgICAgICAgICB0YWJsZVR5cGU6ICcnLAogICAgICAgICAgbm90ZTogJycsCiAgICAgICAgICBhdXRvQnVpbHRUYWJsZXM6ICcnLAogICAgICAgICAgZWRpdGJsZTogJycsCiAgICAgICAgICBzaG93Q2hlY2tib3g6ICcnLAogICAgICAgICAgY2FuVXNlOiAnJywKICAgICAgICAgIGFTaW5nbGVUYWJsZTogJycsCiAgICAgICAgICBiYXRjaE1vZGlmeTogJycsCiAgICAgICAgICByb3dDb25maWc6ICcnLAogICAgICAgICAgbm9SZWNvcmRJc0FsbG93ZWRUb1JlcG9ydDogJycsCiAgICAgICAgICBzdWJ0b3RhbFJvd3M6ICcnCiAgICAgICAgfSwgZ2xvYmFsQ29uZmlnLCB7CiAgICAgICAgICAvLyB0YWJsZW5hbWU6IGl0ZW0udGFibGVuYW1lLAogICAgICAgICAgdHlwZTogaXRlbS50eXBlLAogICAgICAgICAgdXBkYXRldGltZTogaXRlbS51cGRhdGV0aW1lLAogICAgICAgICAgbWVudW5hbWU6IF90aGlzMi5jdXJMZWZ0VHJlZUNsaWNrTm9kZS5uYW1lLAogICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICBtZW51Z3VpZDogaXRlbS5tZW51Z3VpZAogICAgICAgIH0pOwogICAgICAgIGN1clRhYmxlQ29uZkRhdGFzTWFwQXJyLnB1c2goZ2xvYmFsQ29uZmlnQ3ApOwogICAgICAgIGN1clRhYmxlQ29uZkRhdGFzTWFwW2l0ZW0uaWRdID0gewogICAgICAgICAgaXRlbXNDb25maWc6IHNlbGYudHJhbnNmb3JtQ29ubHVtc0RhdGFUb1NpbmdsZShpdGVtc0NvbmZpZyksCiAgICAgICAgICBmb3JtQ29uZmlnOiBzZWxmLnRyYW5zZm9ybUl0ZW1zRGF0YVRvU2luZ2xlKGZvcm1Db25maWcpLAogICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICBnbG9iYWxDb25maWc6IGdsb2JhbENvbmZpZ0NwLAogICAgICAgICAgbWVudWd1aWQ6IGl0ZW0ubWVudWd1aWQsCiAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUKICAgICAgICB9OwogICAgICB9KTsKICAgICAgcmVzdWx0T2JqLmN1clRhYmxlQ29uZkRhdGFzTWFwQXJyID0gY3VyVGFibGVDb25mRGF0YXNNYXBBcnI7CiAgICAgIHJlc3VsdE9iai5jdXJUYWJsZUNvbmZEYXRhc01hcCA9IGN1clRhYmxlQ29uZkRhdGFzTWFwOwogICAgICByZXR1cm4gcmVzdWx0T2JqOwogICAgfSwKICAgIHNldExlZnRNZW51VHJlZTogZnVuY3Rpb24gc2V0TGVmdE1lbnVUcmVlKCkgewogICAgICAvLyDliqDovb3lt6bkvqfmoJEKICAgICAgdGhpcy5sZWZ0VHJlZURhdGEgPSBbXS5jb25jYXQodGhpcy4kc3RvcmUuc3RhdGUuc3lzdGVtTWVudSk7CiAgICB9LAogICAgb25MZWZ0VHJlZU5vZGVDbGljazogZnVuY3Rpb24gb25MZWZ0VHJlZU5vZGVDbGljayhub2RlLCBsZWZ0VHJlZSkgewogICAgICAvLyDlt6bkvqfmoJHngrnlh7vkuovku7YKICAgICAgaWYgKCEoQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCkpIHsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgdGhpcy5jdXJMZWZ0VHJlZUNsaWNrTm9kZSA9IG5vZGU7CiAgICAgICAgdGhpcy5nZXRUYWJsZUNvbmZCeU1lbnVndWlkKG5vZGUuZ3VpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBzZWxmLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAiXHU1RjUzXHU1MjREXHU4M0RDXHU1MzU1XHU2NTcwXHU2MzZFXHU2N0U1XHU4QkUyXHU2MjEwXHU1MjlGLFx1NTE3MVx1OEJBMSgiLmNvbmNhdChyZXMubGVuZ3RoLCAiXHU2NzYxKSIpLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgICAgc2VsZi5jdXJUYWJsZUNvbmZEYXRhc01hcEFyciA9IHJlczsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlZnJlc2hUYWJsZTogZnVuY3Rpb24gcmVmcmVzaFRhYmxlKCkgewogICAgICAvLyDliLfmlrDooajmoLwKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLmdldFRhYmxlQ29uZkJ5TWVudWd1aWQodGhpcy5jdXJMZWZ0VHJlZUNsaWNrTm9kZS5ndWlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBzZWxmLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflvZPliY3oj5zljZXmlbDmja7lt7LliLfmlrAnLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgICAgc2VsZi5jdXJUYWJsZUNvbmZEYXRhc01hcEFyciA9IHJlczsKICAgICAgICBzZWxmLiRyZWZzLmJzVGFibGVSZWYudGFibGVPcHRpb25GbigpLnJlbG9hZERhdGEoc2VsZi5jdXJUYWJsZUNvbmZEYXRhc01hcEFycikudGhlbihmdW5jdGlvbiAoKSB7fSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICB9KTsKICAgIH0sCiAgICBvbkVkaXRUYWJsZUNsaWNrOiBmdW5jdGlvbiBvbkVkaXRUYWJsZUNsaWNrKCkgewogICAgICAvLyDnvJbovpHngrnlh7vkuovku7YKICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuJHJlZnMuYnNUYWJsZVJlZi5zZWxlY3Rpb247CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgdmFyIF90aGlzJGpzb25QYXJzZSA9IHRoaXMuanNvblBhcnNlKHNlbGVjdGlvblswXS5jb25maWd1cmUpLAogICAgICAgICAgaXRlbXNDb25maWcgPSBfdGhpcyRqc29uUGFyc2UuaXRlbXNDb25maWcsCiAgICAgICAgICBnbG9iYWxDb25maWcgPSBfdGhpcyRqc29uUGFyc2UuZ2xvYmFsQ29uZmlnLAogICAgICAgICAgZm9ybUNvbmZpZyA9IF90aGlzJGpzb25QYXJzZS5mb3JtQ29uZmlnOwogICAgICAgIGdsb2JhbENvbmZpZyA9IGdsb2JhbENvbmZpZyB8fCB7fTsKICAgICAgICBpdGVtc0NvbmZpZyA9IGl0ZW1zQ29uZmlnIHx8IFtdOwogICAgICAgIGZvcm1Db25maWcgPSBmb3JtQ29uZmlnIHx8IFtdOwogICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsCiAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKSwKICAgICAgICAgIGZvcm1Db25maWc6IHRoaXMudHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoZm9ybUNvbmZpZykKICAgICAgICB9KTsKICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsVmlzaWJsZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5LiA5p2h5pWw5o2u6L+b6KGM57yW6L6RJywKICAgICAgICAgIHR5cGU6ICdpbmZvJwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25FZGl0Rm9ybUNsaWNrOiBmdW5jdGlvbiBvbkVkaXRGb3JtQ2xpY2soKSB7CiAgICAgIC8vIOe8lui+keeCueWHu+S6i+S7tgogICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy4kcmVmcy5ic1RhYmxlUmVmLnNlbGVjdGlvbjsKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICB2YXIgX3RoaXMkanNvblBhcnNlMiA9IHRoaXMuanNvblBhcnNlKHNlbGVjdGlvblswXS5jb25maWd1cmUpLAogICAgICAgICAgaXRlbXNDb25maWcgPSBfdGhpcyRqc29uUGFyc2UyLml0ZW1zQ29uZmlnLAogICAgICAgICAgZ2xvYmFsQ29uZmlnID0gX3RoaXMkanNvblBhcnNlMi5nbG9iYWxDb25maWcsCiAgICAgICAgICBmb3JtQ29uZmlnID0gX3RoaXMkanNvblBhcnNlMi5mb3JtQ29uZmlnOwogICAgICAgIGdsb2JhbENvbmZpZyA9IGdsb2JhbENvbmZpZyB8fCB7fTsKICAgICAgICBpdGVtc0NvbmZpZyA9IGl0ZW1zQ29uZmlnIHx8IFtdOwogICAgICAgIGZvcm1Db25maWcgPSBmb3JtQ29uZmlnIHx8IFtdOwogICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHNlbGVjdGlvblswXSwgewogICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsCiAgICAgICAgICBpdGVtc0NvbmZpZzogdGhpcy50cmFuc2Zvcm1Db25sdW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKSwKICAgICAgICAgIGZvcm1Db25maWc6IHRoaXMudHJhbnNmb3JtSXRlbXNEYXRhVG9TaW5nbGUoZm9ybUNvbmZpZykKICAgICAgICB9KTsKICAgICAgICB0aGlzLmZvcm1Db25mTW9kYWxWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuIDmnaHmlbDmja7ov5vooYznvJbovpEnLAogICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkVkaXRDbGljazogZnVuY3Rpb24gb25FZGl0Q2xpY2soKSB7CiAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uOwogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHZhciBfdGhpcyRqc29uUGFyc2UzID0gdGhpcy5qc29uUGFyc2Uoc2VsZWN0aW9uWzBdLmNvbmZpZ3VyZSksCiAgICAgICAgICBpdGVtc0NvbmZpZyA9IF90aGlzJGpzb25QYXJzZTMuaXRlbXNDb25maWcsCiAgICAgICAgICBnbG9iYWxDb25maWcgPSBfdGhpcyRqc29uUGFyc2UzLmdsb2JhbENvbmZpZywKICAgICAgICAgIHN1YlRhYkNvbmZpZyA9IF90aGlzJGpzb25QYXJzZTMuc3ViVGFiQ29uZmlnLAogICAgICAgICAgZGVmYXVsdENvbmZpZyA9IF90aGlzJGpzb25QYXJzZTMuZGVmYXVsdENvbmZpZzsKICAgICAgICBnbG9iYWxDb25maWcgPSBnbG9iYWxDb25maWcgfHwge307CiAgICAgICAgaXRlbXNDb25maWcgPSBpdGVtc0NvbmZpZyB8fCBbXTsKICAgICAgICBzdWJUYWJDb25maWcgPSBzdWJUYWJDb25maWcgfHwgewogICAgICAgICAgYnV0dG9uczogW10sCiAgICAgICAgICBidXR0b25zSW5mbzoge30KICAgICAgICB9OwogICAgICAgIGRlZmF1bHRDb25maWcgPSBkZWZhdWx0Q29uZmlnIHx8IFtdOwogICAgICAgIGlmIChzZWxlY3Rpb25bMF0udHlwZSA9PT0gJ2Zvcm0nIHx8IHNlbGVjdGlvblswXS50eXBlID09PSAnZm9ybUNvbmYnIHx8IHNlbGVjdGlvblswXS50eXBlID09PSAnZGV0YWlsJyB8fCBzZWxlY3Rpb25bMF0udHlwZSA9PT0gJ2RldGFpbENvbmYnKSB7CiAgICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsKICAgICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnTmVzdDogdGhpcy5kZWVwQ29weShpdGVtc0NvbmZpZyksCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUl0ZW1zRGF0YVRvU2luZ2xlKGl0ZW1zQ29uZmlnKQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmZvcm1Db25mTW9kYWxWaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvblswXS50eXBlID09PSAndGFiUGFuZUNvbmYnKSB7CiAgICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsKICAgICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnTmVzdDogdGhpcy5kZWVwQ29weShzdWJUYWJDb25maWcpLAogICAgICAgICAgICBzdWJUYWJDb25maWc6IHN1YlRhYkNvbmZpZwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLlN1YlRhYkNvbmZpZ1Zpc2libGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uWzBdLnR5cGUgPT09ICdlbnRlcmluZ0RlZmF1bHQnKSB7CiAgICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsKICAgICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnTmVzdDogdGhpcy5kZWVwQ29weShkZWZhdWx0Q29uZmlnKSwKICAgICAgICAgICAgaXRlbXNDb25maWc6IHRoaXMudHJhbnNmb3JtQ29ubHVtc0RhdGFUb1NpbmdsZShkZWZhdWx0Q29uZmlnKQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmVudGVyaW5nRGVmYXVsdFZpc2libGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gT2JqZWN0LmFzc2lnbihzZWxlY3Rpb25bMF0sIHsKICAgICAgICAgICAgZ2xvYmFsQ29uZmlnOiBnbG9iYWxDb25maWcsCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnTmVzdDogdGhpcy5kZWVwQ29weShpdGVtc0NvbmZpZyksCiAgICAgICAgICAgIGl0ZW1zQ29uZmlnOiB0aGlzLnRyYW5zZm9ybUNvbmx1bXNEYXRhVG9TaW5nbGUoaXRlbXNDb25maWcpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudGFibGVDb25mTW9kYWxWaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5LiA5p2h5pWw5o2u6L+b6KGM57yW6L6RJywKICAgICAgICAgIHR5cGU6ICdpbmZvJwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25BZGRDbGljazogZnVuY3Rpb24gb25BZGRDbGljaygpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzLmJzVGFibGVSZWYuaW5zZXJ0Um93RGF0YSh7CiAgICAgICAgZGF0YTogewogICAgICAgICAgbWVudWd1aWQ6IHNlbGYuY3VyTGVmdFRyZWVDbGlja05vZGUuZ3VpZCwKICAgICAgICAgIHR5cGU6ICd0YWJsZScsCiAgICAgICAgICBvcHRpb25UeXBlOiAnYWRkJywKICAgICAgICAgIGlkOiBzZWxmLiRUb29sRm4udXRpbEZuLmdldFV1aWQoKSwKICAgICAgICAgIG1lbnVuYW1lOiBzZWxmLmN1ckxlZnRUcmVlQ2xpY2tOb2RlLm5hbWUsCiAgICAgICAgICBtb2ZfZGl2X2NvZGU6IHNlbGYudXNlckluZm8ucHJvdmluY2UsCiAgICAgICAgICB0YWJsZW5hbWU6ICcnLAogICAgICAgICAgZmlzY2FseWVhcjogc2VsZi51c2VySW5mby55ZWFyLAogICAgICAgICAgY29uZmlndXJlOiBzZWxmLmpzb25TdHJpbmdpZnkoewogICAgICAgICAgICBnbG9iYWxDb25maWc6IHt9LAogICAgICAgICAgICAvLyDlhajlsYDphY3nva4KICAgICAgICAgICAgaXRlbXNDb25maWc6IFtdLAogICAgICAgICAgICAvLyDpobnphY3nva4KICAgICAgICAgICAgcGFnZUNvbmZpZzoge30sCiAgICAgICAgICAgIC8vIOWIhumhtemFjee9rgogICAgICAgICAgICBlZGl0Q29uZmlnOiB7fSwKICAgICAgICAgICAgLy8g57yW6L6R6YWN572uCiAgICAgICAgICAgIGVkaXRSdWxlczoge30sCiAgICAgICAgICAgIC8vIOagoemqjOinhOWImQogICAgICAgICAgICBmb290ZXJDb25maWc6IHt9LAogICAgICAgICAgICAvLyDooajlsL7phY3nva4KICAgICAgICAgICAgZGF0YUNvbmZpZzogewogICAgICAgICAgICAgIGRhdGFTb3VjZVR5cGU6ICdxdWVyeScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3ViVGFiQ29uZmlnOiBbXSwKICAgICAgICAgICAgZGVmYXVsdENvbmZpZzogW10gLy8g5b2V5YWl6buY6K6k5YC8CiAgICAgICAgICB9KQogICAgICAgICAgLy8gbWVudWd1aWQ6ICcxMjM0NTYnCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbkRlbGV0ZUNsaWNrOiBmdW5jdGlvbiBvbkRlbGV0ZUNsaWNrKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgaWRzID0gdGhpcy4kcmVmcy5ic1RhYmxlUmVmLnNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgIH0pOwogICAgICB2YXIgbWVudWd1aWQgPSB0aGlzLiRyZWZzLmJzVGFibGVSZWYuc2VsZWN0aW9uWzBdLm1lbnVndWlkOwogICAgICB0aGlzLm1lbnVndWlkc1swXSA9IG1lbnVndWlkOwogICAgICBpZiAoaWRzLmxlbmd0aCkgewogICAgICAgIHNlbGYuJGNvbmZpcm0oJ+ehruWumuWIoOmZpO+8nycsICfmj5DnpLonLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgc2VsZi4kaHR0cC5kZWwoJ21wLWItcGVybS1zZXJ2aWNlL3YxL3RhYmxlY29uZicsIHsKICAgICAgICAgICAgbW9mX2Rpdl9jb2RlOiBzZWxmLnVzZXJJbmZvLnByb3ZpbmNlLAogICAgICAgICAgICAvLyDljLrliJIKICAgICAgICAgICAgZmlzY2FseWVhcjogc2VsZi51c2VySW5mby55ZWFyLAogICAgICAgICAgICAvLyDlubTku71zCiAgICAgICAgICAgIGlkczogaWRzLAogICAgICAgICAgICBtZW51Z3VpZHM6IF90aGlzMy5tZW51Z3VpZHMKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLnJzY29kZSA9PT0gJzEwMDAwMCcpIHsKICAgICAgICAgICAgICBzZWxmLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJcdTkwMDlcdTRFMkRcdTc2ODQiLmNvbmNhdChpZHMubGVuZ3RoLCAiXHU2NzYxXHU2NTcwXHU2MzZFXHU1REYyXHU1MjIwXHU5NjY0IiksCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBzZWxmLnJlZnJlc2hUYWJsZSgpOwogICAgICAgICAgICAgIC8vIHJlc29sdmUoc2VsZi5nZW5lcmF0ZUN1clRhYmxlQ29uZkRhdGFNYXAocmVzLmRhdGEpKQogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHNlbGYuJG1lc3NhZ2Uuc3VjY2Vzcygn5Y+W5raI5Yig6Zmk5oiQ5YqfJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvblRhYmxlQ2VsbENsaWNrOiBmdW5jdGlvbiBvblRhYmxlQ2VsbENsaWNrKF9yZWYyKSB7CiAgICAgIHZhciByb3cgPSBfcmVmMi5yb3csCiAgICAgICAgcm93SW5kZXggPSBfcmVmMi5yb3dJbmRleCwKICAgICAgICAkcm93SW5kZXggPSBfcmVmMi4kcm93SW5kZXgsCiAgICAgICAgY29sdW1uID0gX3JlZjIuY29sdW1uLAogICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjIuY29sdW1uSW5kZXgsCiAgICAgICAgJGNvbHVtbkluZGV4ID0gX3JlZjIuJGNvbHVtbkluZGV4LAogICAgICAgIHRyaWdnZXJSYWRpbyA9IF9yZWYyLnRyaWdnZXJSYWRpbywKICAgICAgICB0cmlnZ2VyQ2hlY2tib3ggPSBfcmVmMi50cmlnZ2VyQ2hlY2tib3gsCiAgICAgICAgdHJpZ2dlclRyZWVOb2RlID0gX3JlZjIudHJpZ2dlclRyZWVOb2RlLAogICAgICAgIHRyaWdnZXJFeHBhbmROb2RlID0gX3JlZjIudHJpZ2dlckV4cGFuZE5vZGUsCiAgICAgICAgJGV2ZW50ID0gX3JlZjIuJGV2ZW50OwogICAgfSAvLyB0aGlzLnRhYmxlQ29uZk1vZGFsUGFyYW1zID0gdGhpcy5jdXJUYWJsZUNvbmZEYXRhc01hcFtyb3cuaWRdCiAgICAvLyB0aGlzLlRhYmxlQ29uZk1vZGFsVmlzaWJsZSA9IHRydWUKICAgICwKICAgIC8vIOWMuuWIkum7mOiupOWAvAogICAgZ2V0UHJvdmluY2U6IGZ1bmN0aW9uIGdldFByb3ZpbmNlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICB2YWx1ZTogdGhpcy51c2VySW5mby5wcm92aW5jZSwKICAgICAgICBsYWJlbDogdGhpcy51c2VySW5mby5hZG1kaXZuYW1lCiAgICAgIH07CiAgICAgIHZhciBmbGFnID0gZmFsc2U7CiAgICAgIHRoaXMudGFibGVDb2x1bW5zQ29uZmlnWzBdLmVkaXRSZW5kZXIub3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0udmFsdWUgPT09IF90aGlzNC51c2VySW5mby5wcm92aW5jZSkgewogICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKCFmbGFnKSB7CiAgICAgICAgdGhpcy50YWJsZUNvbHVtbnNDb25maWdbMF0uZWRpdFJlbmRlci5vcHRpb25zLnB1c2gob2JqKTsKICAgICAgfQogICAgICB0aGlzLnRhYmxlQ29sdW1uc0NvbmZpZ1swXS5lZGl0UmVuZGVyLmRlZmF1bHRWYWx1ZSA9IHRoaXMudXNlckluZm8ucHJvdmluY2U7CiAgICB9LAogICAgLy8g57yW6L6R55qE5pe25YCZ5b2V5YWl6buY6K6k5YC85pyJ5Liq6buY6K6kaWQKICAgIGVkaXRDbG9zZWQ6IGZ1bmN0aW9uIGVkaXRDbG9zZWQoX3JlZjMpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYzLnJvdywKICAgICAgICBjb2x1bW4gPSBfcmVmMy5jb2x1bW47CiAgICAgIC8vIGVudGVyaW5nRGVmYXVsdEZsYWfmoIfor4bvvIzlvZPmlLnov4fkuLrlvZXlhaXpu5jorqTlgLzlkI7vvIzlho3mm7TmlLnmiY3lvbHlk41pZOWPmOWMlgogICAgICBpZiAocm93LnR5cGUgPT09ICdlbnRlcmluZ0RlZmF1bHQnKSB7CiAgICAgICAgcm93LmlkID0gJ0Q5QTBCNThFNUMyMjQyRjM4NjBFNkQ4MTUxQzIxMUIyJzsKICAgICAgICByb3cuaWRfX3ZpZXdTb3J0ID0gJ0Q5QTBCNThFNUMyMjQyRjM4NjBFNkQ4MTUxQzIxMUIyJzsKICAgICAgICB0aGlzLmVudGVyaW5nRGVmYXVsdEZsYWcgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHJvdy50eXBlICE9PSAnZW50ZXJpbmdEZWZhdWx0JyAmJiB0aGlzLmVudGVyaW5nRGVmYXVsdEZsYWcgPT09IHRydWUpIHsKICAgICAgICByb3cuaWQgPSB0aGlzLiRUb29sRm4udXRpbEZuLmdldFV1aWQoKTsKICAgICAgICByb3cuaWRfX3ZpZXdTb3J0ID0gcm93LmlkOwogICAgICAgIHRoaXMuZW50ZXJpbmdEZWZhdWx0RmxhZyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzJCRnbG9hYmxlVG9vbEZuLCBfdGhpcyQkZ2xvYWJsZVRvb2xGbjI7CiAgICB0aGlzLnNldExlZnRNZW51VHJlZSgpOwogICAgaWYgKCgoX3RoaXMkJGdsb2FibGVUb29sRm4gPSB0aGlzLiRnbG9hYmxlVG9vbEZuKSA9PT0gbnVsbCB8fCBfdGhpcyQkZ2xvYWJsZVRvb2xGbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJGdsb2FibGVUb29sRm4uY3VycmVudFByb3ZpbmNlKSA9PT0gKChfdGhpcyQkZ2xvYWJsZVRvb2xGbjIgPSB0aGlzLiRnbG9hYmxlVG9vbEZuKSA9PT0gbnVsbCB8fCBfdGhpcyQkZ2xvYWJsZVRvb2xGbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRnbG9hYmxlVG9vbEZuMi5GdUppYW4pKSB7CiAgICAgIHRoaXMuZ2V0UHJvdmluY2UoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB0YWJsZUNvbmZNb2RhbFZpc2libGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXd2YWwpIHsKICAgICAgICAvLyBpZiAoIW5ld3ZhbCkgewogICAgICAgIC8vICAgdGhpcy5yZWZyZXNoVGFibGUoKQogICAgICAgIC8vIH0KICAgICAgfSwKICAgICAgLy8gZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgZm9ybUNvbmZNb2RhbFZpc2libGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXd2YWwpIHsKICAgICAgICAvLyBpZiAoIW5ld3ZhbCkgewogICAgICAgIC8vICAgdGhpcy5yZWZyZXNoVGFibGUoKQogICAgICAgIC8vIH0KICAgICAgfSwKICAgICAgLy8gZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["TableConfModal","FormConfModal","EnteringDefault","getFormConfData","SubTabConfigModal","name","components","props","allPropData","type","Object","default","_default","data","menuguids","curConfType","leftVisible","leftTreeData","curSplitPaneLeftWidth","isShowQueryConditions","serverUri","treeQueryparams","menuguid","useRight","batchno","datatype","eleCode","sxspecroleguid","treeleftTreeConfig","inputVal","treeConfig","curRadio","radioGroup","code","label","leftTreeConfig","pagerConfig","currentPage","total","curTableConfDatas","curTableConfDatasMapArr","curTableConfDatasMap","globleConfigCp","tableName","businessTableName","tableNote","measuringUnit","viewOrder","editableBatch","tableType","note","autoBuiltTables","editble","showCheckbox","canUse","aSingleTable","batchModify","rowConfig","noRecordIsAllowedToReport","subtotalRows","toolbarConfig","_objectSpread","disabledMoneyConversion","tableConfig","tableColumnsConfig","tableConfModalVisible","formConfModalVisible","enteringDefaultVisible","curLeftTreeClickNode","enteringDefaultFlag","SubTabConfigVisible","computed","curNavModule","$store","state","userInfo","methods","deepCopy","obj","me","_typeof","newObj","Array","key","hasOwnProperty","jsonStringify","columns","JSON","stringify","val","jsonParse","str","parse","k","v","indexOf","func","Function","e","changeInput","$refs","testTree","filterText","confrimData","curTree","tabStatusNumConfig","onSplitPaneResize","leftWidth","ajaxData","_ref","pageSize","queryParams","assign","getTableDatas","_this","showLoading","self","$http","post","then","res","tableData","list","transformConlumsDataToNest","forEach","column","columnIndex","isArray","children","length","renderType","renderName","options","params","split","map","item","index","value","defaultValue","_XID","transformConlumsDataToSingle","editRender","cellRender","itemRender","join","transformItemsDataToSingle","items","itemIndex","getTableConfByMenuguid","Promise","resolve","reject","get","mof_div_code","province","fiscalyear","year","rscode","catch","error","generateCurTableConfDataMap","curMenuConfs","_this2","resultObj","_self$jsonParse","configure","itemsConfig","globalConfig","formConfig","globalConfigCp","tablename","updatetime","menuname","id","push","setLeftMenuTree","concat","systemMenu","onLeftTreeNodeClick","node","leftTree","guid","$message","showClose","message","refreshTable","bsTableRef","tableOptionFn","reloadData","onEditTableClick","selection","_this$jsonParse","tableConfModalParams","onEditFormClick","_this$jsonParse2","onEditClick","_this$jsonParse3","subTabConfig","defaultConfig","buttons","buttonsInfo","itemsConfigNest","onAddClick","insertRowData","optionType","$ToolFn","utilFn","getUuid","pageConfig","editConfig","editRules","footerConfig","dataConfig","dataSouceType","onDeleteClick","_this3","ids","$confirm","confirmButtonText","cancelButtonText","del","console","log","success","onTableCellClick","_ref2","row","rowIndex","$rowIndex","$columnIndex","triggerRadio","triggerCheckbox","triggerTreeNode","triggerExpandNode","$event","getProvince","_this4","admdivname","flag","editClosed","_ref3","id__viewSort","mounted","_this$$gloableToolFn","_this$$gloableToolFn2","$gloableToolFn","currentProvince","FuJian","watch","handler","newval","immediate"],"sources":["src/views/main/dynamicTableSetting/dynamicTableSetting.vue"],"sourcesContent":["<!--  表格信息配置   Author:Titans@2396757591@qq.com -->\r\n<template>\r\n  <div class=\"height-all\">\r\n    <BsMainFormListLayout :left-visible.sync=\"leftVisible\">\r\n      <template v-slot:topTap>\r\n        <!-- <JsonEditor />  -->\r\n      </template>\r\n      <template v-slot:topTabPane> </template>\r\n      <template v-slot:query> </template>\r\n      <!-- leftVisible不为undefined为渲染mainTree和mainForm插槽 ，否则渲染mainCon插槽-->\r\n      <template v-slot:mainTree>\r\n        <div class=\"height-all left-tree-pane\">\r\n          <div class=\"mmc-left-tree-title\">\r\n            <BsTreeSet\r\n\r\n              @onAsideChange=\"leftVisible = false\"\r\n              @onChangeInput=\"changeInput\"\r\n              @onConfrimData=\"confrimData\"\r\n            />\r\n            <!-- <div class=\"mmc-title\">\r\n              <span class=\"fn-inline\">菜单树</span>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"mmc-left-tree-body\" style=\"height: calc(100% - 48px)\">\r\n            <BsBossTree\r\n              ref=\"testTree\"\r\n              is-need-root\r\n              :tree-props=\"{\r\n                label: 'name',\r\n                children: 'children',\r\n              }\"\r\n              open-loading\r\n              :is-server=\"false\"\r\n              :datas=\"leftTreeData\"\r\n              :server-uri=\"serverUri\"\r\n              :global-config=\"leftTreeConfig\"\r\n              :queryparams=\"treeQueryparams\"\r\n              :clickmethod=\"onLeftTreeNodeClick\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template v-slot:mainForm>\r\n        <BsTable\r\n          ref=\"bsTableRef\"\r\n          :footer-config=\"{ showFooter: false }\"\r\n          :table-config=\"tableConfig\"\r\n          :table-columns-config=\"tableColumnsConfig\"\r\n          :table-data=\"curTableConfDatasMapArr\"\r\n          :toolbar-config=\"toolbarConfig\"\r\n          :pager-config=\"false\"\r\n          :edit-config=\"{}\"\r\n          @ajaxData=\"ajaxData\"\r\n          @editClosed=\"editClosed\"\r\n        >\r\n          <template v-slot:toolbarSlots>\r\n            <div class=\"table-toolbar-left\">\r\n              <div\r\n                v-if=\"leftVisible === false\"\r\n                class=\"table-toolbar-contro-leftvisible\"\r\n                @click=\"leftVisible = true\"\r\n              ></div>\r\n              <div class=\"table-toolbar-left-title\">\r\n                <span class=\"fn-inline\">{{\r\n                  (curLeftTreeClickNode.name ? curLeftTreeClickNode.name : '') + '菜单表配置'\r\n                }}</span>\r\n                <i class=\"fn-inline\"></i>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <template v-slot:toolbar-custom-slot>\r\n            <div class=\"toolbar-slot-custom-slot fn-inline\">\r\n              <!-- <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表单项配置\"\r\n                @click=\"onEditFormClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑表格列配置\"\r\n                @click=\"onEditTableClick\"\r\n              /> -->\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"新增\"\r\n                @click=\"onAddClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"删除\"\r\n                @click=\"onDeleteClick\"\r\n              />\r\n              <vxe-button\r\n                size=\"medium\"\r\n                status=\"primary\"\r\n                content=\"编辑\"\r\n                @click=\"onEditClick\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </BsTable>\r\n      </template>\r\n    </BsMainFormListLayout>\r\n    <div>\r\n      <TableConfModal\r\n        v-if=\"tableConfModalVisible\"\r\n        :dialog-visible.sync=\"tableConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <FormConfModal\r\n        v-if=\"formConfModalVisible\"\r\n        :dialog-visible.sync=\"formConfModalVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <EnteringDefault\r\n        v-if=\"enteringDefaultVisible\"\r\n        :dialog-visible.sync=\"enteringDefaultVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n      <SubTabConfigModal\r\n        v-if=\"SubTabConfigVisible\"\r\n        :dialog-visible.sync=\"SubTabConfigVisible\"\r\n        :params=\"tableConfModalParams\"\r\n        @closeCallback=\"refreshTable\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TableConfModal from './tableConfModal.vue'\r\nimport FormConfModal from './FormConfModal.vue'\r\nimport EnteringDefault from './enteringDefault.vue'\r\nimport getFormConfData from './formConf.js'\r\nimport SubTabConfigModal from './SubTabConfigModal.vue'\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    TableConfModal,\r\n    FormConfModal,\r\n    EnteringDefault,\r\n    SubTabConfigModal\r\n  },\r\n  props: {\r\n    allPropData: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      menuguids: [],\r\n      curConfType: 'table',\r\n      leftVisible: true,\r\n      leftTreeData: [],\r\n      curSplitPaneLeftWidth: 20,\r\n      isShowQueryConditions: false,\r\n      serverUri: 'mp-b-perm-service/v1/tableconf/menuguid',\r\n      treeQueryparams: {\r\n        menuguid: 'test_123456',\r\n        useRight: false,\r\n        batchno: 2,\r\n        datatype: 5,\r\n        eleCode: 'DEPBGTECO',\r\n        sxspecroleguid: '637B6D5A823F459AB313CBF94C87765B'\r\n      },\r\n      treeleftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      treeConfig: {\r\n        curRadio: 'zf',\r\n        radioGroup: [\r\n          {\r\n            code: 'zf',\r\n            label: '政府部门树'\r\n          },\r\n          {\r\n            code: 'xuexiao',\r\n            label: '学校树'\r\n          },\r\n          {\r\n            code: 'jigou',\r\n            label: '机构树'\r\n          }\r\n        ]\r\n      },\r\n      leftTreeConfig: {\r\n        inputVal: ''\r\n      },\r\n      pagerConfig: {\r\n        currentPage: 1,\r\n        total: 100\r\n      },\r\n      curTableConfDatas: [],\r\n      currentPage: 1,\r\n      curTableConfDatasMapArr: [\r\n        // {\r\n        //   tableName: '1',\r\n        //   businessTableName: '1',\r\n        //   tableNote: '1',\r\n        //   measuringUnit: 1,\r\n        //   viewOrder: '001',\r\n        //   editableBatch: '001',\r\n        //   tableType: '001',\r\n        //   note: '1',\r\n        //   autoBuiltTables: false,\r\n        //   editble: true,\r\n        //   showCheckbox: true,\r\n        //   canUse: true,\r\n        //   aSingleTable: false,\r\n        //   batchModify: false,\r\n        //   rowConfig: false,\r\n        //   noRecordIsAllowedToReport: true,\r\n        //   subtotalRows: true\r\n        // }\r\n      ],\r\n      curTableConfDatasMap: {},\r\n      globleConfigCp: {\r\n        tableName: '',\r\n        businessTableName: '',\r\n        tableNote: '',\r\n        measuringUnit: '',\r\n        viewOrder: '',\r\n        editableBatch: '',\r\n        tableType: '',\r\n        note: '',\r\n        autoBuiltTables: false,\r\n        editble: true,\r\n        showCheckbox: true,\r\n        canUse: true,\r\n        aSingleTable: false,\r\n        batchModify: false,\r\n        rowConfig: false,\r\n        noRecordIsAllowedToReport: true,\r\n        subtotalRows: true\r\n      },\r\n      toolbarConfig: {\r\n        disabledMoneyConversion: false,\r\n        ...getFormConfData('tableInforConf', 'toolbarConfig')\r\n      },\r\n      tableConfig: getFormConfData('tableInforConf', 'tableConfig'),\r\n      tableColumnsConfig: getFormConfData(\r\n        'tableInforConf',\r\n        'tableColumnsConfig'\r\n      ),\r\n      tableConfModalVisible: false,\r\n      formConfModalVisible: false,\r\n      enteringDefaultVisible: false,\r\n      curLeftTreeClickNode: {},\r\n      enteringDefaultFlag: false,\r\n      SubTabConfigVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    curNavModule() {\r\n      return this.$store.state.curNavModule\r\n    },\r\n    userInfo() {\r\n      return this.$store.state.userInfo\r\n    }\r\n  },\r\n  methods: {\r\n    deepCopy(obj) {\r\n      // 深拷贝通用方法\r\n      let me = this\r\n      if (typeof obj !== 'object' || obj === null) return obj\r\n      let newObj = obj instanceof Array ? [] : {}\r\n      for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          newObj[key] =\r\n            typeof obj[key] === 'object' ? me.deepCopy(obj[key]) : obj[key]\r\n        }\r\n      }\r\n      return newObj\r\n    },\r\n    jsonStringify(columns) {\r\n      // 对象转换成json字符串\r\n      return JSON.stringify(columns, function (key, val) {\r\n        if (typeof val === 'function') {\r\n          return val + ''\r\n        }\r\n        return val\r\n      })\r\n    },\r\n    jsonParse(str) {\r\n      // json字符串转换成对象\r\n      return JSON.parse(str, function (k, v) {\r\n        try {\r\n          if (\r\n            v.indexOf &&\r\n            (v.indexOf('function') > -1 || v.indexOf('=>') > -1)\r\n          ) {\r\n            // return eval('(function(){return ' + v + ' })()')\r\n            // eslint-disable-next-line no-new-func\r\n            let func = new Function('return ' + v)\r\n            return func()\r\n          }\r\n          return v\r\n        } catch (e) {\r\n          return v\r\n        }\r\n      })\r\n    },\r\n    changeInput(val) {\r\n      this.$refs.testTree.filterText = val\r\n    },\r\n    confrimData(curTree) {\r\n      this.confrimData.curRadio = curTree.code\r\n      switch (curTree.code) {\r\n        case 'zf':\r\n          break\r\n        case 'xuexiao':\r\n          this.tabStatusNumConfig['ycl'] = 12\r\n          break\r\n        case 'jigou':\r\n          break\r\n      }\r\n    },\r\n    onSplitPaneResize(leftWidth) {\r\n      if (leftWidth > 1) {\r\n        this.curSplitPaneLeftWidth = leftWidth\r\n        this.leftVisible = true\r\n      } else {\r\n        this.leftVisible = false\r\n      }\r\n    },\r\n    ajaxData({ currentPage, pageSize }) {\r\n      this.pagerConfig.currentPage = currentPage\r\n      this.queryParams = Object.assign(this.queryParams, {\r\n        currentPage,\r\n        pageSize\r\n      })\r\n      this.getTableDatas(currentPage, pageSize)\r\n    },\r\n    getTableDatas(currentPage, pageSize) {\r\n      // 服务端查询数据\r\n      this.showLoading = true\r\n      let self = this\r\n      this.$http.post('url', this.queryParams).then((res) => {\r\n        if (res.code === 200) {\r\n          self.tableData = res.data.list\r\n          self.pagerConfig = {\r\n            total: res.data.total,\r\n            currentPage: currentPage\r\n          }\r\n          this.showLoading = false\r\n        }\r\n      })\r\n    },\r\n    transformConlumsDataToNest(columns) {\r\n      // columns转化为vxe-table columns数据结构\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          column[column.renderType] = {\r\n            name: column.renderName, // 渲染器名,\r\n            options: ((params) => {\r\n              if (typeof params === 'object') {\r\n                return self.deepCopy(params)\r\n              } else if (typeof params === 'string') {\r\n                return params\r\n                  ? params.split('+').map((item, index) => {\r\n                    return {\r\n                      value: item.split('#')[0],\r\n                      label: item.split('#')[1]\r\n                    }\r\n                  })\r\n                  : []\r\n              } else {\r\n                return params\r\n              }\r\n            })(column.options), // 下拉数据源\r\n            defaultValue: column.defaultValue, // 默认值\r\n            props: column.props // 额外参数\r\n          }\r\n          delete column._XID\r\n          delete column.renderType\r\n          delete column.renderName\r\n          delete column.options\r\n          delete column.props\r\n          delete column.defaultValue\r\n          delete self.deepCopy(column.props)\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformConlumsDataToSingle(columns) {\r\n      // vxe-table columns数据结构转化为单层columns\r\n      let self = this\r\n      columns.forEach((column, columnIndex) => {\r\n        if (Array.isArray(column.children) && column.children.length) {\r\n          column.children = self.transformConlumsDataToNest(column.children)\r\n        } else {\r\n          if (column.hasOwnProperty('editRender')) {\r\n            column.renderType = 'editRender'\r\n            column.renderName = column.editRender.name\r\n            column = Object.assign(column, self.deepCopy(column.editRender))\r\n            delete column.editRender\r\n          } else if (column.hasOwnProperty('cellRender')) {\r\n            column.renderType = 'cellRender'\r\n            column.renderName = column.cellRender.name\r\n            column = Object.assign(column, self.deepCopy(column.cellRender))\r\n          } else if (column.hasOwnProperty('itemRender')) {\r\n            column.renderType = 'itemRender'\r\n            column.renderName = column.itemRender.name\r\n            column = Object.assign(column, self.deepCopy(column.itemRender))\r\n          } else {\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox'].indexOf(column.renderName) >= 0) {\r\n            column.options = column.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+')\r\n          }\r\n        }\r\n      })\r\n      return columns\r\n    },\r\n    transformItemsDataToSingle(items) {\r\n      // vxe-table items数据结构转化为单层items\r\n      let self = this\r\n      items.forEach((item, itemIndex) => {\r\n        if (Array.isArray(item.children) && item.children.length) {\r\n          item.children = self.transformConlumsDataToNest(item.children)\r\n        } else {\r\n          if (item.hasOwnProperty('itemRender')) {\r\n            item.renderType = 'itemRender'\r\n            item.renderName = item.itemRender.name\r\n            item = Object.assign(item, self.deepCopy(item.itemRender))\r\n            delete item.itemRender\r\n          }\r\n          if (['$select', '$vxeSelect', '$vxeFormRadio', '$vxeFormSelect', '$vxeSwitch', '$vxeRadio', '$vxeSwitch', '$vxeCheckbox', '$vxeFormCheckbox'].indexOf(item.renderName) >= 0) {\r\n            item.options = Array.isArray(item.options) ? item.options\r\n              .map((item, index) => {\r\n                return item.value + '#' + item.label\r\n              })\r\n              .join('+') : item.options\r\n          }\r\n        }\r\n      })\r\n      return items\r\n    },\r\n    getTableConfByMenuguid(menuguid) {\r\n      // 根据菜单menuguid获取其下所有表配置\r\n      let self = this\r\n      return new Promise((resolve, reject) => {\r\n        self.$http\r\n          .get('mp-b-perm-service/v1/tableconf/menuguid', {\r\n            menuguid: menuguid,\r\n            mof_div_code: self.userInfo.province, // 区划\r\n            fiscalyear: self.userInfo.year // 年份\r\n          })\r\n          .then((res) => {\r\n            if (res.rscode === '100000') {\r\n              resolve(res.data)\r\n              // resolve(self.generateCurTableConfDataMap(res.data))\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            reject(error)\r\n          })\r\n      })\r\n    },\r\n    generateCurTableConfDataMap(curMenuConfs) {\r\n      // 生成当前menu下表格数据映射\r\n      let self = this\r\n      let resultObj = {}\r\n      let curTableConfDatasMap = {}\r\n      let curTableConfDatasMapArr = []\r\n      resultObj.curTableConfDatas = curMenuConfs\r\n      curMenuConfs.forEach((item, index) => {\r\n        let { itemsConfig, globalConfig, formConfig } = self.jsonParse(\r\n          item.configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        let globalConfigCp = Object.assign(\r\n          {\r\n            tablename: '',\r\n            businessTableName: '',\r\n            tableNote: '',\r\n            measuringUnit: '',\r\n            viewOrder: '',\r\n            editableBatch: '',\r\n            tableType: '',\r\n            note: '',\r\n            autoBuiltTables: '',\r\n            editble: '',\r\n            showCheckbox: '',\r\n            canUse: '',\r\n            aSingleTable: '',\r\n            batchModify: '',\r\n            rowConfig: '',\r\n            noRecordIsAllowedToReport: '',\r\n            subtotalRows: ''\r\n          },\r\n          globalConfig,\r\n          {\r\n            // tablename: item.tablename,\r\n            type: item.type,\r\n            updatetime: item.updatetime,\r\n            menuname: this.curLeftTreeClickNode.name,\r\n            id: item.id,\r\n            menuguid: item.menuguid\r\n          }\r\n        )\r\n        curTableConfDatasMapArr.push(globalConfigCp)\r\n        curTableConfDatasMap[item.id] = {\r\n          itemsConfig: self.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: self.transformItemsDataToSingle(formConfig),\r\n          id: item.id,\r\n          globalConfig: globalConfigCp,\r\n          menuguid: item.menuguid,\r\n          type: item.type\r\n        }\r\n      })\r\n      resultObj.curTableConfDatasMapArr = curTableConfDatasMapArr\r\n      resultObj.curTableConfDatasMap = curTableConfDatasMap\r\n      return resultObj\r\n    },\r\n    setLeftMenuTree() {\r\n      // 加载左侧树\r\n      this.leftTreeData = [].concat(this.$store.state.systemMenu)\r\n    },\r\n    onLeftTreeNodeClick(node, leftTree) {\r\n      // 左侧树点击事件\r\n      if (!(Array.isArray(node.children) && node.children.length)) {\r\n        let self = this\r\n        this.curLeftTreeClickNode = node\r\n        this.getTableConfByMenuguid(node.guid).then((res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: `当前菜单数据查询成功,共计(${res.length}条)`,\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n        })\r\n      }\r\n    },\r\n    refreshTable() {\r\n      // 刷新表格\r\n      let self = this\r\n      this.getTableConfByMenuguid(this.curLeftTreeClickNode.guid).then(\r\n        (res) => {\r\n          self.$message({\r\n            showClose: true,\r\n            message: '当前菜单数据已刷新',\r\n            type: 'success'\r\n          })\r\n          self.curTableConfDatasMapArr = res\r\n          self.$refs.bsTableRef\r\n            .tableOptionFn()\r\n            .reloadData(self.curTableConfDatasMapArr).then(() => {}).catch(() => {\r\n            })\r\n        }\r\n      )\r\n    },\r\n    onEditTableClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.tableConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditFormClick() {\r\n      // 编辑点击事件\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, formConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        formConfig = formConfig || []\r\n        this.tableConfModalParams = Object.assign(selection[0], {\r\n          globalConfig: globalConfig,\r\n          itemsConfig: this.transformConlumsDataToSingle(itemsConfig),\r\n          formConfig: this.transformItemsDataToSingle(formConfig)\r\n        })\r\n        this.formConfModalVisible = true\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onEditClick() {\r\n      let selection = this.$refs.bsTableRef.selection\r\n      if (selection.length === 1) {\r\n        let { itemsConfig, globalConfig, subTabConfig, defaultConfig } = this.jsonParse(\r\n          selection[0].configure\r\n        )\r\n        globalConfig = globalConfig || {}\r\n        itemsConfig = itemsConfig || []\r\n        subTabConfig = subTabConfig || {\r\n          buttons: [],\r\n          buttonsInfo: {}\r\n        }\r\n        defaultConfig = defaultConfig || []\r\n        if (selection[0].type === 'form' || selection[0].type === 'formConf' || selection[0].type === 'detail' || selection[0].type === 'detailConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformItemsDataToSingle(itemsConfig)\r\n          })\r\n          this.formConfModalVisible = true\r\n        } else if (selection[0].type === 'tabPaneConf') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(subTabConfig),\r\n            subTabConfig: subTabConfig\r\n          })\r\n          this.SubTabConfigVisible = true\r\n        } else if (selection[0].type === 'enteringDefault') {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(defaultConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(defaultConfig)\r\n          })\r\n          this.enteringDefaultVisible = true\r\n        } else {\r\n          this.tableConfModalParams = Object.assign(selection[0], {\r\n            globalConfig: globalConfig,\r\n            itemsConfigNest: this.deepCopy(itemsConfig),\r\n            itemsConfig: this.transformConlumsDataToSingle(itemsConfig)\r\n          })\r\n          this.tableConfModalVisible = true\r\n        }\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据进行编辑',\r\n          type: 'info'\r\n        })\r\n      }\r\n    },\r\n    onAddClick() {\r\n      let self = this\r\n      this.$refs.bsTableRef.insertRowData({\r\n        data: {\r\n          menuguid: self.curLeftTreeClickNode.guid,\r\n          type: 'table',\r\n          optionType: 'add',\r\n          id: self.$ToolFn.utilFn.getUuid(),\r\n          menuname: self.curLeftTreeClickNode.name,\r\n          mof_div_code: self.userInfo.province,\r\n          tablename: '',\r\n          fiscalyear: self.userInfo.year,\r\n          configure: self.jsonStringify({\r\n            globalConfig: {}, // 全局配置\r\n            itemsConfig: [], // 项配置\r\n            pageConfig: {}, // 分页配置\r\n            editConfig: {}, // 编辑配置\r\n            editRules: {}, // 校验规则\r\n            footerConfig: {}, // 表尾配置\r\n            dataConfig: {\r\n              dataSouceType: 'query'\r\n            },\r\n            subTabConfig: [],\r\n            defaultConfig: [] // 录入默认值\r\n          })\r\n        // menuguid: '123456'\r\n        }\r\n      })\r\n    },\r\n    onDeleteClick() {\r\n      let self = this\r\n      let ids = this.$refs.bsTableRef.selection.map((item, index) => {\r\n        return item.id\r\n      })\r\n      let menuguid = this.$refs.bsTableRef.selection[0].menuguid\r\n      this.menuguids[0] = menuguid\r\n      if (ids.length) {\r\n        self.$confirm('确定删除？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          self.$http\r\n            .del('mp-b-perm-service/v1/tableconf', {\r\n              mof_div_code: self.userInfo.province, // 区划\r\n              fiscalyear: self.userInfo.year, // 年份s\r\n              ids: ids,\r\n              menuguids: this.menuguids\r\n            })\r\n            .then((res) => {\r\n              if (res.rscode === '100000') {\r\n                self.$message({\r\n                  showClose: true,\r\n                  message: `选中的${ids.length}条数据已删除`,\r\n                  type: 'success'\r\n                })\r\n                self.refreshTable()\r\n                // resolve(self.generateCurTableConfDataMap(res.data))\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.log('error', error)\r\n            })\r\n        }).catch(e => {\r\n          self.$message.success('取消删除成功')\r\n        })\r\n      }\r\n    },\r\n    onTableCellClick({\r\n      row,\r\n      rowIndex,\r\n      $rowIndex,\r\n      column,\r\n      columnIndex,\r\n      $columnIndex,\r\n      triggerRadio,\r\n      triggerCheckbox,\r\n      triggerTreeNode,\r\n      triggerExpandNode,\r\n      $event\r\n    }) {\r\n      // this.tableConfModalParams = this.curTableConfDatasMap[row.id]\r\n      // this.TableConfModalVisible = true\r\n    },\r\n    // 区划默认值\r\n    getProvince() {\r\n      let obj = {\r\n        value: this.userInfo.province,\r\n        label: this.userInfo.admdivname\r\n      }\r\n      let flag = false\r\n      this.tableColumnsConfig[0].editRender.options.forEach(item => {\r\n        if (item.value === this.userInfo.province) {\r\n          flag = true\r\n        }\r\n      })\r\n      if (!flag) {\r\n        this.tableColumnsConfig[0].editRender.options.push(obj)\r\n      }\r\n      this.tableColumnsConfig[0].editRender.defaultValue = this.userInfo.province\r\n    },\r\n    // 编辑的时候录入默认值有个默认id\r\n    editClosed({ row, column }) {\r\n      // enteringDefaultFlag标识，当改过为录入默认值后，再更改才影响id变化\r\n      if (row.type === 'enteringDefault') {\r\n        row.id = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        row.id__viewSort = 'D9A0B58E5C2242F3860E6D8151C211B2'\r\n        this.enteringDefaultFlag = true\r\n      } else if (row.type !== 'enteringDefault' && this.enteringDefaultFlag === true) {\r\n        row.id = this.$ToolFn.utilFn.getUuid()\r\n        row.id__viewSort = row.id\r\n        this.enteringDefaultFlag = false\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setLeftMenuTree()\r\n    if (this.$gloableToolFn?.currentProvince === this.$gloableToolFn?.FuJian) {\r\n      this.getProvince()\r\n    }\r\n  },\r\n  watch: {\r\n    tableConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    },\r\n    formConfModalVisible: {\r\n      handler(newval) {\r\n        // if (!newval) {\r\n        //   this.refreshTable()\r\n        // }\r\n      },\r\n      // deep: true,\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.left-tree-pane {\r\n  .mmc-title {\r\n    height: 47px;\r\n    padding: 7px 15px;\r\n    line-height: 31px;\r\n    color: #464c5b;\r\n    font-size: 16px;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid #dce3f3;\r\n    background-color: #e3f2fe;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}